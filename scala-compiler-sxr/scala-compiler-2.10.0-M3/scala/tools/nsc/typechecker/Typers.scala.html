<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Typers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

// Added: Sat Oct 7 16:08:21 2006
//todo: use inherited type info also for vars and values

// Added: Thu Apr 12 18:23:58 2007
//todo: disallow C#D in superclass
//todo: treat :::= correctly
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> scala.tools.nsc.util.BatchSourceFile
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> util.Statistics
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#51448" title="scala.tools.nsc.util.Statistics.type">Statistics</a>._

// Suggestion check whether we can do without priming scopes with symbols of outer scopes,
// like the IDE does.
/** This trait provides methods to assign types to trees.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Typers extends Object with scala.tools.nsc.typechecker.Modes with scala.tools.nsc.typechecker.Adaptations with scala.tools.nsc.typechecker.Taggings with scala.tools.nsc.typechecker.PatMatVirtualiser" id="47511">Typers</a> <a href="../../../Unit.scala.html#2389" title="Unit" class="keyword">extends</a> <a href="Modes.scala.html#50220" title="scala.tools.nsc.typechecker.Modes">Modes</a> <span class="keyword">with</span> <a href="Adaptations.scala.html#48153" title="scala.tools.nsc.typechecker.Adaptations">Adaptations</a> <span class="keyword">with</span> <a href="Taggings.scala.html#49278" title="scala.tools.nsc.typechecker.Taggings">Taggings</a> <span class="keyword">with</span> <a href="PatMatVirtualiser.scala.html#49395" title="scala.tools.nsc.typechecker.PatMatVirtualiser">PatMatVirtualiser</a> <span class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#560057" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="Typers.this.global.definitions.type">definitions</a>._

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, mode: Int)Int" id="560184">forArgMode</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163141">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1163142">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501484" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#1163141" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1163142" title="Int">mode</a> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(8)">SCCmode</span>
    <span class="keyword">else</span> <a href="#1163142" title="Int">mode</a>

  // namer calls typer.computeType(rhs) on DefDef / ValDef when tpt is empty. the result
  // is cached here and re-used in typedDefDef / typedValDef
  // Also used to cache imports type-checked by namer.
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" id="560185">transformed</a> = <a href="../../../collection/mutable/HashMap.scala.html#79203" title="()scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#12880" title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">HashMap</a><span class="delimiter">[</span>Tree, Tree<span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="560187">shortenImports</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="()Unit" id="560189">resetTyper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    //println(&quot;resetTyper called&quot;)
    <a href="Contexts.scala.html#560083" title="()Unit">resetContexts</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Namers.scala.html#560118" title="()Unit">resetNamer</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Implicits.scala.html#560299" title="()Unit">resetImplicits</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#560185" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<a href="../../../collection/mutable/HashMap.scala.html#79201" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // [Eugene] shouldn't this be converted to resetAllAttrs?
  <span class="keyword">object</span> <a title="Typers.this.UnTyper.type" id="560190">UnTyper</a> <a href="#560191" title="Typers.this.UnTyper.type" class="keyword">extends</a> <a href="../../../reflect/api/Trees.scala.html#23760" title="Typers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Unit" id="1130094">traverse</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1130095">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1130095" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="#1130095" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1130095" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <a href="#1130095" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425065" title="(sym: Typers.this.global.Symbol)Unit">symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">super</span>.<a href="../../../reflect/api/Trees.scala.html#433535" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1130095" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
/* needed for experimental version where early types can be type arguments
  class EarlyMap(clazz: Symbol) extends TypeMap {
    def apply(tp: Type): Type = tp match {
      case TypeRef(NoPrefix, sym, List()) if (sym hasFlag PRESUPER) =&gt;
        TypeRef(ThisType(clazz), sym, List())
      case _ =&gt;
        mapOver(tp)
    }
  }
*/

  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SilentResult[+T] extends Object" id="560192">SilentResult</a><span class="delimiter">[</span>+<a title="" id="560193">T</a><span class="delimiter">]</span>
  case <span class="keyword">class</span> <a title="class SilentTypeError extends Typers.this.SilentResult[Nothing] with Product with Serializable" id="1183187">SilentTypeError</a><a href="../../../Product.scala.html#304" title="Product" class="delimiter">(</a><a title="Typers.this.AbsTypeError" id="1164811">err</a>: <a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#560192" title="Typers.this.SilentResult[Nothing]">SilentResult</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class SilentResultValue[+T] extends Typers.this.SilentResult[T] with Product with Serializable" id="1183192">SilentResultValue</a><span class="delimiter">[</span>+<a title="" id="562828">T</a><span class="delimiter">]</span><a href="../../../Product.scala.html#304" title="Product" class="delimiter">(</a><a title="T" id="1164815">value</a>: <a href="#562828" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#560192" title="Typers.this.SilentResult[T]">SilentResult</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(context: Typers.this.Context)Typers.this.Typer" id="560201">newTyper</a><span class="delimiter">(</span><a title="Typers.this.Context" id="857804">context</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="#560207" title="Typers.this.Typer">Typer</a> = <span title="Typers.this.NormalTyper" class="keyword">new</span> <a href="#560202" title="Typers.this.NormalTyper">NormalTyper</a><span class="delimiter">(</span><a href="#857804" title="Typers.this.Context">context</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NormalTyper extends Typers.this.Typer" id="560202">NormalTyper</a><a href="#560202" title="Typers.this.NormalTyper" class="delimiter">(</a><a title="Typers.this.Context" id="1163242">context</a> : <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#560207" title="Typers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#1163242" title="Typers.this.Context">context</a><span class="delimiter">)</span>

  // A transient flag to mark members of anonymous classes
  // that are turned private by typedBlock
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long(274877906944L)" id="560203">SYNTHETIC_PRIVATE</a> = <span title="Long(274877906944L)">TRANS_FLAG</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="560205">isPastTyper</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561319" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a>

  // don't translate matches in presentation compiler: it loses vital symbols that are needed to do hyperlinking
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="560206">doMatchTranslation</a> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559776" title="=&gt; Boolean">forInteractive</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#559558" title="Typers.this.global.opt.type">opt</a>.<a href="../settings/AestheticSettings.scala.html#561510" title="=&gt; Boolean">virtPatmat</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561327" title="=&gt; scala.tools.nsc.Phase">uncurryPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a><span class="delimiter">)</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Typer extends Object with Typers.this.TyperDiagnostics with Typers.this.Adaptation with Typers.this.Tagging with Typers.this.TyperContextErrors" id="560207">Typer</a><a href="#560207" title="Typers.this.Typer" class="delimiter">(</a><a title="Typers.this.Context" id="652815">context0</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypeDiagnostics.scala.html#560552" title="Typers.this.TyperDiagnostics">TyperDiagnostics</a> <span class="keyword">with</span> <a href="Adaptations.scala.html#560212" title="Typers.this.Adaptation">Adaptation</a> <span class="keyword">with</span> <a href="Taggings.scala.html#560217" title="Typers.this.Tagging">Tagging</a> <span class="keyword">with</span> <a href="ContextErrors.scala.html#560581" title="Typers.this.TyperContextErrors">TyperContextErrors</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#652815" title="Typers.this.Context">context0</a>.unit
    <span class="keyword">import</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#441895" title="Typers.this.global.typeDebug.type">typeDebug</a>.<span class="delimiter">{</span> ptTree, ptBlock, ptLine <span class="delimiter">}</span>
    <span class="keyword">import</span> <a href="ContextErrors.scala.html#560843" title="Typer.this.TyperErrorGen.type">TyperErrorGen</a>._

    <span class="keyword">val</span> <a title="Typers.this.Inferencer" id="560626">infer</a> = <a href="#562512" title="Typers.this.Inferencer" class="keyword">new</a> <a href="Infer.scala.html#560277" title="anonymous class $anon extends Typers.this.Inferencer" id="562512">Inferencer</a><span class="delimiter">(</span><a href="#652815" title="Typers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, pt: Typers.this.global.Type)Boolean" id="562693">isCoercible</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="562694">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="562695">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="../../../reflect/internal/Types.scala.html#441231" title="=&gt; Typers.this.global.UndoLog">undoLog</a> <a href="../../../reflect/internal/Types.scala.html#514538" title="(block: =&gt; Boolean)Boolean">undo</a> <span class="delimiter">{</span> // #3281
        <a href="#562694" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441980" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#562695" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441980" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
        <a href="#652815" title="Typers.this.Context">context0</a>.<a href="Contexts.scala.html#560904" title="=&gt; Boolean">implicitsEnabled</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> // this condition prevents chains of views
        <a href="#560629" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>, <a href="#562694" title="Typers.this.global.Type">tp</a>, <a href="#562695" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

    /** Find implicit arguments and pass them to given tree.
     */
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Tree" id="560628">applyImplicitArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163271">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#1163271" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> MethodType<a href="#1163514" title="Typers.this.global.Tree" id="1163517" class="delimiter">(</a>params, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" id="1163276">argResultsBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">ListBuffer</a><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="1163277">argBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Boolean" id="1163278">paramFailed</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree" id="1163279">mkPositionalArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163283">argTree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1163284">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#1163283" title="Typers.this.global.Tree">argTree</a>
        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg" id="1163280">mkNamedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163285">argTree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1163286">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#1163285" title="Typers.this.global.Tree">argTree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../../../reflect/api/Trees.scala.html#23654" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427669" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1163286" title="Typers.this.global.Name">paramName</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a href="#1163285" title="Typers.this.global.Tree">argTree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree" id="1163281">mkArg</a>: <span class="delimiter">(</span>Tree, Name<span class="delimiter">)</span> =&gt; Tree = <a href="#1163279" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree">mkPositionalArg</a>

        // DEPMETTODO: instantiate type vars that depend on earlier implicit args (see adapt (4.1))
        //
        // apply the substitutions (undet type param -&gt; type) that were determined
        // by implicit resolution of implicit arguments on the left of this argument
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1163338">param</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Type" id="1163339">paramTp</a> = <a href="#1163338" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.SearchResult" id="1163360">ar</a> &lt;- <a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span>
            <a href="#1163339" title="Typers.this.global.Type">paramTp</a> = <a href="#1163339" title="Typers.this.global.Type">paramTp</a>.<a href="../../../reflect/internal/Types.scala.html#442041" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1163360" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#467216" title="=&gt; List[Typers.this.global.Symbol]">from</a>, <a href="#1163360" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#467218" title="=&gt; List[Typers.this.global.Type]">to</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="1163340">res</a> = <span title="Typers.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163278" title="Boolean">paramFailed</a><span class="delimiter">)</span> <a href="Implicits.scala.html#560302" title="=&gt; Typers.this.SearchResult">SearchFailure</a> <span class="keyword">else</span> <a href="Implicits.scala.html#560284" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#1163271" title="Typers.this.global.Tree">fun</a>, <a href="#1163339" title="Typers.this.global.Type">paramTp</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560939" title="=&gt; Boolean">reportErrors</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <a href="#1163276" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">argResultsBuff</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.SearchResult)argResultsBuff.type">+=</a> <a href="#1163340" title="Typers.this.SearchResult">res</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163340" title="Typers.this.SearchResult">res</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Implicits.scala.html#560302" title="=&gt; Typers.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1163277" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.global.Tree)argBuff.type">+=</a> <a href="../../../Function2.scala.html#65847" title="(v1: Typers.this.global.Tree, v2: Typers.this.global.Name)Typers.this.global.Tree">mkArg</a><span class="delimiter">(</span><a href="#1163340" title="Typers.this.SearchResult">res</a>.<a href="Implicits.scala.html#562910" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#1163338" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; param.NameType">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1163281" title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree">mkArg</a> = <a href="#1163280" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg">mkNamedArg</a> // don't pass the default argument (if any) here, but start emitting named arguments for the following args
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163338" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#443277" title="=&gt; Boolean">hasDefault</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163278" title="Boolean">paramFailed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560935" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<a href="../../../collection/IterableLike.scala.html#59463" title="(p: Typers.this.AbsTypeError =&gt; Boolean)Option[Typers.this.AbsTypeError]">find</a><a href="../../../Option.scala.html#64115" title="=&gt; Typers.this.AbsTypeError" class="delimiter">(</a><a href="#1163426" title="Typers.this.AbsTypeError">_</a>.<a href="ContextErrors.scala.html#562863" title="=&gt; Typers.this.ErrorKinds.ErrorKind">kind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="ContextErrors.scala.html#560556" title="Typers.this.ErrorKinds.type">ErrorKinds</a>.<a href="ContextErrors.scala.html#1082981" title="=&gt; Typers.this.ErrorKinds.Value">Divergent</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> Some<a href="#1163446" title="Unit" id="1163447" class="delimiter">(</a>divergentImplicit<span class="delimiter">)</span> =&gt;
                  // DivergentImplicit error has higher priority than &quot;no implicit found&quot;
                  // no need to issue the problem again if we are still in silent mode
                  <a href="#1163450" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560939" title="=&gt; Boolean">reportErrors</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560981" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span>divergentImplicit<span class="delimiter">)</span>
                    <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560948" title="(removeP: Typers.this.AbsTypeError =&gt; Boolean)Unit">condBufferFlush</a><span class="delimiter">(</span><a href="#1163437" title="Typers.this.AbsTypeError">_</a>.<a href="ContextErrors.scala.html#562863" title="=&gt; Typers.this.ErrorKinds.ErrorKind">kind</a>  <span title="(x$1: AnyRef)Boolean">==</span> <a href="ContextErrors.scala.html#560556" title="Typers.this.ErrorKinds.type">ErrorKinds</a>.<a href="ContextErrors.scala.html#1082981" title="=&gt; Typers.this.ErrorKinds.Value">Divergent</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <a href="../../../Option.scala.html#2498" title="Unit" id="1163449">None</a> =&gt;
                  <a href="ContextErrors.scala.html#562517" title="(tree: Typers.this.global.Tree, param: Typers.this.global.Symbol)Unit">NoImplicitFoundError</a><a href="#1163450" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1163271" title="Typers.this.global.Tree">fun</a>, <a href="#1163338" title="Typers.this.global.Symbol">param</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#1163278" title="Boolean">paramFailed</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="delimiter">}</span>
            /* else {
             TODO: alternative (to expose implicit search failure more) --&gt;
             resolve argument, do type inference, keep emitting positional args, infer type params based on default value for arg
             for (ar &lt;- argResultsBuff) ar.subst traverse defaultVal
             val targs = exprTypeArgs(context.undetparams, defaultVal.tpe, paramTp)
             substExpr(tree, tparams, targs, pt)
            }*/
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1163282">args</a> = <a href="#1163277" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[Typers.this.global.Tree]">toList</a>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.SearchResult" id="1163482">ar</a> &lt;- <a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1163482" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#467210" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#1163271" title="Typers.this.global.Tree">fun</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163504">arg</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <a href="#1163482" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#467210" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#1163504" title="Typers.this.global.Tree">arg</a>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../../../reflect/api/Trees.scala.html#23691" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="#1163271" title="Typers.this.global.Tree">fun</a>, <a href="#1163282" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.ApplyToImplicitArgs">setPos</a> <a href="#1163271" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.Tree" id="1163519">ErrorType</a> =&gt;
        <a href="#1163520" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">fun</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree" id="560629">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="562738">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="562739">from</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="562740">to</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="562741">reportAmbiguous</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <a href="#560630" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#562738" title="Typers.this.global.Tree">tree</a>, <a href="#562739" title="Typers.this.global.Type">from</a>, <a href="#562740" title="Typers.this.global.Type">to</a>, <a href="#562741" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

    /** Infer an implicit conversion (``view'') between two types.
     *  @param tree             The tree which needs to be converted.
     *  @param from             The source type of the conversion
     *  @param to               The target type of the conversion
     *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
     *                          False iff we search for a view to find out
     *                          whether one type is coercible to another.
     *  @param saveErrors       Should ambiguous and divergent implicit errors that were buffered
     *                          during the inference of a view be put into the original buffer.
     *                          False iff we don't care about them.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="560630">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="562732">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="562733">from</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="562734">to</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="562735">reportAmbiguous</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="Boolean" id="562736">saveErrors</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer view from &quot;)" class="string">&quot;infer view from &quot;</span><span title="(x$1: Any)String">+</span><a href="#562733" title="Typers.this.global.Type">from</a><span title="(x$1: Any)String">+</span><span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)String">+</span><a href="#562734" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>//debug
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
      <span class="keyword">else</span> <a href="#562733" title="Typers.this.global.Type">from</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> MethodType<a href="#1163569" title="Typers.this.global.Tree" id="1163573" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="#1163582" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">EmptyTree</a>
        <span class="keyword">case</span> OverloadedType<a href="#1163569" title="Typers.this.global.Tree" id="1163577" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="#1163582" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">EmptyTree</a>
        <span class="keyword">case</span> PolyType<a href="#1163569" title="Typers.this.global.Tree" id="1163581" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="#1163582" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">EmptyTree</a>
        <span class="keyword">case</span> _ =&gt;
          <span class="keyword">def</span> <a title="(from: Typers.this.global.Type)Typers.this.global.Tree" id="1163538">wrapImplicit</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1163540">from</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="1163541">result</a> = <a href="Implicits.scala.html#560285" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context, saveAmbiguousDivergent: Boolean)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#562732" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Definitions.scala.html#442481" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1163540" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>, <a href="#562734" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>, <a href="#562735" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>, <a href="#562736" title="Boolean">saveErrors</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163541" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Trees.scala.html#441855" title="=&gt; Typers.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1163541" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#467210" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#562732" title="Typers.this.global.Tree">tree</a>
              <a href="Macros.scala.html#560475" title="(undetNoMore: List[Typers.this.global.Symbol], inferreds: List[Typers.this.global.Type])Unit">notifyUndetparamsInferred</a><span class="delimiter">(</span><a href="#1163541" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#467216" title="=&gt; List[Typers.this.global.Symbol]">from</a>, <a href="#1163541" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#562912" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#467218" title="=&gt; List[Typers.this.global.Type]">to</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#1163541" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#562910" title="=&gt; Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1163539">result</a> = <a href="#1163538" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="#562733" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163539" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="#1163539" title="Typers.this.global.Tree">result</a>
          <span class="keyword">else</span> <a href="#1163538" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442511" title="(arg: Typers.this.global.Type)Typers.this.global.Type">byNameType</a><span class="delimiter">(</span><a href="#562733" title="Typers.this.global.Type">from</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> <a href="#560626" title="=&gt; Typers.this.Inferencer">infer</a>._

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.Namer" id="560633">namerCache</a>: <a href="Namers.scala.html#560119" title="Typers.this.Namer">Namer</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Namer" id="560635">namer</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560633" title="=&gt; Typers.this.Namer">namerCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560633" title="=&gt; Typers.this.Namer">namerCache</a>.<a href="Namers.scala.html#1085571" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
        <a href="#560633" title="(x$1: Typers.this.Namer)Unit">namerCache</a> = <a href="Namers.scala.html#560112" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <a href="#560633" title="=&gt; Typers.this.Namer">namerCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Typers.this.Context" id="560637">context</a> = <a href="#652815" title="Typers.this.Context">context0</a>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="560639">context1</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="560640">dropExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1163598">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="#1163598" title="Typers.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> ExistentialType<a href="#1163617" title="Typers.this.global.Type" id="1163619" class="delimiter">(</a>tparams, tpe<span class="delimiter">)</span> =&gt;
        <span title="Typers.this.global.SubstWildcardMap" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#441450" title="Typers.this.global.SubstWildcardMap">SubstWildcardMap</a><span class="delimiter">(</span>tparams<span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#527937" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><a href="#1163624" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a><a href="#1163598" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> TypeRef<a href="#1163617" title="Typers.this.global.Type" id="1163623" class="delimiter">(</a>_, sym, _<span class="delimiter">)</span> <span class="keyword">if</span> sym.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1163614">tp0</a> = <a href="#1163598" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1163615">tp1</a> = <a href="#560640" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#1163614" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163615" title="Typers.this.global.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1163614" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span> <a href="#1163598" title="Typers.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#1163615" title="Typers.this.global.Type">tp1</a>
      <span class="keyword">case</span> _ =&gt; <a href="#1163624" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    /** Check that &lt;code&gt;tree&lt;/code&gt; is a stable expression.
     *
     *  @param tree ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560641">checkStable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1130835">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501470" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#1130835" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1130835" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="ContextErrors.scala.html#562516" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">UnstableTreeError</a><span class="delimiter">(</span><a href="#1130835" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    /** Would tree be a stable (i.e. a pure expression) if the type
     *  of its symbol was not volatile?
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="560642">isStableExceptVolatile</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1087660">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1087668">savedTpe</a> = <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>
        <span class="keyword">val</span> <a title="Long" id="1087669">savedSTABLE</a> = <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443302" title="(mask: Long)Long">getFlag</a> <span title="Long(4194304L)">STABLE</span>
        <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>
        <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443305" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(4194304L)">STABLE</span>
        <span class="keyword">val</span> <a title="Boolean" id="1087670">result</a> = <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501470" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#1087660" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#1087668" title="Typers.this.global.Type">savedTpe</a>
        <a href="#1087660" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443305" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <a href="#1087669" title="Long">savedSTABLE</a>
        <a href="#1087670" title="Boolean">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="560643">isNonRefinementClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1163632">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1163632" title="Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> SingleType<a href="#1163643" title="Boolean" id="1163646" class="delimiter">(</a>_, sym<span class="delimiter">)</span> =&gt; sym.<a href="#1163653" title="(x: Boolean)Boolean">isModuleClass</a>
      <span class="keyword">case</span> TypeRef<a href="#1163643" title="Boolean" id="1163650" class="delimiter">(</a>_, sym, _<span class="delimiter">)</span> =&gt; sym.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="#1163653" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>sym.<a href="../../../reflect/internal/Symbols.scala.html#443248" title="=&gt; Boolean">isRefinementClass</a>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="Boolean" id="1163652">ErrorType</a>          =&gt; <a href="#1163653" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> _                  =&gt; <a href="#1163653" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, found: Typers.this.global.Type)Boolean" id="560644">errorNotClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163663">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1163664">found</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>  = <span class="delimiter">{</span> <a href="ContextErrors.scala.html#562592" title="(tree: Typers.this.global.Tree, found: AnyRef)Typers.this.global.Tree">ClassTypeRequiredError</a><span class="delimiter">(</span><a href="#1163663" title="Typers.this.global.Tree">tpt</a>, <a href="#1163664" title="Typers.this.global.Type">found</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, found: Typers.this.global.Type)Boolean" id="560645">errorNotStable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163669">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1163670">found</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="ContextErrors.scala.html#562591" title="(tpt: Typers.this.global.Tree, pre: Typers.this.global.Type)Typers.this.global.Tree">TypeNotAStablePrefixError</a><span class="delimiter">(</span><a href="#1163669" title="Typers.this.global.Tree">tpt</a>, <a href="#1163670" title="Typers.this.global.Type">found</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

    /** Check that `tpt` refers to a non-refinement class type */
    <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Boolean" id="560646">checkClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163675">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1163677">tpe</a> = <a href="../../../reflect/internal/Types.scala.html#525913" title="(tp: Typers.this.global.Type)Typers.this.global.Type">unwrapToClass</a><span class="delimiter">(</span><a href="#1163675" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <a href="#560643" title="(tpe: Typers.this.global.Type)Boolean">isNonRefinementClassType</a><span class="delimiter">(</span><a href="#1163677" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560644" title="(tpt: Typers.this.global.Tree, found: Typers.this.global.Type)Boolean">errorNotClass</a><span class="delimiter">(</span><a href="#1163675" title="Typers.this.global.Tree">tpt</a>, <a href="#1163677" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check that `tpt` refers to a class type with a stable prefix. */
    <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Boolean" id="560647">checkStablePrefixClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163681">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1163683">tpe</a> = <a href="../../../reflect/internal/Types.scala.html#525913" title="(tp: Typers.this.global.Type)Typers.this.global.Type">unwrapToStableClass</a><span class="delimiter">(</span><a href="#1163681" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="1163684">prefixIsStable</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1163688">checkPre</a> = <a href="#1163683" title="Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> TypeRef<a href="#1163695" title="Boolean" id="1163699" class="delimiter">(</a>pre, _, _<span class="delimiter">)</span> =&gt; pre.<a href="../../../reflect/internal/Types.scala.html#441973" title="=&gt; Boolean">isStable</a> <a href="#1163700" title="(x: Boolean)Boolean">||</a> <a href="#560645" title="(tpt: Typers.this.global.Tree, found: Typers.this.global.Type)Boolean">errorNotStable</a><span class="delimiter">(</span><a href="#1163681" title="Typers.this.global.Tree">tpt</a>, pre<span class="delimiter">)</span>
          <span class="keyword">case</span> _                  =&gt; <a href="#1163700" title="(x: Boolean)Boolean" class="keyword">false</a>
        <span class="delimiter">}</span>
        // A type projection like X#Y can get by the stable check if the
        // prefix is singleton-bounded, so peek at the tree too.
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1163689">checkTree</a> = <a href="#1163681" title="Typers.this.global.Tree">tpt</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> SelectFromTypeTree<a href="#1163710" title="Boolean" id="1163713" class="delimiter">(</a>qual, _<span class="delimiter">)</span>  =&gt; <a href="../../../reflect/internal/Types.scala.html#441517" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#1163714" title="(x: Boolean)Boolean">||</a> <a href="#560644" title="(tpt: Typers.this.global.Tree, found: Typers.this.global.Type)Boolean">errorNotClass</a><span class="delimiter">(</span><a href="#1163681" title="Typers.this.global.Tree">tpt</a>, <a href="#1163683" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _                            =&gt; <a href="#1163714" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="delimiter">}</span>
        <a href="#1163688" title="=&gt; Boolean">checkPre</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1163689" title="=&gt; Boolean">checkTree</a>
      <span class="delimiter">}</span>

      <span class="delimiter">(</span>    <span class="delimiter">(</span><a href="#560643" title="(tpe: Typers.this.global.Type)Boolean">isNonRefinementClassType</a><span class="delimiter">(</span><a href="#1163683" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560644" title="(tpt: Typers.this.global.Tree, found: Typers.this.global.Type)Boolean">errorNotClass</a><span class="delimiter">(</span><a href="#1163681" title="Typers.this.global.Tree">tpt</a>, <a href="#1163683" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1163684" title="=&gt; Boolean">prefixIsStable</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check that type &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     *
     *  @param pos ...
     *  @param tp  ...
     *  @return    &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     */
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean" id="560648">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="1126743">pos</a>: <a href="../util/Position.scala.html#52230" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="1126744">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="1163719">checkNotLocked</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1163720">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#1163720" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; sym.type">initialize</a>
        <a href="#1163720" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443226" title="=&gt; Boolean">lockOK</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span> <a href="ContextErrors.scala.html#562614" title="(errPos: Typers.this.global.Position, sym0: Typers.this.global.Symbol)Unit">CyclicAliasingOrSubtypingError</a><span class="delimiter">(</span><a href="#1126743" title="Typers.this.global.Position">pos</a>, <a href="#1163720" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#1126744" title="Typers.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeRef<a href="#1163777" title="Boolean" id="1163779" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> =&gt;
          <a href="#1163719" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span>sym<span class="delimiter">)</span> <a href="#1163786" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>sym.<a href="../../../reflect/internal/Symbols.scala.html#443235" title="=&gt; Boolean">isNonClassType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560649" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#1126743" title="Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Types.scala.html#441377" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span>pre.<a href="../../../reflect/internal/Types.scala.html#442038" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberInfo</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>, args<span class="delimiter">)</span>, sym<span class="delimiter">)</span><span class="delimiter">)</span>
          // @M! info for a type ref to a type parameter now returns a polytype
          // @M was: checkNonCyclic(pos, pre.memberInfo(sym).subst(sym.typeParams, args), sym)

        <span class="keyword">case</span> SingleType<a href="#1163777" title="Boolean" id="1163781" class="delimiter">(</a>pre, sym<span class="delimiter">)</span> =&gt;
          <a href="#1163719" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><a href="#1163786" title="(x: Boolean)Boolean" class="delimiter">(</a>sym<span class="delimiter">)</span>
/*
        case TypeBounds(lo, hi) =&gt;
          var ok = true
          for (t &lt;- lo) ok = ok &amp; checkNonCyclic(pos, t)
          ok
*/
        <span class="keyword">case</span> <a href="#1163777" title="Boolean" id="1163784">st</a>: SubType =&gt;
          <a href="#560648" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><a href="#1163786" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="#1126743" title="Typers.this.global.Position">pos</a>, st.<a href="../../../reflect/internal/Types.scala.html#448287" title="=&gt; Typers.this.global.Type">supertype</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="#1163777" title="Boolean" id="1163785">ct</a>: CompoundType =&gt;
          ct.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="#1163786" title="(x: Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="1163771">x</a> =&gt; <a href="#560648" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#1126743" title="Typers.this.global.Position">pos</a>, <a href="#1163771" title="Typers.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#1163786" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean" id="560649">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="1126736">pos</a>: <a href="../util/Position.scala.html#52230" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="1126737">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Symbol" id="1126738">lockedSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1126738" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443227" title="(handler: =&gt; Unit)Boolean">lock</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562615" title="(errPos: Typers.this.global.Position, lockedSym: Typers.this.global.Symbol)Unit">CyclicReferenceError</a><span class="delimiter">(</span><a href="#1126736" title="Typers.this.global.Position">pos</a>, <a href="#1126738" title="Typers.this.global.Symbol">lockedSym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">else</span> <a href="#560648" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#1126736" title="Typers.this.global.Position">pos</a>, <a href="#1126737" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#1126738" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443228" title="()Unit">unlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="560650">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1126733">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560648" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#1126733" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1126733" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1126733" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit" id="560651">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1126728">defn</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1126729">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560649" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#1126728" title="Typers.this.global.Tree">defn</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1126729" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1126728" title="Typers.this.global.Tree">defn</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1126729" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a>
        <a href="#1126728" title="Typers.this.global.Tree">defn</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, tpe0: Typers.this.global.Type)Unit" id="560652">checkParamsConvertible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1163816">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1163817">tpe0</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Unit" id="1163819">checkParamsConvertible0</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1163820">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        <a href="#1163820" title="Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> MethodType<a href="#1163828" title="Unit" id="1163830" class="delimiter">(</a>formals, restpe<span class="delimiter">)</span> =&gt;
            /*
            if (formals.exists(_.typeSymbol == ByNameParamClass) &amp;&amp; formals.length != 1)
              error(pos, &quot;methods with `=&gt;`-parameter can be converted to function values only if they take no other parameters&quot;)
            if (formals exists (isRepeatedParamType(_)))
              error(pos, &quot;methods with `*`-parameters cannot be converted to function values&quot;);
            */
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>restpe.<a href="../../../reflect/internal/Types.scala.html#441978" title="=&gt; Boolean">isDependent</a><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#562608" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type)Unit">DependentMethodTpeConversionToFunctionError</a><span class="delimiter">(</span><a href="#1163816" title="Typers.this.global.Tree">tree</a>, <a href="#1163820" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <a href="#560652" title="(tree: Typers.this.global.Tree, tpe0: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#1163816" title="Typers.this.global.Tree">tree</a>, restpe<span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
      <a href="#1163819" title="(tpe: Typers.this.global.Type)Unit">checkParamsConvertible0</a><span class="delimiter">(</span><a href="#1163817" title="Typers.this.global.Type">tpe0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check that type of given tree does not contain local or private
     *  components.
     */
    <span class="keyword">object</span> <a title="Typer.this.checkNoEscaping.type" id="560653">checkNoEscaping</a> <a href="#560654" title="Typer.this.checkNoEscaping.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1163838">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Scope" id="1163841">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#441628" title="Typers.this.global.Scope">Scope</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Typers.this.global.Symbol]" id="1163844">hiddenSymbols</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = _

      /** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to private
       *  components unless itself is wrapped in something private
       *  (&lt;code&gt;owner&lt;/code&gt; tells where the type occurs).
       *
       *  @param owner ...
       *  @param tree  ...
       *  @return      ...
       */
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, tree: T)T" id="1163846">privates</a><span class="delimiter">[</span><a title=" &lt;: Typers.this.global.Tree" id="1163848">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1163861">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="T" id="1163862">tree</a>: <a href="#1163848" title="T">T</a><span class="delimiter">)</span>: <a href="#1163848" title="T">T</a> =
        <a href="#1163852" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#1163861" title="Typers.this.global.Symbol">owner</a>, <a href="../../../reflect/internal/Scopes.scala.html#441634" title="Typers.this.global.EmptyScope.type">EmptyScope</a>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a>, <a href="#1163862" title="T">tree</a><span class="delimiter">)</span>

      /** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to entities
       *  defined in scope &lt;code&gt;scope&lt;/code&gt;.
       *
       *  @param scope ...
       *  @param pt    ...
       *  @param tree  ...
       *  @return      ...
       */
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="1163849">locals</a><span class="delimiter">[</span><a title=" &lt;: Typers.this.global.Tree" id="1163851">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Scope" id="1163883">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#441628" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="1163884">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="T" id="1163885">tree</a>: <a href="#1163851" title="T">T</a><span class="delimiter">)</span>: <a href="#1163851" title="T">T</a> =
        <a href="#1163852" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#1163883" title="Typers.this.global.Scope">scope</a>, <a href="#1163884" title="Typers.this.global.Type">pt</a>, <a href="#1163885" title="T">tree</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="1163852">check</a><span class="delimiter">[</span><a title=" &lt;: Typers.this.global.Tree" id="1163854">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1163865">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Scope" id="1163866">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#441628" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="1163867">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="T" id="1163868">tree</a>: <a href="#1163854" title="T">T</a><span class="delimiter">)</span>: <a href="#1163854" title="T">T</a> = <span class="delimiter">{</span>
        <span class="keyword">this</span>.<a href="#1163838" title="(x$1: Typers.this.global.Symbol)Unit">owner</a> = <a href="#1163865" title="Typers.this.global.Symbol">owner</a>
        <span class="keyword">this</span>.<a href="#1163841" title="(x$1: Typers.this.global.Scope)Unit">scope</a> = <a href="#1163866" title="Typers.this.global.Scope">scope</a>
        <a href="#1163844" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1163898">tp1</a> = <a href="#1163856" title="(t: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#1163868" title="T">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1163868" title="T">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#1163898" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1163926" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443318" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="ContextErrors.scala.html#562528" title="(tree: T)T">HiddenSymbolWithError</a><span class="delimiter">(</span><a href="#1163868" title="T">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1163867" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1163868" title="T">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#1163867" title="Typers.this.global.Type">pt</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163898" title="Typers.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443240" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span>
          <a href="#1163852" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#1163865" title="Typers.this.global.Symbol">owner</a>, <a href="#1163866" title="Typers.this.global.Scope">scope</a>, <a href="#1163867" title="Typers.this.global.Type">pt</a>, <a href="#1163868" title="T">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#1163898" title="Typers.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443450" title="=&gt; Typers.this.global.Type">classBound</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163865" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#1163868" title="T">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#560750" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/immutable/List.scala.html#63674" title="=&gt; List[Typers.this.global.Symbol]">reverse</a>, <a href="#1163898" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> // privates
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1163950">badSymbol</a> = <a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Symbol">head</a>
          <a href="ContextErrors.scala.html#562531" title="(tree: T, badSymbol: Typers.this.global.Symbol)T">SymbolEscapesScopeError</a><span class="delimiter">(</span><a href="#1163868" title="T">tree</a>, <a href="#1163950" title="Typers.this.global.Symbol">badSymbol</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1163868" title="T">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="1163855">addHidden</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1163962">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1163962" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1163844" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#1163962" title="Typers.this.global.Symbol">sym</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">::</a> <a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="1163856">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1163906">t</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="1163969">checkNoEscape</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1163970">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1163971">o</a> = <a href="#1163838" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1163971" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1163971" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1163971" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443512" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                   <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163971" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443362" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163971" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                   <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163971" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443417" title="=&gt; Typers.this.global.Symbol">privateWithin</a>.<a href="../../../reflect/internal/Symbols.scala.html#443385" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1163971" title="Typers.this.global.Symbol">o</a> = <a href="#1163971" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163971" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1163971" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443512" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>
              <a href="#1163855" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#1163970" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="1164002">e</a> = <a href="#1163841" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447342" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#1163970" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Boolean" id="1164003">found</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1164003" title="Boolean">found</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1164002" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457242" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1163841" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1164005" title="Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#1164002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1163970" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1164003" title="Boolean">found</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#1163855" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#1163970" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#1164002" title="Typers.this.global.ScopeEntry">e</a> = <a href="#1163841" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447343" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#1164002" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span>
          <a href="#1163906" title="Typers.this.global.Type">t</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeRef<a href="#1164051" title="Typers.this.global.Type" id="1164054" class="delimiter">(</a>_, sym, args<span class="delimiter">)</span> =&gt;
              <a href="#1163969" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Symbol">head</a> <span title="(x$1: AnyRef)Boolean">==</span> sym <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  sym.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, args<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1163844" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#1163844" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Symbol]">tail</a>
                <a href="#1163906" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1163906" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> SingleType<a href="#1164051" title="Typers.this.global.Type" id="1164057" class="delimiter">(</a>_, sym<span class="delimiter">)</span> =&gt;
              <a href="#1163969" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span>sym<span class="delimiter">)</span>
              <a href="#1163906" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> _ =&gt;
              <a href="#1164058" title="(x: Typers.this.global.Type)Typers.this.global.Type">t</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(vparamss: List[List[Typers.this.global.ValDef]])Unit" id="560655">reenterValueParams</a><span class="delimiter">(</span><a title="List[List[Typers.this.global.ValDef]]" id="1164064">vparamss</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="1164085">vparams</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="1164105">vparam</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span>
          <a href="#1164105" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427233" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#1164105" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]" id="560656">reenterTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.TypeDef]" id="1129258">tparams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.TypeDef]">List</a><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="1164132">tparam</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TypeDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#1164132" title="Typers.this.global.TypeDef">tparam</a>.<a href="../../../reflect/api/Trees.scala.html#427233" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#1164132" title="Typers.this.global.TypeDef">tparam</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <a href="#1164132" title="Typers.this.global.TypeDef">tparam</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443531" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>
      <span class="delimiter">}</span>

    /** The qualifying class
     *  of a this or super with prefix &lt;code&gt;qual&lt;/code&gt;.
     *  packageOk is equal false when qualifying class symbol
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Option[Typers.this.global.Symbol]" id="560657">qualifyingClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1126833">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1126834">qual</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a>, <a title="Boolean" id="1126837">packageOK</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.Symbol]">Option</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76172" title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</a><a href="../../../Option.scala.html#64115" title="=&gt; Typers.this.global.Symbol" class="delimiter">(</a><a title="Typers.this.global.Symbol" id="1164180">o</a> =&gt; <a href="#1126834" title="Typers.this.global.Name">qual</a>.<a href="../../../reflect/internal/Names.scala.html#444121" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1164180" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164180" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; o.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1126834" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Some<a href="#1164194" title="Option[Typers.this.global.Symbol]" id="1164195" class="delimiter">(</a>c<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1126837" title="Boolean">packageOK</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>c.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a> =&gt;
          <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.Symbol)Some[Typers.this.global.Symbol]">Some</a><a href="#1164196" title="(x: Option[Typers.this.global.Symbol])Option[Typers.this.global.Symbol]" class="delimiter">(</a>c<span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="ContextErrors.scala.html#562611" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name)Typers.this.global.Tree">QualifyingClassError</a><span class="delimiter">(</span><a href="#1126833" title="Typers.this.global.Tree">tree</a>, <a href="#1126834" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
          <a href="../../../Option.scala.html#2498" title="None.type">None</a>
      <span class="delimiter">}</span>

    /** The typer for an expression, depending on where we are. If we are before a superclass
     *  call, this is a typer over a constructor context; otherwise it is the current typer.
     */
    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(inConstr: Boolean)Typers.this.Typer" id="560658">constrTyperIf</a><span class="delimiter">(</span><a title="Boolean" id="1130787">inConstr</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="#560207" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#1130787" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a><span class="delimiter">)</span>
        <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560978" title="=&gt; Typers.this.Context">makeConstructorContext</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#560207" title="Typers.this.Typer" class="keyword">this</a>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](inConstr: Boolean)(f: Typers.this.Typer =&gt; T)T" id="560659">withCondConstrTyper</a><span class="delimiter">[</span><a title="" id="560661">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="1164205">inConstr</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="1164206">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#560661" title="T">T</a> =
      <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164205" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="1164209">c</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560978" title="=&gt; Typers.this.Context">makeConstructorContext</a>
        <a href="#560665" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T">typerWithLocalContext</a><span class="delimiter">(</span><a href="#1164209" title="Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1164206" title="Typers.this.Typer =&gt; T">f</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: =&gt; Typers.this.Context)(cond: Boolean)(f: Typers.this.Typer =&gt; T)T" id="560662">typerWithCondLocalContext</a><span class="delimiter">[</span><a title="" id="560664">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Typers.this.Context" id="1164225">c</a>: =&gt; Context<span class="delimiter">)</span><span class="delimiter">(</span><a title="Boolean" id="1164226">cond</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="1164227">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#560664" title="T">T</a> =
      <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164226" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#560665" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T">typerWithLocalContext</a><span class="delimiter">(</span><a href="#1164225" title="=&gt; Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1164227" title="Typers.this.Typer =&gt; T">f</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T" id="560665">typerWithLocalContext</a><span class="delimiter">[</span><a title="" id="560667">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Context" id="1164214">c</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="1164215">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#560667" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="T" id="1164237">res</a> = <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1164214" title="Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164214" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560947" title="(errors: scala.collection.mutable.Set[Typers.this.AbsTypeError])scala.collection.mutable.Set[Typers.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#1164214" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560950" title="()scala.collection.mutable.Set[Typers.this.AbsTypeError]">flushAndReturnBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#1164237" title="T">res</a>
    <span class="delimiter">}</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T" id="560668">typerReportAnyContextErrors</a><span class="delimiter">[</span><a title="" id="560670">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Context" id="1164249">c</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="1164250">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#560670" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="T" id="1164253">res</a> = <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1164249" title="Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164249" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560981" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#1164249" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560935" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.AbsTypeError">head</a><span class="delimiter">)</span>
      <a href="#1164253" title="T">res</a>
    <span class="delimiter">}</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: Typers.this.Context)(f: =&gt; T)T" id="560671">withSavedContext</a><span class="delimiter">[</span><a title="" id="560673">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Context" id="1164256">c</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="1164257">f</a>: =&gt; T<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Typers.this.AbsTypeError]" id="1164260">savedErrors</a> = <a href="#1164256" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560950" title="()scala.collection.mutable.Set[Typers.this.AbsTypeError]">flushAndReturnBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="T" id="1164261">res</a> = <a href="#1164257" title="=&gt; T">f</a>
      <a href="#1164256" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560947" title="(errors: scala.collection.mutable.Set[Typers.this.AbsTypeError])scala.collection.mutable.Set[Typers.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#1164260" title="scala.collection.mutable.Set[Typers.this.AbsTypeError]">savedErrors</a><span class="delimiter">)</span>
      <a href="#1164261" title="T">res</a>
    <span class="delimiter">}</span>

    /** The typer for a label definition. If this is part of a template we
     *  first have to enter the label definition.
     */
    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer" id="560674">labelTyper</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="1164264">ldef</a>: <a href="../../../reflect/api/Trees.scala.html#23611" title="Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">)</span>: <a href="#560207" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164264" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> // labeldef is part of template
        <span class="keyword">val</span> <a title="Typers.this.Typer" id="1164271">typer1</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#1164264" title="Typers.this.global.LabelDef">ldef</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1164271" title="Typers.this.Typer">typer1</a>.<a href="#560720" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#1164264" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>
        <a href="#1164271" title="Typers.this.Typer">typer1</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#560207" title="Typers.this.Typer" class="keyword">this</a>

    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="560675">xtypes</a> = <span title="Boolean(false)" class="keyword">false</span>

    /** Is symbol defined and not stale?
     */
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="560677">reallyExists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1098589">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560678" title="(sym: Typers.this.global.Symbol)Boolean">isStale</a><span class="delimiter">(</span><a href="#1098589" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1098589" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a><span class="delimiter">)</span>
      <a href="#1098589" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a>
    <span class="delimiter">}</span>

    /** A symbol is stale if it is toplevel, to be loaded from a classfile, and
     *  the classfile is produced from a sourcefile which is compiled in the current run.
     */
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="560678">isStale</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1098592">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#1098592" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443437" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>loaders.<a href="../symtab/SymbolLoaders.scala.html#650367" title="Typers.this.global.loaders.ClassfileLoader">ClassfileLoader</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <a href="#1098592" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443437" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../../../reflect/internal/Types.scala.html#442081" title="(sym: Typers.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#1098592" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#1098592" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561282" title="=&gt; scala.collection.mutable.HashSet[String]">compiledFiles</a> <a href="../../../collection/mutable/HashSet.scala.html#141569" title="(elem: String)Boolean">contains</a> <a href="#1098592" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a>.<a href="../io/AbstractFile.scala.html#561677" title="=&gt; String">path</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Does the context of tree &lt;code&gt;tree&lt;/code&gt; require a stable type?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean" id="560679">isStableContext</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1164285">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1164286">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1164287">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#560683" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#1164285" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1164286" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><span title="Boolean(false)">xtypes</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
      <span class="delimiter">(</span><a href="#1164287" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441973" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
       <span class="delimiter">(</span><a href="#1164286" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1164285" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443363" title="=&gt; Boolean">isConstant</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
       <a href="#1164287" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164287" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#441973" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1164285" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1164287" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
       <a href="#1164287" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443248" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1164285" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1164287" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Make symbol accessible. This means:
     *  If symbol refers to package object, insert `.package` as second to last selector.
     *  (exception for some symbols in scala package which are dealiased immediately)
     *  Call checkAccessible, which sets tree's attributes.
     *  Also note that checkAccessible looks up sym on pre without checking that pre is well-formed
     *  (illegal type applications in pre will be skipped -- that's why typedSelect wraps the resulting tree in a TreeWithDeferredChecks)
     *  @return modified tree and new prefix type
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)" id="560680">makeAccessible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1164323">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="1164324">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="1164325">pre</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="1164326">site</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a>Tree, Type<span class="delimiter">)</span> =
      <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#560681" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#1164324" title="Typers.this.global.Symbol">sym</a>, <a href="#1164325" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164325" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442154" title="=&gt; Typers.this.global.Symbol">ScalaPackageClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164324" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // short cut some aliases. It seems pattern matching needs this
          // to notice exhaustiveness and to generate good code when
          // List extractors are mixed with :: patterns. See Test5 in lists.scala.
          <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" id="1164365">dealias</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1164366">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.gen.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1164323" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500035" title="(sym: Typers.this.global.gen.global.Symbol)Typers.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#1164366" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">}</span>, <a href="#1164366" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#1164324" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445894" title="Unit" id="1164402">List</a> =&gt; <a href="#1164405" title="(x: Unit)Unit" class="keyword">return</a> <a href="#1164365" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442336" title="=&gt; Typers.this.global.ModuleSymbol">ListModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445896" title="Unit" id="1164403">Seq</a>  =&gt; <a href="#1164405" title="(x: Unit)Unit" class="keyword">return</a> <a href="#1164365" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442342" title="=&gt; Typers.this.global.ModuleSymbol">SeqModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446256" title="Unit" id="1164404">Nil</a>  =&gt; <a href="#1164405" title="(x: Unit)Unit" class="keyword">return</a> <a href="#1164365" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442340" title="=&gt; Typers.this.global.ModuleSymbol">NilModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1164358">qual</a> = <a href="#560773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1164323" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445357" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1164323" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Ident<a href="#1164498" title="Typers.this.global.Tree" id="1164501" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#427669" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><a href="#1164508" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446075" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> Select<a href="#1164498" title="Typers.this.global.Tree" id="1164504" class="delimiter">(</a>qual, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><a href="#1164508" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>qual, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446075" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> SelectFromTypeTree<a href="#1164498" title="Typers.this.global.Tree" id="1164507" class="delimiter">(</a>qual, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><a href="#1164508" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>qual, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446075" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="1164359">tree1</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">atPos</a><span class="delimiter">(</span><a href="#1164323" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1164323" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Ident<a href="#1164588" title="Typers extends Typers.this.global.RefTree with Serializable" id="1164590" class="delimiter">(</a>name<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><a href="#1164597" title="(x: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable" class="delimiter">(</a><a href="#1164358" title="Typers.this.global.Tree">qual</a>, name<span class="delimiter">)</span>
            <span class="keyword">case</span> Select<a href="#1164588" title="Typers extends Typers.this.global.RefTree with Serializable" id="1164593" class="delimiter">(</a>_, name<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><a href="#1164597" title="(x: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable" class="delimiter">(</a><a href="#1164358" title="Typers.this.global.Tree">qual</a>, name<span class="delimiter">)</span>
            <span class="keyword">case</span> SelectFromTypeTree<a href="#1164588" title="Typers extends Typers.this.global.RefTree with Serializable" id="1164596" class="delimiter">(</a>_, name<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#436970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.TypeName)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><a href="#1164597" title="(x: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable" class="delimiter">(</a><a href="#1164358" title="Typers.this.global.Tree">qual</a>, name<span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="Infer.scala.html#562632" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#1164359" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#1164324" title="Typers.this.global.Symbol">sym</a>, <a href="#1164358" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1164358" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#1164358" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="Infer.scala.html#562632" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#1164323" title="Typers.this.global.Tree">tree</a>, <a href="#1164324" title="Typers.this.global.Symbol">sym</a>, <a href="#1164325" title="Typers.this.global.Type">pre</a>, <a href="#1164326" title="Typers.this.global.Tree">site</a><span class="delimiter">)</span>, <a href="#1164325" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** Is `sym` defined in package object of package `pkg`?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean" id="560681">isInPackageObject</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1164328">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="1164329">pkg</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#1164329" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <a href="#1164328" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76169" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="1164340">sym</a> =&gt;
          <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1164340" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443286" title="=&gt; Boolean">isPackage</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
            <a href="#1164340" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443289" title="=&gt; Boolean">isPackageObjectClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#1164340" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1164329" title="Typers.this.global.Symbol">pkg</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            <a href="#1164329" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#443374" title="=&gt; Boolean">isInitialized</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
              // need to be careful here to not get a cyclic reference during bootstrap
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1164348">pkgobj</a> = <a href="#1164329" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446075" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
              <a href="#1164348" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../../../reflect/internal/Symbols.scala.html#443374" title="=&gt; Boolean">isInitialized</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="#1164348" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1164340" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1164340" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    /** Post-process an identifier or selection node, performing the following:
     *  1. Check that non-function pattern expressions are stable
     *  2. Check that packages and static modules are not used as values
     *  3. Turn tree type into stable type if possible and required by context.
     *  4. Give getClass calls a more precise type based on the type of the target of the call.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560682">stabilize</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1164621">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1164622">pre</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Int" id="1164623">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1164624">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164621" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443271" title="=&gt; Boolean">isOverloaded</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560173" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#1164623" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#562684" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#1164621" title="Typers.this.global.Tree">tree</a>, <a href="#1164624" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1164626">sym</a> = <a href="#1164621" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="1164627">fail</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="ContextErrors.scala.html#562612" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Tree">NotAValueError</a><span class="delimiter">(</span><a href="#1164621" title="Typers.this.global.Tree">tree</a>, <a href="#1164626" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <a href="#1164621" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="tree1.type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1164623" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(2)">PATTERNmode</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164621" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425072" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1)
        <span title="tree1.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164626" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1164648">tree1</a> = <a href="#560641" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#1164621" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          // A module reference in a pattern has type Foo.type, not &quot;object Foo&quot;
          <span title="tree1.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164626" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1164626" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#1164648" title="Typers.this.global.Tree">tree1</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree1.type">setType</a> <a href="../../../reflect/internal/Types.scala.html#441367" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#1164622" title="Typers.this.global.Type">pre</a>, <a href="#1164626" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1164648" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#1164627" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1164623" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(65)">|</span> QUALmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1164626" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (2)
        <a href="#1164627" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164626" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443349" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164622" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#441973" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#442307" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#1164621" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">(</span><a href="#560679" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#1164621" title="Typers.this.global.Tree">tree</a>, <a href="#1164623" title="Int">mode</a>, <a href="#1164624" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1164626" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1164626" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1164621" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441367" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#1164622" title="Typers.this.global.Type">pre</a>, <a href="#1164626" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        // To fully benefit from special casing the return type of
        // getClass, we have to catch it immediately so expressions
        // like x.getClass().newInstance() are typed with the type of x.
        <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>  <a href="#1164621" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446779" title="=&gt; Typers.this.global.TermName">getClass_</a>
                <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164621" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a>
                // TODO: If the type of the qualifier is inaccessible, we can cause private types
                // to escape scope here, e.g. pos/t1107.  I'm not sure how to properly handle this
                // so for now it requires the type symbol be public.
                <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164622" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443606" title="=&gt; Boolean">isPublic</a><span class="delimiter">)</span>
          <a href="#1164621" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Definitions.scala.html#442557" title="(tp: Typers.this.global.Type)Typers.this.global.Type">getClassReturnType</a><span class="delimiter">(</span><a href="#1164622" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#1164621" title="Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="560683">isNarrowable</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1164290">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="../../../reflect/internal/Types.scala.html#525870" title="(tp: Typers.this.global.Type)Typers.this.global.Type">unwrapWrapperTypes</a><span title="Boolean" class="delimiter">(</span><a href="#1164290" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#1164707" title="Boolean" id="1164712" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> | RefinedType<a href="#1164707" title="Boolean" id="1164716" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="#1164717" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> _                                    =&gt; <a href="#1164717" title="(x: Boolean)Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a>
    <span class="delimiter">}</span>

    /**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560684">stabilizeFun</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1164727">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1164728">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1164729">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1164731">sym</a> = <a href="#1164727" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1164732">pre</a> = <a href="#1164727" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Select<a href="#1164739" title="Typers.this.global.Type" id="1164742" class="delimiter">(</a>qual, _<span class="delimiter">)</span> =&gt; qual.<a href="#1164743" title="(x: Typers.this.global.Type)Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> _ =&gt; <a href="#1164743" title="(x: Typers.this.global.Type)Typers.this.global.Type">NoPrefix</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164727" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441313" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164732" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#441973" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1164731" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#560679" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#1164727" title="Typers.this.global.Tree">tree</a>, <a href="#1164728" title="Int">mode</a>, <a href="#1164729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1164731" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1164727" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441367" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#1164732" title="Typers.this.global.Type">pre</a>, <a href="#1164731" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> // TODO: should this be a NullaryMethodType?
      <span class="keyword">else</span> <a href="#1164727" title="Typers.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    /** The member with given name of given qualifier tree */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol" id="560685">member</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1164757">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1164758">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Boolean" id="1164761">callSiteWithinClass</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1164763">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#443385" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a> <a href="#1164763" title="Typers.this.global.Symbol">clazz</a>
      <span class="keyword">val</span> <a title="Boolean" id="1164762">includeLocals</a> = <a href="#1164757" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ThisType<a href="#1164770" title="Boolean" id="1164772" class="delimiter">(</a>clazz<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1164761" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span>clazz<span class="delimiter">)</span>                =&gt; <a href="#1164776" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> SuperType<a href="#1164770" title="Boolean" id="1164775" class="delimiter">(</a>clazz, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1164761" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span>clazz.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <a href="#1164776" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> _                                                            =&gt; <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452448" title="=&gt; scala.reflect.internal.Phase">next</a>.<a href="#1164776" title="(x: Boolean)Boolean">erasedTypes</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164762" title="Boolean">includeLocals</a><span class="delimiter">)</span> <a href="#1164757" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a> <a href="#1164758" title="Typers.this.global.Name">name</a>
      <span class="keyword">else</span> <a href="#1164757" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442033" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonLocalMember</a> <a href="#1164758" title="Typers.this.global.Name">name</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[T](op: Typers.this.Typer =&gt; T, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[T]" id="560686">silent</a><span class="delimiter">[</span><a title="" id="562774">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="562509">op</a>: Typer =&gt; T,
                  <a title="Boolean" id="562769">reportAmbiguousErrors</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560941" title="=&gt; Boolean">ambiguousErrors</a>,
                  <a title="Typers.this.global.Tree" id="562772">newtree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>: <a href="#560192" title="Typers.this.SilentResult[T]">SilentResult</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="1164787">rawTypeStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441046" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#441088" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="1164788">findMemberStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441046" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#441090" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="1164789">subtypeStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441046" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#441092" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="1164790">failedSilentStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441048" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559989" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Typers.this.SilentResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560939" title="=&gt; Boolean">reportErrors</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            <a href="#562769" title="Boolean">reportAmbiguousErrors</a> <a href="../../../Boolean.scala.html#58723" title="(x: Boolean)Boolean">!=</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560941" title="=&gt; Boolean">ambiguousErrors</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            <a href="#562772" title="Typers.this.global.Tree">newtree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.Context" id="1164799">context1</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560976" title="(reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.Context">makeSilent</a><span class="delimiter">(</span><a href="#562769" title="Boolean">reportAmbiguousErrors</a>, <a href="#562772" title="Typers.this.global.Tree">newtree</a><span class="delimiter">)</span>
          <a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560920" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560919" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560887" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560886" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span class="keyword">val</span> <a title="Typers.this.Typer" id="1164800">typer1</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1164799" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="T" id="1164801">result</a> = <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#1164800" title="Typers.this.Typer">typer1</a><span class="delimiter">)</span>
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560920" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560919" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560887" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560886" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span title="Typers.this.SilentResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#1183187" title="(err: Typers.this.AbsTypeError)Typers.this.SilentTypeError">SilentTypeError</a><span class="delimiter">(</span><a href="#1164799" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#560935" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.AbsTypeError">head</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1183192" title="(value: T)Typers.this.SilentResultValue[T]">SilentResultValue</a><span class="delimiter">(</span><a href="#1164801" title="T">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560940" title="=&gt; Boolean">bufferErrors</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560205" title="=&gt; Boolean">isPastTyper</a>, <span title="String(&quot;silent mode is not available past typer&quot;)" class="string">&quot;silent mode is not available past typer&quot;</span><span class="delimiter">)</span>
          <a href="#560671" title="(c: Typers.this.Context)(f: =&gt; Typers.this.SilentResult[T])Typers.this.SilentResult[T]">withSavedContext</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span><span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="T" id="1164827">res</a> = <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Typers.this.AbsTypeError]" id="1164828">errorsToReport</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560950" title="()scala.collection.mutable.Set[Typers.this.AbsTypeError]">flushAndReturnBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.SilentResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164828" title="scala.collection.mutable.Set[Typers.this.AbsTypeError]">errorsToReport</a>.<a href="../../../collection/SetLike.scala.html#71324" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1183192" title="(value: T)Typers.this.SilentResultValue[T]">SilentResultValue</a><span class="delimiter">(</span><a href="#1164827" title="T">res</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1183187" title="(err: Typers.this.AbsTypeError)Typers.this.SilentTypeError">SilentTypeError</a><span class="delimiter">(</span><a href="#1164828" title="scala.collection.mutable.Set[Typers.this.AbsTypeError]">errorsToReport</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.AbsTypeError">head</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="1164836">ex</a>: <a href="../../../reflect/internal/Symbols.scala.html#441170" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#1164836" title="Typers.this.global.CyclicReference">ex</a>
        <span class="keyword">case</span> <a title="Typers.this.SilentTypeError" id="1164837">ex</a>: <a href="../../../reflect/internal/Types.scala.html#441578" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          // fallback in case TypeError is still thrown
          // @H this happens for example in cps annotation checker
          <a href="../../../reflect/internal/util/StatBase.scala.html#441047" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#441088" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a>, <a href="#1164787" title="scala.tools.nsc.util.Statistics.IntPair">rawTypeStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#441047" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#441090" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a>, <a href="#1164788" title="scala.tools.nsc.util.Statistics.IntPair">findMemberStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#441047" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#441092" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a>, <a href="#1164789" title="scala.tools.nsc.util.Statistics.IntPair">subtypeStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#441049" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559989" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a>, <a href="#1164790" title="scala.tools.nsc.util.Statistics.LongPair">failedSilentStart</a><span class="delimiter">)</span>
          <a href="#1183187" title="(err: Typers.this.AbsTypeError)Typers.this.SilentTypeError">SilentTypeError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#1087255" title="(ex: Typers.this.global.TypeError, kind: Typers.this.ErrorKinds.ErrorKind)Typers.this.TypeErrorWrapper">TypeErrorWrapper</a><span class="delimiter">(</span><a href="#1164837" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Check whether feature given by `featureTrait` is enabled.
     *  If it is not, issue an error or a warning depending on whether the feature is required.
     *  @param  construct  A string expression that is substituted for &quot;#&quot; in the feature description string
     *  @param  immediate  When set, feature check is run immediately, otherwise it is run
     *                     at the end of the typechecking run for the enclosing unit. This
     *                     is done to avoid potential cyclic reference errors by implicits
     *                     that are forced too early.
     *  @return if feature check is run immediately: true if feature is enabled, false otherwise
     *          if feature check is delayed or suppressed because we are past typer: true
     */
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, featureTrait: Typers.this.global.Symbol, construct: =&gt; String, immediate: Boolean)Boolean" id="560689">checkFeature</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="1109731">pos</a>: <a href="../util/Position.scala.html#52230" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Symbol" id="1109732">featureTrait</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="=&gt; String" id="1109736">construct</a>: =&gt; <span title="String">String</span> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a title="Boolean" id="1109737">immediate</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1164843">nestedOwners</a> =
          <a href="#1109732" title="Typers.this.global.Symbol">featureTrait</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a>.<a href="../../../collection/immutable/List.scala.html#63671" title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">takeWhile</a><span class="delimiter">(</span><a href="#1164854" title="Typers.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442707" title="=&gt; Typers.this.global.ModuleSymbol">languageFeatureModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#449103" title="=&gt; Typers.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>.<a href="../../../collection/immutable/List.scala.html#63674" title="=&gt; List[Typers.this.global.Symbol]">reverse</a>
        <span class="keyword">val</span> <a title="String" id="1164844">featureName</a> = <span class="delimiter">(</span><a href="#1164843" title="List[Typers.this.global.Symbol]">nestedOwners</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#1164876" title="Typers.this.global.Symbol">_</a>.<a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59191" title="=&gt; String">mkString</a> <span title="(x$1: Any)String">+</span> <a href="#1109732" title="Typers.this.global.Symbol">featureTrait</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; featureTrait.NameType">name</a>
        <span class="keyword">def</span> <a title="()Boolean" id="1164845">action</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1164923">hasImport</a> = <a href="Implicits.scala.html#560284" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a href="#1109732" title="Typers.this.global.Symbol">featureTrait</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Implicits.scala.html#560302" title="=&gt; Typers.this.SearchResult">SearchFailure</a>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1164924">hasOption</a> = <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467394" title="=&gt; scala.tools.nsc.Settings#MultiStringSetting">language</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#456449" title="=&gt; List[String]">value</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1164844" title="String">featureName</a>
          <span class="keyword">val</span> <a title="Boolean" id="1164925">OK</a> = <a href="#1164923" title="=&gt; Boolean">hasImport</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1164924" title="=&gt; Boolean">hasOption</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1164925" title="Boolean">OK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> Some<a href="#1164982" title="(String, Boolean)" id="1164984" class="delimiter">(</a><a href="../../../reflect/internal/AnnotationInfos.scala.html#443060" title="Option[(Typers.this.global.Type, List[Typers.this.global.Tree], List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])]" id="1165019">AnnotationInfo</a><span class="delimiter">(</span>_, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.Tree]]" id="1165017">List</a><span class="delimiter">(</span>Literal<a title="(String, Boolean)" id="1164996" class="delimiter">(</a>Constant<span class="delimiter">(</span><a href="../../../Tuple2.scala.html#61506" title="String" id="1164941">featureDesc</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">)</span>, Literal<a title="(String, Boolean)" id="1164999" class="delimiter">(</a>Constant<span class="delimiter">(</span><a href="../../../Tuple2.scala.html#61508" title="Boolean" id="1164942">required</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =
              <a href="#1109732" title="Typers.this.global.Symbol">featureTrait</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#442127" title="(cls: Typers.this.global.Symbol)Option[Typers.this.global.AnnotationInfo]">getAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#442705" title="=&gt; Typers.this.global.ClassSymbol">LanguageFeatureAnnot</a>
            <span class="keyword">val</span> <a title="String" id="1164943">req</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164942" title="Boolean">required</a><span class="delimiter">)</span> <span title="String(&quot;needs to&quot;)" class="string">&quot;needs to&quot;</span> <span class="keyword">else</span> <span title="String(&quot;should&quot;)" class="string">&quot;should&quot;</span>
            <span class="keyword">var</span> <a title="String" id="1164944">raw</a> = <a href="#1164941" title="String">featureDesc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1164943" title="String">req</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; be enabled\n&quot;)" class="string">&quot; be enabled\n&quot;</span> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot;by making the implicit value language.&quot;)" class="string">&quot;by making the implicit value language.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1164844" title="String">featureName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; visible.&quot;)" class="string">&quot; visible.&quot;</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561271" title="=&gt; scala.collection.immutable.Set[Typers.this.global.Symbol]">reportedFeature</a> <a href="../../../collection/SetLike.scala.html#71318" title="(elem: Typers.this.global.Symbol)Boolean">contains</a> <a href="#1109732" title="Typers.this.global.Symbol">featureTrait</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1164944" title="String">raw</a> <span title="(x$1: Any)String">+=</span> <span title="String(&quot;\nThis can be achieved by adding the import clause \'import language.&quot;)" class="string">&quot;\nThis can be achieved by adding the import clause 'import language.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1164844" title="String">featureName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\'\n&quot;)" class="string">&quot;'\n&quot;</span> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot;or by setting the compiler option -language:&quot;)" class="string">&quot;or by setting the compiler option -language:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1164844" title="String">featureName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.\n&quot;)" class="string">&quot;.\n&quot;</span> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot;See the Scala docs for value scala.language.&quot;)" class="string">&quot;See the Scala docs for value scala.language.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1164844" title="String">featureName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for a discussion\n&quot;)" class="string">&quot; for a discussion\n&quot;</span> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot;why the feature &quot;)" class="string">&quot;why the feature &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1164943" title="String">req</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; be explicitly enabled.&quot;)" class="string">&quot; be explicitly enabled.&quot;</span>
            <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561272" title="(x$1: scala.collection.immutable.Set[Typers.this.global.Symbol])Unit">reportedFeature</a> <a href="../../../collection/SetLike.scala.html#71319" title="(elem: Typers.this.global.Symbol)scala.collection.immutable.Set[Typers.this.global.Symbol]">+=</a> <a href="#1109732" title="Typers.this.global.Symbol">featureTrait</a>
            <span class="keyword">val</span> <a title="String" id="1164945">msg</a> = <a href="#1164944" title="String">raw</a> <span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span> <span class="delimiter">(</span><span title="String(&quot;#&quot;)" class="string">&quot;#&quot;</span>, <a href="#1109736" title="=&gt; String">construct</a><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1164942" title="Boolean">required</a><span class="delimiter">)</span> <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1109731" title="Typers.this.global.Position">pos</a>, <a href="#1164945" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561263" title="=&gt; Typers.this.global.ConditionalWarning">featureWarnings</a>.<a href="../Global.scala.html#642952" title="(pos: Typers.this.global.Position, msg: String)Any">warn</a><span class="delimiter">(</span><a href="#1109731" title="Typers.this.global.Position">pos</a>, <a href="#1164945" title="String">msg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1164925" title="Boolean">OK</a>
        <span class="delimiter">}</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1109737" title="Boolean">immediate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1164845" title="()Boolean">action</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560810" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</a> <a href="#1164845" title="()Boolean">action</a>
          <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type, prefix: String)AnyVal" id="560690">checkExistentialsFeature</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="1165079">pos</a>: <a href="../util/Position.scala.html#52230" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="1165080">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="String" id="1165081">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#1165080" title="Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#1165095" title="AnyVal" id="1165097">extp</a>: ExistentialType <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>extp.<a href="../../../reflect/internal/Types.scala.html#448585" title="=&gt; Boolean">isRepresentableWithWildcards</a> =&gt;
        <a href="#560689" title="(pos: Typers.this.global.Position, featureTrait: Typers.this.global.Symbol, construct: =&gt; String, immediate: Boolean)Boolean">checkFeature</a><a href="#1165098" title="(x: AnyVal)AnyVal" class="delimiter">(</a><a href="#1165079" title="Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Definitions.scala.html#442723" title="=&gt; Typers.this.global.Symbol">ExistentialsFeature</a>, <a href="#1165081" title="String">prefix</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#1165080" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
    <span class="delimiter">}</span>

    /** Perform the following adaptations of expression, pattern or type `tree` wrt to
     *  given mode `mode` and given prototype `pt`:
     *  (-1) For expressions with annotated types, let AnnotationCheckers decide what to do
     *  (0) Convert expressions with constant types to literals (unless in interactive/scaladoc mode)
     *  (1) Resolve overloading, unless mode contains FUNmode
     *  (2) Apply parameterless functions
     *  (3) Apply polymorphic types to fresh instances of their type parameters and
     *      store these instances in context.undetparams,
     *      unless followed by explicit type application.
     *  (4) Do the following to unapplied methods used as values:
     *  (4.1) If the method has only implicit parameters pass implicit arguments
     *  (4.2) otherwise, if `pt` is a function type and method is not a constructor,
     *        convert to function by eta-expansion,
     *  (4.3) otherwise, if the method is nullary with a result type compatible to `pt`
     *        and it is not a constructor, apply it to ()
     *  otherwise issue an error
     *  (5) Convert constructors in a pattern as follows:
     *  (5.1) If constructor refers to a case class factory, set tree's type to the unique
     *        instance of its primary constructor that is a subtype of the expected type.
     *  (5.2) If constructor refers to an extractor, convert to application of
     *        unapply or unapplySeq method.
     *
     *  (6) Convert all other types to TypeTree nodes.
     *  (7) When in TYPEmode but not FUNmode or HKmode, check that types are fully parameterized
     *      (7.1) In HKmode, higher-kinded types are allowed, but they must have the expected kind-arity
     *  (8) When in both EXPRmode and FUNmode, add apply method calls to values of object type.
     *  (9) If there are undetermined type variables and not POLYmode, infer expression instance
     *  Then, if tree's type is not a subtype of expected type, try the following adaptations:
     *  (10) If the expected type is Byte, Short or Char, and the expression
     *      is an integer fitting in the range of that type, convert it to that type.
     *  (11) Widen numeric literals to their expected type, if necessary
     *  (12) When in mode EXPRmode, convert E to { E; () } if expected type is scala.Unit.
     *  (13) When in mode EXPRmode, apply AnnotationChecker conversion if expected type is annotated.
     *  (14) When in mode EXPRmode, apply a view
     *  If all this fails, error
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree" id="560691">adapt</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1050072">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1050073">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1050074">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="1050077">original</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree" id="1165103">adaptToImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.MethodType" id="1165108">mt</a>: <a href="../../../reflect/internal/Types.scala.html#441313" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (9) -- should revisit dropped condition `(mode &amp; POLYmode) == 0`
          // dropped so that type args of implicit method are inferred even if polymorphic expressions are allowed
          // needed for implicits in 2.8 collection library -- maybe once #3346 is fixed, we can reinstate the condition?
            <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="Infer.scala.html#562660" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560933" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#1050074" title="Typers.this.global.Type">pt</a>,
              // approximate types that depend on arguments since dependency on implicit argument is like dependency on type parameter
              <a href="#1165108" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#448366" title="=&gt; Typers.this.global.MethodType">approximate</a>,
              keepNothings = <span title="Boolean(false)" class="keyword">false</span>,
              useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> // #3808
        <span class="delimiter">}</span>

        // avoid throwing spurious DivergentImplicit errors
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <a href="#560659" title="(inConstr: Boolean)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withCondConstrTyper</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501484" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span> <a title="Typers.this.Typer" id="1165126">typer1</a> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050077" title="Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050074" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
            <a href="#1165126" title="Typers.this.Typer">typer1</a>.<a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span title="Typers.this.global.Tree" class="delimiter">(</span><a title="Typers.this.Typer" id="1165140">tpr</a> =&gt; <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1165141">withImplicitArgs</a> = <a href="#1165140" title="Typers.this.Typer">tpr</a>.<a href="#560628" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1165140" title="Typers.this.Typer">tpr</a>.<a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a> // silent will wrap it in SilentTypeError anyway
              <span class="keyword">else</span> <a href="#1165140" title="Typers.this.Typer">tpr</a>.<a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1165141" title="Typers.this.global.Tree">withImplicitArgs</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> SilentResultValue<a href="#1165178" title="Typers.this.global.Tree" id="1165180" class="delimiter">(</a>result<span class="delimiter">)</span> =&gt;
                <a href="#1165181" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">result</a>
              <span class="keyword">case</span> _ =&gt;
                <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;fallback on implicits: &quot;)" class="string">&quot;fallback on implicits: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../ast/Trees.scala.html#559852" title="(x: Typers.this.global.Tree, leaveAlone: Typers.this.global.Tree =&gt; Boolean)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1165151">tree1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#559852" title="(x: Typers.this.global.Tree, leaveAlone: Typers.this.global.Tree =&gt; Boolean)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
                <a href="#1165151" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="../../../reflect/internal/AnnotationCheckers.scala.html#440542" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#1165151" title="Typers.this.global.Tree">tree1</a>, <a href="#1165151" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1165151" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1165151" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1165151" title="Typers.this.global.Tree">tree1</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="#1165126" title="Typers.this.Typer">typer1</a>.<a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1165126" title="Typers.this.Typer">typer1</a>.<a href="#560628" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree" id="1165104">instantiateToMethodType</a><span class="delimiter">(</span><a title="Typers.this.global.MethodType" id="1165190">mt</a>: <a href="../../../reflect/internal/Types.scala.html#441313" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1165191">meth</a> = <a href="#1050072" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          // a partial named application is a block (see comment in EtaExpansion)
          <span class="keyword">case</span> Block<a href="#1165200" title="Typers.this.global.Symbol" id="1165203" class="delimiter">(</a>_, tree1<span class="delimiter">)</span> =&gt; tree1.<a href="#1165204" title="(x: Typers.this.global.Symbol)Typers.this.global.Symbol">symbol</a>
          <span class="keyword">case</span> _               =&gt; <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="#1165204" title="(x: Typers.this.global.Symbol)Typers.this.global.Symbol">symbol</a>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1165191" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1165191" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4.2)
          <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;eta-expanding &quot;)" class="string">&quot;eta-expanding &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#560652" title="(tree: Typers.this.global.Tree, tpe0: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1165210">tree0</a> = <a href="EtaExpansion.scala.html#560336" title="(unit: Typers.this.global.CompilationUnit, tree: Typers.this.global.Tree)Typers.this.global.Tree">etaExpand</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          // println(&quot;eta &quot;+tree+&quot; ---&gt; &quot;+tree0+&quot;:&quot;+tree0.tpe+&quot; undet: &quot;+context.undetparams+ &quot; mode: &quot;+Integer.toHexString(mode))

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // #2624: need to infer type arguments for eta expansion of a polymorphic method
            // context.undetparams contains clones of meth.typeParams (fresh ones were generated in etaExpand)
            // need to run typer on tree0, since etaExpansion sets the tpe's of its subtrees to null
            // can't type with the expected type, as we can't recreate the setup in (3) without calling typed
            // (note that (3) does not call typed to do the polymorphic type instantiation --
            //  it is called after the tree has been typed with a polymorphic expected result type)
            <a href="#560692" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1165210" title="Typers.this.global.Tree">tree0</a>, <a href="#1050073" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1165210" title="Typers.this.global.Tree">tree0</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1165191" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1165190" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#448351" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (4.3)
          <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560904" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#562599" title="(tree: Typers.this.global.Tree, meth: Typers.this.global.Symbol)Typers.this.global.Tree">MissingArgsForMethodTpeError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1165191" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="1165105">adaptType</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#560173" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1050072" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560172" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560827" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (7)
          // @M When not typing a higher-kinded type ((mode &amp; HKmode) == 0)
          // or raw type (tree.symbol.isJavaDefined &amp;&amp; context.unit.isJava), types must be of kind *,
          // and thus parameterized types must be applied to their type arguments
          // @M TODO: why do kind-* tree's have symbols, while higher-kinded ones don't?
          <a href="ContextErrors.scala.html#562600" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">MissingTypeParametersError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span> // (7.1) @M: check kind-arity
        // @M: removed check for tree.hasSymbol and replace tree.symbol by tree.tpe.symbol (TypeTree's must also be checked here, and they don't directly have a symbol)
        <span class="delimiter">(</span><a href="Modes.scala.html#560172" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          // @M: don't check tree.tpe.symbol.typeParams. check tree.tpe.typeParams!!!
          // (e.g., m[Int] --&gt; tree.tpe.symbol.typeParams.length == 1, tree.tpe.typeParams.length == 0!)
          <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Typers.this.global.definitions.NothingClass.type">NothingClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            <a href="#1050074" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // Check that the actual kind arity (tree.symbol.typeParams.length) conforms to the expected
          // kind-arity (pt.typeParams.length). Full checks are done in checkKindBounds in Infer.
          // Note that we treat Any and Nothing as kind-polymorphic.
          // We can't perform this check when typing type arguments to an overloaded method before the overload is resolved
          // (or in the case of an error type) -- this is indicated by pt == WildcardType (see case TypeApply in typed1).
          <a href="ContextErrors.scala.html#562601" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">KindArityMismatchError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span> // (6)
          <span class="keyword">case</span> TypeTree<a href="#1165306" title="Typers.this.global.Tree" id="1165308" class="delimiter">(</a><span class="delimiter">)</span> =&gt; <a href="#1165309" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">tree</a>
          <span class="keyword">case</span> _          =&gt; <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#428891" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#1165309" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">setPos</a> <span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /**
       * To deal with the type slack between actual (run-time) types and statically known types, for each abstract type T,
       * reflect its variance as a skolem that is upper-bounded by T (covariant position), or lower-bounded by T (contravariant).
       *
       * Consider the following example:
       *
       *  class AbsWrapperCov[+A]
       *  case class Wrapper[B](x: Wrapped[B]) extends AbsWrapperCov[B]
       *
       *  def unwrap[T](x: AbsWrapperCov[T]): Wrapped[T] = x match {
       *    case Wrapper(wrapped) =&gt; // Wrapper's type parameter must not be assumed to be equal to T, it's *upper-bounded* by it
       *      wrapped // : Wrapped[_ &lt;: T]
       *  }
       *
       * this method should type check if and only if Wrapped is covariant in its type parameter
       *
       * when inferring Wrapper's type parameter B from x's type AbsWrapperCov[T],
       * we must take into account that x's actual type is AbsWrapperCov[Tactual] forSome {type Tactual &lt;: T}
       * as AbsWrapperCov is covariant in A -- in other words, we must not assume we know T exactly, all we know is its upper bound
       *
       * since method application is the only way to generate this slack between run-time and compile-time types (TODO: right!?),
       * we can simply replace skolems that represent method type parameters as seen from the method's body
       * by other skolems that are (upper/lower)-bounded by that type-parameter skolem
       * (depending on the variance position of the skolem in the statically assumed type of the scrutinee, pt)
       *
       * see test/files/../t5189*.scala
       */
      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="1165106">adaptConstrPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span> // (5)
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1165314">extractor</a> = <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1165320">sym</a> =&gt; <a href="#560677" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="Unapplies.scala.html#560355" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#1165320" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1165314" title="Typers.this.global.Symbol">extractor</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1050072" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> <a href="#1165314" title="Typers.this.global.Symbol">extractor</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1165326">unapply</a> = <a href="Unapplies.scala.html#560355" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#1165314" title="Typers.this.global.Symbol">extractor</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1165327">clazz</a> = <a href="Unapplies.scala.html#560356" title="(extractor: Typers.this.global.Symbol)Typers.this.global.Symbol">unapplyParameterType</a><span class="delimiter">(</span><a href="#1165326" title="Typers.this.global.Symbol">unapply</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1165326" title="Typers.this.global.Symbol">unapply</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1165327" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1165327" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443501" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1165363" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // convert synthetic unapply of case class to case class constructor
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1165364">prefix</a> = <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; Typers.this.global.Type">prefix</a>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="1165365">tree1</a> = <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1165327" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443482" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442037" title="(pre: Typers.this.global.Type, clazz: Typers.this.global.Symbol)Typers.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1165364" title="Typers.this.global.Type">prefix</a>, <a href="#1165327" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              .<a href="../../../reflect/api/Trees.scala.html#428891" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.TypeSymbol]" id="1165366">skolems</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.TypeSymbol]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Typers.this.global.TypeSymbol]">ListBuffer</a><span class="delimiter">[</span>TypeSymbol<span class="delimiter">]</span>
            <span class="keyword">object</span> <a title="variantToSkolem.type" id="1165367">variantToSkolem</a> <a href="#1165368" title="variantToSkolem.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#441428" title="Typers.this.global.VariantTypeMap">VariantTypeMap</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="1165384">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1165386">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Types.scala.html#524016" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><a href="../../../reflect/internal/Types.scala.html#448100" title="=&gt; Typers.this.global.Type" class="delimiter">(</a><a href="#1165386" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> TypeRef<a href="#1165442" title="Typers.this.global.Type" id="1165446" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#441258" title="Typers.this.global.Type" id="1165449">NoPrefix</a>, tpSym, <a href="../../../collection/immutable/List.scala.html#11552" title="Typers.this.global.Type" id="1165450">Nil</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/Types.scala.html#524012" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> tpSym.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> tpSym.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.TypeBounds" id="1165419">bounds</a> = <span title="Typers.this.global.TypeBounds" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#524012" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#441274" title="Typers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#448283" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span>tpSym.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441274" title="Typers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#448284" title="(lo: Typers.this.global.Type)Typers.this.global.TypeBounds">lower</a><span class="delimiter">(</span>tpSym.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                  // origin must be the type param so we can deskolemize
                  <span class="keyword">val</span> <a title="Typers.this.global.TypeSkolem" id="1165420">skolem</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443201" title="(name: Typers.this.global.TypeName, origin: Typers.this.global.Symbol, info: Typers.this.global.Type)Typers.this.global.TypeSkolem">newGADTSkolem</a><span class="delimiter">(</span><a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560799" title="(prefix: String)Typers.this.global.TypeName">freshTypeName</a><span class="delimiter">(</span><span title="String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span title="(x$1: Any)String">+</span>tpSym.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a><span class="delimiter">)</span>, tpSym, <a href="#1165419" title="Typers.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
                  // println(&quot;mapping &quot;+ tpSym +&quot; to &quot;+ skolem + &quot; : &quot;+ bounds +&quot; -- pt= &quot;+ pt +&quot; in &quot;+ context.owner +&quot; at &quot;+ context.tree )
                  <a href="#1165366" title="scala.collection.mutable.ListBuffer[Typers.this.global.TypeSymbol]">skolems</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.global.TypeSymbol)skolems.type">+=</a> <a href="#1165420" title="Typers.this.global.TypeSkolem">skolem</a>
                  <a href="#1165420" title="Typers.this.global.TypeSkolem">skolem</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>
                <span class="keyword">case</span> tp1 =&gt; <a href="#1165451" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp1</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            // have to open up the existential and put the skolems in scope
            // can't simply package up pt in an ExistentialType, because that takes us back to square one (List[_ &lt;: T] == List[T] due to covariance)
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1165369">ptSafe</a>   = <a href="#1165384" title="(tp: Typers.this.global.Type)Typers.this.global.Type">variantToSkolem</a><span class="delimiter">(</span><a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> // TODO: pt.skolemizeExistential(context.owner, tree) ?
            <span class="keyword">val</span> <a title="List[Typers.this.global.TypeSymbol]" id="1165370">freeVars</a> = <a href="#1165366" title="scala.collection.mutable.ListBuffer[Typers.this.global.TypeSymbol]">skolems</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[Typers.this.global.TypeSymbol]">toList</a>

            // use &quot;tree&quot; for the context, not context.tree: don't make another CaseDef context,
            // as instantiateTypeVar's bounds would end up there
            <span class="keyword">val</span> <a title="Typers.this.Context" id="1165371">ctorContext</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#1165370" title="List[Typers.this.global.TypeSymbol]">freeVars</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.TypeSymbol =&gt; Typers.this.global.TypeSymbol)Unit">foreach</a> <a href="#1165371" title="Typers.this.Context">ctorContext</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.TypeSymbol)Typers.this.global.TypeSymbol">enter</a>
            <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1165371" title="Typers.this.Context">ctorContext</a><span class="delimiter">)</span>.<a href="#560626" title="=&gt; Typers.this.Inferencer">infer</a>.<a href="Infer.scala.html#562664" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], pt0: Typers.this.global.Type)Unit">inferConstructorInstance</a><span class="delimiter">(</span><a href="#1165365" title="Typers.this.global.TypeTree">tree1</a>, <a href="#1165327" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#1165369" title="Typers.this.global.Type">ptSafe</a><span class="delimiter">)</span>

            // simplify types without losing safety,
            // so that error messages don't unnecessarily refer to skolems
            <span class="keyword">val</span> <a title="Typers.this.global.Type =&gt; Typers.this.global.Type" id="1165372">extrapolate</a> = <span title="Typers.this.global.ExistentialExtrapolation" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#441441" title="Typers.this.global.ExistentialExtrapolation">ExistentialExtrapolation</a><span class="delimiter">(</span><a href="#1165370" title="List[Typers.this.global.TypeSymbol]">freeVars</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#524023" title="(tpe: Typers.this.global.Type)Typers.this.global.Type">extrapolate</a> <span class="delimiter">(</span><a href="#1165498" title="Typers.this.global.Type">_</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1165373">extrapolated</a> = <a href="#1165365" title="Typers.this.global.TypeTree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> MethodType<a href="#1165533" title="Typers.this.global.Type" id="1165535" class="delimiter">(</a>ctorArgs, res<span class="delimiter">)</span> =&gt; // ctorArgs are actually in a covariant position, since this is the type of the subpatterns of the pattern represented by this Apply node
                ctorArgs <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1165524">p</a> =&gt; <a href="#1165524" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#443428" title="(info: Typers.this.global.Type)Unit">info</a> = <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.global.Type)Typers.this.global.Type">extrapolate</a><span class="delimiter">(</span><a href="#1165524" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> // no need to clone, this is OUR method type
                <a href="../../../reflect/internal/Types.scala.html#441374" title="(tp: Typers.this.global.Type, params: List[Typers.this.global.Symbol], restpe: Typers.this.global.Type)Typers.this.global.Type">copyMethodType</a><span class="delimiter">(</span><a href="#1165365" title="Typers.this.global.TypeTree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, ctorArgs, <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.global.Type)Typers.this.global.Type">extrapolate</a><span class="delimiter">(</span>res<span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> tp =&gt; <a href="#1165536" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp</a>
            <span class="delimiter">}</span>

            // once the containing CaseDef has been type checked (see typedCase),
            // tree1's remaining type-slack skolems will be deskolemized (to the method type parameter skolems)
            <a href="#1165365" title="Typers.this.global.TypeTree">tree1</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree1.type">setType</a> <a href="#1165373" title="Typers.this.global.Type">extrapolated</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1050072" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#562602" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">CaseClassConstructorError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="1165107">insertApply</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560172" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span>, <a href="Modes.scala.html#560179" title="(mode: Int)String">modeString</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> //@M
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1165547">qual</a> = <a href="#560698" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><a href="#1165603" title="Typers.this.global.Ident" class="delimiter">(</a><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> id @ Ident<a href="#1165600" title="Typers.this.global.Tree" id="1165603" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1165576">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>id.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> id.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a>
            <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>id.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
              <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560995" title="(clazz: Typers.this.global.Symbol)Typers.this.Context">enclosingSubClassContext</a><span class="delimiter">(</span>id.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="Contexts.scala.html#560889" title="=&gt; Typers.this.global.Type">prefix</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441258" title="Typers.this.global.NoPrefix.type">NoPrefix</a>
            <a href="#560682" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span>id, <a href="#1165576" title="Typers.this.global.Type">pre</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> sel @ Select<a href="#1165600" title="Typers.this.global.Tree" id="1165606" class="delimiter">(</a>qualqual, _<span class="delimiter">)</span> =&gt;
            <a href="#560682" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><a href="#1165607" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>sel, qualqual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> other =&gt;
            <a href="#1165607" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">other</a>
        <span class="delimiter">}</span>
        <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1165547" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // begin adapt
      <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> atp @ AnnotatedType<a href="#1166259" title="Typers.this.global.Tree" id="1166264" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/AnnotationCheckers.scala.html#440543" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; // (-1)
          <a href="../../../reflect/internal/AnnotationCheckers.scala.html#440544" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><a href="#1166298" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> ct @ ConstantType<a href="#1166259" title="Typers.this.global.Tree" id="1166266" class="delimiter">(</a>value<span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#560171" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a>, TYPEmode <span title="Int(20)">|</span> FUNmode<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>ct <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559777" title="=&gt; Boolean">forScaladoc</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559776" title="=&gt; Boolean">forInteractive</a> =&gt; // (0)
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1165661">sym</a> = <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1165661" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1165661" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443338" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="1165666">msg</a> = <a href="#1165661" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443559" title="()String">toString</a> <span title="(x$1: Any)String">+</span> <a href="#1165661" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is deprecated: &quot;)" class="string">&quot; is deprecated: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1165661" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443339" title="=&gt; Option[String]">deprecationMessage</a>.<a href="../../../Option.scala.html#63814" title="(default: =&gt; String)String">getOrElse</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560822" title="(pos: Typers.this.global.Position, msg: String)Any">deprecationWarning</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1165666" title="String">msg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428318" title="(tree: Typers.this.global.Tree, value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, value<span class="delimiter">)</span>
        <span class="keyword">case</span> OverloadedType<a href="#1166259" title="Typers.this.global.Tree" id="1166268" class="delimiter">(</a>pre, alts<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560173" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span> =&gt; // (1)
          <a href="Infer.scala.html#562684" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> NullaryMethodType<a href="#1166259" title="Typers.this.global.Tree" id="1166270" class="delimiter">(</a>restpe<span class="delimiter">)</span> =&gt; // (2)
          <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><a href="#1166298" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1050072" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> restpe, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> TypeRef<a href="#1166259" title="Boolean" id="1166275" class="delimiter">(</a>_, <a href="../../../reflect/internal/Definitions.scala.html#442297" title="Typers.this.global.Tree" id="1166293">ByNameParamClass</a>, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.Type]]" id="1166313">List</a><span class="delimiter">(</span>arg<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> =&gt; // (2)
          <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><a href="#1166298" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1050072" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> arg, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> tr @ TypeRef<span class="delimiter">(</span>_, sym, _<span class="delimiter">)</span> <span class="keyword">if</span> sym.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> tr.<a href="../../../reflect/internal/Types.scala.html#448124" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441324" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
          <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><a href="#1166298" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1050072" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> tr.<a href="../../../reflect/internal/Types.scala.html#448124" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#442015" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> et @ ExistentialType<a href="#1166259" title="Typers.this.global.Tree" id="1166288" class="delimiter">(</a>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
          <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><a href="#1166298" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1050072" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> et.<a href="../../../reflect/internal/Types.scala.html#448583" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> PolyType<a href="#1166259" title="Typers.this.global.Tree" id="1166290" class="delimiter">(</a>tparams, restpe<span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#560171" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a>, TAPPmode | PATTERNmode <span title="Int(16514)">|</span> HKmode<span class="delimiter">)</span> =&gt; // (3)
          // assert((mode &amp; HKmode) == 0) //@M a PolyType in HKmode represents an anonymous type function,
          // we're in HKmode since a higher-kinded type is expected --&gt; hence, don't implicitly apply it to type params!
          // ticket #2197 triggered turning the assert into a guard
          // I guess this assert wasn't violated before because type aliases weren't expanded as eagerly
          //  (the only way to get a PolyType for an anonymous type function is by normalisation, which applies eta-expansion)
          // -- are we sure we want to expand aliases this early?
          // -- what caused this change in behaviour??
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1165771">tparams1</a> = <a href="../../../reflect/internal/Symbols.scala.html#441157" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span>tparams<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1165772">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425073" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="../../../reflect/api/Trees.scala.html#429629" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1165771" title="List[Typers.this.global.Symbol]">tparams1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeTree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1165794">tparam</a> =&gt;
            <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1165794" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443426" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeApply">setPos</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a> //@M/tcpolyinfer: changed tparam.tpe to tparam.tpeHK
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> <a href="../../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">++=</a> <a href="#1165771" title="List[Typers.this.global.Symbol]">tparams1</a>
          <a href="Macros.scala.html#560474" title="(newUndets: List[Typers.this.global.Symbol])Unit">notifyUndetparamsAdded</a><span class="delimiter">(</span><a href="#1165771" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>
          <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1165772" title="Typers.this.global.Tree">tree1</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree1.type">setType</a> restpe.<a href="../../../reflect/internal/Types.scala.html#442042" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span>tparams, <a href="#1165771" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="#1166259" title="Boolean" id="1166294">mt</a>: MethodType <span class="keyword">if</span> mt.<a href="../../../reflect/internal/Types.scala.html#448359" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt; // (4.1)
          <a href="#1165103" title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree">adaptToImplicitMethod</a><a href="#1166298" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>mt<span class="delimiter">)</span>

        <span class="keyword">case</span> mt: MethodType <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="Modes.scala.html#560174" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a><span class="delimiter">)</span> =&gt;
          <a href="#1165104" title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree">instantiateToMethodType</a><a href="#1166298" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>mt<span class="delimiter">)</span>

        <span class="keyword">case</span> _ =&gt;
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1165940">applyPossible</a> = <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Symbol" id="1165941">applyMeth</a> = <a href="#560685" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#560698" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(128)">TAPPmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1165941" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1165958" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span>
              <a href="#1165941" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="#1165971" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442007" title="=&gt; Int">paramSectionCount</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425073" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
            <a href="#1165105" title="()Typers.this.global.Tree">adaptType</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>
              <a href="Modes.scala.html#560176" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425068" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>   // typechecking application
              <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a><span class="delimiter">)</span>     // of a macro
            <a href="Macros.scala.html#560445" title="(typer: Typers.this.Typer, expandee: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">macroExpand</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a>, <a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1165106" title="()Typers.this.global.Tree">adaptConstrPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#560169" title="(mode: Int, required: Int)Boolean">inAllModes</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a>, EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441313" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441327" title="Typers.this.global.OverloadedType">OverloadedType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#1165940" title="=&gt; Boolean">applyPossible</a><span class="delimiter">)</span>
            <a href="#1165107" title="()Typers.this.global.Tree">insertApply</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560174" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (9)
            <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560172" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span>, <a href="Modes.scala.html#560179" title="(mode: Int)String">modeString</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> //@M
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#560176" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050074" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span>
              <a href="#560693" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">instantiateExpectingUnit</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#560692" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1050072" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#560175" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
                <a href="Infer.scala.html#562672" title="(pat: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferModulePattern</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441487" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="Infer.scala.html#1108169" title="(tp: Typers.this.global.Type)Typers.this.global.Type">approximateAbstracts</a><span class="delimiter">(</span><a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">return</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.constfold.global.Tree" id="1166027">tree1</a> = <a href="ConstantFolder.scala.html#648054" title="(tree: Typers.this.global.constfold.global.Tree, pt: Typers.this.global.constfold.global.Type)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> // (10) (11)
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166027" title="Typers.this.global.constfold.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.constfold.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.constfold.global.Type)Boolean">&lt;:&lt;</a> <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1166027" title="Typers.this.global.constfold.global.Tree">tree1</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <a href="#1050077" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#560176" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#1050073" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1050074" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> TypeRef<a href="#1166149" title="Unit" id="1166153" class="delimiter">(</a>_, sym, _<span class="delimiter">)</span> =&gt;
                    // note: was if (pt.typeSymbol == UnitClass) but this leads to a potentially
                    // infinite expansion if pt is constant type ()
                    <a href="#1166159" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (12)
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#467706" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnValueDiscard</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                        <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;discarded non-Unit value&quot;)" class="string">&quot;discarded non-Unit value&quot;</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427284" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Typers.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442839" title="(sym: Typers.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span>sym<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Types.scala.html#441554" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#467708" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNumericWiden</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                        <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;implicit numeric widening&quot;)" class="string">&quot;implicit numeric widening&quot;</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441839" title="(qualifier: Typers.this.global.Tree, name: String)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <span title="String(&quot;to&quot;)" class="string">&quot;to&quot;</span> <span title="(x$1: Any)String">+</span> sym.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> AnnotatedType<a href="#1166149" title="Unit" id="1166158" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/AnnotationCheckers.scala.html#440543" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; // (13)
                    <a href="#1166159" title="(x: Unit)Unit" class="keyword">return</a> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationCheckers.scala.html#440544" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> _ =&gt;
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#560692" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560904" title="=&gt; Boolean">implicitsEnabled</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1050074" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441980" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // (14); the condition prevents chains of views
                  <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;inferring view from &quot;)" class="string">&quot;inferring view from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1166168">coercion</a> = <a href="#560629" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                  // convert forward views of delegate types into closures wrapped around
                  // the delegate's apply method (the &quot;Invoke&quot; method, which was translated into apply)
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559775" title="=&gt; Boolean">forMSIL</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166168" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442538" title="(delegateType: Typers.this.global.Type, functionType: Typers.this.global.Type)Boolean">isCorrespondingDelegate</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1166179">meth</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
                    <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;replacing forward delegate view with: &quot;)" class="string">&quot;replacing forward delegate view with: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1166179" title="Typers.this.global.Symbol">meth</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1166179" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1166179" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166168" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">def</span> <a title="=&gt; String" id="1166208">msg</a> = <span title="String(&quot;inferred view from &quot;)" class="string">&quot;inferred view from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050074" title="Typers.this.global.Type">pt</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1166168" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1166168" title="Typers.this.global.Tree">coercion</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467418" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">logImplicitConv</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560819" title="(pos: Typers.this.global.Position, msg: String)Unit">echo</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1166208" title="=&gt; String">msg</a><span class="delimiter">)</span>

                    <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#1166208" title="=&gt; String">msg</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Typers.this.Context" id="1166209">silentContext</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560977" title="(reportAmbiguousErrors: Boolean)Typers.this.Context">makeImplicit</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560941" title="=&gt; Boolean">ambiguousErrors</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1166210">res</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1166209" title="Typers.this.Context">silentContext</a><span class="delimiter">)</span>.<a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>
                      <span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../../../reflect/api/Trees.scala.html#23692" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#1166168" title="Typers.this.global.Tree">coercion</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.ApplyImplicitView">setPos</a> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1050073" title="Int">mode</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166209" title="Typers.this.Context">silentContext</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560981" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#1166209" title="Typers.this.Context">silentContext</a>.<a href="Contexts.scala.html#560935" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.AbsTypeError">head</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="#1166210" title="Typers.this.global.Tree">res</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;error tree = &quot;)" class="string">&quot;error tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467662" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#562631" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1166048">found</a> = <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1166049">req</a> = <a href="#1050074" title="Typers.this.global.Type">pt</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166048" title="Typers.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166049" title="Typers.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560939" title="=&gt; Boolean">reportErrors</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166049" title="Typers.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#442084" title="=&gt; List[Typers.this.global.Symbol]">skolemsExceptMethodTypeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // Ignore type errors raised in later phases that are due to mismatching types with existential skolems
                  // We have lift crashing in 2.9 with an adapt failure in the pattern matcher.
                  // Here's my hypothsis why this happens. The pattern matcher defines a variable of type
                  //
                  //   val x: T = expr
                  //
                  // where T is the type of expr, but T contains existential skolems ts.
                  // In that case, this value definition does not typecheck.
                  // The value definition
                  //
                  //   val x: T forSome { ts } = expr
                  //
                  // would typecheck. Or one can simply leave out the type of the `val`:
                  //
                  //   val x = expr
                  <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;recovering from existential Skolem type error in tree \n&quot;)" class="string">&quot;recovering from existential Skolem type error in tree \n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nwith type &quot;)" class="string">&quot;\nwith type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050072" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n expected type = &quot;)" class="string">&quot;\n expected type = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050074" title="Typers.this.global.Type">pt</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n context = &quot;)" class="string">&quot;\n context = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1050073" title="Int">mode</a>, <a href="../../../reflect/internal/Symbols.scala.html#441156" title="(syms: List[Typers.this.global.Symbol])(tpe: Typers.this.global.Type)Typers.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#1050074" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442084" title="=&gt; List[Typers.this.global.Symbol]">skolemsExceptMethodTypeParams</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1050074" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  // create an actual error
                  <a href="ContextErrors.scala.html#562518" title="(tree: Typers.this.global.Tree, found: Typers.this.global.Type, req: Typers.this.global.Type)Unit">AdaptTypeError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a>, <a href="#1166048" title="Typers.this.global.Type">found</a>, <a href="#1166049" title="Typers.this.global.Type">req</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050072" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560692">instantiate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1165214">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1165215">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1165216">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="Infer.scala.html#562660" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#1165214" title="Typers.this.global.Tree">tree</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560933" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#1165216" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1165214" title="Typers.this.global.Tree">tree</a>, <a href="#1165215" title="Int">mode</a>, <a href="#1165216" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    /** If the expected type is Unit: try instantiating type arguments
     *  with expected type Unit, but if that fails, try again with pt = WildcardType
     *  and discard the expression.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="560693">instantiateExpectingUnit</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166020">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1166021">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1166326">savedUndetparams</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
      <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span title="Typers.this.global.Tree" class="delimiter">(</span><a href="#1166332" title="Typers.this.Typer">_</a>.<a href="#560692" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#1166020" title="Typers.this.global.Tree">tree</a>, <a href="#1166021" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> SilentResultValue<a href="#1166379" title="Typers.this.global.Tree" id="1166381" class="delimiter">(</a>t<span class="delimiter">)</span> =&gt; <a href="#1166382" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">t</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#1166326" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Block" id="1166340">valueDiscard</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#1166020" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427284" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#560692" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#1166020" title="Typers.this.global.Tree">tree</a>, <a href="#1166021" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Typers.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1166340" title="Typers.this.global.Block">valueDiscard</a>, <a href="#1166021" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree)Boolean" id="560694">isAdaptableWithView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166387">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1166390">qtpe</a> = <a href="#1166387" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a>
      <span class="delimiter">(</span>    <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166387" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425072" title="=&gt; Boolean">isTerm</a>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166387" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23697" title="Typers.this.global.Super">Super</a><span class="delimiter">]</span>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1166387" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166387" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1166387" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166390" title="Typers.this.global.Type">qtpe</a>.<a href="../../../reflect/internal/Types.scala.html#441980" title="=&gt; Boolean">isError</a>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166390" title="Typers.this.global.Type">qtpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443236" title="=&gt; Boolean">isBottomClass</a>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166390" title="Typers.this.global.Type">qtpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a>
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166387" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23692" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">]</span> // don't chain views
        <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560904" title="=&gt; Boolean">implicitsEnabled</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560910" title="=&gt; Boolean">enrichmentEnabled</a><span class="delimiter">)</span>
        // Elaborating `context.implicitsEnabled`:
        // don't try to adapt a top-level type that's the subject of an implicit search
        // this happens because, if isView, typedImplicit tries to apply the &quot;current&quot; implicit value to
        // a value that needs to be coerced, so we check whether the implicit value has an `apply` method.
        // (If we allow this, we get divergence, e.g., starting at `conforms` during ant quick.bin)
        // Note: implicit arguments are still inferred (this kind of &quot;chaining&quot; is allowed)
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="560695">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1165560">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1165561">searchTemplate</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="1165565">reportAmbiguous</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>, <a title="Boolean" id="1165566">saveErrors</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560694" title="(qual: Typers.this.global.Tree)Boolean">isAdaptableWithView</a><span class="delimiter">(</span><a href="#1165560" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1165560" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#1166416" title="Any" id="1166418">et</a>: ExistentialType =&gt;
            <a href="#1165560" title="Typers.this.global.Tree">qual</a> <a href="#1166419" title="(x: Any)Any">setType</a> et.<a href="../../../reflect/internal/Types.scala.html#448583" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1165560" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> // open the existential
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
        <a href="#560630" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">inferView</a><a href="#1166452" title="Typers.this.global.Tree" class="delimiter">(</a><a href="#1165560" title="Typers.this.global.Tree">qual</a>, <a href="#1165560" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1165561" title="Typers.this.global.Type">searchTemplate</a>, <a href="#1165565" title="Boolean">reportAmbiguous</a>, <a href="#1165566" title="Boolean">saveErrors</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.Tree" id="1166454">EmptyTree</a>  =&gt; <a href="#1166455" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">qual</a>
          <span class="keyword">case</span> coercion   =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467418" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">logImplicitConv</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560819" title="(pos: Typers.this.global.Position, msg: String)Unit">echo</a><span class="delimiter">(</span><a href="#1165560" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
                <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;applied implicit conversion from %s to %s = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
                  <a href="#1165560" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1165561" title="Typers.this.global.Type">searchTemplate</a>, coercion.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443568" title="=&gt; String">defString</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#560773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyImplicitView)Typers.this.global.ApplyImplicitView">atPos</a><span class="delimiter">(</span><a href="#1165560" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../../../reflect/api/Trees.scala.html#23692" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span>coercion, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1165560" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#1165560" title="Typers.this.global.Tree">qual</a>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` to that it contains
     *  a method `name` which can be applied to arguments `args` with expected type `pt`.
     *  If `pt` is defined, there is a fallback to try again with pt = ?.
     *  This helps avoiding propagating result information too far and solves
     *  #1756.
     *  If no conversion is found, return `qual` unchanged.
     *
     */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="560696">adaptToArguments</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166463">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1166464">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="1166465">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="1166466">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="1166467">reportAmbiguous</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="Boolean" id="1166468">saveErrors</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(restpe: Typers.this.global.Type)Typers.this.global.Tree" id="1166470">doAdapt</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1166471">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        //util.trace(&quot;adaptToArgs &quot;+qual+&quot;, name = &quot;+name+&quot;, argtpes = &quot;+(args map (_.tpe))+&quot;, pt = &quot;+pt+&quot; = &quot;)
        <a href="#560695" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#1166463" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#1096430" title="(name: Typers.this.global.Name, argtpes: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">HasMethodMatching</a><span class="delimiter">(</span><a href="#1166464" title="Typers.this.global.Name">name</a>, <a href="#1166465" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1166491" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#1166471" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>, <a href="#1166467" title="Boolean">reportAmbiguous</a>, <a href="#1166468" title="Boolean">saveErrors</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166466" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1164815" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a title="Typers.this.Typer" id="1166528">_</a> =&gt; <a href="#1166470" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#1166466" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> SilentResultValue<a href="#1166541" title="Typers.this.global.Tree" id="1166543" class="delimiter">(</a>result<span class="delimiter">)</span> <span class="keyword">if</span> result <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1166463" title="Typers.this.global.Tree">qual</a> =&gt;
            <a href="#1166543" title="Typers.this.SilentResultValue[Typers.this.global.Tree]">result</a>
          <span class="keyword">case</span> _ =&gt;
            <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;fallback on implicits in adaptToArguments: &quot;)" class="string">&quot;fallback on implicits in adaptToArguments: &quot;</span><span title="(x$1: Any)String">+</span><a href="#1166463" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)String">+</span><span title="String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span title="(x$1: Any)String">+</span><a href="#1166464" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#1166470" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <a href="#1166470" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#1166466" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` so that it contains
     *  a method `name`. If that's ambiguous try taking arguments into
     *  account using `adaptToArguments`.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="560697">adaptToMemberWithArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166549">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1166550">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1166551">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a>, <a title="Int" id="1166552">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Boolean" id="1166553">reportAmbiguous</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="Boolean" id="1166554">saveErrors</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="1166556">onError</a><span class="delimiter">(</span><a title="=&gt; Typers.this.global.Tree" id="1166557">reportError</a>: =&gt; Tree<span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Apply<a href="#1166621" title="Typers.this.global.Tree" id="1166623" class="delimiter">(</a>tree1, args<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>tree1 <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1166549" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> args.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a> =&gt;
            <a href="#560686" title="(op: Typers.this.Typer =&gt; List[Typers.this.global.Tree], reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[List[Typers.this.global.Tree]]">silent</a><a href="#1166624" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1166569" title="Typers.this.Typer">_</a>.<a href="#560738" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span>args, <a href="#1166552" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> SilentResultValue<a href="#1166612" title="Typers.this.global.Tree" id="1166614" class="delimiter">(</a>xs<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1166601">args</a> = xs.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[Typers.this.global.Tree]" class="delimiter">[</span><a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166601" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#1166557" title="=&gt; Typers.this.global.Tree">reportError</a>
                <span class="keyword">else</span>
                  <a href="#560696" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#1166550" title="Typers.this.global.Tree">qual</a>, <a href="#1166551" title="Typers.this.global.Name">name</a>, <a href="#1166601" title="List[Typers.this.global.Tree]">args</a>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a>, <a href="#1166553" title="Boolean">reportAmbiguous</a>, <a href="#1166554" title="Boolean">saveErrors</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _            =&gt;
                <a href="#1166615" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">reportError</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#1166624" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">reportError</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1164811" title="=&gt; Typers.this.AbsTypeError" class="delimiter">(</a><a href="#1166634" title="Typers.this.Typer">_</a>.<a href="#560695" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#1166550" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#1096334" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#1166551" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> SilentResultValue<a href="#1166647" title="Typers.this.global.Tree" id="1166649" class="delimiter">(</a>res<span class="delimiter">)</span> =&gt; <a href="#1166652" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">res</a>
          <span class="keyword">case</span> SilentTypeError<a href="#1166647" title="Typers.this.global.Tree" id="1166651" class="delimiter">(</a>err<span class="delimiter">)</span> =&gt; <a href="#1166556" title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">onError</a><a href="#1166652" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166553" title="Boolean">reportAmbiguous</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560981" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span>err<span class="delimiter">)</span> <span class="delimiter">}</span>; <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1166549" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` to that it contains a
     *  member `name` of arbitrary type.
     *  If no conversion is found, return `qual` unchanged.
     */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="560698">adaptToName</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1165551">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1165552">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560685" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1165551" title="Typers.this.global.Tree">qual</a>, <a href="#1165552" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#1165551" title="Typers.this.global.Tree">qual</a>
      <span class="keyword">else</span> <a href="#560695" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#1165551" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#1096334" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#1165552" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree" id="560699">typePrimaryConstrBody</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1166657">clazz</a> : <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Tree" id="1166658">cbody</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Symbol]" id="1166659">tparams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Symbol]" id="1166660">enclTparams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[List[Typers.this.global.ValDef]]" id="1166661">vparamss</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      // XXX: see about using the class's symbol....
      <a href="#1166660" title="List[Typers.this.global.Symbol]">enclTparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1166682">sym</a> =&gt; <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#1166682" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085583" title="(vparamss: List[List[Typers.this.global.ValDef]])List[List[Typers.this.global.Symbol]]">enterValueParams</a><span class="delimiter">(</span><a href="#1166661" title="List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
      <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1166658" title="Typers.this.global.Tree">cbody</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Unit" id="560700">validateNoCaseAncestor</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1166695">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1166711">ancestor</a> &lt;- <a href="#1166695" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443501" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <a href="../../../Option.scala.html#63839" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">find</a> <span class="delimiter">(</span><a href="#1166706" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1166695" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <span class="delimiter">(</span>
            <span class="string">&quot;case %s has case ancestor %s, but case-to-case inheritance is prohibited.&quot;</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</a>
            <span class="string">&quot; To overcome this limitation, use extractors to pattern match on non-leaf nodes.&quot;</span>
          <span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1166695" title="Typers.this.global.Symbol">clazz</a>, <a href="#1166711" title="Typers.this.global.Symbol">ancestor</a>.<a href="../../../reflect/internal/Symbols.scala.html#443398" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, body: List[Typers.this.global.Tree])Unit" id="560701">validateDerivedValueClass</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1166718">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[Typers.this.global.Tree]" id="1166719">body</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
        <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;only classes (not traits) are allowed to extend AnyVal&quot;)" class="string">&quot;only classes (not traits) are allowed to extend AnyVal&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443356" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
        <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;value class may not be a &quot;)" class="string">&quot;value class may not be a &quot;</span><span title="(x$1: Any)String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span title="String(&quot;local class&quot;)" class="string">&quot;local class&quot;</span> <span class="keyword">else</span> <span title="String(&quot;member of another class&quot;)" class="string">&quot;member of another class&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1166722">constr</a> = <a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443482" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>
      <a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#447344" title="=&gt; List[Typers.this.global.Symbol]">toList</a>.<a href="../../../collection/TraversableLike.scala.html#58981" title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filter</a><a href="#1166788" title="List[Typers.this.global.Symbol]" class="delimiter">(</a><a title="Typers.this.global.Symbol" id="1166730">acc</a> =&gt; <a href="#1166730" title="Typers.this.global.Symbol">acc</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1166730" title="Typers.this.global.Symbol">acc</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(536870912L)">PARAMACCESSOR</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.Symbol]]" id="1166803">List</a><span class="delimiter">(</span>acc<span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="1166744">isUnderlyingAcc</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1166745">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <a href="#1166745" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> acc <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> acc.<a href="../../../reflect/internal/HasFlags.scala.html#443614" title="=&gt; Boolean">hasAccessorFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166745" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> acc.<a href="../../../reflect/internal/Symbols.scala.html#443488" title="=&gt; Typers.this.global.Symbol">accessed</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>acc.<a href="../../../reflect/internal/Symbols.scala.html#443414" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#1166718" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442142" title="Typers.this.global.definitions.RootClass.type">RootClass</a><span class="delimiter">)</span>
            <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>acc.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;value class needs to have a publicly accessible val parameter&quot;)" class="string">&quot;value class needs to have a publicly accessible val parameter&quot;</span><span class="delimiter">)</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166782">stat</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">body</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#561837" title="(stat: Typers.this.global.treeInfo.global.Tree)Boolean">isAllowedInUniversalTrait</a><span class="delimiter">(</span><a href="#1166782" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166744" title="(sym: Typers.this.global.Symbol)Boolean">isUnderlyingAcc</a><span class="delimiter">(</span><a href="#1166782" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1166782" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166782" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(536870912L)">PARAMACCESSOR</span><span class="delimiter">)</span> <span title="String(&quot;illegal parameter for value class&quot;)" class="string">&quot;illegal parameter for value class&quot;</span>
                <span class="keyword">else</span> <span title="String(&quot;this statement is not allowed in value class: &quot;)" class="string">&quot;this statement is not allowed in value class: &quot;</span><span title="(x$1: Any)String">+</span><a href="#1166782" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span class="keyword">case</span> x =&gt;
          <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><a href="#1166792" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;value class needs to have exactly one public val parameter&quot;)" class="string">&quot;value class needs to have exactly one public val parameter&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1166829">tparam</a> &lt;- <a href="#1166718" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166829" title="Typers.this.global.Symbol">tparam</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="Typers.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442677" title="=&gt; Typers.this.global.ClassSymbol">SpecializedClass</a><span class="delimiter">)</span>
          <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1166829" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;type parameter of value class may not be specialized&quot;)" class="string">&quot;type parameter of value class may not be specialized&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]" id="560702">parentTypes</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="1129037">templ</a>: <a href="../../../reflect/api/Trees.scala.html#23621" title="Typers.this.global.Template">Template</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1129037" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427394" title="=&gt; List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.TypeTree)Typers.this.global.TypeTree">atPos</a><span class="delimiter">(</span><a href="#1129037" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1166849">clazz</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
        // Normalize supertype and mixins so that supertype is always a class, not a trait.
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1166850">supertpt</a> = <a href="#560782" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#1129037" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427394" title="=&gt; List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree">head</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1166851">firstParent</a> = <a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="keyword">var</span> <a title="List[Typers.this.global.Tree]" id="1166852">mixins</a> = <a href="#1129037" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427394" title="=&gt; List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Tree]">tail</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <a href="#560777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a>
        // If first parent is a trait, make it first mixin and add its superclass as first parent
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#1166857" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1166926">supertpt1</a> = <a href="#560777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">supertpt1</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1166852" title="List[Typers.this.global.Tree]">mixins</a> = <a href="#1166926" title="Typers.this.global.Tree">supertpt1</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1166852" title="List[Typers.this.global.Tree]">mixins</a>
            <a href="#1166850" title="Typers.this.global.Tree">supertpt</a> = <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1166926" title="Typers.this.global.Tree">supertpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441996" title="=&gt; Typers.this.global.Type">firstParent</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166851" title="Typers.this.global.Symbol">firstParent</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
          <a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>

        // Determine
        //  - supertparams: Missing type parameters from supertype
        //  - supertpe: Given supertype, polymorphic in supertparams
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1166853">supertparams</a> = <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="keyword">else</span> List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="1166854">supertpe</a> = <a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#1166854" title="Typers.this.global.Type">supertpe</a> = <a href="../../../reflect/internal/Types.scala.html#448443" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="../../../reflect/internal/Types.scala.html#441377" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#1166854" title="Typers.this.global.Type">supertpe</a>, <a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1166984" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443426" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // A method to replace a super reference by a New in a supercall
        <span class="keyword">def</span> <a title="(scall: Typers.this.global.Tree)Typers.this.global.Tree" id="1166855">transformSuperCall</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1167012">scall</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">(</span><a href="#1167012" title="Typers.this.global.Tree">scall</a>: @<a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Apply<a href="#1167123" title="Typers.this.global.Tree" id="1167125" class="delimiter">(</a>fn, args<span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><a href="#1167137" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1167012" title="Typers.this.global.Tree">scall</a>, <a href="#1166855" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span>fn<span class="delimiter">)</span>, args <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#1167038" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; x$21.type">duplicate</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> Select<a href="#1167123" title="Typers.this.global.Tree" id="1167129" class="delimiter">(</a>Super<a title="Typers.this.global.Tree" id="1167133" class="delimiter">(</a>_, _<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="Typers.this.global.Tree" id="1167136">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428315" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><a href="#1167137" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>
              <a href="#1167012" title="Typers.this.global.Tree">scall</a>,
              <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.New)Typers.this.global.New">atPos</a><span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427851" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1166854" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</a> <a href="#1166854" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span>,
              <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501486" title="(stats: List[Typers.this.global.treeInfo.global.Tree])Typers.this.global.treeInfo.global.Tree">firstConstructor</a><a href="../../../reflect/api/Trees.scala.html#427506" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a href="#1129037" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427398" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> constr @ DefDef<a href="#1167562" title="Any" id="1167568" class="delimiter">(</a>_, _, _, vparamss, _, cbody @ Block<a title="Any" id="1167570" class="delimiter">(</a>cstats, cunit<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            // Convert constructor body to block in environment and typecheck it
            <span class="keyword">val</span> <a href="#1167294" title="(x: (List[Typers.this.global.Tree], Typers.this.global.Tree))(List[Typers.this.global.Tree], Typers.this.global.Tree)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[Typers.this.global.Tree]" id="1167192">preSuperStats</a>, <a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.Tree" id="1167193">superCall</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#1222" title="(List[Typers.this.global.Tree], Typers.this.global.Tree) @unchecked" class="delimiter">{</a>
              <span class="keyword">val</span> <a href="#1167222" title="(x: (List[Typers.this.global.Tree], List[Typers.this.global.Tree]))(List[Typers.this.global.Tree], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[Typers.this.global.Tree]" id="1167201">stats</a>, <a href="../../../Tuple2.scala.html#61508" title="List[Typers.this.global.Tree]" id="1167202">rest</a><span class="delimiter">)</span> = cstats <a href="../../../collection/immutable/List.scala.html#63673" title="(p: Typers.this.global.Tree =&gt; Boolean)(List[Typers.this.global.Tree], List[Typers.this.global.Tree])">span</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1167208">x</a> =&gt; <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501483" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSuperConstrCall</a><span class="delimiter">(</span><a href="#1167208" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#63804" title="(_1: List[Typers.this.global.Tree], _2: Typers.this.global.Tree)(List[Typers.this.global.Tree], Typers.this.global.Tree)" class="delimiter">(</a><a href="#1167201" title="List[Typers.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#1167246" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; x$23.type">duplicate</a><span class="delimiter">)</span>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167202" title="List[Typers.this.global.Tree]">rest</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a> <span class="keyword">else</span> <a href="#1167202" title="List[Typers.this.global.Tree]">rest</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree">head</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; Typers.this.global.Tree">duplicate</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1167194">cstats1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167193" title="Typers.this.global.Tree">superCall</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="#1167192" title="List[Typers.this.global.Tree]">preSuperStats</a> <span class="keyword">else</span> <a href="#1167192" title="List[Typers.this.global.Tree]">preSuperStats</a> <a href="../../../collection/SeqLike.scala.html#59810" title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</a> <a href="#1167193" title="Typers.this.global.Tree">superCall</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Block" id="1167195">cbody1</a> = <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428293" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span>cbody, <a href="#1167192" title="List[Typers.this.global.Tree]">preSuperStats</a>, <a href="#1167193" title="Typers.this.global.Tree">superCall</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Apply<a href="#1167354" title="Typers.this.global.Tree" id="1167358" class="delimiter">(</a>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a> =&gt; <a href="#1166855" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><a href="#1167359" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1167193" title="Typers.this.global.Tree">superCall</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _                                    =&gt; cunit.<a href="#1167359" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">duplicate</a>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="1167196">outercontext</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a>

            <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1166849" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#1129037" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="1167197">cscope</a> = <a href="#1167196" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span>constr, <a href="#1167196" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1167198">cbody2</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1167197" title="Typers.this.Context">cscope</a><span class="delimiter">)</span> // called both during completion AND typing.
                .<a href="#560699" title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree">typePrimaryConstrBody</a><span class="delimiter">(</span><a href="#1166849" title="Typers.this.global.Symbol">clazz</a>,
                  <a href="#1167195" title="Typers.this.global.Block">cbody1</a>, <a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="#1166849" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443446" title="=&gt; List[Typers.this.global.Symbol]">unsafeTypeParams</a>, vparamss <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Typers.this.global.ValDef]],List[Typers.this.global.ValDef],List[List[Typers.this.global.ValDef]]])List[List[Typers.this.global.ValDef]]">map</a> <span class="delimiter">(</span><a href="#1167389" title="List[Typers.this.global.ValDef]">_</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.ValDef,List[Typers.this.global.ValDef]]" class="delimiter">(</a><a href="#1167406" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; x$26.type">duplicate</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#1167193" title="Typers.this.global.Tree">superCall</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Apply<a href="#1167495" title="Unit" id="1167499" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.treeInfo.global.Tree" id="1167476">sarg</a> = <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501517" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">firstArgument</a><span class="delimiter">(</span><a href="#1167193" title="Typers.this.global.Tree">superCall</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167476" title="Typers.this.global.treeInfo.global.Tree">sarg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1166854" title="Typers.this.global.Type">supertpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1166851" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span>
                  <a href="ContextErrors.scala.html#562521" title="(arg: Typers.this.global.Tree, parent: Typers.this.global.Symbol)Unit">ConstrArgsInTraitParentTpeError</a><span class="delimiter">(</span><a href="#1167476" title="Typers.this.global.treeInfo.global.Tree">sarg</a>, <a href="#1166851" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
                  <a href="#1166850" title="Typers.this.global.Tree">supertpt</a> = <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1167198" title="Typers.this.global.Tree">cbody2</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#1166850" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>
              <span class="keyword">case</span> _ =&gt;
                <a href="#1167500" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
                  <a href="ContextErrors.scala.html#562522" title="(supertpt: Typers.this.global.Tree)Unit">MissingTypeArgumentsParentTpeError</a><span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="List[Typers.this.global.treeInfo.global.ValDef]" id="1167199">preSuperVals</a> = <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501488" title="(stats: List[Typers.this.global.treeInfo.global.Tree])List[Typers.this.global.treeInfo.global.ValDef]">preSuperFields</a><span class="delimiter">(</span><a href="#1129037" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427398" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167199" title="List[Typers.this.global.treeInfo.global.ValDef]">preSuperVals</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1167192" title="List[Typers.this.global.Tree]">preSuperStats</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#559539" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;Wanted to zip empty presuper val list with &quot;)" class="string">&quot;Wanted to zip empty presuper val list with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1167192" title="List[Typers.this.global.Tree]">preSuperStats</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="../../../reflect/internal/util/Collections.scala.html#440665" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.treeInfo.global.ValDef])(f: (Typers.this.global.Tree, Typers.this.global.treeInfo.global.ValDef) =&gt; Unit)List[Unit]">map2</a><span class="delimiter">(</span><a href="#1167192" title="List[Typers.this.global.Tree]">preSuperStats</a>, <a href="#1167199" title="List[Typers.this.global.treeInfo.global.ValDef]">preSuperVals</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1167533">ldef</a>, <a title="Typers.this.global.treeInfo.global.ValDef" id="1167534">gdef</a><span class="delimiter">)</span> =&gt; <a href="#1167534" title="Typers.this.global.treeInfo.global.ValDef">gdef</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.treeInfo.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.treeInfo.global.Type)Unit">tpe</a> = <a href="#1167533" title="Typers.this.global.Tree">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

          <span class="keyword">case</span> _ =&gt;
            <a href="#1167571" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1166853" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#562522" title="(supertpt: Typers.this.global.Tree)Unit">MissingTypeArgumentsParentTpeError</a><span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
/* experimental: early types as type arguments
        val hasEarlyTypes = templ.body exists (treeInfo.isEarlyTypeDef)
        val earlyMap = new EarlyMap(clazz)
        List.mapConserve(supertpt :: mixins){ tpt =&gt;
          val tpt1 = checkNoEscaping.privates(clazz, tpt)
          if (hasEarlyTypes) tpt1 else tpt1 setType earlyMap(tpt1.tpe)
        }
*/

        //Console.println(&quot;parents(&quot;+clazz&quot;) = &quot;+supertpt :: mixins);//DEBUG

        // Certain parents are added in the parser before it is known whether
        // that class also declared them as parents.  For instance, this is an
        // error unless we take corrective action here:
        //
        //   case class Foo() extends Serializable
        //
        // So we strip the duplicates before typer.
        <span class="keyword">def</span> <a title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="1166856">fixDuplicates</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1167576">remaining</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#1167576" title="List[Typers.this.global.Tree]">remaining</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11552" title="List[Typers.this.global.Tree]" id="1167614">Nil</a>      =&gt; <a href="#1167615" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">Nil</a>
          <span class="keyword">case</span> x <a href="#1167611" title="List[Typers.this.global.Tree]" id="1167613">::</a> xs  =&gt;
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1167583">sym</a> = x.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
            x <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1166856" title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">fixDuplicates</a><span class="delimiter">(</span>
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: Typers.this.global.Symbol)Boolean">isPossibleSyntheticParent</a><span class="delimiter">(</span><a href="#1167583" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> xs <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: Typers.this.global.Tree =&gt; Boolean)List[Typers.this.global.Tree]">filterNot</a> <span class="delimiter">(</span><a href="#1167599" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1167583" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="keyword">else</span> xs
            <span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#1166856" title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">fixDuplicates</a><span class="delimiter">(</span><a href="#1166850" title="Typers.this.global.Tree">supertpt</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1166852" title="List[Typers.this.global.Tree]">mixins</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1167635">tpt</a> =&gt; <a href="#560653" title="Typer.this.checkNoEscaping.type">checkNoEscaping</a>.<a href="#1163846" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#1166849" title="Typers.this.global.Symbol">clazz</a>, <a href="#1167635" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="List[Typers.this.global.TypeTree]" id="1167642">ex</a>: <a href="../../../reflect/internal/Types.scala.html#441578" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          // fallback in case of cyclic errors
          // @H none of the tests enter here but I couldn't rule it out
          <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Type error calculating parents in template &quot;)" class="string">&quot;Type error calculating parents in template &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1129037" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Error: &quot;)" class="string">&quot;Error: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1167642" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#562520" title="(templ: Typers.this.global.Template, ex: Typers.this.global.TypeError)Unit">ParentTypesError</a><span class="delimiter">(</span><a href="#1129037" title="Typers.this.global.Template">templ</a>, <a href="#1167642" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** &lt;p&gt;Check that&lt;/p&gt;
     *  &lt;ul&gt;
     *    &lt;li&gt;all parents are class types,&lt;/li&gt;
     *    &lt;li&gt;first parent class is not a mixin; following classes are mixins,&lt;/li&gt;
     *    &lt;li&gt;final classes are not inherited,&lt;/li&gt;
     *    &lt;li&gt;
     *      sealed classes are only inherited by classes which are
     *      nested within definition of base class, or that occur within same
     *      statement sequence,
     *    &lt;/li&gt;
     *    &lt;li&gt;self-type of current class is a subtype of self-type of each parent class.&lt;/li&gt;
     *    &lt;li&gt;no two parents define same symbol.&lt;/li&gt;
     *  &lt;/ul&gt;
     */
    <span class="keyword">def</span> <a title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit" id="560703">validateParentClasses</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1167655">parents</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="1167656">selfType</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" id="1167658">pending</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit" id="1167659">validateParentClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1167661">parent</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="1167662">superclazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">parent</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1167665">psym</a> = <a href="#1167661" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>
          <a href="#560647" title="(tpt: Typers.this.global.Tree)Boolean">checkStablePrefixClassType</a><span class="delimiter">(</span><a href="#1167661" title="Typers.this.global.Tree">parent</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167665" title="Typers.this.global.Symbol">psym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1167662" title="Typers.this.global.Symbol">superclazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167665" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1167671">ps</a> = <a href="#1167665" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1167671" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1167662" title="Typers.this.global.Symbol">superclazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#1167671" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#1167658" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a> <a href="ContextErrors.scala.html#562593" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol, parentSym: Typers.this.global.Symbol, mixin: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentSuperSubclassError</a><span class="delimiter">(</span><a href="#1167661" title="Typers.this.global.Tree">parent</a>, <a href="#1167662" title="Typers.this.global.Symbol">superclazz</a>, <a href="#1167671" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#1167665" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#1167658" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a> <a href="ContextErrors.scala.html#562594" title="(parent: Typers.this.global.Tree, mixin: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentNotATraitMixinError</a><span class="delimiter">(</span><a href="#1167661" title="Typers.this.global.Tree">parent</a>, <a href="#1167665" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167665" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443591" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
            <a href="#1167658" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a> <a href="ContextErrors.scala.html#562595" title="(parent: Typers.this.global.Tree, mixin: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentFinalInheritanceError</a><span class="delimiter">(</span><a href="#1167661" title="Typers.this.global.Tree">parent</a>, <a href="#1167665" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167665" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443607" title="=&gt; Boolean">isSealed</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1167665" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a><span class="delimiter">)</span>
              <a href="#1167665" title="Typers.this.global.Symbol">psym</a> <a href="../../../reflect/internal/Symbols.scala.html#443456" title="(sym: Typers.this.global.Symbol)Unit">addChild</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="keyword">else</span>
              <a href="#1167658" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a> <a href="ContextErrors.scala.html#562596" title="(parent: Typers.this.global.Tree, psym: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentSealedInheritanceError</a><span class="delimiter">(</span><a href="#1167661" title="Typers.this.global.Tree">parent</a>, <a href="#1167665" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1167656" title="Typers.this.global.Type">selfType</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1167661" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441992" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443598" title="=&gt; Boolean">isSynthetic</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>   // don't check synthetic concrete classes for virtuals (part of DEVIRTUALIZE)
              <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467578" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noSelfCheck</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>  // setting to suppress this very check
              <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1167656" title="Typers.this.global.Type">selfType</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1167661" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <span class="delimiter">{</span>
            //Console.println(context.owner);//DEBUG
            //Console.println(context.owner.unsafeTypeParams);//DEBUG
            //Console.println(List.fromArray(context.owner.info.closure));//DEBUG
            <a href="#1167658" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a> <a href="ContextErrors.scala.html#562597" title="(parent: Typers.this.global.Tree, selfType: Typers.this.global.Type)Typers.this.NormalTypeError">ParentSelfTypeConformanceError</a><span class="delimiter">(</span><a href="#1167661" title="Typers.this.global.Tree">parent</a>, <a href="#1167656" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#467662" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#562631" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1167656" title="Typers.this.global.Type">selfType</a>, <a href="#1167661" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441992" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167655" title="List[Typers.this.global.Tree]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1167749">p</a> =&gt; <a href="#1167749" title="Typers.this.global.Tree">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1167661" title="Typers.this.global.Tree">parent</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1167749" title="Typers.this.global.Tree">p</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1167665" title="Typers.this.global.Symbol">psym</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1167665" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443317" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1167658" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a> <a href="ContextErrors.scala.html#562598" title="(parent: Typers.this.global.Tree, parentSym: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentInheritedTwiceError</a><span class="delimiter">(</span><a href="#1167661" title="Typers.this.global.Tree">parent</a>, <a href="#1167665" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1167655" title="List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1167655" title="List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76169" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1167792">p</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#1167659" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit">validateParentClass</a><span class="delimiter">(</span><a href="#1167792" title="Typers.this.global.Tree">p</a>, <a href="#1167655" title="List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree">head</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

/*
      if (settings.Xshowcls.value != &quot;&quot; &amp;&amp;
          settings.Xshowcls.value == context.owner.fullName)
        println(&quot;INFO &quot;+context.owner+
                &quot;, baseclasses = &quot;+(context.owner.info.baseClasses map (_.fullName))+
                &quot;, lin = &quot;+(context.owner.info.baseClasses map (context.owner.thisType.baseType)))
*/
      <a href="#1167658" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: Typers.this.AbsTypeError =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#560578" title="Typers.this.ErrorUtils.type">ErrorUtils</a>.<a href="ContextErrors.scala.html#1082968" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(classinfo: Typers.this.global.ClassInfoType)Unit" id="560704">checkFinitary</a><span class="delimiter">(</span><a title="Typers.this.global.ClassInfoType" id="1167818">classinfo</a>: <a href="../../../reflect/internal/Types.scala.html#441285" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1167820">clazz</a> = <a href="#1167818" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#453485" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1167842">tparam</a> &lt;- <a href="#1167820" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167818" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#453499" title="(tparam: Typers.this.global.Symbol)Set[Typers.this.global.Symbol]">expansiveRefs</a><span class="delimiter">(</span><a href="#1167842" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#71318" title="(elem: Typers.this.global.Symbol)Boolean">contains</a> <a href="#1167842" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ClassInfoType" id="1167848">newinfo</a> = <a href="../../../reflect/internal/Types.scala.html#453477" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="#1167818" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#453481" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1167871" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#442014" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1167842" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="#1167818" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#453483" title="=&gt; Typers.this.global.Scope">decls</a>,
            <a href="#1167820" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <a href="#1167820" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)clazz.type">setInfo</a> <span class="delimiter">{</span>
            <a href="#1167820" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> PolyType<a href="#1167920" title="Typers.this.global.Type" id="1167923" class="delimiter">(</a>tparams, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#448443" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><a href="#1167924" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a>tparams, <a href="#1167848" title="Typers.this.global.ClassInfoType">newinfo</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt; <a href="#1167924" title="(x: Typers.this.global.Type)Typers.this.global.Type">newinfo</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="ContextErrors.scala.html#562610" title="(tparam: Typers.this.global.Symbol)Unit">FinitaryError</a><span class="delimiter">(</span><a href="#1167842" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param cdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree" id="560705">typedClassDef</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="1167931">cdef</a>: <a href="../../../reflect/api/Trees.scala.html#23584" title="Typers.this.global.ClassDef">ClassDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
//      attributes(cdef)
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1167933">clazz</a> = <a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="1167934">typedMods</a> = <a href="#560712" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427375" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1167933" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#1167931" title="Typers.this.global.ClassDef">cdef</a><span class="delimiter">)</span>
      <a href="#560656" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427379" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="1167935">tparams1</a> = <a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427379" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</a> <span class="delimiter">(</span><a href="#560718" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="1167936">impl1</a> = <a href="#560668" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Template)Typers.this.global.Template">typerReportAnyContextErrors</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560971" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427381" title="=&gt; Typers.this.global.Template">impl</a>, <a href="#1167933" title="Typers.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Typers.this.global.Scope">newScope</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1167976" title="Typers.this.Typer">_</a>.<a href="#560711" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427381" title="=&gt; Typers.this.global.Template">impl</a>, <a href="#560702" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427381" title="=&gt; Typers.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="1167937">impl2</a> = <a href="#560707" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">finishMethodSynthesis</a><span class="delimiter">(</span><a href="#1167936" title="Typers.this.global.Template">impl1</a>, <a href="#1167933" title="Typers.this.global.Symbol">clazz</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167933" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443249" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1167933" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1167933" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441996" title="=&gt; Typers.this.global.Type">firstParent</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1168010">stat</a> &lt;- <a href="#1167937" title="Typers.this.global.Template">impl2</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">body</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#561837" title="(stat: Typers.this.global.treeInfo.global.Tree)Boolean">isAllowedInUniversalTrait</a><span class="delimiter">(</span><a href="#1168010" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1168010" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;this statement is not allowed in universal trait extending from class Any: &quot;)" class="string">&quot;this statement is not allowed in universal trait extending from class Any: &quot;</span><span title="(x$1: Any)String">+</span><a href="#1168010" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1167933" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442631" title="=&gt; Typers.this.global.ClassSymbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#1167933" title="Typers.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#443468" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442631" title="=&gt; Typers.this.global.ClassSymbol">ClassfileAnnotationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="TypeDiagnostics.scala.html#560518" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionWarning</a><span class="delimiter">(</span><a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>,
          <span class="string">&quot;subclassing Classfile does not\n&quot;</span>+
          <span class="string">&quot;make your annotation visible at runtime.  If that is what\n&quot;</span><span title="String(&quot;subclassing Classfile does not\nmake your annotation visible at runtime.  If that is what\nyou want, you must write the annotation class in Java.&quot;)">+</span>
          <span class="string">&quot;you want, you must write the annotation class in Java.&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="1168025">ann</a> &lt;- <a href="#1167933" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442127" title="(cls: Typers.this.global.Symbol)Option[Typers.this.global.AnnotationInfo]">getAnnotation</a><a href="../../../Option.scala.html#63839" title="(f: Typers.this.global.AnnotationInfo =&gt; Any)Unit" class="delimiter">(</a><a href="../../../reflect/internal/Definitions.scala.html#442663" title="=&gt; Typers.this.global.ClassSymbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1168026">m</a> = <a href="Namers.scala.html#560128" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#1167933" title="Typers.this.global.Symbol">clazz</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168026" title="Typers.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#1168026" title="Typers.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; Typers.this.global.Symbol">moduleClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443464" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Symbol">addAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#443059" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#1168025" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443791" title="=&gt; Typers.this.global.Type">atp</a>, <a href="#1168025" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443792" title="=&gt; List[Typers.this.global.Tree]">args</a>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428284" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], impl: Typers.this.global.Template)Typers.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>, <a href="#1167934" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#1167931" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427377" title="=&gt; Typers.this.global.TypeName">name</a>, <a href="#1167935" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#1167937" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span>
        .<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.ClassDef">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     *  @param mdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree" id="560706">typedModuleDef</a><span class="delimiter">(</span><a title="Typers.this.global.ModuleDef" id="1168072">mdef</a>: <a href="../../../reflect/api/Trees.scala.html#23588" title="Typers.this.global.ModuleDef">ModuleDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      // initialize all constructors of the linked class: the type completer (Namer.methodSig)
      // might add default getters to this object. example: &quot;object T; class T(x: Int = 1)&quot;
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1168074">linkedClass</a> = <a href="Namers.scala.html#560128" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168074" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#1168074" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442020" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1168106" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; x$33.type">initialize</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1168075">clazz</a>     = <a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; Typers.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="1168076">typedMods</a> = <a href="#560712" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/api/Trees.scala.html#427806" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1168075" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="1168077">impl1</a> = <a href="#560668" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Template)Typers.this.global.Template">typerReportAnyContextErrors</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560971" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/api/Trees.scala.html#427810" title="=&gt; Typers.this.global.Template">impl</a>, <a href="#1168075" title="Typers.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Typers.this.global.Scope">newScope</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1168127" title="Typers.this.Typer">_</a>.<a href="#560711" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/api/Trees.scala.html#427810" title="=&gt; Typers.this.global.Template">impl</a>, <span class="delimiter">{</span>
          <a href="#560702" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/api/Trees.scala.html#427810" title="=&gt; Typers.this.global.Template">impl</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63655" title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</a> <span class="delimiter">(</span>
            <span title="List[Typers.this.global.TypeTree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168074" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1168074" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443336" title="=&gt; Boolean">isSerializable</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1168075" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443336" title="=&gt; Boolean">isSerializable</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#1168075" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443453" title="()Unit">makeSerializable</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442285" title="=&gt; Typers.this.global.ClassSymbol">SerializableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#1168075" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="1168078">impl2</a>  = <a href="#560707" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">finishMethodSynthesis</a><span class="delimiter">(</span><a href="#1168077" title="Typers.this.global.Template">impl1</a>, <a href="#1168075" title="Typers.this.global.Symbol">clazz</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>

      <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428286" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, impl: Typers.this.global.Template)Typers.this.global.ModuleDef">ModuleDef</a><span class="delimiter">(</span><a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>, <a href="#1168076" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#1168072" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/api/Trees.scala.html#427808" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#1168078" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.ModuleDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a>
    <span class="delimiter">}</span>
    /** In order to override this in the TreeCheckers Typer so synthetics aren't re-added
     *  all the time, it is exposed here the module/class typing methods go through it.
     *  ...but it turns out it's also the ideal spot for namer/typer coordination for
     *  the tricky method synthesis scenarios, so we'll make it that.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template" id="560707">finishMethodSynthesis</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="1157149">templ</a>: <a href="../../../reflect/api/Trees.scala.html#23621" title="Typers.this.global.Template">Template</a>, <a title="Typers.this.global.Symbol" id="1157150">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.Context" id="1157151">context</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23621" title="Typers.this.global.Template">Template</a> = <span class="delimiter">{</span>
      <a href="SyntheticMethods.scala.html#560342" title="(templ: Typers.this.global.Template, clazz0: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">addSyntheticMethods</a><span class="delimiter">(</span><a href="#1157149" title="Typers.this.global.Template">templ</a>, <a href="#1157150" title="Typers.this.global.Symbol">clazz</a>, <a href="#1157151" title="Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    /** For flatMapping a list of trees when you want the DocDefs and Annotated
     *  to be transparent.
     */
    <span class="keyword">def</span> <a title="(f: Typers.this.global.Tree =&gt; List[Typers.this.global.Tree])Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]" id="560708">rewrappingWrapperTrees</a><span class="delimiter">(</span><a title="Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]" id="1168215">f</a>: Tree =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: Tree =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[Typers.this.global.Tree,List[Typers.this.global.Tree]] with Serializable" id="1168218" class="delimiter">{</a>
      <span class="keyword">case</span> dd @ DocDef<a href="#1168338" title="List[Typers.this.global.Tree]" id="1168340" class="delimiter">(</a>comment, defn<span class="delimiter">)</span> =&gt; <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span>defn<span class="delimiter">)</span> <a href="#1168343" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1168245">stat</a> =&gt; <a href="../ast/Trees.scala.html#664337" title="(comment: Typers.this.global.DocComment, definition: Typers.this.global.Tree)Typers.this.global.DocDef">DocDef</a><span class="delimiter">(</span>comment, <a href="#1168245" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.DocDef">setPos</a> dd.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Annotated<a href="#1168338" title="List[Typers.this.global.Tree]" id="1168342" class="delimiter">(</a>annot, defn<span class="delimiter">)</span>     =&gt; <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span>defn<span class="delimiter">)</span> <a href="#1168343" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1168304">stat</a> =&gt; <a href="../../../reflect/api/Trees.scala.html#433446" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><span class="delimiter">(</span>annot, <a href="#1168304" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> tree                       =&gt; <a href="../../../Function1.scala.html#59555" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><a href="#1168343" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" class="delimiter">(</a>tree<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit" id="560709">enterSyms</a><span class="delimiter">(</span><a title="Typers.this.Context" id="1168355">txt</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a>, <a title="List[Typers.this.global.Tree]" id="1168356">trees</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.Context" id="1168359">txt0</a> = <a href="#1168355" title="Typers.this.Context">txt</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1168379">tree</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span> <a href="#1168359" title="Typers.this.Context">txt0</a> = <a href="#560710" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#1168359" title="Typers.this.Context">txt0</a>, <a href="#1168379" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context" id="560710">enterSym</a><span class="delimiter">(</span><a title="Typers.this.Context" id="1093825">txt</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Tree" id="1093826">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a> =
      <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><a href="#1093825" title="Typers.this.Context">txt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085605" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#1093826" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="Namers.scala.html#560112" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#1093825" title="Typers.this.Context">txt</a><span class="delimiter">)</span>.<a href="Namers.scala.html#1085605" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#1093826" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    /**
     *  @param templ    ...
     *  @param parents1 ...
     *    &lt;li&gt; &lt;!-- 2 --&gt;
     *      Check that inner classes do not inherit from Annotation
     *    &lt;/li&gt;
     *  @return         ...
     */
    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template" id="560711">typedTemplate</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="1167977">templ</a>: <a href="../../../reflect/api/Trees.scala.html#23621" title="Typers.this.global.Template">Template</a>, <a title="List[Typers.this.global.Tree]" id="1167978">parents1</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23621" title="Typers.this.global.Template">Template</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1168382">clazz</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="1168383">annots</a> = <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443459" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1167977" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#1167977" title="Typers.this.global.Template">templ</a> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)templ.type">setSymbol</a> <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443176" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#1167977" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="1168384">self1</a> = <a href="#1167977" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427396" title="=&gt; Typers.this.global.ValDef">self</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> vd @ ValDef<span class="delimiter">(</span>_, _, tpt, <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.ValDef" id="1168446">EmptyTree</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="1168415">tpt1</a> = <a href="#560653" title="Typer.this.checkNoEscaping.type">checkNoEscaping</a>.<a href="#1163846" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.TypeTree)Typers.this.global.TypeTree">privates</a><span class="delimiter">(</span>
            <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443483" title="=&gt; Typers.this.global.Symbol">thisSym</a>,
            <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428319" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span>tpt<span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#428891" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span>tpt<span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</a> vd.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">)</span>
          <a href="Analyzer.scala.html#560057" title="=&gt; scala.tools.nsc.Global">copyValDef</a><a href="../../../reflect/api/Trees.scala.html#436087" title="Typers.this.global.Modifiers" id="1168436" class="delimiter">(</a><a title="Typers.this.global.ValDef" id="1168430">vd</a><span class="delimiter">)</span><span class="delimiter">(</span>tpt = <a href="#1168415" title="Typers.this.global.TypeTree" id="1168433">tpt1</a>, rhs = <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type" id="1168434">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a>
      <span class="delimiter">}</span>
      // was:
      //          val tpt1 = checkNoEscaping.privates(clazz.thisSym, typedType(tpt))
      //          treeCopy.ValDef(vd, mods, name, tpt1, EmptyTree) setType NoType
      // but this leads to cycles for existential self types ==&gt; #2545
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168384" title="Typers.this.global.ValDef">self1</a>.<a href="../../../reflect/api/Trees.scala.html#427471" title="=&gt; Typers.this.global.TermName">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>
        <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#1168384" title="Typers.this.global.ValDef">self1</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1168385">selfType</a> = <span class="delimiter">(</span>
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443240" title="=&gt; Boolean">isAnonymousClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Types.scala.html#441375" title="(tps: List[Typers.this.global.Type], owner: Typers.this.global.Symbol)Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a>, <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443484" title="=&gt; Typers.this.global.Type">typeOfThis</a>
      <span class="delimiter">)</span>
      // the following is necessary for templates generated later
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Scopes.scala.html#441634" title="Typers.this.global.EmptyScope.type">EmptyScope</a>, <a href="#1168382" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <a href="#560709" title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a>.<a href="Contexts.scala.html#560971" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#1167977" title="Typers.this.global.Template">templ</a>, <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>, <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#1167977" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427398" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span>
      <a href="#560703" title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit">validateParentClasses</a><span class="delimiter">(</span><a href="#1167978" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#1168385" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443590" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span>
        <a href="#560700" title="(clazz: Typers.this.global.Symbol)Unit">validateNoCaseAncestor</a><span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442631" title="=&gt; Typers.this.global.ClassSymbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
        <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;inner classes cannot be classfile annotations&quot;)" class="string">&quot;inner classes cannot be classfile annotations&quot;</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#441980" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> // @S: prevent crash for duplicated type members
        <a href="#560704" title="(classinfo: Typers.this.global.ClassInfoType)Unit">checkFinitary</a><span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.ClassInfoType" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441285" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">]</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1168386">body</a> =
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../Global.scala.html#559481" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#467867" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#1167977" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427398" title="=&gt; List[Typers.this.global.Tree]">body</a>
        <span class="keyword">else</span> <a href="#1167977" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427398" title="=&gt; List[Typers.this.global.Tree]">body</a> <a href="../../../collection/TraversableLike.scala.html#58976" title="(f: Typers.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">flatMap</a> <a href="#560708" title="(f: Typers.this.global.Tree =&gt; List[Typers.this.global.Tree])Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]">rewrappingWrapperTrees</a><span class="delimiter">(</span><a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="MethodSynthesis.scala.html#1085529" title="(typer: Typers.this.Typer, stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addDerivedTrees</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#1168510" title="Typers.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1168387">body1</a> = <a href="#560736" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#1168386" title="List[Typers.this.global.Tree]">body</a>, <a href="#1167977" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443321" title="=&gt; Boolean">isDerivedValueClass</a><span class="delimiter">)</span>
        <a href="#560701" title="(clazz: Typers.this.global.Symbol, body: List[Typers.this.global.Tree])Unit">validateDerivedValueClass</a><span class="delimiter">(</span><a href="#1168382" title="Typers.this.global.Symbol">clazz</a>, <a href="#1168387" title="List[Typers.this.global.Tree]">body1</a><span class="delimiter">)</span>

      <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428292" title="(tree: Typers.this.global.Tree, parents: List[Typers.this.global.Tree], self: Typers.this.global.ValDef, body: List[Typers.this.global.Tree])Typers.this.global.Template">Template</a><span class="delimiter">(</span><a href="#1167977" title="Typers.this.global.Template">templ</a>, <a href="#1167978" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#1168384" title="Typers.this.global.ValDef">self1</a>, <a href="#1168387" title="List[Typers.this.global.Tree]">body1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Template">setType</a> <a href="#1168382" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    /** Remove definition annotations from modifiers (they have been saved
     *  into the symbol's ``annotations'' in the type completer / namer)
     *
     *  However reification does need annotation definitions to proceed.
     *  Unfortunately, AnnotationInfo doesn't provide enough info to reify it in general case.
     *  The biggest problem is with the &quot;atp: Type&quot; field, which cannot be reified in some situations
     *  that involve locally defined annotations. See more about that in Reifiers.scala.
     *
     *  That's why the original tree gets saved into ``original'' field of AnnotationInfo (happens elsewhere).
     *  The field doesn't get pickled/unpickled and exists only during a single compilation run.
     *  This simultaneously allows us to reify annotations and to preserve backward compatibility.
     */
    <span class="keyword">def</span> <a title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers" id="560712">typedModifiers</a><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="1167938">mods</a>: <a href="../../../reflect/internal/Trees.scala.html#441805" title="Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#441805" title="Typers.this.global.Modifiers">Modifiers</a> =
      <a href="#1167938" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/Trees.scala.html#511308" title="Long" id="1168555">copy</a><span class="delimiter">(</span>annotations = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" id="1168553">Nil</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#471507" title="(poss: scala.collection.immutable.Map[Long,scala.tools.nsc.util.Position])Typers.this.global.Modifiers">setPositions</a> <a href="#1167938" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/Trees.scala.html#471504" title="=&gt; Map[Long,Typers.this.global.Position]">positions</a>

    /**
     *  @param vdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef" id="560713">typedValDef</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="985304">vdef</a>: <a href="../../../reflect/api/Trees.scala.html#23593" title="Typers.this.global.ValDef">ValDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23593" title="Typers.this.global.ValDef">ValDef</a> = <span class="delimiter">{</span>
//      attributes(vdef)
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1168560">sym</a> = <a href="#985304" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <span class="keyword">val</span> <a title="Typers.this.Typer" id="1168561">typer1</a> = <a href="#560658" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443630" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="1168562">typedMods</a> = <a href="#560712" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#427469" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>

      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="1168563">annots</a> = <a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443459" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1168564">tpt1</a> = <a href="#560653" title="Typer.this.checkNoEscaping.type">checkNoEscaping</a>.<a href="#1163846" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#1168560" title="Typers.this.global.Symbol">sym</a>, <a href="#1168561" title="Typers.this.Typer">typer1</a>.<a href="#560777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#560651" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a>, <a href="#1168564" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#441641" title="Typers.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442685" title="=&gt; Typers.this.global.ClassSymbol">VolatileAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443594" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#562540" title="(vdef: Typers.this.global.Tree)Unit">VolatileValueError</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443591" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#562541" title="(vdef: Typers.this.global.Tree)Unit">FinalVolatileVarError</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1168565">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#427475" title="=&gt; Typers.this.global.Tree">rhs</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443276" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span>
            <a href="ContextErrors.scala.html#562542" title="(vdef: Typers.this.global.Tree)Unit">LocalVarUninitializedError</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>
          <a href="#985304" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#427475" title="=&gt; Typers.this.global.Tree">rhs</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1168587">tpt2</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443277" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // When typechecking default parameter, replace all type parameters in the expected type by Wildcard.
            // This allows defining &quot;def foo[T](a: T = 1)&quot;
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1168588">tparams</a> = <a href="#1168560" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443330" title="=&gt; Typers.this.global.Symbol">skipConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="Typers.this.global.SubstTypeMap" id="1168589">subst</a> = <a href="#1168591" title="Typers.this.global.SubstTypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#441447" title="anonymous class $anon extends Typers.this.global.SubstTypeMap" id="1168591">SubstTypeMap</a><span class="delimiter">(</span><a href="#1168588" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1168588" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1168621">_</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean" id="1168593">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1168594">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="1168595">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168594" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443234" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#1168593" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#1168594" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443531" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, <a href="#1168595" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168595" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443234" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#1168593" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#1168594" title="Typers.this.global.Symbol">sym</a>, <a href="#1168595" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443531" title="=&gt; Typers.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#1168591" title="Typers.this.global.SubstTypeMap" class="keyword">super</a><span class="delimiter">[</span>SubstTypeMap<span class="delimiter">]</span>.<a href="../../../reflect/internal/Types.scala.html#513529" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#1168594" title="Typers.this.global.Symbol">sym</a>, <a href="#1168595" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            // allow defaults on by-name parameters
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168560" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(65536L)">BYNAMEPARAM</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168564" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a> // during erasure tpt1 is Function0
              <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#513532" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1168564" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76165" title="(n: Int)Typers.this.global.Type">typeArgs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#513532" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1168564" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1168564" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
          <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1168561" title="Typers.this.Typer">typer1</a>.<a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560974" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a>, <a href="#1168560" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#560786" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#427475" title="=&gt; Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#1168587" title="Typers.this.global.Type">tpt2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428287" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#985304" title="Typers.this.global.ValDef">vdef</a>, <a href="#1168562" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#985304" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/api/Trees.scala.html#427471" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#1168564" title="Typers.this.global.Tree">tpt1</a>, <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#1168565" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a>
    <span class="delimiter">}</span>

    /** Enter all aliases of local parameter accessors.
     *
     *  @param clazz    ...
     *  @param vparamss ...
     *  @param rhs      ...
     */
    <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit" id="560714">computeParamAliases</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1168726">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[List[Typers.this.global.ValDef]]" id="1168727">vparamss</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Typers.this.global.Tree" id="1168728">rhs</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;computing param aliases for &quot;)" class="string">&quot;computing param aliases for &quot;</span><span title="(x$1: Any)String">+</span><a href="#1168726" title="Typers.this.global.Symbol">clazz</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1168726" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443482" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1168728" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>//debug
      <span class="keyword">def</span> <a title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="1168730">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1168735">call</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a>Tree, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1168735" title="Typers.this.global.Tree">call</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Apply<a href="#1168901" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="1168903" class="delimiter">(</a>fn, args<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="#1168759" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1168743">superConstr</a>, <a href="../../../Tuple2.scala.html#61508" title="List[Typers.this.global.Tree]" id="1168744">args1</a><span class="delimiter">)</span> = <a href="#1168730" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</a>fn<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1168745">params</a> = fn.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Typers.this.global.Symbol]">params</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1168746">args2</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168745" title="List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#442310" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#1168745" title="List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; Typers.this.global.Symbol">last</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> args
                      <span class="keyword">else</span> args.<a href="../../../collection/immutable/List.scala.html#63666" title="(n: Int)List[Typers.this.global.Tree]">take</a><span class="delimiter">(</span><a href="#1168745" title="List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#59810" title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</a> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
          <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1168746" title="List[Typers.this.global.Tree]">args2</a>, <a href="#1168745" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>, <span title="String(&quot;mismatch &quot;)" class="string">&quot;mismatch &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1168726" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#1168745" title="List[Typers.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</a> <span class="delimiter">(</span><a href="#1168839" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1168746" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>//debug
          <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#1168743" title="Typers.this.global.Tree">superConstr</a>, <a href="#1168744" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/immutable/List.scala.html#63646" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#1168746" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Block<a href="#1168901" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="1168905" class="delimiter">(</a>stats, expr<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>stats.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> =&gt;
          <a href="#1168730" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><a href="#1168906" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a>stats.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; Typers.this.global.Tree">last</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#1168906" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#1168735" title="Typers.this.global.Tree">call</a>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a href="#1168924" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1168732">superConstr</a>, <a href="../../../Tuple2.scala.html#61508" title="List[Typers.this.global.Tree]" id="1168733">superArgs</a><span class="delimiter">)</span> = <a href="#1168730" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</a><a href="#1168728" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1168732" title="Typers.this.global.Tree">superConstr</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>, <a href="#1168732" title="Typers.this.global.Tree">superConstr</a><span class="delimiter">)</span>//debug

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" id="1168734">pending</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      // an object cannot be allowed to pass a reference to itself to a superconstructor
      // because of initialization issues; bug #473
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1168951">arg</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">superArgs</a> ; <a title="Typers.this.global.Tree" id="1168954">tree</a> &lt;- <a href="../../../reflect/api/Trees.scala.html#425074" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1168955">sym</a> = <a href="#1168954" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168955" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1168955" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442068" title="=&gt; List[Typers.this.global.Symbol]">baseClasses</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1168726" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168955" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
            <a href="#1168734" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a>  <a href="ContextErrors.scala.html#562538" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">SuperConstrReferenceError</a><span class="delimiter">(</span><a href="#1168954" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="#1168954" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> This<a href="#1168987" title="Unit" id="1168989" class="delimiter">(</a>qual<span class="delimiter">)</span> =&gt;
              <a href="#1168734" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="#1168990" title="(x: Unit)Unit">+=</a> <a href="ContextErrors.scala.html#562539" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">SuperConstrArgsThisReferenceError</a><span class="delimiter">(</span><a href="#1168954" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt; <a href="#1168990" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1168732" title="Typers.this.global.Tree">superConstr</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443350" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1168996">superClazz</a> = <a href="#1168732" title="Typers.this.global.Tree">superConstr</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1168996" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1168998">superParamAccessors</a> = <a href="#1168996" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443487" title="=&gt; List[Typers.this.global.Symbol]">constrParamAccessors</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1168998" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#1168733" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>superAcc, superArg @ Ident<a title="Boolean" id="1169170" class="delimiter">(</a>name<span class="delimiter">)</span><span class="delimiter">)</span> &lt;- <a href="#1168998" title="List[Typers.this.global.Symbol]">superParamAccessors</a> <a href="../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: ((Typers.this.global.Symbol, Typers.this.global.Tree)) =&gt; Any)Unit" id="1169059">zip</a> <a href="#1168733" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1169171" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#1168727" title="List[List[Typers.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: List[Typers.this.global.ValDef] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1169105" title="List[Typers.this.global.ValDef]">_</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1169112" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> superArg.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1169118">alias</a> = superAcc.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>.<a href="../../../reflect/internal/Symbols.scala.html#443493" title="=&gt; Typers.this.global.Symbol">alias</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169118" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                  <a href="#1169118" title="Typers.this.global.Symbol">alias</a> = superAcc.<a href="../../../reflect/internal/Symbols.scala.html#443525" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span>superAcc.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169118" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <a href="#1168996" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442029" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#1169118" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1169118" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <a href="#1169118" title="Typers.this.global.Symbol">alias</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169118" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1169147">ownAcc</a> = <a href="#1168726" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442020" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span>name<span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443474" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#1169153" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443602" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1169147" title="Typers.this.global.Symbol">ownAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169147" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
                    <a href="#1169147" title="Typers.this.global.Symbol">ownAcc</a> = <a href="#1169147" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#443488" title="=&gt; Typers.this.global.Symbol">accessed</a>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169147" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#443276" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169118" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#443488" title="=&gt; Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#443276" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1169147" title="Typers.this.global.Symbol">ownAcc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has alias &quot;)" class="string">&quot; has alias &quot;</span><span title="(x$1: Any)String">+</span><a href="#1169118" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#443562" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span> //debug
                    <a href="#1169147" title="Typers.this.global.Symbol">ownAcc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441133" title="Typers.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../../../reflect/internal/Symbols.scala.html#449084" title="(alias: Typers.this.global.Symbol)Typers.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#1169118" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#1168734" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: Typers.this.AbsTypeError =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#560578" title="Typers.this.ErrorUtils.type">ErrorUtils</a>.<a href="ContextErrors.scala.html#1082968" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check if a structurally defined method violates implementation restrictions.
     *  A method cannot be called if it is a non-private member of a refinement type
     *  and if its parameter's types are any of:
     *    - the self-type of the refinement
     *    - a type member of the refinement
     *    - an abstract type declared outside of the refinement.
     */
    <span class="keyword">def</span> <a title="(meth: Typers.this.global.Symbol)Unit" id="560715">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1169207">meth</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(msg: String)Unit" id="1169209">fail</a><span class="delimiter">(</span><a title="String" id="1169211">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560820" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1169207" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1169211" title="String">msg</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1169210">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="#1169207" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> mt @ MethodType<a href="#1169221" title="Typers.this.global.Type" id="1169225" class="delimiter">(</a>_, _<span class="delimiter">)</span>     =&gt; <a href="#1169231" title="(x: Typers.this.global.Type)Typers.this.global.Type">mt</a>
        <span class="keyword">case</span> NullaryMethodType<a href="#1169221" title="Typers.this.global.Type" id="1169227" class="delimiter">(</a>restpe<span class="delimiter">)</span> =&gt; <a href="#1169231" title="(x: Typers.this.global.Type)Typers.this.global.Type">restpe</a>  // TODO_NMT: drop NullaryMethodType from resultType?
        <span class="keyword">case</span> PolyType<a href="#1169221" title="Typers.this.global.Type" id="1169230" class="delimiter">(</a>_, restpe<span class="delimiter">)</span>       =&gt; <a href="#1169231" title="(x: Typers.this.global.Type)Typers.this.global.Type">restpe</a>
        <span class="keyword">case</span> _                         =&gt; <a href="#1169231" title="(x: Typers.this.global.Type)Typers.this.global.Type">NoType</a>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="1169259">paramType</a> &lt;- <a href="#1169210" title="Typers.this.global.Type">tp</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Type =&gt; Unit)Unit">paramTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1169260">sym</a> = <a href="#1169259" title="Typers.this.global.Type">paramType</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169260" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169260" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443385" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#1169207" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1169209" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169260" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443385" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#1169207" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1169209" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169259" title="Typers.this.global.Type">paramType</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441260" title="Typers.this.global.ThisType">ThisType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1169260" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1169207" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <a href="#1169209" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(useCase: Typers.this.global.UseCase)Unit" id="560716">typedUseCase</a><span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="1169267">useCase</a>: <a href="../ast/DocComments.scala.html#559926" title="Typers.this.global.UseCase">UseCase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(str: String)Typers.this.global.syntaxAnalyzer.Parser" id="1169269">stringParser</a><span class="delimiter">(</span><a title="String" id="1169273">str</a>: <span title="String">String</span><span class="delimiter">)</span>: syntaxAnalyzer.<a href="../ast/parser/Parsers.scala.html#641880" title="Typers.this.global.syntaxAnalyzer.Parser">Parser</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.BatchSourceFile" id="1169274">file</a> = <a href="#1169276" title="scala.tools.nsc.util.BatchSourceFile" class="keyword">new</a> <a href="../util/SourceFile.scala.html#51315" title="anonymous class $anon extends scala.tools.nsc.util.BatchSourceFile" id="1169276">BatchSourceFile</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="../../../LowPriorityImplicits.scala.html#8362" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString">str</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)scala.tools.nsc.util.Position" id="1169278">positionInUltimateSource</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="1169279">pos</a>: <a href="../util/Position.scala.html#52230" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="#1169279" title="Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445368" title="(source: scala.tools.nsc.util.SourceFile, shift: Int)scala.tools.nsc.util.Position">withSource</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#1169267" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669863" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445358" title="=&gt; Int">start</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.CompilationUnit" id="1169275">unit</a> = <span title="Typers.this.global.CompilationUnit" class="keyword">new</span> <a href="../CompilationUnits.scala.html#559797" title="Typers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">(</span><a href="#1169274" title="scala.tools.nsc.util.BatchSourceFile">file</a><span class="delimiter">)</span>
        <a href="../ast/parser/Parsers.scala.html#655858" title="(unit: Typers.this.global.syntaxAnalyzer.global.CompilationUnit)Typers.this.global.syntaxAnalyzer.UnitParser" class="keyword">new</a> <a href="../Global.scala.html#559583" title="Typers.this.global.syntaxAnalyzer.type">syntaxAnalyzer</a>.<a href="../ast/parser/Parsers.scala.html#641870" title="Typers.this.global.syntaxAnalyzer.UnitParser">UnitParser</a><span class="delimiter">(</span><a href="#1169275" title="Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.syntaxAnalyzer.global.Tree]" id="1169270">trees</a> = <a href="#1169269" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#1169267" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669861" title="=&gt; String">body</a><span title="(x$1: Any)String">+</span><span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#655798" title="=&gt; List[Typers.this.global.syntaxAnalyzer.global.Tree]">nonLocalDefOrDcl</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1169271">enclClass</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Any" id="1169272">defineAlias</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="1169308">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447340" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#1169308" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/DocComments.scala.html#559921" title="(vble: String, site: Typers.this.global.Symbol)Option[String]">lookupVariable</a><a href="../../../Option.scala.html#64115" title="=&gt; String" class="delimiter">(</a><a href="#1169308" title="Typers.this.global.Name">name</a>.<a href="../../../Function1.scala.html#59562" title="()String">toString</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#1169271" title="Typers.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Some<a href="#1169421" title="Any" id="1169422" class="delimiter">(</a>repl<span class="delimiter">)</span> =&gt;
              <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1169423" title="(x: Any)Any" class="delimiter">(</a><a href="#1169326" title="Typers.this.Typer">_</a>.<a href="#560782" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#1169269" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span>repl<span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#655762" title="()Typers.this.global.syntaxAnalyzer.global.Tree">typ</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> SilentResultValue<a href="#1169412" title="Any" id="1169414" class="delimiter">(</a>tpt<span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.AliasTypeSymbol" id="1169336">alias</a> = <a href="#1169271" title="Typers.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443192" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.AliasTypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="#1169308" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#444127" title="=&gt; Typers.this.global.TypeName">toTypeName</a>, <a href="#1169267" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669863" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1169337">tparams</a> = <a href="../../../reflect/internal/Symbols.scala.html#441158" title="(syms: List[Typers.this.global.Symbol], owner: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">cloneSymbolsAtOwner</a><span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#1169336" title="Typers.this.global.AliasTypeSymbol">alias</a><span class="delimiter">)</span>
                  <a href="#1169336" title="Typers.this.global.AliasTypeSymbol">alias</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)alias.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#441385" title="(tps: List[Typers.this.global.Symbol], body: Typers.this.global.Type)Typers.this.global.Type">typeFun</a><span class="delimiter">(</span><a href="#1169337" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#441377" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1169337" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1169373" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.AliasTypeSymbol)Typers.this.global.AliasTypeSymbol">enter</a><span class="delimiter">(</span><a href="#1169336" title="Typers.this.global.AliasTypeSymbol">alias</a><span class="delimiter">)</span>
                <span class="keyword">case</span> _ =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="1169447">tree</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">trees</a>; t &lt;- <a href="../../../reflect/api/Trees.scala.html#425074" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">tree</a><span class="delimiter">)</span>
        <a href="#1169452" title="Typers.this.global.syntaxAnalyzer.global.Tree">t</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Ident<a href="#1169465" title="Unit" id="1169467" class="delimiter">(</a>name<span class="delimiter">)</span> <span class="keyword">if</span> name <a href="../../../reflect/internal/Names.scala.html#444156" title="(char: Char)Boolean">startsWith</a> <span title="Char('$')" class="char">'$'</span> =&gt; <a href="#1169272" title="(name: Typers.this.global.Name)Any">defineAlias</a><a href="#1169468" title="(x: Unit)Unit" class="delimiter">(</a>name<span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
      <a href="#1169267" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669870" title="(x$1: List[Typers.this.global.Symbol])Unit">aliases</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447344" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
      <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085619" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#1169270" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a><span class="delimiter">)</span>
      <a href="#560736" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#1169270" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a>, <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#1169267" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669867" title="(x$1: List[Typers.this.global.Symbol])Unit">defined</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447344" title="=&gt; List[Typers.this.global.Symbol]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58982" title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filterNot</a> <span class="delimiter">(</span><a href="#1169267" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669869" title="=&gt; List[Typers.this.global.Symbol]">aliases</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1169490" title="Typers.this.global.Symbol">_</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#1169267" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669866" title="=&gt; List[Typers.this.global.Symbol]">defined</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1169516">sym</a> =&gt; <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;defined use cases: %s:%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1169516" title="Typers.this.global.Symbol">sym</a>, <a href="#1169516" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     *  @param ddef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef" id="560717">typedDefDef</a><span class="delimiter">(</span><a title="Typers.this.global.DefDef" id="1169524">ddef</a>: <a href="../../../reflect/api/Trees.scala.html#23598" title="Typers.this.global.DefDef">DefDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23598" title="Typers.this.global.DefDef">DefDef</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1169526">meth</a> = <a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>

      <a href="#560656" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427500" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <a href="#560655" title="(vparamss: List[List[Typers.this.global.ValDef]])Unit">reenterValueParams</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427502" title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>

      // for `val` and `var` parameter, look at `target` meta-annotation
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443350" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="1169554">vparams</a> &lt;- <a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a>; <a title="Typers.this.global.ValDef" id="1169574">vd</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169574" title="Typers.this.global.ValDef">vd</a>.<a href="../../../reflect/api/Trees.scala.html#427469" title="=&gt; Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443602" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="MethodSynthesis.scala.html#1085554" title="(tree: Typers.this.global.ValDef)Unit">validateParam</a><span class="delimiter">(</span><a href="#1169574" title="Typers.this.global.ValDef">vd</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="1169527">tparams1</a> = <a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427500" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</a> <a href="#560718" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="List[List[Typers.this.global.ValDef]]" id="1169528">vparamss1</a> = <a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427502" title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])List[List[Typers.this.global.ValDef]]">mapConserve</a> <span class="delimiter">(</span><a href="#1169592" title="List[Typers.this.global.ValDef]">_</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</a> <a href="#560713" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>

      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="1169529">annots</a> = <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443459" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="1169621">vparams1</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="1169647">vparam1</a> &lt;- <a href="#1169621" title="List[Typers.this.global.ValDef]">vparams1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">dropRight</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442310" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#1169647" title="Typers.this.global.ValDef">vparam1</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#562534" title="(param: Typers.this.global.Tree)Unit">StarParamNotLastError</a><span class="delimiter">(</span><a href="#1169647" title="Typers.this.global.ValDef">vparam1</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1169530">tpt1</a> = <a href="#560653" title="Typer.this.checkNoEscaping.type">checkNoEscaping</a>.<a href="#1163846" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a>, <a href="#560777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427504" title="=&gt; Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#560651" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>, <a href="#1169530" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427504" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)ddef.tpt.type">setType</a><span class="delimiter">(</span><a href="#1169530" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="1169531">typedMods</a> = <a href="#560712" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427496" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1169532">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427498" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443619" title="=&gt; Boolean">hasStaticFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span> // need this to make it possible to generate static ctors
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443350" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
               <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443245" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
               <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443239" title="=&gt; Boolean">isAnonOrRefinementClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="ContextErrors.scala.html#562536" title="(ddef: Typers.this.global.Tree)Unit">InvalidConstructorDefError</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>
          <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427506" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // typechecking macro bodies is sort of unconventional
          // that's why we employ our custom typing scheme orchestrated outside of the typer
          <a href="#560785" title="(tree: Typers.this.global.Tree, op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">transformedOr</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427506" title="=&gt; Typers.this.global.Tree">rhs</a>, <a href="Macros.scala.html#560429" title="(typer: Typers.this.Typer, ddef: Typers.this.global.DefDef)Typers.this.global.Tree">typedMacroBody</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a>, <a href="#1169524" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#560786" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427506" title="=&gt; Typers.this.global.Tree">rhs</a>, <span title="Int(1)">EXPRmode</span>, <a href="#1169530" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443350" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443264" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559481" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#467867" title="=&gt; Boolean">hasErrors</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443469" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442184" title="=&gt; Typers.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // At this point in AnyVal there is no supercall, which will blow up
          // in computeParamAliases; there's nothing to be computed for Anyval anyway.
          <a href="#560714" title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit">computeParamAliases</a><span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1169528" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#1169532" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169530" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Typers.this.global.definitions.NothingClass.type">NothingClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560895" title="=&gt; Boolean">returnsSeen</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1169532" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Typers.this.global.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span>
        <a href="#1169532" title="Typers.this.global.Tree">rhs1</a> = <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#1169532" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443448" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1169708">ps</a> =&gt; <a href="#1169708" title="List[Typers.this.global.Symbol]">ps</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1169715" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443277" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442310" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#1169708" title="List[Typers.this.global.Symbol]">ps</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; Typers.this.global.Symbol">last</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#562535" title="(meth: Typers.this.global.Symbol)Unit">StarWithDefaultError</a><span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1169717">allParams</a> = <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443448" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#59386" title="(implicit asTraversable: List[Typers.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">flatten</a>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1169775">p</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">allParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TermName" id="1169780">n</a> &lt;- <a href="#1169775" title="Typers.this.global.Symbol">p</a>.<a href="../../../Option.scala.html#63839" title="(f: Typers.this.global.TermName =&gt; Unit)Unit">deprecatedParamName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169717" title="List[Typers.this.global.Symbol]">allParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1169787">p1</a> =&gt; <a href="#1169787" title="Typers.this.global.Symbol">p1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; p1.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1169780" title="Typers.this.global.TermName">n</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1169775" title="Typers.this.global.Symbol">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1169787" title="Typers.this.global.Symbol">p1</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1169787" title="Typers.this.global.Symbol">p1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443341" title="=&gt; Option[Typers.this.global.TermName]">deprecatedParamName</a>.<a href="../../../Option.scala.html#63837" title="(p: Typers.this.global.TermName =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1169799" title="Typers.this.global.TermName">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1169780" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#562537" title="(param: Typers.this.global.Symbol, name: Typers.this.global.Name)Unit">DeprecatedParamNameError</a><span class="delimiter">(</span><a href="#1169775" title="Typers.this.global.Symbol">p</a>, <a href="#1169780" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443369" title="=&gt; Boolean">isStructuralRefinementMember</a><span class="delimiter">)</span>
        <a href="#560715" title="(meth: Typers.this.global.Symbol)Unit">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443592" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443598" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442008" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.Symbol]]" id="1169851">List</a><span class="delimiter">(</span>param<span class="delimiter">)</span> <a href="#1169833" title="AnyVal" id="1169836">::</a> _ <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>param.<a href="../../../reflect/internal/HasFlags.scala.html#443592" title="=&gt; Boolean">isImplicit</a> =&gt;
          <a href="#560689" title="(pos: Typers.this.global.Position, featureTrait: Typers.this.global.Symbol, construct: =&gt; String, immediate: Boolean)Boolean">checkFeature</a><a href="#1169840" title="(x: AnyVal)AnyVal" class="delimiter">(</a><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Definitions.scala.html#442719" title="=&gt; Typers.this.global.Symbol">ImplicitConversionsFeature</a>, <a href="#1169526" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#443559" title="()String">toString</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
      <span class="delimiter">}</span>

      <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428288" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], vparamss: List[List[Typers.this.global.ValDef]], tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1169524" title="Typers.this.global.DefDef">ddef</a>, <a href="#1169531" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#1169524" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427498" title="=&gt; Typers.this.global.Name">name</a>, <a href="#1169527" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#1169528" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#1169530" title="Typers.this.global.Tree">tpt1</a>, <a href="#1169532" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.DefDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="560718">typedTypeDef</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="1167952">tdef</a>: <a href="../../../reflect/api/Trees.scala.html#23606" title="Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23606" title="Typers.this.global.TypeDef">TypeDef</a> =
      <a href="#560662" title="(c: =&gt; Typers.this.Context)(cond: Boolean)(f: Typers.this.Typer =&gt; Typers.this.global.TypeDef)Typers.this.global.TypeDef">typerWithCondLocalContext</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#1167952" title="Typers.this.global.TypeDef">tdef</a>, <a href="#1167952" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1167952" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427438" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span><span class="delimiter">{</span>
        <a href="#1169875" title="Typers.this.Typer">_</a>.<a href="#560719" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef0</a><span class="delimiter">(</span><a href="#1167952" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    // call typedTypeDef instead
    // a TypeDef with type parameters must always be type checked in a new scope
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="560719">typedTypeDef0</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="1169876">tdef</a>: <a href="../../../reflect/api/Trees.scala.html#23606" title="Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23606" title="Typers.this.global.TypeDef">TypeDef</a> = <span class="delimiter">{</span>
      <a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <a href="#560656" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427438" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="1169881">tparams1</a> = <a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427438" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</a> <a href="#560718" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="1169882">typedMods</a> = <a href="#560712" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427434" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="1169883">annots</a> = <a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443459" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      // @specialized should not be pickled when compiling with -no-specialize
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467392" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561353" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442128" title="(cls: Typers.this.global.Symbol)Typers.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#441641" title="Typers.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442677" title="=&gt; Typers.this.global.ClassSymbol">SpecializedClass</a><span class="delimiter">)</span>
        <a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443531" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442128" title="(cls: Typers.this.global.Symbol)Typers.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#441641" title="Typers.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442677" title="=&gt; Typers.this.global.ClassSymbol">SpecializedClass</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1169884">rhs1</a> = <a href="#560653" title="Typer.this.checkNoEscaping.type">checkNoEscaping</a>.<a href="#1163846" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#560777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427440" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#560650" title="(sym: Typers.this.global.Symbol)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443230" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
        <a href="#1169884" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> TypeBounds<a href="#1169928" title="Unit" id="1169930" class="delimiter">(</a>lo1, hi1<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span>lo1 <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> hi1<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="ContextErrors.scala.html#562527" title="(tree: Typers.this.global.TypeDef, lowB: Typers.this.global.Type, highB: Typers.this.global.Type)Unit">LowerBoundError</a><a href="#1169931" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>, lo1, hi1<span class="delimiter">)</span>
          <span class="keyword">case</span> _                                        =&gt; <a href="#1169931" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443608" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441972" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
        <a href="#560689" title="(pos: Typers.this.global.Position, featureTrait: Typers.this.global.Symbol, construct: =&gt; String, immediate: Boolean)Boolean">checkFeature</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Definitions.scala.html#442721" title="=&gt; Typers.this.global.Symbol">HigherKindsFeature</a><span class="delimiter">)</span>

      <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428289" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], rhs: Typers.this.global.Tree)Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">(</span><a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>, <a href="#1169882" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#1169876" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/api/Trees.scala.html#427436" title="=&gt; Typers.this.global.TypeName">name</a>, <a href="#1169881" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#1169884" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.TypeDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Unit" id="560720">enterLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1164274">stat</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1164274" title="Typers.this.global.Tree">stat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ldef @ LabelDef<a href="#1169995" title="Unit" id="1170000" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#1170001" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span>ldef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            ldef.<a href="../../../reflect/api/Trees.scala.html#427233" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085603" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
              <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443178" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span>ldef.<a href="../../../reflect/api/Trees.scala.html#427725" title="=&gt; Typers.this.global.TermName">name</a>, ldef.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef" id="560721">typedLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="1170006">ldef</a>: <a href="../../../reflect/api/Trees.scala.html#23611" title="Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23611" title="Typers.this.global.LabelDef">LabelDef</a> = <span class="delimiter">{</span>
      <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446228" title="(name: Typers.this.global.Name)Boolean">isLoopHeaderLabel</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1170013">restpe</a> = <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1170014">rhs1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427729" title="=&gt; Typers.this.global.Tree">rhs</a>, <a href="#1170013" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427727" title="=&gt; List[Typers.this.global.Ident]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="1170040">param</a> =&gt; <a href="#1170040" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1170040" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="../../../reflect/api/Trees.scala.html#23759" title="(ldef: Typers.this.global.Tree)(applyToRhs: Typers.this.global.Tree =&gt; Typers.this.global.Tree)Typers.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1170046">_</a> =&gt; <a href="#1170014" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</a> <a href="#1170013" title="Typers.this.global.Type">restpe</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1170050">initpe</a> = <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1170051">rhs1</a> = <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427729" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1170052">restpe</a> = <a href="#1170051" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
        <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#1170052" title="Typers.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1170050" title="Typers.this.global.Type">initpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> // stable result, no need to check again
          <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427727" title="=&gt; List[Typers.this.global.Ident]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="1170074">param</a> =&gt; <a href="#1170074" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1170074" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428290" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>, <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427725" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427727" title="=&gt; List[Typers.this.global.Ident]">params</a>, <a href="#1170051" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</a> <a href="#1170052" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447339" title="(sym: Typers.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1170081">sym2</a> = <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085603" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
            <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443178" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427725" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#1170052" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1170082">rhs2</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#559852" title="(x: Typers.this.global.Tree, leaveAlone: Typers.this.global.Tree =&gt; Boolean)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427729" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>, <a href="#1170052" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
          <a href="#1170006" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/api/Trees.scala.html#427727" title="=&gt; List[Typers.this.global.Ident]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="1170123">param</a> =&gt; <a href="#1170123" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1170123" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23759" title="(ldef: Typers.this.global.Tree)(applyToRhs: Typers.this.global.Tree =&gt; Typers.this.global.Tree)Typers.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#1170006" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1170127">_</a> =&gt; <a href="#1170082" title="Typers.this.global.Tree">rhs2</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)Typers.this.global.LabelDef">setSymbol</a> <a href="#1170081" title="Typers.this.global.Symbol">sym2</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</a> <a href="#1170052" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param block ...
     *  @param mode  ...
     *  @param pt    ...
     *  @return      ...
     */
    <span class="keyword">def</span> <a title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block" id="560722">typedBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Block" id="1170131">block</a>: <a href="../../../reflect/api/Trees.scala.html#23624" title="Typers.this.global.Block">Block</a>, <a title="Int" id="1170132">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1170133">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23624" title="Typers.this.global.Block">Block</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="1170135">syntheticPrivates</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085619" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#1170131" title="Typers.this.global.Block">block</a>.<a href="../../../reflect/api/Trees.scala.html#427287" title="=&gt; List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1170157">stat</a> &lt;- <a href="#1170131" title="Typers.this.global.Block">block</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <a href="#560720" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#1170157" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440600" title="(period: Typers.this.global.Period)Int">phaseId</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440602" title="=&gt; Typers.this.global.Period">currentPeriod</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57912" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561319" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // This is very tricky stuff, because we are navigating the Skylla and Charybdis of
          // anonymous classes and what to return from them here. On the one hand, we cannot admit
          // every non-private member of an anonymous class as a part of the structural type of the
          // enclosing block. This runs afoul of the restriction that a structural type may not
          // refer to an enclosing type parameter or abstract types (which in turn is necessitated
          // by what can be done in Java reflection). On the other hand, making every term member
          // private conflicts with private escape checking - see ticket #3174 for an example.
          //
          // The cleanest way forward is if we would find a way to suppress structural type checking
          // for these members and maybe defer type errors to the places where members are called.
          // But that would be a big refactoring and also a big departure from existing code. The
          // probably safest fix for 2.8 is to keep members of an anonymous class that are not
          // mentioned in a parent type private (as before) but to disable escape checking for code
          // that's in the same anonymous class. That's what's done here.
          //
          // We really should go back and think hard whether we find a better way to address the
          // problem of escaping idents on the one hand and well-formed structural types on the
          // other.
          <a href="#1170131" title="Typers.this.global.Block">block</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Block<span class="delimiter">(</span><a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.Tree]]" id="1170365">List</a><span class="delimiter">(</span>classDef @ ClassDef<a title="Any" id="1170342" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span>, Apply<a title="Any" id="1170346" class="delimiter">(</a>Select<a title="Any" id="1170350" class="delimiter">(</a>New<a title="Any" id="1170353" class="delimiter">(</a>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="1170208">classDecls</a> = classDef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1170209">visibleMembers</a> = <a href="#1170133" title="Typers.this.global.Type">pt</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="List[Typers.this.global.Symbol]" id="1170223">WildcardType</a>                           =&gt; <a href="#1170208" title="Typers.this.global.Scope">classDecls</a>.<a href="#1170224" title="(x: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">toList</a>
                <span class="keyword">case</span> BoundedWildcardType<a href="#1170217" title="List[Typers.this.global.Symbol]" id="1170221" class="delimiter">(</a>TypeBounds<span class="delimiter">(</span>lo, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; lo.<a href="#1170224" title="(x: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">members</a>
                <span class="keyword">case</span> _                                      =&gt; <a href="#1170133" title="Typers.this.global.Type">pt</a>.<a href="#1170224" title="(x: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">members</a>
              <span class="delimiter">}</span>
              <span class="keyword">def</span> <a title="(member: Typers.this.global.Symbol)Boolean" id="1170210">matchesVisibleMember</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1170233">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1170209" title="List[Typers.this.global.Symbol]">visibleMembers</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="1170240">vis</a> =&gt;
                <span class="delimiter">(</span><a href="#1170233" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; member.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1170240" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; vis.NameType">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1170233" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1170240" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442044" title="(from: Typers.this.global.Symbol, to: Typers.this.global.Symbol)Typers.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#1170240" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>, classDef.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              // The block is an anonymous class definitions/instantiation pair
              //   -&gt; members that are hidden by the type of the block are made private
              <span class="keyword">val</span> <a title="Iterable[Typers.this.global.Symbol]" id="1170211">toHide</a> = <span class="delimiter">(</span>
                <a href="#1170208" title="Typers.this.global.Scope">classDecls</a> <a href="../../../reflect/internal/Scopes.scala.html#447350" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1170262">member</a> =&gt;
                     <a href="#1170262" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a>
                  <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1170262" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443370" title="=&gt; Boolean">isPossibleInRefinement</a>
                  <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1170262" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443606" title="=&gt; Boolean">isPublic</a>
                  <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1170210" title="(member: Typers.this.global.Symbol)Boolean">matchesVisibleMember</a><span class="delimiter">(</span><a href="#1170262" title="Typers.this.global.Symbol">member</a><span class="delimiter">)</span>
                <span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Typers.this.global.Symbol],Typers.this.global.Symbol,Iterable[Typers.this.global.Symbol]])Iterable[Typers.this.global.Symbol]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1170282">member</a> =&gt; <a href="#1170282" title="Typers.this.global.Symbol">member</a>
                  <a href="../../../reflect/internal/Symbols.scala.html#443306" title="(mask: Long)member.type">resetFlag</a> <span class="delimiter">(</span>PROTECTED <span title="Long(524289L)">|</span> LOCAL<span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Symbols.scala.html#443305" title="(mask: Long)member.type">setFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(274877906948L)">|</span> SYNTHETIC_PRIVATE<span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Symbols.scala.html#443419" title="(sym: Typers.this.global.Symbol)member.type">setPrivateWithin</a> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
                <span class="delimiter">)</span>
              <span class="delimiter">)</span>
              <a href="#1170135" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67857" title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])syntheticPrivates.type">++=</a> <a href="#1170211" title="Iterable[Typers.this.global.Symbol]">toHide</a>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1170136">stats1</a> = <a href="#560736" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#1170131" title="Typers.this.global.Block">block</a>.<a href="../../../reflect/api/Trees.scala.html#427287" title="=&gt; List[Typers.this.global.Tree]">stats</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1170137">expr1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1170131" title="Typers.this.global.Block">block</a>.<a href="../../../reflect/api/Trees.scala.html#427289" title="=&gt; Typers.this.global.Tree">expr</a>, <a href="#1170132" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <a href="../../../Int.scala.html#57878" title="=&gt; Int">~</a><span class="delimiter">(</span>FUNmode <span title="Int(80)">|</span> QUALmode<span class="delimiter">)</span>, <a href="#1170133" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428293" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#1170131" title="Typers.this.global.Block">block</a>, <a href="#1170136" title="List[Typers.this.global.Tree]">stats1</a>, <a href="#1170137" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
          .<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Block">setType</a><span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501470" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#1170131" title="Typers.this.global.Block">block</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1170137" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#1170137" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441991" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        // enable escaping privates checking from the outside and recycle
        // transient flag
        <a href="#1170135" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1170404" title="Typers.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#443306" title="(mask: Long)x$54.type">resetFlag</a> <span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param cdef   ...
     *  @param pattpe ...
     *  @param pt     ...
     *  @return       ...
     */
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef" id="560723">typedCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="1170411">cdef</a>: <a href="../../../reflect/api/Trees.scala.html#23628" title="Typers.this.global.CaseDef">CaseDef</a>, <a title="Typers.this.global.Type" id="1170412">pattpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="1170413">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23628" title="Typers.this.global.CaseDef">CaseDef</a> = <span class="delimiter">{</span>
      // verify no _* except in last position
      <span class="keyword">for</span> <span class="delimiter">(</span>Apply<a href="#1170431" title="Boolean" id="1170493" class="delimiter">(</a>_, xs<span class="delimiter">)</span> &lt;- <a href="#1170411" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit" id="1170423">pat</a> ; <a title="Typers.this.global.Tree" id="1170486">x</a> &lt;- xs <a href="../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">dropRight</a> <span title="Int(1)" class="int">1</span> ; <span class="keyword">if</span> <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#501514" title="(x: Typers.this.global.treeInfo.global.Tree)Boolean">isStar</a> <a href="#1170486" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#562556" title="(tree: Typers.this.global.Tree)Unit">StarPositionInPatternError</a><span class="delimiter">(</span><a href="#1170486" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>

      // withoutAnnotations - see continuations-run/z1673.scala
      // This adjustment is awfully specific to continuations, but AFAICS the
      // whole AnnotationChecker framework is.
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1170415">pat1</a> = <a href="#560775" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">(</span><a href="#1170411" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427322" title="=&gt; Typers.this.global.Tree">pat</a>, <a href="#1170412" title="Typers.this.global.Type">pattpe</a>.<a href="../../../reflect/internal/Types.scala.html#442086" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>
      // When case classes have more than two parameter lists, the pattern ends
      // up typed as a method.  We only pattern match on the first parameter
      // list, so substitute the final result type of the method, i.e. the type
      // of the case class.
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1170415" title="Typers.this.global.Tree">pat1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442007" title="=&gt; Int">paramSectionCount</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#1170415" title="Typers.this.global.Tree">pat1</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)pat1.type">setType</a> <a href="#1170415" title="Typers.this.global.Tree">pat1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442006" title="=&gt; Typers.this.global.Type">finalResultType</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559776" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span>bind @ Bind<a href="#1170542" title="Boolean" id="1170607" class="delimiter">(</a>name, _<span class="delimiter">)</span> &lt;- <a href="#1170411" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit" id="1170529">pat</a><span class="delimiter">)</span>
          <a href="#1170608" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span>name.<a href="../../../reflect/internal/Names.scala.html#444126" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> bind.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> bind.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085626" title="(sym: Typers.this.global.Symbol)Unit">enterIfNotThere</a><span class="delimiter">(</span>bind.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1170416">guard1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1170411" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427324" title="=&gt; Typers.this.global.Tree">guard</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
                         <span class="keyword">else</span> <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1170411" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427324" title="=&gt; Typers.this.global.Tree">guard</a>, <a href="../../../reflect/internal/Definitions.scala.html#442857" title="=&gt; Typers.this.global.ClassSymbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1170417">body1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1170411" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/api/Trees.scala.html#427326" title="=&gt; Typers.this.global.Tree">body</a>, <a href="#1170413" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.Context" id="1170418">contextWithTypeBounds</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560990" title="(p: Typers.this.Context =&gt; Boolean)Typers.this.Context">nextEnclosing</a><span class="delimiter">(</span><a href="#1170637" title="Typers.this.Context">_</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23628" title="Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1170418" title="Typers.this.Context">contextWithTypeBounds</a>.<a href="Contexts.scala.html#560919" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1170417" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1170418" title="Typers.this.Context">contextWithTypeBounds</a> <a href="Contexts.scala.html#560998" title="(tp: Typers.this.global.Type)Typers.this.global.Type">restoreTypeBounds</a> <a href="#1170417" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>

        // insert a cast if something typechecked under the GADT constraints,
        // but not in real life (i.e., now that's we've reset the method's type skolems'
        //   infos back to their pre-GADT-constraint state)
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1170413" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1170417" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1170413" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1170417" title="Typers.this.global.Tree">body1</a> = <a href="#560769" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1170417" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561790" title="(tree: Typers.this.global.gen.global.Tree, pt: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#1170417" title="Typers.this.global.Tree">body1</a>, <a href="#1170413" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="delimiter">}</span>

//    body1 = checkNoEscaping.locals(context.scope, pt, body1)
      <span class="keyword">val</span> <a title="Typers.this.global.CaseDef" id="1170419">treeWithSkolems</a> = <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428294" title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#1170411" title="Typers.this.global.CaseDef">cdef</a>, <a href="#1170415" title="Typers.this.global.Tree">pat1</a>, <a href="#1170416" title="Typers.this.global.Tree">guard1</a>, <a href="#1170417" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.CaseDef">setType</a> <a href="#1170417" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>

      <span title="Typers.this.global.TypeMapTreeSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#441853" title="Typers.this.global.TypeMapTreeSubstituter">TypeMapTreeSubstituter</a><span class="delimiter">(</span><a href="#560724" title="Typer.this.deskolemizeGADTSkolems.type">deskolemizeGADTSkolems</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#467210" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1170419" title="Typers.this.global.CaseDef">treeWithSkolems</a><span class="delimiter">)</span>

      <a href="#1170419" title="Typers.this.global.CaseDef">treeWithSkolems</a> // now without skolems, actually
    <span class="delimiter">}</span>

    // undo adaptConstrPattern's evil deeds, as they confuse the old pattern matcher
    // the flags are used to avoid accidentally deskolemizing unrelated skolems of skolems
    <span class="keyword">object</span> <a title="Typer.this.deskolemizeGADTSkolems.type" id="560724">deskolemizeGADTSkolems</a> <a href="#560725" title="Typer.this.deskolemizeGADTSkolems.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="1170656">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1170662">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><a href="../../../reflect/internal/Types.scala.html#448102" title="=&gt; Typers.this.global.Symbol" class="delimiter">(</a><a href="#1170662" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeRef<a href="#1170694" title="Typers.this.global.Type" id="1170696" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> <span class="keyword">if</span> sym.<a href="../../../reflect/internal/Symbols.scala.html#443255" title="=&gt; Boolean">isGADTSkolem</a> =&gt;
          <a href="../../../reflect/internal/Types.scala.html#441371" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><a href="#1170697" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#441258" title="Typers.this.global.NoPrefix.type">NoPrefix</a>, sym.<a href="../../../reflect/internal/Symbols.scala.html#443531" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, args<span class="delimiter">)</span>
        <span class="keyword">case</span> tp1 =&gt; <a href="#1170697" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]" id="560726">typedCases</a><span class="delimiter">(</span><a title="List[Typers.this.global.CaseDef]" id="1084495">cases</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="1084496">pattp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="1084497">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span> =
      <a href="#1084495" title="List[Typers.this.global.CaseDef]">cases</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)List[Typers.this.global.CaseDef]">mapConserve</a> <span class="delimiter">{</span> <a title="Typers.this.global.CaseDef" id="1170708">cdef</a> =&gt;
        <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#1170708" title="Typers.this.global.CaseDef">cdef</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#560723" title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef">typedCase</a><span class="delimiter">(</span><a href="#1170708" title="Typers.this.global.CaseDef">cdef</a>, <a href="#1084496" title="Typers.this.global.Type">pattp</a>, <a href="#1084497" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, mode: Int, tpe: Typers.this.global.Type)Typers.this.global.CaseDef" id="560727">adaptCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="1170710">cdef</a>: <a href="../../../reflect/api/Trees.scala.html#23628" title="Typers.this.global.CaseDef">CaseDef</a>, <a title="Int" id="1170711">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1170712">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23628" title="Typers.this.global.CaseDef">CaseDef</a> = <a href="../../../reflect/api/Trees.scala.html#23758" title="(cdef: Typers.this.global.Tree)(applyToBody: Typers.this.global.Tree =&gt; Typers.this.global.Tree)Typers.this.global.CaseDef">deriveCaseDef</a><span class="delimiter">(</span><a href="#1170710" title="Typers.this.global.CaseDef">cdef</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1170717" title="Typers.this.global.Tree">_</a>, <a href="#1170711" title="Int">mode</a>, <a href="#1170712" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

    // takes untyped sub-trees of a match and type checks them
    <span class="keyword">def</span> <a title="(selector0: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], mode: Int, resTp: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)" id="560728">typedMatch</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1170718">selector0</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.CaseDef]" id="1170719">cases</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Int" id="1170720">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1170721">resTp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#1170785" title="(x: (Typers.this.global.Tree, Boolean))(Typers.this.global.Tree, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1170725">selector</a>, <a href="../../../Tuple2.scala.html#61508" title="Boolean" id="1170726">doTranslation</a><span class="delimiter">)</span> = <a href="#1170718" title="Typers.this.global.Tree">selector0</a> <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, Boolean) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
        <span class="keyword">case</span> Annotated<a href="#1170755" title="(Typers.this.global.Tree, Boolean)" id="1170758" class="delimiter">(</a>Ident<a title="(Typers.this.global.Tree, Boolean)" id="1170761" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446737" title="(Typers.this.global.Tree, Boolean)" id="1170764">synthSwitch</a><span class="delimiter">)</span>, selector<span class="delimiter">)</span> =&gt; <a href="#1170765" title="(x: (Typers.this.global.Tree, Boolean))(Typers.this.global.Tree, Boolean)" class="delimiter">(</a>selector, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="keyword">case</span> s =&gt; <a href="#1170765" title="(x: (Typers.this.global.Tree, Boolean))(Typers.this.global.Tree, Boolean)" class="delimiter">(</a>s, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1170727">selector1</a>                = <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1170725" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1170728">selectorTp</a>               = <a href="#560753" title="(tpe: Typers.this.global.Type)Typers.this.global.Type">packCaptured</a><span class="delimiter">(</span><a href="#1170727" title="Typers.this.global.Tree">selector1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#442086" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.CaseDef]" id="1170729">casesTyped</a>               = <a href="#560726" title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#1170719" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#1170728" title="Typers.this.global.Type">selectorTp</a>, <a href="#1170721" title="Typers.this.global.Type">resTp</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1170730">caseTypes</a>                = <a href="#1170729" title="List[Typers.this.global.CaseDef]">casesTyped</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="1170817">c</a> =&gt; <a href="#560754" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#1170817" title="Typers.this.global.CaseDef">c</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#441991" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#1170865" title="(x: (Typers.this.global.Type, Boolean))(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Type" id="1170732">ownType</a>, <a href="../../../Tuple2.scala.html#61508" title="Boolean" id="1170733">needAdapt</a><span class="delimiter">)</span>     = <a href="#1170864" title="(Typers.this.global.Type, Boolean)" class="keyword">if</a> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1170721" title="Typers.this.global.Type">resTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#1170721" title="Typers.this.global.Type">resTp</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441549" title="(ts: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">weakLub</a><span class="delimiter">(</span><a href="#1170730" title="List[Typers.this.global.Type]">caseTypes</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.CaseDef]" id="1170734">casesAdapted</a>             = <span title="List[Typers.this.global.CaseDef]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1170733" title="Boolean">needAdapt</a><span class="delimiter">)</span> <a href="#1170729" title="List[Typers.this.global.CaseDef]">casesTyped</a> <span class="keyword">else</span> <a href="#1170729" title="List[Typers.this.global.CaseDef]">casesTyped</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</a> <span class="delimiter">(</span><a href="#560727" title="(cdef: Typers.this.global.CaseDef, mode: Int, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#1170879" title="Typers.this.global.CaseDef">_</a>, <a href="#1170720" title="Int">mode</a>, <a href="#1170732" title="Typers.this.global.Type">ownType</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="../../../Tuple5.scala.html#82796" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type, _3: List[Typers.this.global.CaseDef], _4: Typers.this.global.Type, _5: Boolean)(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#1170727" title="Typers.this.global.Tree">selector1</a>, <a href="#1170728" title="Typers.this.global.Type">selectorTp</a>, <a href="#1170734" title="List[Typers.this.global.CaseDef]">casesAdapted</a>, <a href="#1170732" title="Typers.this.global.Type">ownType</a>, <a href="#1170726" title="Boolean">doTranslation</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // match has been typed, now translate it
    <span class="keyword">def</span> <a title="(selector1: Typers.this.global.Tree, selectorTp: Typers.this.global.Type, casesAdapted: List[Typers.this.global.CaseDef], ownType: Typers.this.global.Type, doTranslation: Boolean, matchFailGen: Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree])Typers.this.global.Tree" id="560729">translatedMatch</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1170928">selector1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1170929">selectorTp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="List[Typers.this.global.CaseDef]" id="1170930">casesAdapted</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="1170931">ownType</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="1170932">doTranslation</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a>, <a title="Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree]" id="1170936">matchFailGen</a>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree =&gt; Tree<span class="delimiter">]</span> = <a href="../../../Option.scala.html#2498" title="None.type">None</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="1170937">repeatedToSeq</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1170938">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <span class="delimiter">(</span><a href="#1170938" title="Typers.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#442036" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#442303" title="=&gt; Typers.this.global.ClassSymbol">RepeatedParamClass</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeRef<a href="#1170951" title="Typers.this.global.Type" id="1170956" class="delimiter">(</a>_, <a href="../../../reflect/internal/Definitions.scala.html#442303" title="Typers.this.global.Type" id="1170962">RepeatedParamClass</a>, arg <a title="Typers.this.global.Type" id="1170960">::</a> <a href="../../../collection/immutable/List.scala.html#11552" title="Typers.this.global.Type" id="1170963">Nil</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#442516" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><a href="#1170964" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a>arg<span class="delimiter">)</span>
        <span class="keyword">case</span> _                                          =&gt; <a href="#1170964" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp</a>
      <span class="delimiter">}</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1170932" title="Boolean">doTranslation</a><span class="delimiter">)</span> <span class="delimiter">{</span> // a switch
        <a href="../../../reflect/api/Trees.scala.html#436671" title="(selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#1170928" title="Typers.this.global.Tree">selector1</a>, <a href="#1170930" title="List[Typers.this.global.CaseDef]">casesAdapted</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</a> <a href="#1170931" title="Typers.this.global.Type">ownType</a> // setType of the Match to avoid recursing endlessly
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1170982">scrutType</a> = <a href="#1170937" title="(tp: Typers.this.global.Type)Typers.this.global.Type">repeatedToSeq</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441545" title="(t: Typers.this.global.Type)Typers.this.global.Type">elimAnonymousClass</a><span class="delimiter">(</span><a href="#1170929" title="Typers.this.global.Type">selectorTp</a><span class="delimiter">)</span><span class="delimiter">)</span>
        // we've packed the type for each case in typedMatch so that if all cases have the same existential case, we get a clean lub
        // here, we should open up the existential again
        // relevant test cases: pos/existentials-harmful.scala, pos/gadt-gilles.scala, pos/t2683.scala, pos/virtpatmat_exist4.scala
        // TODO: fix skolemizeExistential (it should preserve annotations, right?)
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1170983">ownTypeSkolemized</a> = <a href="#1170931" title="Typers.this.global.Type">ownType</a>.<a href="../../../reflect/internal/Types.scala.html#442015" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#442089" title="(annots: List[Typers.this.global.AnnotationInfo])Typers.this.global.Type">withAnnotations</a> <a href="#1170931" title="Typers.this.global.Type">ownType</a>.<a href="../../../reflect/internal/Types.scala.html#442085" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
        <a href="PatMatVirtualiser.scala.html#1134685" title="(typer: Typers.this.Typer)Typers.this.MatchTranslation with Typers.this.CodegenCore">MatchTranslator</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>.<a href="PatMatVirtualiser.scala.html#1134700" title="(scrut: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pt: Typers.this.global.Type, scrutType: Typers.this.global.Type, matchFailGenOverride: Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree])Typers.this.global.Tree">translateMatch</a><span class="delimiter">(</span><a href="#1170928" title="Typers.this.global.Tree">selector1</a>, <a href="#1170930" title="List[Typers.this.global.CaseDef]">casesAdapted</a>, <a href="#1170937" title="(tp: Typers.this.global.Type)Typers.this.global.Type">repeatedToSeq</a><span class="delimiter">(</span><a href="#1170983" title="Typers.this.global.Type">ownTypeSkolemized</a><span class="delimiter">)</span>, <a href="#1170982" title="Typers.this.global.Type">scrutType</a>, <a href="#1170936" title="Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree]">matchFailGen</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // synthesize and type check a (Partial)Function implementation based on a match specified by `cases`
    // Match(EmptyTree, cases) ==&gt; new &lt;Partial&gt;Function { def apply&lt;OrElse&gt;(params) = `translateMatch('`(param1,...,paramN)` match { cases }')` }
    // for fresh params, the selector of the match we'll translated simply gathers those in a tuple
    <span class="keyword">class</span> <a title="class MatchFunTyper extends Object" id="560730">MatchFunTyper</a><a href="#560730" title="Typer.this.MatchFunTyper" class="delimiter">(</a><a title="Typers.this.global.Tree" id="1171829">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.CaseDef]" id="1171830">cases</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Int" id="1171831">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1171832">pt0</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>  <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1171009">pt</a>    = <a href="#1170656" title="(tp: Typers.this.global.Type)Typers.this.global.Type">deskolemizeGADTSkolems</a><span class="delimiter">(</span><a href="#1171832" title="Typers.this.global.Type">pt0</a><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1171011">targs</a> = <a href="#1171009" title="=&gt; Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1171013">arity</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#1171009" title="=&gt; Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1171011" title="=&gt; List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span> // TODO pt should always be a (Partial)Function, right?
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1171015">ptRes</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171011" title="=&gt; List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a> <span class="keyword">else</span> <a href="#1171011" title="=&gt; List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; Typers.this.global.Type">last</a> // may not be fully defined

      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Boolean" id="1171017">isPartial</a> = <a href="#1171009" title="=&gt; Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442213" title="=&gt; Typers.this.global.ClassSymbol">PartialFunctionClass</a>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Typers.this.global.ClassSymbol" id="1171019">anonClass</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="Typers.this.global.Symbol" id="1171054">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#494714" title="Long" id="1171056">newAnonymousFunctionClass</a><span class="delimiter">(</span><a href="#1171829" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="Typers.this.global.Position" id="1171055">pos</a><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1171021">funThis</a>   = <a href="../../../reflect/internal/Trees.scala.html#441838" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a><span class="delimiter">)</span>

      <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a> <a href="../../../reflect/internal/Symbols.scala.html#443464" title="(annot: Typers.this.global.AnnotationInfo)MatchFunTyper.this.anonClass.type">addAnnotation</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#443059" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442675" title="=&gt; Typers.this.global.ClassSymbol">SerialVersionUIDAttr</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; List[Typers.this.global.Type]" id="1171023">deriveFormals</a> =
        <span title="List[Typers.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171011" title="=&gt; List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
        <span class="keyword">else</span> <a href="#1171011" title="=&gt; List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/TraversableLike.scala.html#59015" title="=&gt; List[Typers.this.global.Type]">init</a>

      <span class="keyword">def</span> <a title="(methodSym: Typers.this.global.Symbol, formals: List[Typers.this.global.Type])List[Typers.this.global.TermSymbol]" id="1171024">mkParams</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1171161">methodSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[Typers.this.global.Type]" id="1171163">formals</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#1171023" title="=&gt; List[Typers.this.global.Type]">deriveFormals</a><span class="delimiter">)</span> =
        <span title="List[Typers.this.global.TermSymbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171163" title="List[Typers.this.global.Type]">formals</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="ContextErrors.scala.html#562560" title="(vparam: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">MissingParameterTypeAnonMatchError</a><span class="delimiter">(</span><a href="#1171829" title="Typers.this.global.Tree">tree</a>, <a href="#1171009" title="=&gt; Typers.this.global.Type">pt</a><span class="delimiter">)</span>; <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#1171161" title="Typers.this.global.Symbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443203" title="(argtypes: List[Typers.this.global.Type])List[Typers.this.global.TermSymbol]">newSyntheticValueParams</a> <a href="#1171163" title="List[Typers.this.global.Type]">formals</a>

      <span class="keyword">def</span> <a title="(params: List[Typers.this.global.Symbol])Typers.this.global.gen.global.Tree" id="1171025">mkSel</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1171172">params</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
        <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171172" title="List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Ident]" id="1171173">ids</a> = <a href="#1171172" title="List[Typers.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Ident,List[Typers.this.global.Ident]])List[Typers.this.global.Ident]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1171190">p</a> =&gt; <a href="../../../reflect/api/Trees.scala.html#427669" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1171190" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; p.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1171829" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445370" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171013" title="=&gt; Int">arity</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#1171173" title="List[Typers.this.global.Ident]">ids</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Ident">head</a> <span class="keyword">else</span> <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500058" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#1171173" title="List[Typers.this.global.Ident]">ids</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#560223" title="Typers.this.CODE.type">CODE</a>._

      // need to duplicate the cases before typing them to generate the apply method, or the symbols will be all messed up
      <span class="keyword">val</span> <a title="List[Typers.this.global.CaseDef]" id="1171027">casesTrue</a> = <span title="List[Typers.this.global.CaseDef]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171017" title="=&gt; Boolean">isPartial</a><span class="delimiter">)</span> <a href="#1171830" title="List[Typers.this.global.CaseDef]">cases</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="1171084">c</a> =&gt; <a href="../../../reflect/api/Trees.scala.html#23758" title="(cdef: Typers.this.global.Tree)(applyToBody: Typers.this.global.Tree =&gt; Typers.this.global.Tree)Typers.this.global.CaseDef">deriveCaseDef</a><span class="delimiter">(</span><a href="#1171084" title="Typers.this.global.CaseDef">c</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1171086">x</a> =&gt; <a href="../ast/TreeDSL.scala.html#653593" title="=&gt; Typers.this.global.Literal">TRUE_typed</a><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; Typers.this.global.CaseDef">duplicate</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
      // println(&quot;casesTrue &quot;+ casesTrue)
      <span class="keyword">def</span> <a title="(targs: List[Typers.this.global.Type])List[Typers.this.global.Type]" id="1171029">parentsPartial</a><span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="1171353">targs</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441377" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442215" title="=&gt; Typers.this.global.ClassSymbol">AbstractPartialFunctionClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443723" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <a href="#1171353" title="List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442285" title="=&gt; Typers.this.global.ClassSymbol">SerializableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree with Serializable" id="1171030">applyMethod</a> = <span class="delimiter">{</span>
        // rig the show so we can get started typing the method body -- later we'll correct the infos...
        <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)MatchFunTyper.this.anonClass.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#453477" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442179" title="=&gt; Typers.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1171009" title="=&gt; Typers.this.global.Type">pt</a>, <a href="../../../reflect/internal/Definitions.scala.html#442285" title="=&gt; Typers.this.global.ClassSymbol">SerializableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Typers.this.global.Scope">newScope</a>, <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.MethodSymbol" id="1171139">methodSym</a> = <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443177" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a>, <a href="#1171829" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="Long" class="keyword">if</span><span class="delimiter">(</span><a href="#1171017" title="=&gt; Boolean">isPartial</a><span class="delimiter">)</span> <span class="delimiter">(</span>FINAL <span title="Long(34L)">|</span> OVERRIDE<span class="delimiter">)</span> <span class="keyword">else</span> <span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.TermSymbol]" id="1171140">paramSyms</a> = <a href="#1171024" title="(methodSym: Typers.this.global.Symbol, formals: List[Typers.this.global.Type])List[Typers.this.global.TermSymbol]">mkParams</a><span class="delimiter">(</span><a href="#1171139" title="Typers.this.global.MethodSymbol">methodSym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="1171141">selector</a>  = <a href="#1171025" title="(params: List[Typers.this.global.Symbol])Typers.this.global.gen.global.Tree">mkSel</a><span class="delimiter">(</span><a href="#1171140" title="List[Typers.this.global.TermSymbol]">paramSyms</a><span class="delimiter">)</span>

        <span title="Typers extends Typers.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171141" title="Typers.this.global.gen.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#1171139" title="Typers.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443433" title="(info: Typers.this.global.Type)methodSym.type">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#1171140" title="List[Typers.this.global.TermSymbol]">paramSyms</a>, <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.Typer" id="1171243">methodBodyTyper</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#1171139" title="Typers.this.global.MethodSymbol">methodSym</a><span class="delimiter">)</span><span class="delimiter">)</span> // should use the DefDef for the context's tree, but it doesn't exist yet (we need the typer we're creating to create it)
          <a href="#1171140" title="List[Typers.this.global.TermSymbol]">paramSyms</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.TermSymbol =&gt; Typers.this.global.TermSymbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1171243" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.TermSymbol)Typers.this.global.TermSymbol">enter</a> <a href="#1171272" title="Typers.this.global.TermSymbol">_</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a href="#1171305" title="(x: (Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean))(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple5.scala.html#73149" title="Typers.this.global.Tree" id="1171245">selector1</a>, <a href="../../../Tuple5.scala.html#73151" title="Typers.this.global.Type" id="1171246">selectorTp</a>, <a href="../../../Tuple5.scala.html#73153" title="List[Typers.this.global.CaseDef]" id="1171247">casesAdapted</a>, <a href="../../../Tuple5.scala.html#73155" title="Typers.this.global.Type" id="1171248">resTp</a>, <a href="../../../Tuple5.scala.html#73157" title="Boolean" id="1171249">doTranslation</a><span class="delimiter">)</span> = <a href="#1171243" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560728" title="(selector0: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], mode: Int, resTp: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)">typedMatch</a><a href="../../../Tuple5.scala.html#1306" title="(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#1171141" title="Typers.this.global.gen.global.Tree">selector</a>, <a href="#1171830" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#1171831" title="Int">mode</a>, <a href="#1171015" title="=&gt; Typers.this.global.Type">ptRes</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1171250">methFormals</a> = <a href="#1171140" title="List[Typers.this.global.TermSymbol]">paramSyms</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.TermSymbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TermSymbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1171325" title="Typers.this.global.TermSymbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1171251">parents</a> =
            <span title="List[Typers.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171017" title="=&gt; Boolean">isPartial</a><span class="delimiter">)</span> <a href="#1171029" title="(targs: List[Typers.this.global.Type])List[Typers.this.global.Type]">parentsPartial</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1171250" title="List[Typers.this.global.Type]">methFormals</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a>, <a href="#1171248" title="Typers.this.global.Type">resTp</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442482" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">abstractFunctionType</a><span class="delimiter">(</span><a href="#1171250" title="List[Typers.this.global.Type]">methFormals</a>, <a href="#1171248" title="Typers.this.global.Type">resTp</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442285" title="=&gt; Typers.this.global.ClassSymbol">SerializableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

          <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)MatchFunTyper.this.anonClass.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#453477" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#1171251" title="List[Typers.this.global.Type]">parents</a>, <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Typers.this.global.Scope">newScope</a>, <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a><span class="delimiter">)</span>
          <a href="#1171139" title="Typers.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443433" title="(info: Typers.this.global.Type)methodSym.type">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#1171140" title="List[Typers.this.global.TermSymbol]">paramSyms</a>, <a href="#1171248" title="Typers.this.global.Type">resTp</a><span class="delimiter">)</span>

          <a href="../../../reflect/internal/Trees.scala.html#441824" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1171139" title="Typers.this.global.MethodSymbol">methodSym</a>, <a href="#1171243" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560729" title="(selector1: Typers.this.global.Tree, selectorTp: Typers.this.global.Type, casesAdapted: List[Typers.this.global.CaseDef], ownType: Typers.this.global.Type, doTranslation: Boolean, matchFailGen: Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree])Typers.this.global.Tree">translatedMatch</a><span class="delimiter">(</span><a href="#1171245" title="Typers.this.global.Tree">selector1</a>, <a href="#1171246" title="Typers.this.global.Type">selectorTp</a>, <a href="#1171247" title="List[Typers.this.global.CaseDef]">casesAdapted</a>, <a href="#1171248" title="Typers.this.global.Type">resTp</a>, <a href="#1171249" title="Boolean">doTranslation</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // def applyOrElse[A1 &lt;: A, B1 &gt;: B](x: A1, default: A1 =&gt; B1): B1 =
      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree with Serializable" id="1171031">applyOrElseMethodDef</a> = <span class="delimiter">{</span>
        // rig the show so we can get started typing the method body -- later we'll correct the infos...
        // targs were type arguments for PartialFunction, so we know they will work for AbstractPartialFunction as well
        <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)MatchFunTyper.this.anonClass.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#453477" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#1171029" title="(targs: List[Typers.this.global.Type])List[Typers.this.global.Type]">parentsPartial</a><span class="delimiter">(</span><a href="#1171011" title="=&gt; List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Typers.this.global.Scope">newScope</a>, <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.MethodSymbol" id="1171535">methodSym</a> = <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443177" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446439" title="=&gt; Typers.this.global.nme.NameType">applyOrElse</a>, <a href="#1171829" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, FINAL <span title="Long(34L)">|</span> OVERRIDE<span class="delimiter">)</span>

        // create the parameter that corresponds to the function's parameter
        <span class="keyword">val</span> <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.Type]]" id="1171577">List</a><a href="#1171566" title="Typers.this.global.Type" id="1171536" class="delimiter">(</a>argTp<span class="delimiter">)</span>       = <a href="#1171023" title="=&gt; List[Typers.this.global.Type]">deriveFormals</a>
        <span class="keyword">val</span> <a title="Typers.this.global.TypeSymbol" id="1171537">A1</a>                = <a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443194" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TypeSymbol">newTypeParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#440784" title="(s: String)Typers.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><span title="String(&quot;A1&quot;)" class="string">&quot;A1&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#441274" title="Typers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#448283" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#1171536" title="Typers.this.global.Type">argTp</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a href="#1171623" title="(x: (List[Typers.this.global.TermSymbol], Typers.this.global.TermSymbol))(List[Typers.this.global.TermSymbol], Typers.this.global.TermSymbol)" id="1171539">paramSyms</a>@<a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.TermSymbol]]" id="1171638">List</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.TermSymbol" id="1171540">x</a><span class="delimiter">)</span> = <a href="#1171024" title="(methodSym: Typers.this.global.Symbol, formals: List[Typers.this.global.Type])List[Typers.this.global.TermSymbol]">mkParams</a><a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.TermSymbol] @unchecked" class="delimiter">(</a><a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1171537" title="Typers.this.global.TypeSymbol">A1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="1171541">selector</a>          = <a href="#1171025" title="(params: List[Typers.this.global.Symbol])Typers.this.global.gen.global.Tree">mkSel</a><span class="delimiter">(</span><a href="#1171539" title="List[Typers.this.global.TermSymbol]">paramSyms</a><span class="delimiter">)</span>

        <span title="Typers extends Typers.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171541" title="Typers.this.global.gen.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // applyOrElse's default parameter:
          <span class="keyword">val</span> <a title="Typers.this.global.TypeSymbol" id="1171642">B1</a>        = <a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443194" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TypeSymbol">newTypeParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#440784" title="(s: String)Typers.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><span title="String(&quot;B1&quot;)" class="string">&quot;B1&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#441274" title="Typers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#448282" title="=&gt; Typers.this.global.TypeBounds">empty</a> //lower(resTp)
          <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="1171643">default</a>   = <a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443175" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#440783" title="(s: String)Typers.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;default&quot;)" class="string">&quot;default&quot;</span><span class="delimiter">)</span>, <a href="#1171829" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="../../../reflect/internal/Definitions.scala.html#442481" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1171537" title="Typers.this.global.TypeSymbol">A1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#1171642" title="Typers.this.global.TypeSymbol">B1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="List[Typers.this.global.TermSymbol]" id="1171644">paramSyms</a> = <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.TermSymbol*)List[Typers.this.global.TermSymbol]">List</a><span class="delimiter">(</span><a href="#1171540" title="Typers.this.global.TermSymbol">x</a>, <a href="#1171643" title="Typers.this.global.TermSymbol">default</a><span class="delimiter">)</span>
          <a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443433" title="(info: Typers.this.global.Type)methodSym.type">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#441383" title="(params: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.TypeSymbol*)List[Typers.this.global.TypeSymbol]">List</a><span class="delimiter">(</span><a href="#1171537" title="Typers.this.global.TypeSymbol">A1</a>, <a href="#1171642" title="Typers.this.global.TypeSymbol">B1</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#1171644" title="List[Typers.this.global.TermSymbol]">paramSyms</a>, <a href="#1171642" title="Typers.this.global.TypeSymbol">B1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.Typer" id="1171645">methodBodyTyper</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a><span class="delimiter">)</span><span class="delimiter">)</span> // should use the DefDef for the context's tree, but it doesn't exist yet (we need the typer we're creating to create it)
          <a href="#1171644" title="List[Typers.this.global.TermSymbol]">paramSyms</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.TermSymbol =&gt; Typers.this.global.TermSymbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1171645" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.TermSymbol)Typers.this.global.TermSymbol">enter</a> <a href="#1171714" title="Typers.this.global.TermSymbol">_</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a href="#1171747" title="(x: (Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean))(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple5.scala.html#73149" title="Typers.this.global.Tree" id="1171647">selector1</a>, <a href="../../../Tuple5.scala.html#73151" title="Typers.this.global.Type" id="1171648">selectorTp</a>, <a href="../../../Tuple5.scala.html#73153" title="List[Typers.this.global.CaseDef]" id="1171649">casesAdapted</a>, <a href="../../../Tuple5.scala.html#73155" title="Typers.this.global.Type" id="1171650">resTp</a>, <a href="../../../Tuple5.scala.html#73157" title="Boolean" id="1171651">doTranslation</a><span class="delimiter">)</span> = <a href="#1171645" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560728" title="(selector0: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], mode: Int, resTp: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)">typedMatch</a><a href="../../../Tuple5.scala.html#1306" title="(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#1171541" title="Typers.this.global.gen.global.Tree">selector</a>, <a href="#1171830" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#1171831" title="Int">mode</a>, <a href="#1171015" title="=&gt; Typers.this.global.Type">ptRes</a><span class="delimiter">)</span>

          <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)MatchFunTyper.this.anonClass.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#453477" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#1171029" title="(targs: List[Typers.this.global.Type])List[Typers.this.global.Type]">parentsPartial</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1171536" title="Typers.this.global.Type">argTp</a>, <a href="#1171650" title="Typers.this.global.Type">resTp</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Typers.this.global.Scope">newScope</a>, <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a><span class="delimiter">)</span>
          <a href="#1171642" title="Typers.this.global.TypeSymbol">B1</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)B1.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#441274" title="Typers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#448284" title="(lo: Typers.this.global.Type)Typers.this.global.TypeBounds">lower</a><span class="delimiter">(</span><a href="#1171650" title="Typers.this.global.Type">resTp</a><span class="delimiter">)</span>
          <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.MethodSymbol)Typers.this.global.MethodSymbol">enter</a> <a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a> // methodSym's info need not change (B1's bound has been updated instead)

          // use applyOrElse's first parameter since the scrut's type has been widened
          <span class="keyword">def</span> <a title="(scrut_ignored: Typers.this.global.Tree)Typers.this.global.Apply" id="1171652">doDefault</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1171764">scrut_ignored</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../ast/TreeDSL.scala.html#653643" title="(sym: Typers.this.global.Symbol)Typers.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#653647" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Typers.this.global.Tree)Typers.this.CODE.TreeMethods" class="delimiter">(</a><a href="#1171643" title="Typers.this.global.TermSymbol">default</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#691701" title="(params: Typers.this.global.Tree*)Typers.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#653643" title="(sym: Typers.this.global.Symbol)Typers.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#1171540" title="Typers.this.global.TermSymbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1171653">body</a> = <a href="#1171645" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560729" title="(selector1: Typers.this.global.Tree, selectorTp: Typers.this.global.Type, casesAdapted: List[Typers.this.global.CaseDef], ownType: Typers.this.global.Type, doTranslation: Boolean, matchFailGen: Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree])Typers.this.global.Tree">translatedMatch</a><span class="delimiter">(</span><a href="#1171647" title="Typers.this.global.Tree">selector1</a>, <a href="#1171648" title="Typers.this.global.Type">selectorTp</a>, <a href="#1171649" title="List[Typers.this.global.CaseDef]">casesAdapted</a>, <a href="#1171642" title="Typers.this.global.TypeSymbol">B1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1171651" title="Boolean">doTranslation</a>, <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.Tree =&gt; Typers.this.global.Apply)Some[Typers.this.global.Tree =&gt; Typers.this.global.Apply]">Some</a><span class="delimiter">(</span><a href="#1171652" title="(scrut_ignored: Typers.this.global.Tree)Typers.this.global.Apply">doDefault</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../../../reflect/internal/Trees.scala.html#441824" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1171535" title="Typers.this.global.MethodSymbol">methodSym</a>, <a href="#1171653" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree with Serializable" id="1171032">isDefinedAtMethod</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.MethodSymbol" id="1171422">methodSym</a> = <a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443177" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446557" title="=&gt; Typers.this.global.nme.NameType">isDefinedAt</a>, <a href="#1171829" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.TermSymbol]" id="1171423">paramSyms</a> = <a href="#1171024" title="(methodSym: Typers.this.global.Symbol, formals: List[Typers.this.global.Type])List[Typers.this.global.TermSymbol]">mkParams</a><span class="delimiter">(</span><a href="#1171422" title="Typers.this.global.MethodSymbol">methodSym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="1171424">selector</a>  = <a href="#1171025" title="(params: List[Typers.this.global.Symbol])Typers.this.global.gen.global.Tree">mkSel</a><span class="delimiter">(</span><a href="#1171423" title="List[Typers.this.global.TermSymbol]">paramSyms</a><span class="delimiter">)</span>

        <span title="Typers extends Typers.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171424" title="Typers.this.global.gen.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.Typer" id="1171427">methodBodyTyper</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#1171422" title="Typers.this.global.MethodSymbol">methodSym</a><span class="delimiter">)</span><span class="delimiter">)</span> // should use the DefDef for the context's tree, but it doesn't exist yet (we need the typer we're creating to create it)
          <a href="#1171423" title="List[Typers.this.global.TermSymbol]">paramSyms</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.TermSymbol =&gt; Typers.this.global.TermSymbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1171427" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.TermSymbol)Typers.this.global.TermSymbol">enter</a> <a href="#1171454" title="Typers.this.global.TermSymbol">_</a><span class="delimiter">)</span>
          <a href="#1171422" title="Typers.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443433" title="(info: Typers.this.global.Type)methodSym.type">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#448348" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#1171423" title="List[Typers.this.global.TermSymbol]">paramSyms</a>, <a href="../../../reflect/internal/Definitions.scala.html#442857" title="=&gt; Typers.this.global.ClassSymbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a href="#1171488" title="(x: (Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean))(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple5.scala.html#73149" title="Typers.this.global.Tree" id="1171429">selector1</a>, <a href="../../../Tuple5.scala.html#73151" title="Typers.this.global.Type" id="1171430">selectorTp</a>, <a href="../../../Tuple5.scala.html#73153" title="List[Typers.this.global.CaseDef]" id="1171431">casesAdapted</a>, <a href="../../../Tuple5.scala.html#73155" title="Typers.this.global.Type" id="1171432">resTp</a>, <a href="../../../Tuple5.scala.html#73157" title="Boolean" id="1171433">doTranslation</a><span class="delimiter">)</span> = <a href="#1171427" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560728" title="(selector0: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], mode: Int, resTp: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)">typedMatch</a><a href="../../../Tuple5.scala.html#1306" title="(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#1171424" title="Typers.this.global.gen.global.Tree">selector</a>, <a href="#1171027" title="=&gt; List[Typers.this.global.CaseDef]">casesTrue</a>, <a href="#1171831" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#442857" title="=&gt; Typers.this.global.ClassSymbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1171434">body</a> = <a href="#1171427" title="Typers.this.Typer">methodBodyTyper</a>.<a href="#560729" title="(selector1: Typers.this.global.Tree, selectorTp: Typers.this.global.Type, casesAdapted: List[Typers.this.global.CaseDef], ownType: Typers.this.global.Type, doTranslation: Boolean, matchFailGen: Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree])Typers.this.global.Tree">translatedMatch</a><span class="delimiter">(</span><a href="#1171429" title="Typers.this.global.Tree">selector1</a>, <a href="#1171430" title="Typers.this.global.Type">selectorTp</a>, <a href="#1171431" title="List[Typers.this.global.CaseDef]">casesAdapted</a>, <a href="#1171432" title="Typers.this.global.Type">resTp</a>, <a href="#1171433" title="Boolean">doTranslation</a>, <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.Tree =&gt; Typers.this.global.Literal)Some[Typers.this.global.Tree =&gt; Typers.this.global.Literal]">Some</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1171495">scrutinee</a> =&gt; <a href="../ast/TreeDSL.scala.html#653594" title="=&gt; Typers.this.global.Literal">FALSE_typed</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../../../reflect/internal/Trees.scala.html#441824" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1171422" title="Typers.this.global.MethodSymbol">methodSym</a>, <a href="#1171434" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree with Serializable]" id="1171033">members</a> = <span title="List[Typers.this.global.Tree with Serializable]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171017" title="=&gt; Boolean">isPartial</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // TODO: don't check for MarkerCPSTypes -- check whether all targs are subtype of any (which they are not under CPS)
        <span title="List[Typers.this.global.Tree with Serializable]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442305" title="=&gt; Typers.this.global.Symbol">MarkerCPSTypes</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1171011" title="=&gt; List[Typers.this.global.Type]">targs</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1171131" title="Typers.this.global.Type">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#442305" title="=&gt; Typers.this.global.Symbol">MarkerCPSTypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree with Serializable*)List[Typers.this.global.Tree with Serializable]">List</a><span class="delimiter">(</span><a href="#1171030" title="=&gt; Typers.this.global.Tree with Serializable">applyMethod</a>, <a href="#1171032" title="=&gt; Typers.this.global.Tree with Serializable">isDefinedAtMethod</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree with Serializable*)List[Typers.this.global.Tree with Serializable]">List</a><span class="delimiter">(</span><a href="#1171031" title="=&gt; Typers.this.global.Tree with Serializable">applyOrElseMethodDef</a>, <a href="#1171032" title="=&gt; Typers.this.global.Tree with Serializable">isDefinedAtMethod</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree with Serializable*)List[Typers.this.global.Tree with Serializable]">List</a><span class="delimiter">(</span><a href="#1171030" title="=&gt; Typers.this.global.Tree with Serializable">applyMethod</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="1171035">translated</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1171033" title="=&gt; List[Typers.this.global.Tree with Serializable]">members</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree with Serializable">head</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1171829" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427284" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.ClassDef*)List[Typers.this.global.ClassDef]">List</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#559837" title="(sym: Typers.this.global.Symbol, constrMods: Typers.this.global.Modifiers, vparamss: List[List[Typers.this.global.ValDef]], argss: List[List[Typers.this.global.Tree]], body: List[Typers.this.global.Tree], superPos: Typers.this.global.Position)Typers.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a>, <a href="../../../reflect/internal/Trees.scala.html#441811" title="=&gt; Typers.this.global.Modifiers">NoMods</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: List[Nothing]*)List[List[Nothing]]">List</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: List[Nothing]*)List[List[Nothing]]">List</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1171033" title="=&gt; List[Typers.this.global.Tree with Serializable]">members</a>, <a href="#1171829" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#441835" title="(tpe: Typers.this.global.Type, args: Typers.this.global.Tree*)Typers.this.global.Tree">New</a><span class="delimiter">(</span><a href="#1171019" title="=&gt; Typers.this.global.ClassSymbol">anonClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1171831" title="Int">mode</a>, <a href="#1171009" title="=&gt; Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Function(params, Match(sel, cases)) ==&gt; new &lt;Partial&gt;Function { def apply&lt;OrElse&gt;(params) = `translateMatch('sel match { cases }')` }
    <span class="keyword">class</span> <a title="class MatchFunTyperBetaReduced extends Typer.this.MatchFunTyper" id="560731">MatchFunTyperBetaReduced</a><a href="#560731" title="Typer.this.MatchFunTyperBetaReduced" class="delimiter">(</a><a title="Typers.this.global.Function" id="1171959">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23648" title="Typers.this.global.Function">Function</a>, <a title="Typers.this.global.Tree" id="1171960">sel</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.CaseDef]" id="1171961">cases</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Int" id="1171962">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1171963">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#560730" title="Typer.this.MatchFunTyper">MatchFunTyper</a><span class="delimiter">(</span><a href="#1171959" title="Typers.this.global.Function">fun</a>, <a href="#1171961" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#1171962" title="Int">mode</a>, <a href="#1171963" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>  <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Typers.this.global.Type]" id="1171950">deriveFormals</a> =
        <a href="#1171959" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">{</span> <a title="Typers.this.global.ValDef" id="1171980">p</a> =&gt; <span title="Typers.this.global.Type" class="keyword">if</span><span class="delimiter">(</span><a href="#1171980" title="Typers.this.global.ValDef">p</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#560777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1171980" title="Typers.this.global.ValDef">p</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#1171980" title="Typers.this.global.ValDef">p</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="delimiter">}</span>

      // the only difference from the super class is that we must preserve the names of the parameters
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(methodSym: Typers.this.global.Symbol, formals: List[Typers.this.global.Type])List[Typers.this.global.TermSymbol]" id="1171951">mkParams</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1172018">methodSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[Typers.this.global.Type]" id="1172020">formals</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#1171950" title="=&gt; List[Typers.this.global.Type]">deriveFormals</a><span class="delimiter">)</span> =
        <a href="../../../Tuple2.scala.html#63804" title="(_1: List[Typers.this.global.ValDef], _2: List[Typers.this.global.Type])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])" class="delimiter">(</a><a href="#1171959" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a>, <a href="#1172020" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#61522" title="(implicit w1: List[Typers.this.global.ValDef] =&gt; scala.collection.TraversableLike[Typers.this.global.ValDef,List[Typers.this.global.ValDef]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</a> <a href="../../../Tuple2.scala.html#61552" title="(f: (Typers.this.global.ValDef, Typers.this.global.Type) =&gt; Typers.this.global.TermSymbol)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.TermSymbol,List[Typers.this.global.TermSymbol]])List[Typers.this.global.TermSymbol]">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="1172082">p</a>, <a title="Typers.this.global.Type" id="1172083">tp</a><span class="delimiter">)</span> =&gt;
          <a href="#1172018" title="Typers.this.global.Symbol">methodSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443175" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="#1172082" title="Typers.this.global.ValDef">p</a>.<a href="../../../reflect/api/Trees.scala.html#427471" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#1172082" title="Typers.this.global.ValDef">p</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="#1172083" title="Typers.this.global.Type">tp</a>
        <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(params: List[Typers.this.global.Symbol])Typers.this.global.Tree" id="1171952">mkSel</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1172119">params</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1171960" title="Typers.this.global.Tree">sel</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; MatchFunTyperBetaReduced.this.sel.type">duplicate</a>
    <span class="delimiter">}</span>

    /**
     *  @param fun  ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560732">typedFunction</a><span class="delimiter">(</span><a title="Typers.this.global.Function" id="1172120">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23648" title="Typers.this.global.Function">Function</a>, <a title="Int" id="1172121">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1172122">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1172124">numVparams</a> = <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1172124" title="Int">numVparams</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="Typers.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#442469" title="=&gt; Int">MaxFunctionArity</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="ContextErrors.scala.html#562557" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">MaxFunctionArityError</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" id="1172125">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1172135">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Tuple3.scala.html#214" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a>Symbol, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =
        <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#1172135" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1172135" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442213" title="=&gt; Typers.this.global.ClassSymbol">PartialFunctionClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1172124" title="Int">numVparams</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428630" title="=&gt; Typers.this.global.Tree">body</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23660" title="Typers.this.global.Match">Match</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> // see bug901 for a reason why next conditions are needed
            <span class="delimiter">(</span>  <a href="#1172135" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <a href="#1172124" title="Int">numVparams</a>
            <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1172161" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
            <span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../Tuple3.scala.html#64156" title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="#1172135" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#1172135" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/TraversableLike.scala.html#59015" title="=&gt; List[Typers.this.global.Type]">init</a>, <a href="#1172135" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; Typers.this.global.Type">last</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../Tuple3.scala.html#64156" title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.WildcardType.type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.WildcardType.type)" class="delimiter">(</a><a href="../../../Array.scala.html#57450" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#1172124" title="Int">numVparams</a><span class="delimiter">)</span>, <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.NoType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.NoType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="1172194">x</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#1172243" title="(x: (Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type))(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple3.scala.html#61402" title="Typers.this.global.Symbol" id="1172127">clazz</a>, <a href="../../../Tuple3.scala.html#61404" title="List[Typers.this.global.Type]" id="1172128">argpts</a>, <a href="../../../Tuple3.scala.html#61406" title="Typers.this.global.Type" id="1172129">respt</a><span class="delimiter">)</span> = <a href="#1172125" title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)">decompose</a><a href="../../../Tuple3.scala.html#214" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type) @unchecked" class="delimiter">(</a><a href="#1172122" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1172128" title="List[Typers.this.global.Type]">argpts</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76195" title="(len: Int)Int">lengthCompare</a><span class="delimiter">(</span><a href="#1172124" title="Int">numVparams</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#562558" title="(tree: Typers.this.global.Tree, argpts: List[Typers.this.global.Type])Typers.this.global.Tree">WrongNumberOfParametersError</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a>, <a href="#1172128" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/util/Collections.scala.html#440726" title="(xs1: List[Typers.this.global.ValDef], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.ValDef, Typers.this.global.Type) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a>, <a href="#1172128" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="1172275">vparam</a>, <a title="Typers.this.global.Type" id="1172276">argpt</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1172275" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1172275" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1172276" title="Typers.this.global.Type">argpt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1172276" title="Typers.this.global.Type">argpt</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#1172120" title="Typers.this.global.Function">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="EtaExpansion.scala.html#1094549" title="Option[(List[Typers.this.global.ValDef], Typers.this.global.Tree, List[Typers.this.global.Tree])]" id="1172323">etaExpansion</a><span class="delimiter">(</span>vparams, fn, args<span class="delimiter">)</span> =&gt;
                    <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1172318" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1172289" title="Typers.this.Typer">_</a>.<a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>fn, <a href="Modes.scala.html#560167" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#1172121" title="Int">mode</a><span class="delimiter">)</span>, <a href="#1172122" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> SilentResultValue<a href="#1172307" title="Unit" id="1172309" class="delimiter">(</a>fn1<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> =&gt;
                        // if context,undetparams is not empty, the function was polymorphic,
                        // so we need the missing arguments to infer its type. See #871
                        //println(&quot;typing eta &quot;+fun+&quot;:&quot;+fn1.tpe+&quot;/&quot;+context.undetparams)
                        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1172300">ftpe</a> = <a href="Infer.scala.html#560272" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalize</a><span class="delimiter">(</span>fn1.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#442036" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../Array.scala.html#57450" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#1172124" title="Int">numVparams</a><span class="delimiter">)</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#1172300" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1172300" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                          <span title="Nothing" class="keyword">return</span> <a href="#560732" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a>, <a href="#1172121" title="Int">mode</a>, <a href="#1172300" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span>
                      <span class="keyword">case</span> _ =&gt;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> _ =&gt;
                <span class="delimiter">}</span>
                <a href="ContextErrors.scala.html#562559" title="(fun: Typers.this.global.Tree, vparam: Typers.this.global.ValDef, pt: Typers.this.global.Type)Unit">MissingParameterTypeError</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a>, <a href="#1172275" title="Typers.this.global.ValDef">vparam</a>, <a href="#1172122" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a>
              <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172275" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445353" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#1172275" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: Typers.this.global.Position)vparam.tpt.type">setPos</a> <a href="#1172275" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428630" title="=&gt; Typers.this.global.Tree">body</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          // later phase indicates scaladoc is calling (where shit is messed up, I tell you)
          //  -- so fall back to old patmat, which is more forgiving
          <span class="keyword">case</span> Match<a href="#1172500" title="Typers.this.global.Tree" id="1172502" class="delimiter">(</a>sel, cases<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span>sel <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560206" title="=&gt; Boolean">doMatchTranslation</a> =&gt;
            // go to outer context -- must discard the context that was created for the Function since we're discarding the function
            // thus, its symbol, which serves as the current context.owner, is not the right owner
            // you won't know you're using the wrong owner until lambda lift crashes (unless you know better than to use the wrong owner)
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="1172335">outerTyper</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><span title="outerTyper.MatchFunTyperBetaReduced" class="keyword">new</span> <a href="#1172335" title="Typers.this.Typer">outerTyper</a>.<a href="#560731" title="outerTyper.MatchFunTyperBetaReduced">MatchFunTyperBetaReduced</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a>, sel, cases, <a href="#1172121" title="Int">mode</a>, <a href="#1172122" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#1171035" title="=&gt; Typers.this.global.Tree">translated</a>
          <span class="keyword">case</span> _ =&gt;
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1172336">vparamSyms</a> = <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">{</span> <a title="Typers.this.global.ValDef" id="1172352">vparam</a> =&gt;
              <a href="#560710" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>, <a href="#1172352" title="Typers.this.global.ValDef">vparam</a><span class="delimiter">)</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560916" title="=&gt; Boolean">retyping</a><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#1172352" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>
              <a href="#1172352" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="1172337">vparams</a> = <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428628" title="=&gt; List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</a> <span class="delimiter">(</span><a href="#560713" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
    //        for (vparam &lt;- vparams) {
    //          checkNoEscaping.locals(context.scope, WildcardType, vparam.tpt); ()
    //        }
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1172338">formals</a> = <a href="#1172336" title="List[Typers.this.global.Symbol]">vparamSyms</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1172415" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1172339">body1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#428630" title="=&gt; Typers.this.global.Tree">body</a>, <a href="#1172129" title="Typers.this.global.Type">respt</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1172340">restpe</a> = <a href="#560754" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#1172339" title="Typers.this.global.Tree">body1</a>, <a href="#1172120" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#441991" title="=&gt; Typers.this.global.Type">deconst</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1172341">funtpe</a> = <a href="../../../reflect/internal/Types.scala.html#441371" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#1172127" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#1172127" title="Typers.this.global.Symbol">clazz</a>, <a href="#1172338" title="List[Typers.this.global.Type]">formals</a> <a href="../../../collection/SeqLike.scala.html#59810" title="(elem: Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">:+</a> <a href="#1172340" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
    //        body = checkNoEscaping.locals(context.scope, restpe, body)
            <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428300" title="(tree: Typers.this.global.Tree, vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#1172120" title="Typers.this.global.Function">fun</a>, <a href="#1172337" title="List[Typers.this.global.ValDef]">vparams</a>, <a href="#1172339" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Function">setType</a><span class="delimiter">(</span><a href="#1172341" title="Typers.this.global.Type">funtpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])Unit" id="560733">typedRefinement</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1172508">stats</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085619" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#1172508" title="List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
      // need to delay rest of typedRefinement to avoid cyclic reference errors
      <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560810" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</a> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
        // go to next outer context which is not silent, see #3614
        <span class="keyword">var</span> <a title="Typers.this.Context" id="1172529">c</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1172529" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560940" title="=&gt; Boolean">bufferErrors</a><span class="delimiter">)</span> <a href="#1172529" title="Typers.this.Context">c</a> = <a href="#1172529" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1172530">stats1</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1172529" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#560736" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#1172508" title="List[Typers.this.global.Tree]">stats</a>, <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1172540">stat</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: Typers.this.global.Tree =&gt; Any)Unit">stats1</a> <span class="keyword">if</span> <a href="#1172540" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425068" title="=&gt; Boolean">isDef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1172541">member</a> = <a href="#1172540" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443501" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76169" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</a>
                <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1172550">bc</a> =&gt; <a href="#1172541" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#443516" title="(ofclazz: Typers.this.global.Symbol, site: Typers.this.global.Type)Typers.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#1172550" title="Typers.this.global.Symbol">bc</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#1172541" title="Typers.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#443305" title="(mask: Long)member.type">setFlag</a> <span title="Long(2L)">OVERRIDE</span>
                <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(imp: Typers.this.global.Import)Typers.this.global.Import" id="560734">typedImport</a><span class="delimiter">(</span><a title="Typers.this.global.Import" id="1172575">imp</a> : <a href="../../../reflect/api/Trees.scala.html#23618" title="Typers.this.global.Import">Import</a><span class="delimiter">)</span> : <a href="../../../reflect/api/Trees.scala.html#23618" title="Typers.this.global.Import">Import</a> = <span class="delimiter">(</span><a href="#560185" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <a href="../../../collection/mutable/HashMap.scala.html#79210" title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">remove</a> <a href="#1172575" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#1172582" title="Typers.this.global.Import" id="1172583" class="delimiter">(</a>imp1: Import<span class="delimiter">)</span> =&gt; <a href="#1172588" title="(x: Typers.this.global.Import)Typers.this.global.Import">imp1</a>
      <span class="keyword">case</span> <a href="../../../Option.scala.html#2498" title="Typers.this.global.Import" id="1172587">None</a> =&gt; <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unhandled import: &quot;)" class="string">&quot;unhandled import: &quot;</span><span title="(x$1: Any)String">+</span><a href="#1172575" title="Typers.this.global.Import">imp</a><span title="(x$1: Any)String">+</span><span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)String">+</span><a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>; <a href="#1172575" title="Typers.this.global.Import">imp</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="560735">isWarnablePureExpression</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1172596">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1172596" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Boolean" id="1172614">EmptyTree</a> | Literal<a href="#1172608" title="Boolean" id="1172612" class="delimiter">(</a>Constant<span class="delimiter">(</span><a href="#1172620" title="Boolean" id="1172615" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#1172616" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="keyword">case</span> _                                 =&gt;
        <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#501470" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a> <a href="#1172596" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#1172616" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1172602">sym</a> = <a href="#1172596" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span class="delimiter">(</span><a href="#1172602" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1172602" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443270" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1172602" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443593" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
            <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\'Pure\' but side-effecting expression in statement position: &quot;)" class="string">&quot;'Pure' but side-effecting expression in statement position: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1172596" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]" id="560736">typedStats</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1168540">stats</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="1168541">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="1172629">inBlock</a> = <a href="#1168541" title="Typers.this.global.Symbol">exprOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="1172630">includesTargetPos</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1172642">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
        <a href="#1172642" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445355" title="=&gt; Boolean">isRange</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560803" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1172642" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a> <a href="../util/Position.scala.html#445373" title="(pos: scala.reflect.api.Position)Boolean">includes</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560816" title="=&gt; Typers.this.global.Position">targetPos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="1172631">localTarget</a> = <a href="#1168540" title="List[Typers.this.global.Tree]">stats</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="#1172630" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a>
      <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]" id="1172632">statsErrors</a> = scala.collection.mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.LinkedHashSet[A]">LinkedHashSet</a><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Typers.this.global.Tree" id="1172633">typedStat</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1172653">stat</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443248" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501467" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isDeclarationOrTypeDef</a><span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#562562" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">OnlyDeclarationsError</a><span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#1172653" title="Typers.this.global.Tree">stat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> imp @ Import<a href="#1172700" title="Typers.this.global.Tree" id="1172704" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
              <a href="#560637" title="(x$1: Typers.this.Context)Unit">context</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560970" title="(imp: Typers.this.global.Import)Typers.this.Context">makeNewImport</a><span class="delimiter">(</span>imp<span class="delimiter">)</span>
              imp.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>
              <a href="#560734" title="(imp: Typers.this.global.Import)Typers.this.global.Import">typedImport</a><span class="delimiter">(</span>imp<span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#1172705" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="#1172631" title="Boolean">localTarget</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172630" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a><span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // skip typechecking of statements in a sequence where some other statement includes
                // the targetposition
                <a href="#1172653" title="Typers.this.global.Tree">stat</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.Typer" id="1172665">localTyper</a> = <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#1172629" title="Boolean">inBlock</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425068" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172653" title="Typers.this.global.Tree">stat</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23611" title="Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560949" title="()Unit">flushBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
                  <a href="#560207" title="Typers.this.Typer" class="keyword">this</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560974" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a>, <a href="#1168541" title="Typers.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // XXX this creates a spurious dead code warning if an exception is thrown
                // in a constructor, even if it is the only thing in the constructor.
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1172666">result</a> = <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#1172665" title="Typers.this.Typer">localTyper</a>.<a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501484" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#1172666" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560893" title="(x$1: Boolean)Unit">inConstructorSuffix</a> = <span title="Boolean(true)" class="keyword">true</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501482" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfConstrCall</a><span class="delimiter">(</span><a href="#1172666" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1172666" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445361" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <a href="#1168541" title="Typers.this.global.Symbol">exprOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443481" title="=&gt; Typers.this.global.Symbol">enclMethod</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445361" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="ContextErrors.scala.html#562561" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">ConstructorsOrderError</a><span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>

                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560735" title="(tree: Typers.this.global.Tree)Boolean">isWarnablePureExpression</a><span class="delimiter">(</span><a href="#1172666" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560986" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1172653" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
                  <span class="string">&quot;a pure expression does nothing in statement position; &quot;</span> <span title="String(&quot;a pure expression does nothing in statement position; you may be omitting necessary parentheses&quot;)">+</span>
                  <span class="string">&quot;you may be omitting necessary parentheses&quot;</span>
                <span class="delimiter">)</span>
                <a href="#1172632" title="scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]">statsErrors</a> <a href="../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[Typers.this.AbsTypeError])statsErrors.type">++=</a> <a href="#1172665" title="Typers.this.Typer">localTyper</a>.<a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560935" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>
                <a href="#1172666" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** 'accessor' and 'accessed' are so similar it becomes very difficult to
       *  follow the logic, so I renamed one to something distinct.
       */
      <span class="keyword">def</span> <a title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean" id="1172634">accesses</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1172710">looker</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="1172711">accessed</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1172711" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443615" title="=&gt; Boolean">hasLocalFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
           <span class="delimiter">(</span><a href="#1172711" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443602" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1172710" title="Typers.this.global.Symbol">looker</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443614" title="=&gt; Boolean">hasAccessorFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172711" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443614" title="=&gt; Boolean">hasAccessorFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1172711" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443596" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])Unit" id="1172635">checkNoDoubleDefs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1172712">stats</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="1172713">scope</a> = <span title="Typers.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#1172629" title="Boolean">inBlock</a><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <span class="keyword">else</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a>
        <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="1172714">e</a> = <a href="#1172713" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447308" title="=&gt; Typers.this.global.ScopeEntry">elems</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457242" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1172713" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#1172715" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="1172721">e1</a> = <a href="#1172713" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447343" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457242" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1172713" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#1172722" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172634" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172634" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443230" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1172629" title="Boolean">inBlock</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442064" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              // default getters are defined twice when multiple overloads have defaults. an
              // error for this is issued in RefChecks.checkDefaultsInOverloaded
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443318" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443318" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443628" title="=&gt; Boolean">hasDefaultFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442635" title="=&gt; Typers.this.global.ClassSymbol">BridgeClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442635" title="=&gt; Typers.this.global.ClassSymbol">BridgeClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Double definition detected:\n  &quot;)" class="string">&quot;Double definition detected:\n  &quot;</span> <span title="(x$1: Any)String">+</span>
                    <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#64156" title="(_1: Class[?0], _2: Typers.this.global.Type, _3: List[Typers.this.global.Symbol])(Class[?0], Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="()Class[_]">getClass</span>, <a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>, <a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n  &quot;)" class="string">&quot;\n  &quot;</span> <span title="(x$1: Any)String">+</span>
                    <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#64156" title="(_1: Class[?0], _2: Typers.this.global.Type, _3: List[Typers.this.global.Symbol])(Class[?0], Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="()Class[_]">getClass</span>, <a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>, <a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443381" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

                <a href="ContextErrors.scala.html#562613" title="(sym0: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Unit">DefDefinedTwiceError</a><span class="delimiter">(</span><a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
                <a href="#1172713" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447338" title="(e: Typers.this.global.ScopeEntry)Unit">unlink</a><span class="delimiter">(</span><a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span> // need to unlink to avoid later problems with lub; see #2779
              <span class="delimiter">}</span>
              <a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a> = <a href="#1172713" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447343" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#1172721" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1172714" title="Typers.this.global.ScopeEntry">e</a> = <a href="#1172714" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#457248" title="=&gt; Typers.this.global.ScopeEntry">next</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="1172636">addSynthetics</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1172773">stats</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="1172774">scope</a> = <span title="Typers.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#1172629" title="Boolean">inBlock</a><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <span class="keyword">else</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a>
        <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="1172775">newStats</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
        <span class="keyword">var</span> <a title="Boolean" id="1172776">moreToAdd</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1172776" title="Boolean">moreToAdd</a><span class="delimiter">)</span> <a href="#1172777" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Typers.this.global.ScopeEntry" id="1172778">initElems</a> = <a href="#1172774" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447308" title="=&gt; Typers.this.global.ScopeEntry">elems</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1172798">sym</a> &lt;- <a href="../../../reflect/internal/Scopes.scala.html#447347" title="(p: Typers.this.global.Symbol =&gt; Unit)Unit">scope</a><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1172814">tree</a> &lt;- <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560808" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <a href="../../../Option.scala.html#63839" title="(f: Typers.this.global.Tree =&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree])Unit">get</a> <a href="#1172798" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1172775" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.global.Tree)scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">+=</a> <a href="#1172633" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">(</span><a href="#1172814" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> // might add even more synthetics to the scope
              <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560808" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <a href="../../../collection/mutable/HashMap.scala.html#79212" title="(key: Typers.this.global.Symbol)scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">-=</a> <a href="#1172798" title="Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span>
          // the type completer of a synthetic might add more synthetics. example: if the
          // factory method of a case class (i.e. the constructor) has a default.
          <a href="#1172776" title="Boolean">moreToAdd</a> = <a href="#1172774" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447308" title="=&gt; Typers.this.global.ScopeEntry">elems</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1172778" title="Typers.this.global.ScopeEntry">initElems</a>
        <span class="delimiter">}</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1172775" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68051" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1172773" title="List[Typers.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // put default getters next to the method they belong to,
          // same for companion objects. fixes #2489 and #4036.
          // [Martin] This is pretty ugly. I think we could avoid
          // this code by associating defaults and companion objects
          // with the original tree instead of the new symbol.
          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean" id="1172856">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1172858">stat</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1172859">synt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Tree)" class="delimiter">(</a><a href="#1172858" title="Typers.this.global.Tree">stat</a>, <a href="#1172859" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span class="delimiter">(</span>DefDef<a title="Boolean" id="1172923" class="delimiter">(</a>_, statName, _, _, _, _<span class="delimiter">)</span>, DefDef<a title="Boolean" id="1172929" class="delimiter">(</a>mods, syntName, _, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              mods.<a href="../../../reflect/internal/HasFlags.scala.html#443628" title="=&gt; Boolean">hasDefaultFlag</a> <a href="#1172941" title="(x: Boolean)Boolean">&amp;&amp;</a> syntName.<a href="../../../Function1.scala.html#59562" title="()String">toString</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span>statName.<a href="../../../Function1.scala.html#59562" title="()String">toString</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span class="delimiter">(</span>ClassDef<a title="Boolean" id="1172936" class="delimiter">(</a>_, className, _, _<span class="delimiter">)</span>, ModuleDef<a title="Boolean" id="1172940" class="delimiter">(</a>_, moduleName, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              className.<a href="../../../reflect/internal/Names.scala.html#449298" title="=&gt; Typers.this.global.TermName">toTermName</a> <a href="#1172941" title="(x: Boolean)Boolean">==</a> moduleName

            <span class="keyword">case</span> _ =&gt; <a href="#1172941" title="(x: Boolean)Boolean" class="keyword">false</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="1172857">matching</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1172947">stat</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#1172969" title="(x: (scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree]))(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="1172949">pos</a>, <a href="../../../Tuple2.scala.html#61508" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="1172950">neg</a><span class="delimiter">)</span> = <a href="#1172775" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<a href="../../../collection/TraversableLike.scala.html#58988" title="(p: Typers.this.global.Tree =&gt; Boolean)(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])">partition</a><a href="../../../Tuple2.scala.html#1222" title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree]) @unchecked" class="delimiter">(</a><a title="Typers.this.global.Tree" id="1172956">synt</a> =&gt; <a href="#1172856" title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean">matches</a><span class="delimiter">(</span><a href="#1172947" title="Typers.this.global.Tree">stat</a>, <a href="#1172956" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1172775" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> = <a href="#1172950" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">neg</a>
            <a href="#1172949" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">pos</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[Typers.this.global.Tree]">toList</a>
          <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="#1172773" title="List[Typers.this.global.Tree]">stats</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76176" title="(z: List[Typers.this.global.Tree])(f: (Typers.this.global.Tree, List[Typers.this.global.Tree]) =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">foldRight</a> List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1173001">stat</a>, <a title="List[Typers.this.global.Tree]" id="1173002">res</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#1173001" title="Typers.this.global.Tree">stat</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1172857" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">matching</a><span class="delimiter">(</span><a href="#1173001" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63646" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#1173002" title="List[Typers.this.global.Tree]">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63646" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#1172775" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[Typers.this.global.Tree]">toList</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1172637">stats1</a> = <a href="#560671" title="(c: Typers.this.Context)(f: =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">withSavedContext</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1173027">result</a> = <a href="#1168540" title="List[Typers.this.global.Tree]">stats</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <a href="#1172633" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a>
        <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560949" title="()Unit">flushBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#1173027" title="List[Typers.this.global.Tree]">result</a>
      <span class="delimiter">}</span>
      <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560947" title="(errors: scala.collection.mutable.Set[Typers.this.AbsTypeError])scala.collection.mutable.Set[Typers.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#1172632" title="scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]">statsErrors</a><span class="delimiter">)</span>
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#1172637" title="List[Typers.this.global.Tree]">stats1</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#1172635" title="(stats: List[Typers.this.global.Tree])Unit">checkNoDoubleDefs</a><span class="delimiter">(</span><a href="#1172637" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span>
        <a href="#1172636" title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">addSynthetics</a><span class="delimiter">(</span><a href="#1172637" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560737">typedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166588">arg</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1166589">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Int" id="1166590">newmode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1166591">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1173039">typedMode</a> = <a href="Modes.scala.html#560166" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#1166589" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <a href="#1166590" title="Int">newmode</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1173040">t</a> = <a href="#560659" title="(inConstr: Boolean)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withCondConstrTyper</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#1166589" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(8)">SCCmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1173059" title="Typers.this.Typer">_</a>.<a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1166588" title="Typers.this.global.Tree">arg</a>, <a href="#1173039" title="Int">typedMode</a>, <a href="#1166591" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="TypeDiagnostics.scala.html#560614" title="Typer.this.checkDead.type">checkDead</a>.<a href="TypeDiagnostics.scala.html#1162988" title="(mode: Int, tree: Typers.this.global.Tree)Typers.this.global.Tree">inMode</a><span class="delimiter">(</span><a href="#1173039" title="Int">typedMode</a>, <a href="#1173040" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]" id="560738">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1166577">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="1166578">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span> =
      <a href="#1166577" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166587">arg</a> =&gt; <a href="#560737" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#1166587" title="Typers.this.global.Tree">arg</a>, <a href="#1166578" title="Int">mode</a>, <span title="Int(0)" class="int">0</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="560739">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1166572">args0</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="1166573">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="List[Typers.this.global.Type]" id="1166574">formals0</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="1166575">adapted0</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1173066">sticky</a> = <a href="Modes.scala.html#560166" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#1166573" title="Int">mode</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="1173067">loop</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1173068">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="1173069">formals</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="1173070">adapted</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173068" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1173070" title="List[Typers.this.global.Type]">adapted</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // No formals left or * indicates varargs.
          <span class="keyword">val</span> <a title="Boolean" id="1173071">isVarArgs</a> = <a href="#1173069" title="List[Typers.this.global.Type]">formals</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1173069" title="List[Typers.this.global.Type]">formals</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Type]">tail</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442310" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#1173069" title="List[Typers.this.global.Type]">formals</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="1173072">typedMode</a> = <a href="#1173066" title="Int">sticky</a> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span class="delimiter">(</span>
            <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173071" title="Boolean">isVarArgs</a><span class="delimiter">)</span> STARmode <span title="Int(36864)">|</span> BYVALmode
            <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442307" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#1173069" title="List[Typers.this.global.Type]">formals</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span>
            <span class="keyword">else</span> <span title="Int(32768)">BYVALmode</span>
          <span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1173073">tree</a> = <a href="#560737" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#1173068" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree">head</a>, <a href="#1166573" title="Int">mode</a>, <a href="#1173072" title="Int">typedMode</a>, <a href="#1173070" title="List[Typers.this.global.Type]">adapted</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Macros.scala.html#560465" title="=&gt; Boolean">hasPendingMacroExpansions</a><span class="delimiter">)</span> <a href="#1173073" title="Typers.this.global.Tree">tree</a> = <a href="Macros.scala.html#560476" title="(typer: Typers.this.Typer, expandee: Typers.this.global.Tree)Typers.this.global.Tree">macroExpandAll</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a>, <a href="#1173073" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          // formals may be empty, so don't call tail
          <a href="#1173073" title="Typers.this.global.Tree">tree</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1173067" title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]">loop</a><span class="delimiter">(</span><a href="#1173068" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Tree]">tail</a>, <a href="#1173069" title="List[Typers.this.global.Type]">formals</a> <a href="../../../collection/immutable/List.scala.html#63667" title="(n: Int)List[Typers.this.global.Type]">drop</a> <span title="Int(1)" class="int">1</span>, <a href="#1173070" title="List[Typers.this.global.Type]">adapted</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Type]">tail</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#1173067" title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]">loop</a><span class="delimiter">(</span><a href="#1166572" title="List[Typers.this.global.Tree]">args0</a>, <a href="#1166574" title="List[Typers.this.global.Type]">formals0</a>, <a href="#1166575" title="List[Typers.this.global.Type]">adapted0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Does function need to be instantiated, because a missing parameter
     *  in an argument closure overlaps with an uninstantiated formal?
     */
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean" id="560740">needsInstantiation</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1173091">tparams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="1173092">formals</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Tree]" id="1173093">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tparam: Typers.this.global.Symbol)Boolean" id="1173096">isLowerBounded</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1173097">tparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1173097" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443236" title="=&gt; Boolean">isBottomClass</a>

      <a href="../../../reflect/internal/util/Collections.scala.html#440738" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.Tree])(f: (Typers.this.global.Type, Typers.this.global.Tree) =&gt; Boolean)Boolean">exists2</a><span class="delimiter">(</span><a href="#1173092" title="List[Typers.this.global.Type]">formals</a>, <a href="#1173093" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction2[Typers.this.global.Type,Typers.this.global.Tree,Boolean] with Serializable" id="1173120" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span>formal, Function<a title="Boolean" id="1173207" class="delimiter">(</a>vparams, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span>vparams <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1173141" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          vparams.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57912" title="(x: Int)Boolean">&lt;=</a> <a href="../../../reflect/internal/Definitions.scala.html#442469" title="=&gt; Int">MaxFunctionArity</a> <a href="#1173208" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span>formal <a href="../../../reflect/internal/Types.scala.html#442036" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../Array.scala.html#57450" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span>vparams.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeRef<a href="#1173192" title="Boolean" id="1173196" class="delimiter">(</a>_, _, formalargs<span class="delimiter">)</span> =&gt;
              <span class="delimiter">(</span> <a href="../../../reflect/internal/util/Collections.scala.html#440738" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.ValDef])(f: (Typers.this.global.Type, Typers.this.global.ValDef) =&gt; Boolean)Boolean">exists2</a><span class="delimiter">(</span>formalargs, vparams<span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1173173">formal</a>, <a title="Typers.this.global.ValDef" id="1173174">vparam</a><span class="delimiter">)</span> =&gt;
                        <a href="#1173174" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/api/Trees.scala.html#427473" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1173091" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="#1173173" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#442056" title="(sym: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#1173197" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1173091" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76169" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</a> <a href="#1173096" title="(tparam: Typers.this.global.Symbol)Boolean">isLowerBounded</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#1173197" title="(x: Boolean)Boolean" class="keyword">false</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#1173208" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Is `tree` a block created by a named application?
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="560741">isNamedApplyBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1133091">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560886" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a> <a href="../../../Option.scala.html#63837" title="(p: ((Typers.this.global.Tree, Typers.this.NamedApplyInfo)) =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1133096" title="(Typers.this.global.Tree, Typers.this.NamedApplyInfo)">_</a>.<a href="../../../Tuple2.scala.html#61506" title="=&gt; Typers.this.global.Tree">_1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1133091" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean" id="560742">callToCompanionConstr</a><span class="delimiter">(</span><a title="Typers.this.Context" id="1173220">context</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="1173221">calledFun</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#1173221" title="Typers.this.global.Symbol">calledFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="1173224">methCtx</a> = <a href="#1173220" title="Typers.this.Context">context</a>.<a href="Contexts.scala.html#560868" title="=&gt; Typers.this.Context">enclMethod</a>
        <span class="delimiter">(</span><a href="#1173224" title="Typers.this.Context">methCtx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#560072" title="Typers.this.NoContext.type">NoContext</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1173229">contextFun</a> = <a href="#1173224" title="Typers.this.Context">methCtx</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <a href="#1173229" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#443350" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1173229" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443245" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="Namers.scala.html#560128" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#1173221" title="Typers.this.global.Symbol">calledFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1173220" title="Typers.this.Context">context</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1173229" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560743">doTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1133211">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1133212">fun0</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1133213">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="1133214">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1133215">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      // TODO_NMT: check the assumption that args nonEmpty
      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Apply" id="1173236">duplErrTree</a> = <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1133212" title="Typers.this.global.Tree">fun0</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply" id="1173237">duplErrorTree</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="1173242">err</a>: <a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="Infer.scala.html#562629" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#1173242" title="Typers.this.AbsTypeError">err</a><span class="delimiter">)</span>; <a href="#1173236" title="=&gt; Typers.this.global.Apply">duplErrTree</a> <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1173238">fun</a> = <a href="#1133212" title="Typers.this.global.Tree">fun0</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443271" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // remove alternatives with wrong number of parameters without looking at types.
        // less expensive than including them in inferMethodAlternatvie (see below).
        <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree)Typers.this.global.Type" id="1173245">shapeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1173249">arg</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="#1173249" title="Typers.this.global.Tree">arg</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Function<a href="#1173311" title="Typers.this.global.Type" id="1173313" class="delimiter">(</a>vparams, body<span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Definitions.scala.html#442481" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><a href="#1173319" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a>vparams <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="1173270">vparam</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#1173245" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span>body<span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> AssignOrNamedArg<a href="#1173311" title="Typers.this.global.Type" id="1173316" class="delimiter">(</a>Ident<a title="Typers.this.global.Type" id="1173318" class="delimiter">(</a>name<span class="delimiter">)</span>, rhs<span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#536601" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><a href="#1173319" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a>name, <a href="#1173245" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span>rhs<span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Typers.this.global.definitions.NothingClass.type">NothingClass</a>.<a href="#1173319" title="(x: Typers.this.global.Type)Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1173246">argtypes</a> = <a href="#1133213" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <a href="#1173245" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1173247">pre</a> = <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; Typers.this.global.Type">prefix</a>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1173248">sym</a> = <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="1173374">alt</a> =&gt;
          // must use pt as expected type, not WildcardType (a tempting quick fix to #2665)
          // now fixed by using isWeaklyCompatible in exprTypeArgs
          // TODO: understand why exactly -- some types were not inferred anymore (`ant clean quick.bin` failed)
          // (I had expected inferMethodAlternative to pick up the slack introduced by using WildcardType here)
          //
          // @PP responds: I changed it to pass WildcardType instead of pt and only one line in
          // trunk (excluding scalacheck, which had another) failed to compile. It was this line in
          // Types: &quot;refs = Array(Map(), Map())&quot;.  I determined that inference fails if there are at
          // least two invariant type parameters. See the test case I checked in to help backstop:
          // pos/isApplicableSafe.scala.
          <a href="Infer.scala.html#562650" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>, <a href="Infer.scala.html#562645" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#1173247" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1173374" title="Typers.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1173246" title="List[Typers.this.global.Type]">argtypes</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173248" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443271" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1173382">sym1</a> = <a href="#1173248" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1173388">alt</a> =&gt; <span class="delimiter">{</span>
            // eliminate functions that would result from tupling transforms
            // keeps alternatives with repeated params
            <a href="Infer.scala.html#562646" title="(tp: Typers.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="Infer.scala.html#562645" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#1173388" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#1173246" title="List[Typers.this.global.Type]">argtypes</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            // also keep alts which define at least one default
            <a href="#1173388" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442008" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1173399" title="List[Typers.this.global.Symbol]">_</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1173406" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443277" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173382" title="Typers.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#1173248" title="Typers.this.global.Symbol">sym</a> = <a href="#1173382" title="Typers.this.global.Symbol">sym1</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173248" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#1173238" title="Typers.this.global.Tree">fun</a> = <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">setSymbol</a> <a href="#1173248" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</a> <a href="#1173247" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1173248" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="Modes.scala.html#560167" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> OverloadedType<a href="#1174562" title="Typers.this.global.Tree" id="1174564" class="delimiter">(</a>pre, alts<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1173426">undetparams</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560933" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" id="1173427">argtpes</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">ListBuffer</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="keyword">val</span> <a title="Int" id="1173428">amode</a> = <a href="#560184" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1133214" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1173429">args1</a> = <a href="#1133213" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[Typers.this.global.Tree,Typers.this.global.Tree] with Serializable" id="1173440" class="delimiter">{</a>
            <span class="keyword">case</span> arg @ AssignOrNamedArg<a href="#1173472" title="Typers.this.global.Tree" id="1173475" class="delimiter">(</a>Ident<a title="Typers.this.global.Tree" id="1173477" class="delimiter">(</a>name<span class="delimiter">)</span>, rhs<span class="delimiter">)</span> =&gt;
              // named args: only type the righthand sides (&quot;unknown identifier&quot; errors otherwise)
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1173450">rhs1</a> = <a href="#560737" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span>rhs, <a href="#1173428" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
              <a href="#1173427" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.global.Type)argtpes.type">+=</a> <a href="../../../reflect/internal/Types.scala.html#536601" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span>name, <a href="#1173450" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441991" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
              // the assign is untyped; that's ok because we call doTypedApply
              <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../../../reflect/api/Trees.scala.html#23654" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#428664" title="=&gt; Typers.this.global.Tree">lhs</a> , <a href="#1173450" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">case</span> arg =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1173468">arg1</a> = <a href="#560737" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span>arg, <a href="#1173428" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
              <a href="#1173427" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.global.Type)argtpes.type">+=</a> <a href="#1173468" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441991" title="=&gt; Typers.this.global.Type">deconst</a>
              <a href="#1173468" title="Typers.this.global.Tree">arg1</a>
          <span class="delimiter">}</span>
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#1173426" title="List[Typers.this.global.Symbol]">undetparams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#562689" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], argtpes: List[Typers.this.global.Type], pt0: Typers.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173426" title="List[Typers.this.global.Symbol]">undetparams</a>, <a href="#1173427" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#67864" title="=&gt; List[Typers.this.global.Type]">toList</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a>, varArgsOnly = <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501505" title="(trees: List[Typers.this.global.treeInfo.global.Tree])Boolean">isWildcardStarArgList</a><span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#560167" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>, <a href="#1173429" title="List[Typers.this.global.Tree]">args1</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> mt @ MethodType<a href="#1174562" title="Typers.this.global.Tree" id="1174567" class="delimiter">(</a>params, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1173533">paramTypes</a> = mt.<a href="../../../reflect/internal/Types.scala.html#448363" title="=&gt; List[Typers.this.global.Type]">paramTypes</a>
          // repeat vararg as often as needed, remove by-name
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1173534">formals</a> = <a href="Infer.scala.html#560258" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#1173533" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a><span class="delimiter">)</span>

          /** Try packing all arguments into a Tuple and apply `fun`
           *  to that. This is the last thing which is tried (after
           *  default arguments)
           */
          <span class="keyword">def</span> <a title="=&gt; Option[Typers.this.global.Tree]" id="1173535">tryTupleApply</a>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            // if 1 formal, 1 arg (a tuple), otherwise unmodified args
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1173541">tupleArgs</a> = <a href="Infer.scala.html#560260" title="(pos: Typers.this.global.Position, actuals: List[Typers.this.global.Tree], nformals: Int)List[Typers.this.global.Tree]">actualArgs</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445357" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1173534" title="List[Typers.this.global.Type]">formals</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a><span class="delimiter">)</span>

            <span title="Option[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1173541" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Infer.scala.html#562648" title="(args: List[AnyRef], params: List[Typers.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, params<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // expected one argument, but got 0 or &gt;1 ==&gt;  try applying to tuple
              // the inner &quot;doTypedApply&quot; does &quot;extractUndetparams&quot; =&gt; restore when it fails
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1173550">savedUndetparams</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
              <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1164815" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a href="#1173556" title="Typers.this.Typer">_</a>.<a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173541" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> SilentResultValue<a href="#1173578" title="Option[Typers.this.global.Tree]" id="1173580" class="delimiter">(</a>t<span class="delimiter">)</span> =&gt;
                  // Depending on user options, may warn or error here if
                  // a Unit or tuple was inserted.
                  <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.Tree)Some[Typers.this.global.Tree]">Some</a><span class="delimiter">(</span>t<span class="delimiter">)</span> <a href="#1173581" title="(x: Option[Typers.this.global.Tree])Option[Typers.this.global.Tree]">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1173569">tupledTree</a> =&gt;
                       <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560176" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span>
                    <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1173569" title="Typers.this.global.Tree">tupledTree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>
                    <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="Adaptations.scala.html#560833" title="(t: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Boolean">checkValidAdaptation</a><span class="delimiter">(</span><a href="#1173569" title="Typers.this.global.Tree">tupledTree</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                  <span class="delimiter">)</span>
                <span class="keyword">case</span> _ =&gt;
                  <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#1173550" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
                  <a href="../../../Option.scala.html#2498" title="None.type">None</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../Option.scala.html#2498" title="None.type">None</a>
          <span class="delimiter">}</span>

          /** Treats an application which uses named or default arguments.
           *  Also works if names + a vararg used: when names are used, the vararg
           *  parameter has to be specified exactly once. Note that combining varargs
           *  and defaults is ruled out by typedDefDef.
           */
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="1173536">tryNamesDefaults</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="1173586">lencmp</a> = <a href="../../../reflect/internal/Types.scala.html#441503" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1173534" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

            <span class="keyword">def</span> <a title="()Any" id="1173587">checkNotMacro</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1173600">sym</a> =&gt; <a href="#1173600" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1173600" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1173600" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443318" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562579" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">NamedAndDefaultArgumentsNotSupportedForMacros</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>mt.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#1173236" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#560175" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // #2064
              <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562580" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">WrongNumberOfArgsError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173586" title="Int">lencmp</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1173535" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <a href="../../../Option.scala.html#63814" title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</a> <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562581" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">TooManyArgsNamesDefaultsError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173586" title="Int">lencmp</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // we don't need defaults. names were used, so this application is transformed
              // into a block (@see transformNamedApplication in NamesDefaults)
              <span class="keyword">val</span> <a href="#1173653" title="(x: (List[Typers.this.global.Tree], Array[Int]))(List[Typers.this.global.Tree], Array[Int])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[Typers.this.global.Tree]" id="1173636">namelessArgs</a>, <a href="../../../Tuple2.scala.html#61508" title="Array[Int]" id="1173637">argPos</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#560509" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><a href="../../../Tuple2.scala.html#1222" title="(List[Typers.this.global.Tree], Array[Int]) @unchecked" class="delimiter">(</a><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, params<span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173636" title="List[Typers.this.global.Tree]">namelessArgs</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#443953" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1173236" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="NamesDefaults.scala.html#560497" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#1173637" title="Array[Int]">argPos</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1173534" title="List[Typers.this.global.Type]">formals</a>, params<span class="delimiter">)</span><span class="delimiter">)</span>
                // !isIdentity indicates that named arguments are used to re-order arguments
                <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562584" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">MultipleVarargError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#560497" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#1173637" title="Array[Int]">argPos</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560741" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // if there's no re-ordering, and fun is not transformed, no need to transform
                // more than an optimization, e.g. important in &quot;synchronized { x = update-x }&quot;
                <a href="#1173587" title="()Any">checkNotMacro</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173636" title="List[Typers.this.global.Tree]">namelessArgs</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#1173587" title="()Any">checkNotMacro</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <a href="NamesDefaults.scala.html#560498" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span>
                                          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173636" title="List[Typers.this.global.Tree]">namelessArgs</a><span class="delimiter">)</span>, <a href="../../../LowPriorityImplicits.scala.html#8353" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              // defaults are needed. they are added to the argument list in named style as
              // calls to the default getters. Example:
              //  foo[Int](a)()  ==&gt;  foo[Int](a)(b = foo$qual.foo$default$2[Int](a))
              <a href="#1173587" title="()Any">checkNotMacro</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1173682">fun1</a> = <a href="NamesDefaults.scala.html#560498" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a title="Int" id="1173684">x</a> =&gt; <a href="#1173684" title="Int">x</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun1</a>.<a href="../../../reflect/internal/Trees.scala.html#443953" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#1173236" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#560741" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#1173682" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>, <a href="#1173682" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> NamedApplyInfo<a href="#1173725" title="(x: (Option[Typers.this.global.Tree], List[Typers.this.global.Tree], List[List[Typers.this.global.Tree]]))(Option[Typers.this.global.Tree], List[Typers.this.global.Tree], List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#61402" title="Option[Typers.this.global.Tree]" id="1173688">qual</a>, <a href="../../../Tuple3.scala.html#61404" title="List[Typers.this.global.Tree]" id="1173689">targs</a>, <a href="../../../Tuple3.scala.html#61406" title="List[List[Typers.this.global.Tree]]" id="1173690">previousArgss</a>, _<span class="delimiter">)</span> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560886" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<a href="../../../Option.scala.html#63813" title="=&gt; (Typers.this.global.Tree, Typers.this.NamedApplyInfo)">get</a>.<a href="../../../Tuple2.scala.html#61508" title="=&gt; Typers.this.NamedApplyInfo">_2</a>
                <span class="keyword">val</span> <a title="Boolean" id="1173691">blockIsEmpty</a> = <a href="#1173682" title="Typers.this.global.Tree">fun1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> Block<a href="#1173734" title="Boolean" id="1173738" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11552" title="Boolean" id="1173740">Nil</a>, _<span class="delimiter">)</span> =&gt;
                    // if the block does not have any ValDef we can remove it. Note that the call to
                    // &quot;transformNamedApplication&quot; is always needed in order to obtain targs/previousArgss
                    <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560887" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="../../../Option.scala.html#2498" title="None.type">None</a>
                    <span title="Boolean(true)" class="keyword">true</span>
                  <span class="keyword">case</span> _ =&gt; <a href="#1173741" title="(x: Boolean)Boolean" class="keyword">false</a>
                <span class="delimiter">}</span>
                <span class="keyword">val</span> <a href="#1173769" title="(x: (List[Typers.this.global.Tree], List[Typers.this.global.Symbol]))(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[Typers.this.global.Tree]" id="1173693">allArgs</a>, <a href="../../../Tuple2.scala.html#61508" title="List[Typers.this.global.Symbol]" id="1173694">missing</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#560502" title="(givenArgs: List[Typers.this.global.Tree], qual: Option[Typers.this.global.Tree], targs: List[Typers.this.global.Tree], previousArgss: List[List[Typers.this.global.Tree]], params: List[Typers.this.global.Symbol], pos: scala.tools.nsc.util.Position, context: Typers.this.Context)(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])">addDefaults</a><a href="../../../Tuple2.scala.html#1222" title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</a><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1173688" title="Option[Typers.this.global.Tree]">qual</a>, <a href="#1173689" title="List[Typers.this.global.Tree]">targs</a>, <a href="#1173690" title="List[List[Typers.this.global.Tree]]">previousArgss</a>, params, <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1173695">funSym</a> = <a href="#1173682" title="Typers.this.global.Tree">fun1</a> <span class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> Block<a href="#1173779" title="Typers.this.global.Symbol" id="1173782" class="delimiter">(</a>_, expr<span class="delimiter">)</span> =&gt; expr.<a href="#1173783" title="(x: Typers.this.global.Symbol)Typers.this.global.Symbol">symbol</a> <span class="delimiter">}</span>
                <span class="keyword">val</span> <a title="Int" id="1173696">lencmp2</a> = <a href="../../../reflect/internal/Types.scala.html#441503" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#1173693" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#1173534" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1173693" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560742" title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean">callToCompanionConstr</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>, <a href="#1173695" title="Typers.this.global.Symbol">funSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562585" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">ModuleUsingCompanionClassDefaultArgsErrror</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173696" title="Int">lencmp2</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="NamesDefaults.scala.html#560509" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1173693" title="List[Typers.this.global.Tree]">allArgs</a>, params<span class="delimiter">)</span> // #3818
                  <a href="#1173236" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173696" title="Int">lencmp2</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // useful when a default doesn't match parameter type, e.g. def f[T](x:T=&quot;a&quot;); f[Int]()
                  <span class="keyword">val</span> <a title="String" id="1173800">note</a> = <span title="String(&quot;Error occurred in an application involving default arguments.&quot;)" class="string">&quot;Error occurred in an application involving default arguments.&quot;</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560901" title="=&gt; List[String]">diagnostic</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1173800" title="String">note</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560902" title="(x$1: List[String])Unit">diagnostic</a> = <a href="#1173800" title="String">note</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: String)List[String]">::</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560901" title="=&gt; List[String]">diagnostic</a>
                  <a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173691" title="Boolean">blockIsEmpty</a><span class="delimiter">)</span> <a href="#1173238" title="Typers.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="#1173682" title="Typers.this.global.Tree">fun1</a>, <a href="#1173693" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#1173535" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <a href="../../../Option.scala.html#63814" title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</a> <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562586" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, missing0: List[Typers.this.global.Symbol])Typers.this.NormalTypeError">NotEnoughArgsError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173694" title="List[Typers.this.global.Symbol]">missing</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1173534" title="List[Typers.this.global.Type]">formals</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>   // wrong nb of arguments
              <span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="NamesDefaults.scala.html#560490" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>        // uses a named argument
              <a href="#560741" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>       // fun was transformed to a named apply block =&gt;
                                              // integrate this application into the block
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560758" title="Typer.this.dyna.type">dyna</a>.<a href="#1173828" title="(fun: Typers.this.global.Tree)Boolean">isApplyDynamicNamed</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#560758" title="Typer.this.dyna.type">dyna</a>.<a href="#1173829" title="(orig: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedNamedApply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#1173536" title="=&gt; Typers.this.global.Tree">tryNamesDefaults</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1173837">tparams</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560933" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> // all type params are defined
              // In order for checkDead not to be misled by the unfortunate special
              // case of AnyRef#synchronized (which is implemented with signature T =&gt; T
              // but behaves as if it were (=&gt; T) =&gt; T) we need to know what is the actual
              // target of a call.  Since this information is no longer available from
              // typedArg, it is recorded here.
              <a href="TypeDiagnostics.scala.html#560614" title="Typer.this.checkDead.type">checkDead</a>.<a href="TypeDiagnostics.scala.html#1162986" title="(fn: Typers.this.global.Tree)Unit">updateExpr</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1173838">args1</a> = <a href="#560739" title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#560184" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1133214" title="Int">mode</a><span class="delimiter">)</span>, <a href="#1173533" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#1173534" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
              // instantiate dependent method types, must preserve singleton types where possible (stableTypeFor) -- example use case:
              // val foo = &quot;foo&quot;; def precise(x: String)(y: x.type): x.type = {...}; val bar : foo.type = precise(foo)(foo)
              // precise(foo) : foo.type =&gt; foo.type
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1173839">restpe</a> = mt.<a href="../../../reflect/internal/Types.scala.html#448365" title="(actuals: List[Typers.this.global.Type])Typers.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#1173838" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.gen.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.gen.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1173866">arg</a> =&gt; <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500038" title="(tree: Typers.this.global.gen.global.Tree)Option[Typers.this.global.gen.global.Type]">stableTypeFor</a><span class="delimiter">(</span><a href="#1173866" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#63814" title="(default: =&gt; Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Type">getOrElse</a> <a href="#1173866" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="1173840">ifPatternSkipFormals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1173900">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1173900" title="Typers.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> MethodType<a href="#1173905" title="Typers.this.global.Type" id="1173908" class="delimiter">(</a>_, rtp<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#560175" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#1173909" title="(x: Typers.this.global.Type)Typers.this.global.Type">rtp</a>
                <span class="keyword">case</span> _ =&gt; <a href="#1173909" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp</a>
              <span class="delimiter">}</span>

              // Replace the Delegate-Chainer methods += and -= with corresponding
              // + and - calls, which are translated in the code generator into
              // Combine and Remove
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559775" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1173238" title="Typers.this.global.Tree">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> Select<a href="#1173971" title="Unit" id="1173973" class="delimiter">(</a>qual, name<span class="delimiter">)</span> =&gt;
                   <a href="#1173974" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441512" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="../../../reflect/internal/Definitions.scala.html#442531" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                      <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441747" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441747" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;-=&quot;)" class="string">&quot;-=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">{</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.TermName" id="1173935">n</a> = <span title="Typers.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441747" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446819" title="=&gt; Typers.this.global.TermName">PLUS</a> <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446809" title="=&gt; Typers.this.global.TermName">MINUS</a>
                       <span class="keyword">val</span> <a title="Typers.this.global.Select" id="1173936">f</a> = <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>qual, <a href="#1173935" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
                       // the compiler thinks, the PLUS method takes only one argument,
                       // but he thinks it's an instance method -&gt; still two ref's on the stack
                       //  -&gt; translated by backend
                       <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="1173937">rhs</a> = <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173936" title="Typers.this.global.Select">f</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                       <span title="Nothing" class="keyword">return</span> <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#436590" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span>qual, <a href="#1173937" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">}</span>
                  <span class="keyword">case</span> _ =&gt; <a href="#1173974" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              /** This is translating uses of List() into Nil.  This is less
               *  than ideal from a consistency standpoint, but it shouldn't be
               *  altered without due caution.
               *  ... this also causes bootstrapping cycles if List_apply is
               *  forced during kind-arity checking, so it is guarded by additional
               *  tests to ensure we're sufficiently far along.
               */
              <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559776" title="=&gt; Boolean">forInteractive</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443374" title="=&gt; Boolean">isInitialized</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#442336" title="=&gt; Typers.this.global.ModuleSymbol">ListModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#443436" title="=&gt; Boolean">hasCompleteInfo</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442338" title="=&gt; Typers.this.global.Symbol">List_apply</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500055" title="=&gt; Typers.this.global.gen.global.Tree">mkNil</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">setType</a> <a href="#1173839" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="ConstantFolder.scala.html#648053" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173838" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Apply">setType</a> <a href="#1173840" title="(tp: Typers.this.global.Type)Typers.this.global.Type">ifPatternSkipFormals</a><span class="delimiter">(</span><a href="#1173839" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560740" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean">needsInstantiation</a><span class="delimiter">(</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1173534" title="List[Typers.this.global.Type]">formals</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              //println(&quot;needs inst &quot;+fun+&quot; &quot;+tparams+&quot;/&quot;+(tparams map (_.info)))
              <a href="Infer.scala.html#562660" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Modes.scala.html#560175" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a><span class="delimiter">)</span>, <a href="Modes.scala.html#560179" title="(mode: Int)String">modeString</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> // this case cannot arise for patterns
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1174003">lenientTargs</a> = <a href="Infer.scala.html#562640" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.Type]">protoTypeArgs</a><span class="delimiter">(</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1173534" title="List[Typers.this.global.Type]">formals</a>, mt.<a href="../../../reflect/internal/Types.scala.html#442004" title="=&gt; Typers.this.global.Type">resultApprox</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1174004">strictTargs</a> = <a href="../../../reflect/internal/util/Collections.scala.html#440665" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.Symbol])(f: (Typers.this.global.Type, Typers.this.global.Symbol) =&gt; Typers.this.global.Type)List[Typers.this.global.Type]">map2</a><span class="delimiter">(</span><a href="#1174003" title="List[Typers.this.global.Type]">lenientTargs</a>, <a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1174037">targ</a>, <a title="Typers.this.global.Symbol" id="1174038">tparam</a><span class="delimiter">)</span> =&gt;
                <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174037" title="Typers.this.global.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span> <a href="#1174038" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#1174037" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span> //@M TODO: should probably be .tpeHK
              <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="1174005">remainingParams</a> = <a href="#1173533" title="List[Typers.this.global.Type]">paramTypes</a>
              <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree" id="1174006">typedArgToPoly</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1174045">arg</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1174046">formal</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span> //TR TODO: cleanup
                <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1174047">lenientPt</a> = <a href="#1174046" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#442014" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1174003" title="List[Typers.this.global.Type]">lenientTargs</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Int" id="1174048">newmode</a> =
                  <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442307" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#1174005" title="List[Typers.this.global.Type]">remainingParams</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(32)">POLYmode</span>
                  <span class="keyword">else</span> POLYmode <span title="Int(32800)">|</span> BYVALmode
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174005" title="List[Typers.this.global.Type]">remainingParams</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Type]">tail</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#1174005" title="List[Typers.this.global.Type]">remainingParams</a> = <a href="#1174005" title="List[Typers.this.global.Type]">remainingParams</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Type]">tail</a>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1174049">arg1</a> = <a href="#560737" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#1174045" title="Typers.this.global.Tree">arg</a>, <a href="#560184" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1133214" title="Int">mode</a><span class="delimiter">)</span>, <a href="#1174048" title="Int">newmode</a>, <a href="#1174047" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1174050">argtparams</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560933" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1174050" title="List[Typers.this.global.Symbol]">argtparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1174061">strictPt</a> = <a href="#1174046" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#442014" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1174004" title="List[Typers.this.global.Type]">strictTargs</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#562659" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], strictPt: Typers.this.global.Type, lenientPt: Typers.this.global.Type)Unit">inferArgumentInstance</a><span class="delimiter">(</span><a href="#1174049" title="Typers.this.global.Tree">arg1</a>, <a href="#1174050" title="List[Typers.this.global.Symbol]">argtparams</a>, <a href="#1174061" title="Typers.this.global.Type">strictPt</a>, <a href="#1174047" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                  <a href="#1174049" title="Typers.this.global.Tree">arg1</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1174049" title="Typers.this.global.Tree">arg1</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1174007">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#440665" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2</a><span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1173534" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1174006" title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree">typedArgToPoly</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174007" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">}</span><span class="delimiter">)</span> <a href="#1173236" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer method inst &quot;)" class="string">&quot;infer method inst &quot;</span><span title="(x$1: Any)String">+</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, tparams = &quot;)" class="string">&quot;, tparams = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, args = &quot;)" class="string">&quot;, args = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1174007" title="List[Typers.this.global.Tree]">args1</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</a><a href="#1174119" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1133215" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, lobounds = &quot;)" class="string">&quot;, lobounds = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</a><a href="#1174163" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; Typers.this.global.Type">lo</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, parambounds = &quot;)" class="string">&quot;, parambounds = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</a><a href="#1174201" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> //debug
                // define the undetparams which have been fixed by this param list, replace the corresponding symbols in &quot;fun&quot;
                // returns those undetparams which have not been instantiated.
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1174101">undetparams</a> = <a href="Infer.scala.html#562662" title="(fn: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], args: List[Typers.this.global.Tree], pt0: Typers.this.global.Type)List[Typers.this.global.Symbol]">inferMethodInstance</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1173837" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1174007" title="List[Typers.this.global.Tree]">args1</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1174102">result</a> = <a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>, <a href="#1174007" title="List[Typers.this.global.Tree]">args1</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#1174101" title="List[Typers.this.global.Symbol]">undetparams</a>
                <a href="#1174102" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> SingleType<a href="#1174562" title="Typers.this.global.Tree" id="1174571" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
          <a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><a href="#1174574" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</a> <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.Tree" id="1174573">ErrorType</a> =&gt;
          <a href="#1174574" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1133211" title="Typers.this.global.Tree">tree</a>
          // @H change to setError(treeCopy.Apply(tree, fun, args))
        /* --- begin unapply  --- */

        <span class="keyword">case</span> otpe <span class="keyword">if</span> <a href="Modes.scala.html#560175" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#1133214" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Unapplies.scala.html#560355" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span>otpe<span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="../../../reflect/internal/Definitions.scala.html#442465" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562587" title="(fun: Typers.this.global.Tree)Typers.this.NormalTypeError">TooManyArgsPatternError</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>

          //
          <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="1174245">freshArgType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1174256">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1222" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, Type<span class="delimiter">)</span> = <a href="#1174256" title="Typers.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> MethodType<a href="#1174310" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="1174314" class="delimiter">(</a>param <a title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="1174316">::</a> _, _<span class="delimiter">)</span> =&gt;
              <a href="#1174323" title="(x: (List[Typers.this.global.Symbol], Typers.this.global.Type))(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, param.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> PolyType<a href="#1174310" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="1174318" class="delimiter">(</a>tparams, restpe<span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/internal/Symbols.scala.html#441161" title="(syms: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; (List[Typers.this.global.Symbol], Typers.this.global.Type))(List[Typers.this.global.Symbol], Typers.this.global.Type)">createFromClonedSymbols</a><span class="delimiter">(</span>tparams, <a href="#1174245" title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">freshArgType</a><span class="delimiter">(</span>restpe<span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#61508" title="=&gt; Typers.this.global.Type">_2</a><span class="delimiter">)</span><a href="#1174323" title="(x: (List[Typers.this.global.Symbol], Typers.this.global.Type))(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1174283">ps</a>, <a title="Typers.this.global.Type" id="1174284">t</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#63804" title="(_1: List[Typers.this.global.Symbol], _2: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="#1174283" title="List[Typers.this.global.Symbol]">ps</a>, <a href="#1174284" title="Typers.this.global.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            // No longer used, see test case neg/t960.scala (#960 has nothing to do with it)
            <span class="keyword">case</span> OverloadedType<a href="#1174310" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="1174322" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
              <a href="ContextErrors.scala.html#562582" title="(tree: Typers.this.global.Tree)Unit">OverloadedUnapplyError</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#63804" title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.ErrorType.type)(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="ContextErrors.scala.html#562583" title="(tree: Typers.this.global.Tree)Unit">UnapplyWithSingleArgError</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#63804" title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.ErrorType.type)(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1174246">unapp</a>     = <a href="Unapplies.scala.html#560355" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span>otpe<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1174247">unappType</a> = otpe.<a href="../../../reflect/internal/Types.scala.html#442039" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1174246" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="1174248">argDummy</a>  = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443173" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446209" title="=&gt; Typers.this.global.nme.NameType">SELECTOR_DUMMY</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="#1133215" title="Typers.this.global.Type">pt</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="1174249">arg</a>       = <a href="../../../reflect/internal/Trees.scala.html#441842" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1174248" title="Typers.this.global.TermSymbol">argDummy</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</a> <a href="#1133215" title="Typers.this.global.Type">pt</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Infer.scala.html#562650" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#1174247" title="Typers.this.global.Type">unappType</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(&quot;UNAPP: need to typetest, arg.tpe = &quot;+arg.tpe+&quot;, unappType = &quot;+unappType)
            <span class="keyword">val</span> <a href="#1174381" title="(x: (List[Typers.this.global.Symbol], Typers.this.global.Type))(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="List[Typers.this.global.Symbol]" id="1174359">freeVars</a>, <a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.Type" id="1174360">unappFormal</a><span class="delimiter">)</span> = <a href="#1174245" title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">freshArgType</a><a href="../../../Tuple2.scala.html#1222" title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</a><a href="#1174247" title="Typers.this.global.Type">unappType</a>.<a href="../../../reflect/internal/Types.scala.html#442015" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1133211" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="1174361">unapplyContext</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#1174359" title="List[Typers.this.global.Symbol]">freeVars</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</a> <a href="#1174361" title="Typers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a>

            <span class="keyword">val</span> <a title="Typers.this.Typer" id="1174362">typer1</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1174361" title="Typers.this.Context">unapplyContext</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1174363">pattp</a>  = <a href="#1174362" title="Typers.this.Typer">typer1</a>.<a href="#560626" title="=&gt; Typers.this.Inferencer">infer</a>.<a href="Infer.scala.html#562671" title="(tree0: Typers.this.global.Tree, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1174360" title="Typers.this.global.Type">unappFormal</a>, <a href="#1174249" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

            // turn any unresolved type variables in freevars into existential skolems
            <span class="keyword">val</span> <a title="List[Typers.this.global.TypeSkolem]" id="1174364">skolems</a> = <a href="#1174359" title="List[Typers.this.global.Symbol]">freeVars</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeSkolem)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeSkolem,List[Typers.this.global.TypeSkolem]])List[Typers.this.global.TypeSkolem]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1174434">fv</a> =&gt; <a href="#1174361" title="Typers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443200" title="(basis: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.TypeSkolem">newExistentialSkolem</a><span class="delimiter">(</span><a href="#1174434" title="Typers.this.global.Symbol">fv</a>, <a href="#1174434" title="Typers.this.global.Symbol">fv</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1174249" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1174363" title="Typers.this.global.Type">pattp</a>.<a href="../../../reflect/internal/Types.scala.html#442042" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#1174359" title="List[Typers.this.global.Symbol]">freeVars</a>, <a href="#1174364" title="List[Typers.this.global.TypeSkolem]">skolems</a><span class="delimiter">)</span>
            <a href="#1174248" title="Typers.this.global.TermSymbol">argDummy</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)argDummy.type">setInfo</a> <a href="#1174249" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>

          // setType null is necessary so that ref will be stabilized; see bug 881
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1174250">fun1</a> = <a href="#560769" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441840" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1173238" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>, <a href="#1174246" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Ident*)List[Typers.this.global.Ident]">List</a><span class="delimiter">(</span><a href="#1174249" title="Typers.this.global.Ident">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174250" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1173236" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1174522">formals0</a> = <a href="Unapplies.scala.html#560351" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#1174250" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#1174250" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1174523">formals1</a> = <a href="Infer.scala.html#560258" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#1174522" title="List[Typers.this.global.Type]">formals0</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1174523" title="List[Typers.this.global.Type]">formals1</a>, <a href="#1133213" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1174528">args1</a> = <a href="#560739" title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#1133213" title="List[Typers.this.global.Tree]">args</a>, <a href="#1133214" title="Int">mode</a>, <a href="#1174522" title="List[Typers.this.global.Type]">formals0</a>, <a href="#1174523" title="List[Typers.this.global.Type]">formals1</a><span class="delimiter">)</span>
              // This used to be the following (failing) assert:
              //   assert(isFullyDefined(pt), tree+&quot; ==&gt; &quot;+UnApply(fun1, args1)+&quot;, pt = &quot;+pt)
              // I modified as follows.  See SI-1048.
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1174529">pt1</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1133215" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="Infer.scala.html#562638" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#1133215" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1174530">itype</a> = <a href="../../../reflect/internal/Types.scala.html#441568" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1174529" title="Typers.this.global.Type">pt1</a>, <a href="#1174249" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1174249" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1174529" title="Typers.this.global.Type">pt1</a>    // restore type (arg is a dummy tree, just needs to pass typechecking)
              <a href="../../../reflect/api/Trees.scala.html#436504" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#1174250" title="Typers.this.global.Tree">fun1</a>, <a href="#1174528" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.UnApply">setPos</a> <a href="#1133211" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</a> <a href="#1174530" title="Typers.this.global.Type">itype</a>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562588" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">WrongNumberArgsPatternError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

/* --- end unapply  --- */
        <span class="keyword">case</span> _ =&gt;
          <a href="#1173237" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><a href="#1174574" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="ContextErrors.scala.html#562589" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">ApplyWithoutArgsError</a><span class="delimiter">(</span><a href="#1133211" title="Typers.this.global.Tree">tree</a>, <a href="#1173238" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Convert an annotation constructor call into an AnnotationInfo.
     *
     * @param annClass the expected annotation class
     */
    <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo" id="560744">typedAnnotation</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1130636">ann</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1130642">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a> = <span title="Int(1)">EXPRmode</span>, <a title="Typers.this.global.Symbol" id="1130643">selfsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a title="Typers.this.global.Symbol" id="1130644">annClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Definitions.scala.html#442629" title="=&gt; Typers.this.global.ClassSymbol">AnnotationClass</a>, <a title="Boolean" id="1130645">requireJava</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#441795" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="1174587">annotationError</a> = <a href="../../../reflect/internal/AnnotationInfos.scala.html#443059" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a>, <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="1174588">hasError</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" id="1174589">pending</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo" id="1174590">reportAnnotationError</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="1174599">err</a>: <a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#1174589" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.AbsTypeError)pending.type">+=</a> <a href="#1174599" title="Typers.this.AbsTypeError">err</a>
        <a href="#1174588" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#1174586" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span>

      /** Calling constfold right here is necessary because some trees (negated
       *  floats and literals in particular) are not yet folded.
       */
      <span class="keyword">def</span> <a title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]" id="1174591">tryConst</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1174609">tr</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1174610">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.LiteralAnnotArg]">Option</a><span class="delimiter">[</span>LiteralAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Constant" id="1174611">const</a>: <a href="../../../reflect/internal/Constants.scala.html#441712" title="Typers.this.global.Constant">Constant</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><a href="#1174643" title="Typers.this.global.Literal" class="delimiter">(</a><a href="ConstantFolder.scala.html#648053" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#1174609" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>, <span title="Int(1)">EXPRmode</span>, <a href="#1174610" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> l @ Literal<a href="#1174641" title="Typers.this.global.Constant" id="1174643" class="delimiter">(</a>c<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">l</a>.<a href="../../../reflect/internal/Trees.scala.html#443953" title="=&gt; Boolean">isErroneous</a> =&gt; <a href="#1174644" title="(x: Typers.this.global.Constant)Typers.this.global.Constant">c</a>
          <span class="keyword">case</span> tree =&gt; tree.<a href="#1174644" title="(x: Typers.this.global.Constant)Typers.this.global.Constant">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> ConstantType<a href="#1174632" title="Typers.this.global.Constant" id="1174634" class="delimiter">(</a>c<span class="delimiter">)</span>  =&gt; <a href="#1174635" title="(x: Typers.this.global.Constant)Typers.this.global.Constant">c</a>
            <span class="keyword">case</span> tpe              =&gt; <a href="#1174635" title="(x: Typers.this.global.Constant)Typers.this.global.Constant" class="keyword">null</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174611" title="Typers.this.global.Constant">const</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562563" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">AnnotationNotAConstantError</a><span class="delimiter">(</span><a href="#1174609" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>; <a href="../../../Option.scala.html#2498" title="None.type">None</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174611" title="Typers.this.global.Constant">const</a>.<a href="../../../reflect/internal/Constants.scala.html#443076" title="=&gt; Any">value</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562564" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">AnnotationArgNullError</a><span class="delimiter">(</span><a href="#1174609" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>; <a href="../../../Option.scala.html#2498" title="None.type">None</a>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.LiteralAnnotArg)Some[Typers.this.global.LiteralAnnotArg]">Some</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#444084" title="(const: Typers.this.global.Constant)Typers.this.global.LiteralAnnotArg">LiteralAnnotArg</a><span class="delimiter">(</span><a href="#1174611" title="Typers.this.global.Constant">const</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Converts an untyped tree to a ClassfileAnnotArg. If the conversion fails,
       *  an error message is reported and None is returned.
       */
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]" id="1174592">tree2ConstArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1174660">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1174661">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.ClassfileAnnotArg]">Option</a><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span> = <a href="#1174660" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Apply<a href="#1174763" title="Boolean" id="1174766" class="delimiter">(</a>Select<a title="Boolean" id="1174770" class="delimiter">(</a>New<a title="Boolean" id="1174772" class="delimiter">(</a>tpt<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="Boolean" id="1174791">CONSTRUCTOR</a><span class="delimiter">)</span>, args<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#1174661" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Typers.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562565" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">ArrayConstantsError</a><span class="delimiter">(</span><a href="#1174660" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>; <a href="../../../Option.scala.html#2498" title="None.type">None</a>

        <span class="keyword">case</span> ann @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>tpt<span class="delimiter">)</span>, nme.CONSTRUCTOR<span class="delimiter">)</span>, args<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="1174695">annInfo</a> = <a href="#560744" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span>ann, <a href="#1130642" title="Int">mode</a>, <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#1174661" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174695" title="Typers.this.global.AnnotationInfo">annInfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443791" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#1174588" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="../../../Option.scala.html#2498" title="None.type">None</a> <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.NestedAnnotArg)Some[Typers.this.global.NestedAnnotArg]">Some</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#445174" title="(annInfo: Typers.this.global.AnnotationInfo)Typers.this.global.NestedAnnotArg">NestedAnnotArg</a><span class="delimiter">(</span><a href="#1174695" title="Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // use of Array.apply[T: ArrayTag](xs: T*): Array[T]
        // and    Array.apply(x: Int, xs: Int*): Array[Int]       (and similar)
        <span class="keyword">case</span> Apply<span class="delimiter">(</span>fun, args<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1174707">typedFun</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>fun, <a href="Modes.scala.html#560167" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#1130642" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174707" title="Typers.this.global.Tree">typedFun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442348" title="=&gt; Typers.this.global.ModuleSymbol">ArrayModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#449103" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1174707" title="Typers.this.global.Tree">typedFun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <a href="#1174661" title="Typers.this.global.Type">pt</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> TypeRef<a href="#1174739" title="Option[Typers.this.global.ClassfileAnnotArg]" id="1174744" class="delimiter">(</a>_, <a href="../../../reflect/internal/Definitions.scala.html#442352" title="Option[Typers.this.global.ClassfileAnnotArg]" id="1174749">ArrayClass</a>, targ <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="1174748">::</a> _<span class="delimiter">)</span> =&gt;
                <a href="#1174593" title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]">trees2ConstArg</a><a href="#1174750" title="(x: Option[Typers.this.global.ClassfileAnnotArg])Option[Typers.this.global.ClassfileAnnotArg]" class="delimiter">(</a>args, targ<span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
                // For classfile annotations, pt can only be T:
                //   BT = Int, .., String, Class[_], JavaAnnotClass
                //   T = BT | Array[BT]
                // So an array literal as argument can only be valid if pt is Array[_]
                <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562566" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.NormalTypeError">ArrayConstantsTypeMismatchError</a><span class="delimiter">(</span><a href="#1174660" title="Typers.this.global.Tree">tree</a>, <a href="#1174661" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../Option.scala.html#2498" title="None.type">None</a>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#1174591" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#1174660" title="Typers.this.global.Tree">tree</a>, <a href="#1174661" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Typed<a href="#1174763" title="Option[Typers.this.global.ClassfileAnnotArg]" id="1174790" class="delimiter">(</a>t, _<span class="delimiter">)</span> =&gt;
          <a href="#1174592" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><a href="#1174797" title="(x: Option[Typers.this.global.ClassfileAnnotArg])Option[Typers.this.global.ClassfileAnnotArg]" class="delimiter">(</a>t, <a href="#1174661" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> tree =&gt;
          <a href="#1174591" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><a href="#1174797" title="(x: Option[Typers.this.global.ClassfileAnnotArg])Option[Typers.this.global.ClassfileAnnotArg]" class="delimiter">(</a>tree, <a href="#1174661" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]" id="1174593">trees2ConstArg</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1174734">trees</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="1174735">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.ArrayAnnotArg]">Option</a><span class="delimiter">[</span>ArrayAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Option[Typers.this.global.ClassfileAnnotArg]]" id="1174808">args</a> = <a href="#1174734" title="List[Typers.this.global.Tree]">trees</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Option[Typers.this.global.ClassfileAnnotArg])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]])List[Option[Typers.this.global.ClassfileAnnotArg]]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]]" class="delimiter">(</a><a href="#1174592" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#1174825" title="Typers.this.global.Tree">_</a>, <a href="#1174735" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[Typers.this.global.ArrayAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174808" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Option[Typers.this.global.ClassfileAnnotArg] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1174859" title="Option[Typers.this.global.ClassfileAnnotArg]">_</a>.<a href="../../../Option.scala.html#63811" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#2498" title="None.type">None</a>
        <span class="keyword">else</span> <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.ArrayAnnotArg)Some[Typers.this.global.ArrayAnnotArg]">Some</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#444384" title="(args: Array[Typers.this.global.ClassfileAnnotArg])Typers.this.global.ArrayAnnotArg">ArrayAnnotArg</a><span class="delimiter">(</span><a href="#1174808" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#59386" title="(implicit asTraversable: Option[Typers.this.global.ClassfileAnnotArg] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.ClassfileAnnotArg])List[Typers.this.global.ClassfileAnnotArg]">flatten</a>.<a href="../../../collection/TraversableOnce.scala.html#59170" title="(implicit evidence$1: ArrayTag[Typers.this.global.ClassfileAnnotArg])Array[Typers.this.global.ClassfileAnnotArg]">toArray</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // begin typedAnnotation
      <span class="keyword">val</span> <a href="#1175011" title="(x: (Typers.this.global.Tree, List[List[Typers.this.global.Tree]]))(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1174595">fun</a>, <a href="../../../Tuple2.scala.html#61508" title="List[List[Typers.this.global.Tree]]" id="1174596">argss</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]]) @unchecked" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="1174931">extract</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1174932">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[List[Typers.this.global.Tree]]" id="1174933">outerArgss</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[List[Typers.this.global.Tree]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
          <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a>Tree, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1174932" title="Typers.this.global.Tree">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Apply<a href="#1174971" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="1174973" class="delimiter">(</a>f, args<span class="delimiter">)</span> =&gt;
              <a href="#1174931" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><a href="#1174983" title="(x: (Typers.this.global.Tree, List[List[Typers.this.global.Tree]]))(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a>f, args <a href="../../../collection/immutable/List.scala.html#63643" title="(x: List[Typers.this.global.Tree])List[List[Typers.this.global.Tree]]">::</a> <a href="#1174933" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> Select<a href="#1174971" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="1174977" class="delimiter">(</a>New<a title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="1174979" class="delimiter">(</a>tpt<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="1174982">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
              <a href="#1174983" title="(x: (Typers.this.global.Tree, List[List[Typers.this.global.Tree]]))(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#1174932" title="Typers.this.global.Tree">fun</a>, <a href="#1174933" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562567" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">UnexpectedTreeAnnotation</a><span class="delimiter">(</span><a href="#1174932" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1174932" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>, <a href="#1174933" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <a href="#1174931" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#1130636" title="Typers.this.global.Tree">ann</a>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="1174597">res</a> = <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#443953" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#1174586" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#1175048" title="(x: (Typers.this.global.Select, Typers.this.global.Tree))(Typers.this.global.Select, Typers.this.global.Tree)" id="1175018">typedFun</a> @ Select<a href="#1175041" title="(Typers.this.global.Select, Typers.this.global.Tree)" id="1175045" class="delimiter">(</a>New<a title="(Typers.this.global.Select, Typers.this.global.Tree)" id="1175047" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.Tree" id="1175019">tpt</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree @unchecked" class="delimiter">(</a><a href="#1174595" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#560167" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#1130642" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1175020">annType</a> = <a href="#1175019" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>

        <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">typedFun</a>.<a href="../../../reflect/internal/Trees.scala.html#443953" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#1174586" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
        <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#1175020" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443468" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442631" title="=&gt; Typers.this.global.ClassSymbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // annotation to be saved as java classfile annotation
          <span class="keyword">val</span> <a title="Boolean" id="1175055">isJava</a> = <a href="#1175018" title="Typers.this.global.Select">typedFun</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a>
          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1175020" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443468" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="#1130644" title="Typers.this.global.Symbol">annClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562568" title="(tree: Typers.this.global.Tree, expected: Typers.this.global.Type, found: Typers.this.global.Type)Typers.this.NormalTypeError">AnnotationTypeMismatchError</a><span class="delimiter">(</span><a href="#1175019" title="Typers.this.global.Tree">tpt</a>, <a href="#1130644" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1175020" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174596" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562569" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">MultipleArgumentListForAnnotationError</a><span class="delimiter">(</span><a href="#1130636" title="Typers.this.global.Tree">ann</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1175065">args</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174596" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; List[Typers.this.global.Tree]">head</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="NamesDefaults.scala.html#560490" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">(</span><a href="#1174596" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; List[Typers.this.global.Tree]">head</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.AssignOrNamedArg*)List[Typers.this.global.AssignOrNamedArg]">List</a><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../../../reflect/api/Trees.scala.html#23654" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427669" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446721" title="=&gt; Typers.this.global.nme.NameType">value</a><span class="delimiter">)</span>, <a href="#1174596" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; List[Typers.this.global.Tree]">head</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1174596" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; List[Typers.this.global.Tree]">head</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="1175066">annScope</a> = <a href="#1175020" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a>
                .<a href="../../../reflect/internal/Scopes.scala.html#447350" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1175103">sym</a> =&gt; <a href="#1175103" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1175103" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1175103" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]" id="1175067">names</a> = <a href="../../../collection/mutable/HashSet.scala.html#141566" title="()scala.collection.mutable.HashSet[Typers.this.global.Symbol]" class="keyword">new</a> collection.mutable.<a href="../../../collection/mutable/HashSet.scala.html#13456" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#1175067" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <a href="../../../collection/generic/Growable.scala.html#60913" title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])names.type">++=</a> <span class="delimiter">(</span><span title="Iterator[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1175055" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#1175066" title="Typers.this.global.Scope">annScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447346" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a>
                       <span class="keyword">else</span> <a href="#1175018" title="Typers.this.global.Select">typedFun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqLike.scala.html#76109" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]" id="1175068">nvPairs</a> = <a href="#1175065" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]))(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]),List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]])List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">map</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[Typers.this.global.Tree,(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])] with Serializable" id="1175123" class="delimiter">{</a>
              <span class="keyword">case</span> arg @ AssignOrNamedArg<a href="#1175287" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="1175290" class="delimiter">(</a>Ident<a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="1175292" class="delimiter">(</a>name<span class="delimiter">)</span>, rhs<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1175133">sym</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1175055" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#1175066" title="Typers.this.global.Scope">annScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447340" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span>name<span class="delimiter">)</span>
                          <span class="keyword">else</span> <a href="#1175018" title="Typers.this.global.Select">typedFun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442009" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76172" title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1175143">p</a> =&gt; <a href="#1175143" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; p.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> name<span class="delimiter">)</span>.<a href="../../../Option.scala.html#63814" title="(default: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">getOrElse</a><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="#1175133" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562570" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.NormalTypeError">UnknownAnnotationNameError</a><span class="delimiter">(</span>arg, name<span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445906" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <a href="../../../Option.scala.html#2498" title="None.type">None</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1175067" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a>.<a href="../../../collection/mutable/HashSet.scala.html#141569" title="(elem: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#1175133" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562571" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.NormalTypeError">DuplicateValueAnnotationError</a><span class="delimiter">(</span>arg, name<span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445906" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <a href="../../../Option.scala.html#2498" title="None.type">None</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#1175067" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <a href="../../../collection/mutable/HashSet.scala.html#141571" title="(elem: Typers.this.global.Symbol)names.type">-=</a> <a href="#1175133" title="Typers.this.global.Symbol">sym</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1175055" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#1175133" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443442" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // #3429
                  <span class="keyword">val</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="1175177">annArg</a> = <a href="#1174592" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span>rhs, <a href="#1175133" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>
                  <a href="../../../Tuple2.scala.html#63804" title="(_1: sym.NameType, _2: Option[Typers.this.global.ClassfileAnnotArg])(sym.NameType, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">(</a><a href="#1175133" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a>, <a href="#1175177" title="Option[Typers.this.global.ClassfileAnnotArg]">annArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> arg =&gt;
                <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562572" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">ClassfileAnnotationsAsNamedArgsError</a><span class="delimiter">(</span>arg<span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445906" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <a href="../../../Option.scala.html#2498" title="None.type">None</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1175354">sym</a> &lt;- <a href="../../../collection/mutable/HashSet.scala.html#141576" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">names</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // make sure the flags are up to date before erroring (jvm/t3415 fails otherwise)
              <a href="#1175354" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; sym.type">initialize</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1175354" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442126" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442729" title="=&gt; Typers.this.global.Symbol">AnnotationDefaultAttr</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1175354" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443277" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span>
                <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562573" title="(tree: Typers.this.global.Tree, annType: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.NormalTypeError">AnnotationMissingArgError</a><span class="delimiter">(</span><a href="#1130636" title="Typers.this.global.Tree">ann</a>, <a href="#1175020" title="Typers.this.global.Type">annType</a>, <a href="#1175354" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174588" title="Boolean">hasError</a><span class="delimiter">)</span> <a href="#1174586" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/AnnotationInfos.scala.html#443059" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#1175020" title="Typers.this.global.Type">annType</a>, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#1175068" title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">nvPairs</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: ((Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])) =&gt; (Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])],(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg),List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]])List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]">map</a> <span class="delimiter">{</span><a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="1175390">p</a> =&gt; <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Name, _2: Typers.this.global.ClassfileAnnotArg)(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)" class="delimiter">(</a><a href="#1175390" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<a href="../../../Tuple2.scala.html#61506" title="=&gt; Typers.this.global.Name">_1</a>, <a href="#1175390" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<a href="../../../Tuple2.scala.html#61508" title="=&gt; Option[Typers.this.global.ClassfileAnnotArg]">_2</a>.<a href="../../../Option.scala.html#63813" title="=&gt; Typers.this.global.ClassfileAnnotArg">get</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443795" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">setOriginal</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1175018" title="Typers.this.global.Select">typedFun</a>, <a href="#1175065" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443802" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#1130636" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#1130645" title="Boolean">requireJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562574" title="(tree: Typers.this.global.Tree, annType: Typers.this.global.Type)Typers.this.NormalTypeError">NestedAnnotationError</a><span class="delimiter">(</span><a href="#1130636" title="Typers.this.global.Tree">ann</a>, <a href="#1175020" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1175456">typedAnn</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1130643" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1130636" title="Typers.this.global.Tree">ann</a>, <a href="#1130642" title="Int">mode</a>, <a href="#1130644" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // Since a selfsym is supplied, the annotation should have
            // an extra &quot;self&quot; identifier in scope for type checking.
            // This is implemented by wrapping the rhs
            // in a function like &quot;self =&gt; rhs&quot; during type checking,
            // and then stripping the &quot;self =&gt;&quot; and substituting
            // in the supplied selfsym.
            <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="1175466">funcparm</a> = <a href="../../../reflect/api/Trees.scala.html#428215" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441811" title="=&gt; Typers.this.global.Modifiers">NoMods</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446667" title="=&gt; Typers.this.global.nme.NameType">self</a>, <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1130643" title="Typers.this.global.Symbol">selfsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>, <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Function" id="1175467">func</a> = <a href="../../../reflect/api/Trees.scala.html#436558" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.ValDef*)List[Typers.this.global.ValDef]">List</a><span class="delimiter">(</span><a href="#1175466" title="Typers.this.global.ValDef">funcparm</a><span class="delimiter">)</span>, <a href="#1130636" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; ann.type">duplicate</a><span class="delimiter">)</span>
                                         // The .duplicate of annot.constr
                                         // deals with problems that
                                         // accur if this annotation is
                                         // later typed again, which
                                         // the compiler sometimes does.
                                         // The problem is that &quot;self&quot;
                                         // ident's within annot.constr
                                         // will retain the old symbol
                                         // from the previous typing.
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1175468">fun1clazz</a> = <a href="../../../Array.scala.html#57450" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1175469">funcType</a> = <a href="../../../reflect/internal/Types.scala.html#441371" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#1175468" title="Typers.this.global.Symbol">fun1clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; Typers.this.global.Type">prefix</a>,
                                   <a href="#1175468" title="Typers.this.global.Symbol">fun1clazz</a>,
                                   <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1130643" title="Typers.this.global.Symbol">selfsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>, <a href="#1130644" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1175467" title="Typers.this.global.Function">func</a>, <a href="#1130642" title="Int">mode</a>, <a href="#1175469" title="Typers.this.global.Type">funcType</a><span class="delimiter">)</span>: @<a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> t @ Function<a href="#1175552" title="Typers.this.global.Tree" id="1175555" class="delimiter">(</a><a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.ValDef]]" id="1175570">List</a><span class="delimiter">(</span>arg<span class="delimiter">)</span>, rhs<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.TreeSymSubstituter" id="1175529">subs</a> =
                  <span title="Typers.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#441858" title="Typers.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span>arg.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>,<a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1130643" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#511774" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">subs</a><span class="delimiter">(</span>rhs<span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo" id="1175457">annInfo</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1175574">t</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#441795" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <a href="#1175574" title="Typers.this.global.Tree">t</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Apply<a href="#1175614" title="Boolean" id="1175617" class="delimiter">(</a>Select<a title="Typers.this.global.AnnotationInfo" id="1175621" class="delimiter">(</a>New<a title="Typers.this.global.AnnotationInfo" id="1175623" class="delimiter">(</a>tpt<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="Typers.this.global.AnnotationInfo" id="1175630">CONSTRUCTOR</a><span class="delimiter">)</span>, args<span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/internal/AnnotationInfos.scala.html#443059" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#1175020" title="Typers.this.global.Type">annType</a>, args, List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443795" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">setOriginal</a><span class="delimiter">(</span><a href="#1175456" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443802" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><a href="#1175632" title="(x: Typers.this.global.AnnotationInfo)Typers.this.global.AnnotationInfo" class="delimiter">(</a><a href="#1175574" title="Typers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>

            <span class="keyword">case</span> Block<a href="#1175614" title="Typers.this.global.AnnotationInfo" id="1175627" class="delimiter">(</a>stats, expr<span class="delimiter">)</span> =&gt;
              <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560986" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1175574" title="Typers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span class="string">&quot;Usage of named or default arguments transformed this annotation\n&quot;</span>+
                                <span class="string">&quot;constructor call into a block. The corresponding AnnotationInfo\n&quot;</span>+
                                <span class="string">&quot;will contain references to local values and default getters instead\n&quot;</span><span title="String(&quot;Usage of named or default arguments transformed this annotation\nconstructor call into a block. The corresponding AnnotationInfo\nwill contain references to local values and default getters instead\nof the actual argument trees&quot;)">+</span>
                                <span class="string">&quot;of the actual argument trees&quot;</span><span class="delimiter">)</span>
              <a href="#1175457" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span>expr<span class="delimiter">)</span>

            <span class="keyword">case</span> Apply<span class="delimiter">(</span>fun, args<span class="delimiter">)</span> =&gt;
              <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560986" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1175574" title="Typers.this.global.Tree">t</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span class="string">&quot;Implementation limitation: multiple argument lists on annotations are\n&quot;</span><span title="String(&quot;Implementation limitation: multiple argument lists on annotations are\ncurrently not supported; ignoring arguments &quot;)">+</span>
                                     <span class="string">&quot;currently not supported; ignoring arguments &quot;</span><span title="(x$1: Any)String">+</span> args<span class="delimiter">)</span>
              <a href="#1175457" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span>fun<span class="delimiter">)</span>

            <span class="keyword">case</span> _ =&gt;
              <a href="#1174590" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><a href="#1175632" title="(x: Typers.this.global.AnnotationInfo)Typers.this.global.AnnotationInfo" class="delimiter">(</a><a href="ContextErrors.scala.html#562575" title="(tree: Typers.this.global.Tree, unexpected: Typers.this.global.Tree)Typers.this.NormalTypeError">UnexpectedTreeAnnotationError</a><span class="delimiter">(</span><a href="#1175574" title="Typers.this.global.Tree">t</a>, <a href="#1175456" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1175020" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442663" title="=&gt; Typers.this.global.ClassSymbol">DeprecatedAttr</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1174596" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#59386" title="(implicit asTraversable: List[Typers.this.global.Tree] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])List[Typers.this.global.Tree]">flatten</a>.<a href="../../../collection/SeqLike.scala.html#59711" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57905" title="(x: Int)Boolean">&lt;</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560822" title="(pos: Typers.this.global.Position, msg: String)Any">deprecationWarning</a><span class="delimiter">(</span><a href="#1130636" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;@deprecated now takes two arguments; see the scaladoc.&quot;)" class="string">&quot;@deprecated now takes two arguments; see the scaladoc.&quot;</span><span class="delimiter">)</span>

          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1175456" title="Typers.this.global.Tree">typedAnn</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1175456" title="Typers.this.global.Tree">typedAnn</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#1174586" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
          <span class="keyword">else</span> <a href="#1175457" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#1175456" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#1174588" title="Boolean">hasError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1174589" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: Typers.this.AbsTypeError =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#560578" title="Typers.this.ErrorUtils.type">ErrorUtils</a>.<a href="ContextErrors.scala.html#1082968" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><span class="delimiter">)</span>
        <a href="#1174586" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1174597" title="Typers.this.global.AnnotationInfo">res</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="560745">isRawParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1175716">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = // is it a type parameter leaked by a raw type?
      <a href="#1175716" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443256" title="=&gt; Boolean">isTypeParameter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1175716" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a>

    /** If we map a set of hidden symbols to their existential bounds, we
     *  have a problem: the bounds may themselves contain references to the
     *  hidden symbols.  So this recursively calls existentialBound until
     *  the typeSymbol is not amongst the symbols being hidden.
     */
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol])Map[Typers.this.global.Symbol,Typers.this.global.Type]" id="560746">existentialBoundsExcludingHidden</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1175719">hidden</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/Map.scala.html#11605" title="Map[Typers.this.global.Symbol,Typers.this.global.Type]">Map</a><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="1175721">safeBound</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1175723">t</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> =
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1175719" title="List[Typers.this.global.Symbol]">hidden</a> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1175723" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="#1175721" title="(t: Typers.this.global.Type)Typers.this.global.Type">safeBound</a><span class="delimiter">(</span><a href="#1175723" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443451" title="=&gt; Typers.this.global.Type">existentialBound</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Typers.this.global.Type">hi</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1175723" title="Typers.this.global.Type">t</a>

      <span class="keyword">def</span> <a title="(s: Typers.this.global.Symbol)Typers.this.global.Type" id="1175722">hiBound</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1175724">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="#1175721" title="(t: Typers.this.global.Type)Typers.this.global.Type">safeBound</a><a href="../../../reflect/internal/Types.scala.html#447278" title="=&gt; List[Typers.this.global.Type]" class="delimiter">(</a><a href="#1175724" title="Typers.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#443451" title="=&gt; Typers.this.global.Type">existentialBound</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Typers.this.global.Type">hi</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> tp @ RefinedType<a href="#1175744" title="Typers.this.global.Type" id="1175746" class="delimiter">(</a>parents, decls<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1175730">parents1</a> = parents <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)List[Typers.this.global.Type]">mapConserve</a> <a href="#1175721" title="(t: Typers.this.global.Type)Typers.this.global.Type">safeBound</a>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>parents <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1175730" title="List[Typers.this.global.Type]">parents1</a><span class="delimiter">)</span> tp
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441370" title="(original: Typers.this.global.RefinedType, parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope)Typers.this.global.Type">copyRefinedType</a><span class="delimiter">(</span>tp, <a href="#1175730" title="List[Typers.this.global.Type]">parents1</a>, decls<span class="delimiter">)</span>
        <span class="keyword">case</span> tp =&gt; <a href="#1175747" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp</a>
      <span class="delimiter">}</span>

      // Hanging onto lower bound in case anything interesting
      // happens with it.
      <a href="../../../reflect/internal/util/Collections.scala.html#440707" title="(xs: List[Typers.this.global.Symbol])(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)Map[Typers.this.global.Symbol,Typers.this.global.Type]">mapFrom</a><span class="delimiter">(</span><a href="#1175719" title="List[Typers.this.global.Symbol]">hidden</a><span class="delimiter">)</span><span class="delimiter">(</span>s =&gt; <a href="#1175769" title="Typers.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#443451" title="=&gt; Typers.this.global.Type">existentialBound</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeBounds<a href="#1175779" title="Typers.this.global.Type" id="1175781" class="delimiter">(</a>lo, hi<span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#448285" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><a href="#1175782" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a>lo, <a href="#1175722" title="(s: Typers.this.global.Symbol)Typers.this.global.Type">hiBound</a><span class="delimiter">(</span><a href="#1175769" title="Typers.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _                  =&gt; <a href="#1175722" title="(s: Typers.this.global.Symbol)Typers.this.global.Type">hiBound</a><a href="#1175782" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a><a href="#1175769" title="Typers.this.global.Symbol">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Given a set `rawSyms` of term- and type-symbols, and a type
     *  `tp`, produce a set of fresh type parameters and a type so that
     *  it can be abstracted to an existential type. Every type symbol
     *  `T` in `rawSyms` is mapped to a clone. Every term symbol `x` of
     *  type `T` in `rawSyms` is given an associated type symbol of the
     *  following form:
     *
     *    type x.type &lt;: T with Singleton
     *
     *  The name of the type parameter is `x.type`, to produce nice
     *  diagnostics. The Singleton parent ensures that the type
     *  parameter is still seen as a stable type. Type symbols in
     *  rawSyms are fully replaced by the new symbols. Term symbols are
     *  also replaced, except for term symbols of an Ident tree, where
     *  only the type of the Ident is changed.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; T)T" id="560747">existentialTransform</a><span class="delimiter">[</span><a title="" id="560749">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1175799">rawSyms</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="1175800">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; T" id="1175801">creator</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="#560749" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Map[Typers.this.global.Symbol,Typers.this.global.Type]" id="1175804">allBounds</a> = <a href="#560746" title="(hidden: List[Typers.this.global.Symbol])Map[Typers.this.global.Symbol,Typers.this.global.Type]">existentialBoundsExcludingHidden</a><span class="delimiter">(</span><a href="#1175799" title="List[Typers.this.global.Symbol]">rawSyms</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1175805">typeParams</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#1175799" title="List[Typers.this.global.Symbol]">rawSyms</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeSymbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeSymbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="1175824">sym</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.TypeName" id="1175825">name</a> = <a href="#1175824" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#1175834" title="Typers.this.global.TypeName" id="1175838">x</a>: TypeName  =&gt; <a href="#1175839" title="(x: Typers.this.global.TypeName)Typers.this.global.TypeName">x</a>
          <span class="keyword">case</span> x            =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441756" title="Typers.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#449280" title="(name: Typers.this.global.Name)Typers.this.global.TypeName">singletonName</a><a href="#1175839" title="(x: Typers.this.global.TypeName)Typers.this.global.TypeName" class="delimiter">(</a>x<span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1175826">bound</a>      = <a href="../../../collection/MapLike.scala.html#78420" title="(key: Typers.this.global.Symbol)Typers.this.global.Type">allBounds</a><span class="delimiter">(</span><a href="#1175824" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1175827">sowner</a>     = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#560745" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#1175824" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#1175824" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="keyword">val</span> <a title="Typers.this.global.TypeSymbol" id="1175828">quantified</a> = <a href="#1175827" title="Typers.this.global.Symbol">sowner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443195" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TypeSymbol">newExistential</a><span class="delimiter">(</span><a href="#1175825" title="Typers.this.global.TypeName">name</a>, <a href="#1175824" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443167" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>

        <a href="#1175828" title="Typers.this.global.TypeSymbol">quantified</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)quantified.type">setInfo</a> <a href="#1175826" title="Typers.this.global.Type">bound</a>.<a href="../../../reflect/internal/Types.scala.html#442070" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#1175828" title="Typers.this.global.TypeSymbol">quantified</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      // Higher-kinded existentials are not yet supported, but this is
      // tpeHK for when they are: &quot;if a type constructor is expected/allowed,
      // tpeHK must be called instead of tpe.&quot;
      <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1175806">typeParamTypes</a> = <a href="#1175805" title="List[Typers.this.global.Symbol]">typeParams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1175927" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443426" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(info: Typers.this.global.Type)Typers.this.global.Type" id="1175807">doSubst</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1175955">info</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1175955" title="Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442041" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1175799" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#1175806" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span>

      <a href="../../../Function2.scala.html#65847" title="(v1: List[Typers.this.global.Symbol], v2: Typers.this.global.Type)T">creator</a><span class="delimiter">(</span><a href="#1175805" title="List[Typers.this.global.Symbol]">typeParams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1175970" title="Typers.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#443430" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)x$102.type">modifyInfo</a> <a href="#1175807" title="(info: Typers.this.global.Type)Typers.this.global.Type">doSubst</a><span class="delimiter">)</span>, <a href="#1175807" title="(info: Typers.this.global.Type)Typers.this.global.Type">doSubst</a><span class="delimiter">(</span><a href="#1175800" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Compute an existential type from raw hidden symbols `syms` and type `tp`
     */
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type" id="560750">packSymbols</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1163946">hidden</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="1163947">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> =
      <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1163946" title="List[Typers.this.global.Symbol]">hidden</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1163947" title="Typers.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="#560747" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; Typers.this.global.Type)Typers.this.global.Type">existentialTransform</a><span class="delimiter">(</span><a href="#1163946" title="List[Typers.this.global.Symbol]">hidden</a>, <a href="#1163947" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441386" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(ctx: Typers.this.Context, sym: Typers.this.global.Symbol)Boolean" id="560751">isReferencedFrom</a><span class="delimiter">(</span><a title="Typers.this.Context" id="1176018">ctx</a>: <a href="Contexts.scala.html#560086" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="1176019">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
      <a href="#1176018" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="#1176018" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../collection/IterableLike.scala.html#59462" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="1176029">dcl</a> =&gt; <a href="#1176029" title="Typers.this.global.Symbol">dcl</a>.<a href="../../../reflect/internal/Symbols.scala.html#443374" title="=&gt; Boolean">isInitialized</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1176029" title="Typers.this.global.Symbol">dcl</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#442056" title="(sym: Typers.this.global.Symbol)Boolean">contains</a> <a href="#1176019" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
      <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.Context" id="1176034">ctx1</a> = <a href="#1176018" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1176034" title="Typers.this.Context">ctx1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#560072" title="Typers.this.NoContext.type">NoContext</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1176034" title="Typers.this.Context">ctx1</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1176018" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1176034" title="Typers.this.Context">ctx1</a> = <a href="#1176034" title="Typers.this.Context">ctx1</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a>
        <span class="delimiter">(</span><a href="#1176034" title="Typers.this.Context">ctx1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#560072" title="Typers.this.NoContext.type">NoContext</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560751" title="(ctx: Typers.this.Context, sym: Typers.this.global.Symbol)Boolean">isReferencedFrom</a><span class="delimiter">(</span><a href="#1176034" title="Typers.this.Context">ctx1</a>, <a href="#1176019" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="560752">isCapturedExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1176046">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span class="delimiter">(</span><a href="#1176046" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443304" title="(mask: Long)Boolean">hasAllFlags</a> <span class="delimiter">(</span>EXISTENTIAL <span title="Long(34359803904L)">|</span> CAPTURED<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="1176053">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441048" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#560033" title="=&gt; scala.tools.nsc.util.Statistics.Timer">isReferencedNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560751" title="(ctx: Typers.this.Context, sym: Typers.this.global.Symbol)Boolean">isReferencedFrom</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>, <a href="#1176046" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">finally</span> <a href="../../../reflect/internal/util/StatBase.scala.html#441049" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#560033" title="=&gt; scala.tools.nsc.util.Statistics.Timer">isReferencedNanos</a>, <a href="#1176053" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Typers.this.global.Type" id="560753">packCaptured</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1170797">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Typers.this.global.Symbol]" id="1176055">captured</a> = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.mutable.Set[A]">Set</a><span title="(elems: Typers.this.global.Symbol*)scala.collection.mutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="1176060">tp</a> &lt;- <a href="../../../reflect/internal/Types.scala.html#442050" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560752" title="(sym: Typers.this.global.Symbol)Boolean">isCapturedExistential</a><span class="delimiter">(</span><a href="#1176060" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1176055" title="scala.collection.mutable.Set[Typers.this.global.Symbol]">captured</a> <a href="../../../collection/mutable/SetLike.scala.html#82190" title="(elem: Typers.this.global.Symbol)captured.type">+=</a> <a href="#1176060" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
      <a href="../../../reflect/internal/Types.scala.html#441386" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#1176055" title="scala.collection.mutable.Set[Typers.this.global.Symbol]">captured</a>.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[Typers.this.global.Symbol]">toList</a>, <a href="#1170797" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** convert local symbols and skolems to existentials */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type" id="560754">packedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="568911">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="568912">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean" id="1176069">defines</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176079">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="1176080">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#1176080" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443253" title="=&gt; Boolean">isExistentialSkolem</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1176080" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443532" title="=&gt; AnyRef">unpackLocation</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1176079" title="Typers.this.global.Tree">tree</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
        <a href="#1176079" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425068" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1176079" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1176080" title="Typers.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="1176070">isVisibleParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1176091">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#1176091" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443630" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1176091" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#568912" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1176091" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443230" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#568912" title="Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443323" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean" id="1176071">containsDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1176097">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="1176098">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
        <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1176098" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443617" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1176099">o</a> = <a href="#1176098" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1176099" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1176097" title="Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1176099" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1176099" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443617" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <a href="#1176099" title="Typers.this.global.Symbol">o</a> = <a href="#1176099" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>
          <a href="#1176099" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1176097" title="Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1176070" title="(sym: Typers.this.global.Symbol)Boolean">isVisibleParameter</a><span class="delimiter">(</span><a href="#1176098" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="1176072">localSyms</a> = collection.immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="1176073">boundSyms</a> = collection.immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#60782" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="1176074">isLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1176119">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1176119" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1176119" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443248" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1176119" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443268" title="=&gt; Boolean">isLocalDummy</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#568912" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#568911" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425081" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1176069" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean">defines</a><span class="delimiter">(</span><a href="#1176130" title="Typers.this.global.Tree">_</a>, <a href="#1176119" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#1176071" title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean">containsDef</a><span class="delimiter">(</span><a href="#568912" title="Typers.this.global.Symbol">owner</a>, <a href="#1176119" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560745" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#1176119" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#560752" title="(sym: Typers.this.global.Symbol)Boolean">isCapturedExistential</a><span class="delimiter">(</span><a href="#1176119" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Boolean" id="1176075">containsLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1176131">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> =
        <a href="#1176131" title="Typers.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#442055" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="1176135">t</a> =&gt; <a href="#1176074" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#1176135" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1176074" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#1176135" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#441985" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.TypeMap" id="1176076">normalizeLocals</a> = <a href="#1176136" title="Typers.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#441429" title="anonymous class $anon extends Typers.this.global.TypeMap" id="1176136">TypeMap</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="1176138">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1176139">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="#1176139" title="Typers.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> TypeRef<a href="#1176178" title="Typers.this.global.Type" id="1176180" class="delimiter">(</a>pre, sym, args<span class="delimiter">)</span> =&gt;
            <a href="#1176181" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="keyword">if</a> <span class="delimiter">(</span>sym.<a href="../../../reflect/internal/Symbols.scala.html#443232" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1176075" title="(tp: Typers.this.global.Type)Boolean">containsLocal</a><span class="delimiter">(</span><a href="#1176139" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1176138" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#1176139" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>pre.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="ContextErrors.scala.html#562605" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type)Unit">InferTypeWithVolatileTypeSelectionError</a><span class="delimiter">(</span><a href="#568911" title="Typers.this.global.Tree">tree</a>, pre<span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#1176139" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="../../../reflect/internal/Types.scala.html#460841" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><a href="#1176181" title="(x: Typers.this.global.Type)Typers.this.global.Type" class="delimiter">(</a><a href="#1176139" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      // add all local symbols of `tp` to `localSyms`
      // TODO: expand higher-kinded types into individual copies for each instance.
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Unit" id="1176077">addLocals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1176205">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="1176206">remainingSyms</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13747" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit" id="1176207">addIfLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1176208">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="1176209">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1176074" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#1176208" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: Typers.this.global.Symbol)Boolean">localSyms</a><span class="delimiter">(</span><a href="#1176208" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: Typers.this.global.Symbol)Boolean">boundSyms</a><span class="delimiter">(</span><a href="#1176208" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1176208" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1176072" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a> <a href="../../../collection/SetLike.scala.html#71319" title="(elem: Typers.this.global.Symbol)scala.collection.immutable.Set[Typers.this.global.Symbol]">+=</a> <a href="#1176208" title="Typers.this.global.Symbol">sym</a>
              <a href="#1176206" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">remainingSyms</a> <a href="../../../collection/mutable/ListBuffer.scala.html#67856" title="(x: Typers.this.global.Symbol)remainingSyms.type">+=</a> <a href="#1176208" title="Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="ContextErrors.scala.html#562606" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type)Unit">AbstractExistentiallyOverParamerizedTpeError</a><span class="delimiter">(</span><a href="#568911" title="Typers.this.global.Tree">tree</a>, <a href="#1176209" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="1176261">t</a> &lt;- <a href="../../../reflect/internal/Types.scala.html#442050" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1176261" title="Typers.this.global.Type">t</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> ExistentialType<a href="#1176397" title="Unit" id="1176400" class="delimiter">(</a>tparams, _<span class="delimiter">)</span> =&gt;
              <a href="#1176073" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">boundSyms</a> <a href="#1176405" title="(x: Unit)Unit">++=</a> tparams
            <span class="keyword">case</span> AnnotatedType<a href="#1176397" title="Unit" id="1176404" class="delimiter">(</a>annots, _, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="1176344">annot</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit">annots</a>; arg &lt;- <a href="#1176344" title="Typers.this.global.AnnotationInfo">annot</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1176368" title="Typers.this.global.Tree">arg</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> Ident<a href="#1176375" title="Unit" id="1176378" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt;
                    // Check the symbol of an Ident, unless the
                    // Ident's type is already over an existential.
                    // (If the type is already over an existential,
                    // then remap the type, not the core symbol.)
                    <a href="#1176379" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1176368" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <a href="#1176207" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#1176368" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#1176368" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> _ =&gt; <a href="#1176379" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
          <a href="#1176207" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#1176261" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#441985" title="=&gt; Typers.this.global.Symbol">termSymbol</a>, <a href="#1176261" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
          <a href="#1176207" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#1176261" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#1176261" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1176430">sym</a> &lt;- <a href="../../../collection/generic/TraversableForwarder.scala.html#68048" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">remainingSyms</a><span class="delimiter">)</span> <a href="#1176077" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#1176430" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443451" title="=&gt; Typers.this.global.Type">existentialBound</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1176078">normalizedTpe</a> = <a href="../../../reflect/internal/Types.scala.html#460839" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalizeLocals</a><span class="delimiter">(</span><a href="#568911" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <a href="#1176077" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#1176078" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
      <a href="#560750" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#1176072" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a>.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[Typers.this.global.Symbol]">toList</a>, <a href="#1176078" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, noGen: Boolean)Typers.this.global.Tree" id="560755">typedClassOf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176444">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1176445">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Boolean" id="1176449">noGen</a>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560646" title="(tpt: Typers.this.global.Tree)Boolean">checkClassType</a><span class="delimiter">(</span><a href="#1176445" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1176449" title="Boolean">noGen</a><span class="delimiter">)</span> <a href="#1176445" title="Typers.this.global.Tree">tpt</a>
      <span class="keyword">else</span> <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1176444" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500053" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkClassOf</a><span class="delimiter">(</span><a href="#1176445" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree" id="560756">typedExistentialTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.ExistentialTypeTree" id="1176458">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23740" title="Typers.this.global.ExistentialTypeTree">ExistentialTypeTree</a>, <a title="Int" id="1176459">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176482">wc</a> &lt;- <a href="#1176458" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)Unit">whereClauses</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1176482" title="Typers.this.global.Tree">wc</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085605" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#1176482" title="Typers.this.global.Tree">wc</a><span class="delimiter">)</span>; <a href="#1176482" title="Typers.this.global.Tree">wc</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443305" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">EXISTENTIAL</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#1176482" title="Typers.this.global.Tree">wc</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1176461">whereClauses1</a> = <a href="#560736" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#1176458" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#429007" title="=&gt; List[Typers.this.global.Tree]">whereClauses</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span>vd @ ValDef<a href="#1176512" title="Boolean" id="1176552" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> &lt;- <a href="#1176458" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#59082" title="(f: Typers.this.global.Tree =&gt; Unit)Unit" id="1176502">whereClauses</a><span class="delimiter">)</span>
        <a href="#1176553" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span>vd.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#562576" title="(vd: Typers.this.global.ValDef)Unit">AbstractionFromVolatileTypeError</a><span class="delimiter">(</span>vd<span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1176462">tpt1</a> = <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1176458" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#429005" title="=&gt; Typers.this.global.Tree">tpt</a>, <a href="#1176459" title="Int">mode</a><span class="delimiter">)</span>
      <a href="#560747" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTree">existentialTransform</a><span class="delimiter">(</span><a href="#1176458" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#429007" title="=&gt; List[Typers.this.global.Tree]">whereClauses</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1176591" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>, <a href="#1176462" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="1176621">tparams</a>, <a title="Typers.this.global.Type" id="1176622">tp</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441323" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.Type">newExistentialType</a><span class="delimiter">(</span><a href="#1176621" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1176622" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#428891" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#1176458" title="Typers.this.global.ExistentialTypeTree">tree</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // lifted out of typed1 because it's needed in typedImplicit0
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="560757">typedTypeApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1098539">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1098540">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Tree" id="1098541">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1098542">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#1098541" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> OverloadedType<a href="#1176820" title="Typers.this.global.Tree" id="1176822" class="delimiter">(</a>pre, alts<span class="delimiter">)</span> =&gt;
        <a href="Infer.scala.html#562691" title="(tree: Typers.this.global.Tree, argtypes: List[Typers.this.global.Type])Unit">inferPolyAlternatives</a><span class="delimiter">(</span><a href="#1098541" title="Typers.this.global.Tree">fun</a>, <a href="#1098542" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1176653" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1176633">tparams</a> = <a href="#1098541" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> //@M TODO: fun.symbol.info.typeParams ? (as in typedAppliedTypeTree)
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1176634">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1098542" title="List[Typers.this.global.Tree]">args</a>, <a href="#1176633" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          //@M: in case TypeApply we can't check the kind-arities of the type arguments,
          // as we don't know which alternative to choose... here we do
          <a href="../../../reflect/internal/Types.scala.html#441530" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#1098542" title="List[Typers.this.global.Tree]">args</a>, <a href="#1176633" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //@M! the polytype denotes the expected kind
            <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176704">arg</a>, <a title="Typers.this.global.Symbol" id="1176705">tparam</a><span class="delimiter">)</span> =&gt; <a href="#560778" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#1176704" title="Typers.this.global.Tree">arg</a>, <a href="#1098540" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#457750" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">GenPolyType</a><span class="delimiter">(</span><a href="#1176705" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> // @M: there's probably something wrong when args.length != tparams.length... (triggered by bug #320)
         // Martin, I'm using fake trees, because, if you use args or arg.map(typedType),
         // inferPolyAlternatives loops...  -- I have no idea why :-(
         // ...actually this was looping anyway, see bug #278.
          <span title="Nothing" class="keyword">return</span> <a href="ContextErrors.scala.html#562577" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.global.Tree">TypedApplyWrongNumberOfTpeParametersError</a><span class="delimiter">(</span><a href="#1098541" title="Typers.this.global.Tree">fun</a>, <a href="#1098541" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>

        <a href="#560757" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1098540" title="Int">mode</a>, <a href="#1098541" title="Typers.this.global.Tree">fun</a>, <a href="#1176634" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> SingleType<a href="#1176820" title="Typers.this.global.Tree" id="1176826" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
        <a href="#560757" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><a href="#1176831" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1098540" title="Int">mode</a>, <a href="#1098541" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)fun.type">setType</a> <a href="#1098541" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#1098542" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> PolyType<a href="#1176820" title="Typers.this.global.Tree" id="1176828" class="delimiter">(</a>tparams, restpe<span class="delimiter">)</span> <span class="keyword">if</span> tparams.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a> =&gt;
        <a href="#1176831" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span>tparams, <a href="#1098542" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1176733">targs</a> = <a href="#1098542" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1176744" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#562657" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Boolean">checkBounds</a><span class="delimiter">(</span><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Types.scala.html#441258" title="Typers.this.global.NoPrefix.type">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, tparams, <a href="#1176733" title="List[Typers.this.global.Type]">targs</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098541" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442239" title="=&gt; Typers.this.global.Symbol">Predef_classOf</a><span class="delimiter">)</span>
            <a href="#560755" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, noGen: Boolean)Typers.this.global.Tree">typedClassOf</a><span class="delimiter">(</span><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1098542" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Tree">head</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1098541" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442553" title="=&gt; Typers.this.global.MethodSymbol">Any_isInstanceOf</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1176733" title="List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#562669" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1176733" title="List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1176783">resultpe</a> = restpe.<a href="../../../reflect/internal/Types.scala.html#442014" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span>tparams, <a href="#1176733" title="List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>
            //@M substitution in instantiateParams needs to be careful!
            //@M example: class Foo[a] { def foo[m[x]]: m[a] = error(&quot;&quot;) } (new Foo[Int]).foo[List] : List[Int]
            //@M    --&gt; first, m[a] gets changed to m[Int], then m gets substituted for List,
            //          this must preserve m's type argument, so that we end up with List[Int], and not List[a]
            //@M related bug: #1438
            //println(&quot;instantiating type params &quot;+restpe+&quot; &quot;+tparams+&quot; &quot;+targs+&quot; = &quot;+resultpe)
            <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428310" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1098541" title="Typers.this.global.Tree">fun</a>, <a href="#1098542" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.TypeApply">setType</a> <a href="#1176783" title="Typers.this.global.Type">resultpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#562577" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.global.Tree">TypedApplyWrongNumberOfTpeParametersError</a><span class="delimiter">(</span><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1098541" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.Tree" id="1176830">ErrorType</a> =&gt;
        <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.TypeApply)Typers.this.global.TypeApply">setError</a><a href="#1176831" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428310" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1098541" title="Typers.this.global.Tree">fun</a>, <a href="#1098542" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#1176831" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          // drop the application for an applyDynamic or selectDynamic call since it has been pushed down
          <span class="keyword">case</span> <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#503898" title="Option[(Typers.this.global.treeInfo.global.Tree, Any)]" id="1176817">DynamicApplication</a><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#1176813" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">fun</a>
          <span class="keyword">case</span> _ =&gt; <a href="ContextErrors.scala.html#562578" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.global.Tree">TypedApplyDoesNotTakeTpeParametersError</a><a href="#1176813" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1098539" title="Typers.this.global.Tree">tree</a>, <a href="#1098541" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="Typer.this.dyna.type" id="560758">dyna</a> <a href="#560759" title="Typer.this.dyna.type" class="delimiter">{</a>
      <span class="keyword">import</span> <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<span class="delimiter">{</span>isApplyDynamicName, DynamicUpdate, DynamicApplicationNamed<span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Boolean" id="1173825">acceptsApplyDynamic</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1176843">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1176843" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443468" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#442226" title="=&gt; Typers.this.global.ClassSymbol">DynamicClass</a>

      /** Returns `Some(t)` if `name` can be selected dynamically on `qual`, `None` if not.
       * `t` specifies the type to be passed to the applyDynamic/selectDynamic call (unless it is NoType)
       * NOTE: currently either returns None or Some(NoType) (scala-virtualized extends this to Some(t) for selections on staged Structs)
       */
      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Option[Typers.this.global.Type]" id="1173826">acceptsApplyDynamicWithType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176844">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1176845">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.Type]">Option</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
        // don't selectDynamic selectDynamic, do select dynamic at unknown type,
        // in scala-virtualized, we may return a Some(tp) where tp ne NoType
        <span title="Option[Typers.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/TreeInfo.scala.html#501530" title="(name: Typers.this.global.treeInfo.global.Name)Boolean">isApplyDynamicName</a><span class="delimiter">(</span><a href="#1176845" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1173825" title="(tp: Typers.this.global.Type)Boolean">acceptsApplyDynamic</a><span class="delimiter">(</span><a href="#1176844" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.NoType.type)Some[Typers.this.global.NoType.type]">Some</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../Option.scala.html#2498" title="None.type">None</a>

      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="1173827">isDynamicallyUpdatable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176851">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1176851" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/TreeInfo.scala.html#503898" title="Option[(Typers.this.global.treeInfo.global.Tree, Any)]" id="1176865">DynamicUpdate</a><span class="delimiter">(</span>qual, name<span class="delimiter">)</span> =&gt;
          // if the qualifier is a Dynamic, that's all we need to know
          <a href="#1173825" title="(tp: Typers.this.global.Type)Boolean">acceptsApplyDynamic</a><a href="#1176860" title="(x: Boolean)Boolean" class="delimiter">(</a>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.treeInfo.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#1176860" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Boolean" id="1173828">isApplyDynamicNamed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1173831">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <a href="#1173831" title="Typers.this.global.Tree">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/TreeInfo.scala.html#503898" title="Option[(Typers.this.global.treeInfo.global.Tree, Any)]" id="1176881">DynamicApplicationNamed</a><span class="delimiter">(</span>qual, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1173825" title="(tp: Typers.this.global.Type)Boolean">acceptsApplyDynamic</a><span class="delimiter">(</span>qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.treeInfo.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.treeInfo.global.Type">widen</a><span class="delimiter">)</span> =&gt; <a href="#1176876" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> _ =&gt; <a href="#1176876" title="(x: Boolean)Boolean" class="keyword">false</a>
          // look deeper?
          // val methPart = treeInfo.methPart(fun)
          // println(&quot;methPart of &quot;+ fun +&quot; is &quot;+ methPart)
          // if (methPart ne fun) isApplyDynamicNamed(methPart)
          // else false
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(orig: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="1173829">typedNamedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1173832">orig</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1173833">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1173834">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="1173835">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1173836">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree)Typers.this.global.Tree" id="1176883">argToBinding</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176884">arg</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#1176884" title="Typers.this.global.Tree">arg</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> AssignOrNamedArg<a href="#1176908" title="Typers.this.global.Tree" id="1176911" class="delimiter">(</a>Ident<a title="Typers.this.global.Tree" id="1176913" class="delimiter">(</a>name<span class="delimiter">)</span>, rhs<span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500058" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><a href="#1176914" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#560223" title="Typers.this.CODE.type">CODE</a>.<a href="../ast/TreeDSL.scala.html#691641" title="(x: Any)Typers.this.global.Literal">LIT</a><span class="delimiter">(</span>name.<a href="../../../Function1.scala.html#59562" title="()String">toString</a><span class="delimiter">)</span>, rhs<span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt; <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500058" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><a href="#1176914" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#560223" title="Typers.this.CODE.type">CODE</a>.<a href="../ast/TreeDSL.scala.html#691641" title="(x: Any)Typers.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <a href="#1176884" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1173832" title="Typers.this.global.Tree">orig</a>, <a href="#1173833" title="Typers.this.global.Tree">fun</a>, <a href="#1173834" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <a href="#1176883" title="(arg: Typers.this.global.Tree)Typers.this.global.Tree">argToBinding</a><span class="delimiter">)</span>, <a href="#1173835" title="Int">mode</a>, <a href="#1173836" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Translate selection that does not typecheck according to the normal rules into a selectDynamic/applyDynamic.
       *
       * foo.method(&quot;blah&quot;)  ~~&gt; foo.applyDynamic(&quot;method&quot;)(&quot;blah&quot;)
       * foo.method(x = &quot;blah&quot;)  ~~&gt; foo.applyDynamicNamed(&quot;method&quot;)((&quot;x&quot;, &quot;blah&quot;))
       * foo.varia = 10      ~~&gt; foo.updateDynamic(&quot;varia&quot;)(10)
       * foo.field           ~~&gt; foo.selectDynamic(&quot;field&quot;)
       * foo.arr(10) = 13    ~~&gt; foo.selectDynamic(&quot;arr&quot;).update(10, 13)
       *
       * what if we want foo.field == foo.selectDynamic(&quot;field&quot;) == 1, but `foo.field = 10` == `foo.selectDynamic(&quot;field&quot;).update(10)` == ()
       * what would the signature for selectDynamic be? (hint: it needs to depend on whether an update call is coming or not)
       *
       * need to distinguish selectDynamic and applyDynamic somehow: the former must return the selected value, the latter must accept an apply or an update
       *  - could have only selectDynamic and pass it a boolean whether more is to come,
       *    so that it can either return the bare value or something that can handle the apply/update
       *      HOWEVER that makes it hard to return unrelated values for the two cases
       *      --&gt; selectDynamic's return type is now dependent on the boolean flag whether more is to come
       *  - simplest solution: have two method calls
       *
       */
      <span class="keyword">def</span> <a title="(cxTree: Typers.this.global.Tree, tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Option[Typers.this.global.Tree]" id="1173830">mkInvoke</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176967">cxTree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1176968">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1176969">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1176970">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[Typers.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
        <a href="#1173826" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Option[Typers.this.global.Type]">acceptsApplyDynamicWithType</a><span class="delimiter">(</span><a href="#1176969" title="Typers.this.global.Tree">qual</a>, <a href="#1176970" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#63820" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Apply)Option[Typers.this.global.Apply]">map</a> <span class="delimiter">{</span> <a title="Typers.this.global.Type" id="1176975">tp</a> =&gt;
          // tp eq NoType =&gt; can call xxxDynamic, but not passing any type args (unless specified explicitly by the user)
          // in scala-virtualized, when not NoType, tp is passed as type argument (for selection on a staged Struct)

          // strip off type application -- we're not doing much with outer, so don't bother preserving cxTree's attributes etc
          <span class="keyword">val</span> <a href="#1177060" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1176977">outer</a>, <a href="../../../Tuple2.scala.html#61508" title="List[Typers.this.global.Tree]" id="1176978">explicitTargs</a><span class="delimiter">)</span> = <a href="#1176967" title="Typers.this.global.Tree">cxTree</a> <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
              <span class="keyword">case</span> TypeApply<a href="#1177034" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="1177036" class="delimiter">(</a>fun, targs<span class="delimiter">)</span> =&gt; <a href="#1177042" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a>fun, targs<span class="delimiter">)</span>
              <span class="keyword">case</span> Apply<a href="#1177034" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="1177039" class="delimiter">(</a>TypeApply<a title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="1177041" class="delimiter">(</a>fun, targs<span class="delimiter">)</span>, args<span class="delimiter">)</span> =&gt; <a href="#1177042" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>fun, args<span class="delimiter">)</span>, targs<span class="delimiter">)</span>
              <span class="keyword">case</span> t =&gt; <a href="#1177042" title="(x: (Typers.this.global.Tree, List[Typers.this.global.Tree]))(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a>t, <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          @inline <span class="keyword">def</span> <a title="(as: List[Typers.this.global.Tree])Boolean" id="1176979">hasNamedArg</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1177064">as</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1177064" title="List[Typers.this.global.Tree]">as</a> <a href="../../../collection/TraversableOnce.scala.html#59104" title="(pf: PartialFunction[Typers.this.global.Tree,Unit])Option[Unit]">collectFirst</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[Typers.this.global.Tree,Unit] with Serializable" id="1177087" class="delimiter">{</a><span class="keyword">case</span> AssignOrNamedArg<a href="#1177080" title="B1" id="1177096" class="delimiter">(</a>lhs, rhs<span class="delimiter">)</span> =&gt;<span class="delimiter">}</span> <a href="../../../Option.scala.html#63834" title="=&gt; Boolean">nonEmpty</a>

          // note: context.tree includes at most one Apply node
          // thus, we can't use it to detect we're going to receive named args in expressions such as:
          //   qual.sel(a)(a2, arg2 = &quot;a2&quot;)
          <span class="keyword">val</span> <a title="Typers.this.global.nme.NameType" id="1176980">oper</a> = <a href="#1176977" title="Typers.this.global.Tree">outer</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Apply<a href="#1177161" title="Typers.this.global.nme.NameType" id="1177164" class="delimiter">(</a><a href="#1176968" title="Typers.this.global.nme.NameType" id="1177173">`tree`</a>, as<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.nme.NameType" id="1177149">oper</a> =
                <span title="Typers.this.global.nme.NameType" class="keyword">if</span> <span class="delimiter">(</span><a href="#1176979" title="(as: List[Typers.this.global.Tree])Boolean">hasNamedArg</a><span class="delimiter">(</span>as<span class="delimiter">)</span><span class="delimiter">)</span>  <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446437" title="=&gt; Typers.this.global.nme.NameType">applyDynamicNamed</a>
                <span class="keyword">else</span>                  <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446435" title="=&gt; Typers.this.global.nme.NameType">applyDynamic</a>
              // not supported: foo.bar(a1,..., an: _*)
              <span title="Typers.this.global.nme.NameType" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501505" title="(trees: List[Typers.this.global.treeInfo.global.Tree])Boolean">isWildcardStarArgList</a><span class="delimiter">(</span>as<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
               <a href="ContextErrors.scala.html#562590" title="(tree: Typers.this.global.Tree, name: String)Unit">DynamicVarArgUnsupported</a><span class="delimiter">(</span><a href="#1176968" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/StdNames.scala.html#441748" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: Typers.this.global.TermName)String">oper</a><span class="delimiter">)</span>
               <span title="Nothing" class="keyword">return</span> <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.Tree)Some[Typers.this.global.Tree]">Some</a><span class="delimiter">(</span><a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1176968" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1177149" title="Typers.this.global.nme.NameType">oper</a>
            <span class="keyword">case</span> Assign<a href="#1177161" title="Typers.this.global.nme.NameType" id="1177170" class="delimiter">(</a><a href="#1176968" title="Typers.this.global.nme.NameType" id="1177174">`tree`</a>, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="#1177175" title="(x: Typers.this.global.nme.NameType)Typers.this.global.nme.NameType">updateDynamic</a>
            <span class="keyword">case</span> _                 =&gt; <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="#1177175" title="(x: Typers.this.global.nme.NameType)Typers.this.global.nme.NameType">selectDynamic</a>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Select" id="1176981">dynSel</a>  = <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1176969" title="Typers.this.global.Tree">qual</a>, <a href="#1176980" title="Typers.this.global.nme.NameType">oper</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers extends Typers.this.global.Tree with Serializable" id="1176982">tappSel</a> = <span title="Typers extends Typers.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#1176978" title="List[Typers.this.global.Tree]">explicitTargs</a> <a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#429629" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#1176981" title="Typers.this.global.Select">dynSel</a>, <a href="#1176978" title="List[Typers.this.global.Tree]">explicitTargs</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1176981" title="Typers.this.global.Select">dynSel</a>

          <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Apply)Typers.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#1176969" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1176982" title="Typers extends Typers.this.global.Tree with Serializable">tappSel</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#1176970" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="560760">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560923" title="(x$1: Int)Unit">typingIndentLevel</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-=</a> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="560761">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560923" title="(x$1: Int)Unit">typingIndentLevel</a> <a href="../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="560762">printTyping</a><span class="delimiter">(</span><a title="=&gt; String" id="1095166">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559577" title="=&gt; Boolean">printTypings</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560925" title="=&gt; String">typingIndent</a> <span title="(x$1: Any)String">+</span> <a href="#1095166" title="=&gt; String">s</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560925" title="=&gt; String">typingIndent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="560763">printInference</a><span class="delimiter">(</span><a title="=&gt; String" id="1095156">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559580" title="=&gt; Boolean">printInfers</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#1095156" title="=&gt; String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560764">typed1</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1050086">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1050087">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1050088">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="1177261">isPatternMode</a> = <a href="Modes.scala.html#560175" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>

      //Console.println(&quot;typed1(&quot;+tree.getClass()+&quot;,&quot;+Integer.toHexString(mode)+&quot;,&quot;+pt+&quot;)&quot;)
      <span class="keyword">def</span> <a title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)" id="1177262">ptOrLub</a><span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="1177284">tps</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(Typers.this.global.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#1050088" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441549" title="(ts: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">weakLub</a><span class="delimiter">(</span><a href="#1177284" title="List[Typers.this.global.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1177307" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#441991" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>

      //@M! get the type of the qualifier in a Select tree, otherwise: NoType
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Type" id="1177263">prefixType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1177335">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="#1177335" title="Typers.this.global.Tree">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Select<a href="#1177342" title="Typers.this.global.Type" id="1177345" class="delimiter">(</a>qualifier, _<span class="delimiter">)</span> =&gt; qualifier.<a href="#1177346" title="(x: Typers.this.global.Type)Typers.this.global.Type">tpe</a>
//        case Ident(name) =&gt; ??
        <span class="keyword">case</span> _ =&gt; <a href="#1177346" title="(x: Typers.this.global.Type)Typers.this.global.Type">NoType</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree" id="1177264">typedAnnotated</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1177351">ann</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1177352">arg1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        /** mode for typing the annotation itself */
        <span class="keyword">val</span> <a title="Int" id="1177353">annotMode</a> = <a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <a href="../../../Int.scala.html#57878" title="=&gt; Int">~</a><span title="Int(4)">TYPEmode</span> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(1)">EXPRmode</span>

        <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Typers.this.global.TypeTree" id="1177354">resultingTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1177363">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          // we need symbol-ful originals for reification
          // hence we go the extra mile to hand-craft tis guy
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177364">original</a> =
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177352" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/api/Trees.scala.html#425073" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Tree)" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177352" title="Typers.this.global.Tree">arg1</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span class="delimiter">(</span>Annotated<a title="Boolean" id="1177400" class="delimiter">(</a>annot, arg<span class="delimiter">)</span>, tt @ TypeTree<a title="Typers.this.global.Annotated" id="1177402" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#433446" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><a href="#1177408" title="(x: Typers.this.global.Annotated)Typers.this.global.Annotated" class="delimiter">(</a>annot, tt.<a href="../../../reflect/api/Trees.scala.html#428890" title="=&gt; Typers.this.global.Tree">original</a><span class="delimiter">)</span>
                // this clause is needed to correctly compile stuff like &quot;new C @D&quot; or &quot;@(inline @getter)&quot;
                <span class="keyword">case</span> <span class="delimiter">(</span>Annotated<span class="delimiter">(</span>annot, arg<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#433446" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><a href="#1177408" title="(x: Typers.this.global.Annotated)Typers.this.global.Annotated" class="delimiter">(</a>annot, <a href="#1177352" title="Typers.this.global.Tree">arg1</a><span class="delimiter">)</span>
                <span class="keyword">case</span> _ =&gt; <a href="#1177408" title="(x: Typers.this.global.Annotated)Typers.this.global.Annotated" class="keyword">throw</a> <span title="(x$1: String)Error" class="keyword">new</span> <a href="../../../package.scala.html#56959" title="Error">Error</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;unexpected trees in typedAnnotated: tree = %s, arg1 = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../../reflect/api/TreePrinters.scala.html#23837" title="(tree: Typers.this.global.Tree)String">showRaw</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="../../../reflect/api/TreePrinters.scala.html#23837" title="(tree: Typers.this.global.Tree)String">showRaw</a><span class="delimiter">(</span><a href="#1177352" title="Typers.this.global.Tree">arg1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span>
              <a href="#1050086" title="Typers.this.global.Tree">tree</a>
          <a href="#1177364" title="Typers.this.global.Tree">original</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)original.type">setType</a> <a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
          <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1177363" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#428891" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#1177364" title="Typers.this.global.Tree">original</a> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177352" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/api/Trees.scala.html#425073" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // make sure the annotation is only typechecked once
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // an annotated type
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1177427">selfsym</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467532" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">selfInAnnots</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">else</span>
                <a href="#1177352" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442092" title="=&gt; Typers.this.global.Symbol">selfsym</a> <a href="../../../reflect/internal/Symbols.scala.html#443540" title="(alt: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">orElse</a> <span class="delimiter">{</span>
                  /* Implementation limitation: Currently this
                   * can cause cyclical reference errors even
                   * when the self symbol is not referenced at all.
                   * Surely at least some of these cases can be
                   * fixed by proper use of LazyType's.  Lex tinkered
                   * on this but did not succeed, so is leaving
                   * it alone for now. Example code with the problem:
                   *  class peer extends Annotation
                   *  class NPE[T &lt;: NPE[T] @peer]
                   *
                   * (Note: -Yself-in-annots must be on to see the problem)
                   * */
                  <span class="delimiter">(</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
                      <a href="../../../reflect/internal/Symbols.scala.html#443176" title="Typers.this.global.TermSymbol" id="1177447">newLocalDummy</a> <span class="delimiter">(</span><a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
                      <a href="../../../reflect/internal/Symbols.scala.html#457650" title="Long" id="1177450">newValue</a> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446667" title="Typers.this.global.nme.NameType" id="1177448">self</a>, <a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="Typers.this.global.Position" id="1177449">pos</a><span class="delimiter">)</span>
                      <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <span class="delimiter">(</span><a href="#1177352" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442086" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>
                  <span class="delimiter">)</span>
                <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="1177428">ainfo</a> = <a href="#560744" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#1177351" title="Typers.this.global.Tree">ann</a>, <a href="#1177353" title="Int">annotMode</a>, <a href="#1177427" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1177429">atype0</a> = <a href="#1177352" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442129" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#1177428" title="Typers.this.global.AnnotationInfo">ainfo</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1177430">atype</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1177427" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1177428" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443810" title="(sym: Typers.this.global.Symbol)Boolean">refsSymbol</a><span class="delimiter">(</span><a href="#1177427" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#1177429" title="Typers.this.global.Type">atype0</a>.<a href="../../../reflect/internal/Types.scala.html#442091" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">withSelfsym</a><span class="delimiter">(</span><a href="#1177427" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#1177429" title="Typers.this.global.Type">atype0</a> // do not record selfsym if
                       // this annotation did not need it

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177428" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#443808" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              // Erroneous annotations were already reported in typedAnnotation
              <a href="#1177352" title="Typers.this.global.Tree">arg1</a>  // simply drop erroneous annotations
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1177430" title="Typers.this.global.Type">atype</a>
              <a href="#1177354" title="(tpe: Typers.this.global.Type)Typers.this.global.TypeTree">resultingTypeTree</a><span class="delimiter">(</span><a href="#1177430" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // the annotation was typechecked before
            <a href="#1177354" title="(tpe: Typers.this.global.Type)Typers.this.global.TypeTree">resultingTypeTree</a><span class="delimiter">(</span><a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="1177469">annotInfo</a> = <a href="#560744" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#1177351" title="Typers.this.global.Tree">ann</a>, <a href="#1177353" title="Int">annotMode</a><span class="delimiter">)</span>
            <a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1177352" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#442129" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#1177469" title="Typers.this.global.AnnotationInfo">annotInfo</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1177463">atype</a> = <a href="#1177351" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
          <a href="../../../reflect/api/Trees.scala.html#436785" title="(expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#1177352" title="Typers.this.global.Tree">arg1</a>, <a href="#1177354" title="(tpe: Typers.this.global.Type)Typers.this.global.TypeTree">resultingTypeTree</a><span class="delimiter">(</span><a href="#1177463" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Typed">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</a> <a href="#1177463" title="Typers.this.global.Type">atype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree" id="1177265">typedBind</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="1177481">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Tree" id="1177482">body</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1177483">vble</a> = <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TypeName)Typers.this.global.Tree" id="1177484">typedBindType</a><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="1177486">name</a>: <a href="../../../reflect/internal/Names.scala.html#440799" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1177482" title="Typers.this.global.Tree">body</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">unit</a> <a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a> <span title="String(&quot; typedBind: &quot;)" class="string">&quot; typedBind: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1177486" title="Typers.this.global.TypeName">name</a>.<a href="../../../reflect/internal/Names.scala.html#444182" title="=&gt; String">debugString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1177482" title="Typers.this.global.Tree">body</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1177482" title="Typers.this.global.Tree">body</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177483" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#1177483" title="Typers.this.global.Symbol">vble</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="Typers.this.global.Symbol" id="1177513">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#457617" title="Long" id="1177516">newAliasType</a><span class="delimiter">(</span><a href="#1177486" title="Typers.this.global.TypeName" id="1177514">name</a>, <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="Typers.this.global.Position" id="1177515">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.AliasTypeSymbol">setInfo</a> <a href="#1050088" title="Typers.this.global.Type">pt</a>
              <span class="keyword">else</span>
                <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="Typers.this.global.Symbol" id="1177529">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#457602" title="Long" id="1177532">newAbstractType</a><span class="delimiter">(</span><a href="#1177486" title="Typers.this.global.TypeName" id="1177530">name</a>, <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="Typers.this.global.Position" id="1177531">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.AbstractTypeSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#441274" title="Typers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#448282" title="=&gt; Typers.this.global.TypeBounds">empty</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1177487">rawInfo</a> = <a href="#1177483" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#443437" title="=&gt; Typers.this.global.Type">rawInfo</a>
          <a href="#1177483" title="Typers.this.global.Symbol">vble</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177483" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441756" title="Typers.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447331" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#1177483" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085603" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#1177483" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> <a href="#1177483" title="Typers.this.global.Symbol">vble</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#1177483" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TermName)Typers.this.global.Bind" id="1177485">typedBindTerm</a><span class="delimiter">(</span><a title="Typers.this.global.TermName" id="1177552">name</a>: <a href="../../../reflect/internal/Names.scala.html#440798" title="Typers.this.global.TermName">TermName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177483" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#1177483" title="Typers.this.global.Symbol">vble</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="Typers.this.global.Symbol" id="1177568">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#457650" title="Long" id="1177571">newValue</a><span class="delimiter">(</span><a href="#1177552" title="Typers.this.global.TermName" id="1177569">name</a>, <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="Typers.this.global.Position" id="1177570">pos</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177483" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444126" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(8192)">ALTmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#562555" title="(tree: Typers.this.global.Tree)Unit">VariableInPatternAlternativeError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <a href="#1177483" title="Typers.this.global.Symbol">vble</a> = <a href="#560635" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#1085603" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#1177483" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177553">body1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177482" title="Typers.this.global.Tree">body</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#1177483" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501512" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSequenceValued</a><span class="delimiter">(</span><a href="#1177482" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442516" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#1177553" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#1177553" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428297" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Bind">Bind</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177552" title="Typers.this.global.TermName">name</a>, <a href="#1177553" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)Typers.this.global.Bind">setSymbol</a> <a href="#1177483" title="Typers.this.global.Symbol">vble</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Bind">setType</a> <a href="#1177553" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>   // burak, was: pt
        <span class="delimiter">}</span>
        <a href="#1177481" title="Typers.this.global.Name">name</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#1177613" title="Typers.this.global.Tree" id="1177616">x</a>: TypeName  =&gt; <a href="#1177484" title="(name: Typers.this.global.TypeName)Typers.this.global.Tree">typedBindType</a><a href="#1177618" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#1177613" title="Typers.this.global.Tree" id="1177617">x</a>: TermName  =&gt; <a href="#1177485" title="(name: Typers.this.global.TermName)Typers.this.global.Bind">typedBindTerm</a><a href="#1177618" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue" id="1177266">typedArrayValue</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1177623">elemtpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1177624">elems</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177625">elemtpt1</a> = <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1177623" title="Typers.this.global.Tree">elemtpt</a>, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1177626">elems1</a> = <a href="#1177624" title="List[Typers.this.global.Tree]">elems</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1177637">elem</a> =&gt; <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177637" title="Typers.this.global.Tree">elem</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1177625" title="Typers.this.global.Tree">elemtpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428299" title="(tree: Typers.this.global.Tree, elemtpt: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">ArrayValue</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177625" title="Typers.this.global.Tree">elemtpt1</a>, <a href="#1177626" title="List[Typers.this.global.Tree]">elems1</a><span class="delimiter">)</span>
          .<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.ArrayValue">setType</a><span class="delimiter">(</span>
            <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#1050088" title="Typers.this.global.Type">pt</a>
             <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#442510" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#1177625" title="Typers.this.global.Tree">elemtpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#442013" title="=&gt; Typers.this.global.Type">notNull</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree" id="1177267">typedAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1177650">lhs</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1177651">rhs</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177652">lhs1</a>    = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177650" title="Typers.this.global.Tree">lhs</a>, EXPRmode <span title="Int(1025)">|</span> LHSmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1177653">varsym</a>  = <a href="#1177652" title="Typers.this.global.Tree">lhs1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>

        // see #2494 for double error message example
        <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="1177654">fail</a><span class="delimiter">(</span><span class="delimiter">)</span> =
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">lhs1</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <a href="#1177652" title="Typers.this.global.Tree">lhs1</a>
          <span class="keyword">else</span> <a href="ContextErrors.scala.html#562543" title="(tree: Typers.this.global.Tree, varSym: Typers.this.global.Symbol)Typers.this.global.Tree">AssignmentError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177653" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177653" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#1177654" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501480" title="(sym: Typers.this.global.treeInfo.global.Symbol)Boolean">mayBeVarGetter</a><span class="delimiter">(</span><a href="#1177653" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501515" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">methPart</a><a href="../../../reflect/api/Trees.scala.html#427928" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a href="#1177652" title="Typers.this.global.Tree">lhs1</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Select<a href="#1177739" title="Unit" id="1177741" class="delimiter">(</a>qual, name<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="1177679">sel</a> = <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>qual, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446244" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToSetter</a><span class="delimiter">(</span>name.<a href="../../../reflect/internal/Names.scala.html#444126" title="=&gt; Typers.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1177650" title="Typers.this.global.Tree">lhs</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="1177680">app</a> = <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1177679" title="Typers.this.global.Select">sel</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1177651" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
              <span title="Nothing" class="keyword">return</span> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177680" title="Typers.this.global.Apply">app</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
//      if (varsym.isVariable ||
//        // setter-rewrite has been done above, so rule out methods here, but, wait a minute, why are we assigning to non-variables after erasure?!
//        (phase.erasedTypes &amp;&amp; varsym.isValue &amp;&amp; !varsym.isMethod)) {
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177653" title="Typers.this.global.Symbol">varsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443276" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1177653" title="Typers.this.global.Symbol">varsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443274" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177747">rhs1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177651" title="Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#1177652" title="Typers.this.global.Tree">lhs1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428301" title="(tree: Typers.this.global.Tree, lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177652" title="Typers.this.global.Tree">lhs1</a>, <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#1177747" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Assign">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span><span class="delimiter">(</span><a href="#560758" title="Typer.this.dyna.type">dyna</a>.<a href="#1173827" title="(tree: Typers.this.global.Tree)Boolean">isDynamicallyUpdatable</a><span class="delimiter">(</span><a href="#1177652" title="Typers.this.global.Tree">lhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177762">rhs1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177651" title="Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
          <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1177652" title="Typers.this.global.Tree">lhs1</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1177762" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#1177654" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If" id="1177268">typedIf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1177794">cond</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1177795">thenp</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1177796">elsep</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177797">cond1</a> = <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177794" title="Typers.this.global.Tree">cond</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Definitions.scala.html#442857" title="=&gt; Typers.this.global.ClassSymbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.If" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177796" title="Typers.this.global.Tree">elsep</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> // in the future, should be unnecessary
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1177806">thenp1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177795" title="Typers.this.global.Tree">thenp</a>, <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428303" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177797" title="Typers.this.global.Tree">cond1</a>, <a href="#1177806" title="Typers.this.global.Tree">thenp1</a>, <a href="#1177796" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</a> <a href="#1177806" title="Typers.this.global.Tree">thenp1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1177818">thenp1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177795" title="Typers.this.global.Tree">thenp</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1177819">elsep1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177796" title="Typers.this.global.Tree">elsep</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1177821">thenTp</a> = <a href="#560754" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#1177818" title="Typers.this.global.Tree">thenp1</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1177823">elseTp</a> = <a href="#560754" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#1177819" title="Typers.this.global.Tree">elsep1</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
          // println(&quot;typedIf: &quot;+(thenp1.tpe, elsep1.tpe, ptOrLub(List(thenp1.tpe, elsep1.tpe)),&quot;\n&quot;, thenTp, elseTp, thenTp =:= elseTp))
          <span class="keyword">val</span> <a href="#1177866" title="(x: (Typers.this.global.Type, Boolean))(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Type" id="1177825">owntype</a>, <a href="../../../Tuple2.scala.html#61508" title="Boolean" id="1177826">needAdapt</a><span class="delimiter">)</span> =
            // in principle we should pack the types of each branch before lubbing, but lub doesn't really work for existentials anyway
            // in the special (though common) case where the types are equal, it pays to pack before comparing
            // especially virtpatmat needs more aggressive unification of skolemized types
            // this breaks src/library/scala/collection/immutable/TrieIterator.scala
            <a href="#1177865" title="(Typers.this.global.Type, Boolean)" class="keyword">if</a> <span class="delimiter">(</span> <a href="../Global.scala.html#559558" title="Typers.this.global.opt.type">opt</a>.<a href="../settings/AestheticSettings.scala.html#561510" title="=&gt; Boolean">virtPatmat</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a>
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1177818" title="Typers.this.global.Tree">thenp1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442085" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1177819" title="Typers.this.global.Tree">elsep1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442085" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> // annotated types need to be lubbed regardless (at least, continations break if you by pass them like this)
              <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1177820" title="=&gt; Typers.this.global.Type">thenTp</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Typers.this.global.Type)Boolean">=:=</a> <a href="#1177822" title="=&gt; Typers.this.global.Type">elseTp</a>
               <span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#1177818" title="Typers.this.global.Tree">thenp1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> // use unpacked type
            // TODO: skolemize (lub of packed types) when that no longer crashes on files/pos/t4070b.scala
            <span class="keyword">else</span> <a href="#1177262" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1177818" title="Typers.this.global.Tree">thenp1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1177819" title="Typers.this.global.Tree">elsep1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177826" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span> //isNumericValueType(owntype)) {
            <a href="#1177818" title="Typers.this.global.Tree">thenp1</a> = <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1177818" title="Typers.this.global.Tree">thenp1</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1177825" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#1177819" title="Typers.this.global.Tree">elsep1</a> = <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1177819" title="Typers.this.global.Tree">elsep1</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1177825" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428303" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177797" title="Typers.this.global.Tree">cond1</a>, <a href="#1177818" title="Typers.this.global.Tree">thenp1</a>, <a href="#1177819" title="Typers.this.global.Tree">elsep1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</a> <a href="#1177825" title="Typers.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Tree" id="1177269">typedTranslatedMatch</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1177870">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1177871">selector</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.CaseDef]" id="1177872">cases</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560206" title="=&gt; Boolean">doMatchTranslation</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177871" title="Typers.this.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#1177906" title="(x: (Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean))(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple5.scala.html#73149" title="Typers.this.global.Tree" id="1177874">selector1</a>, <a href="../../../Tuple5.scala.html#73151" title="Typers.this.global.Type" id="1177875">selectorTp</a>, <a href="../../../Tuple5.scala.html#73153" title="List[Typers.this.global.CaseDef]" id="1177876">casesAdapted</a>, <a href="../../../Tuple5.scala.html#73155" title="Typers.this.global.Type" id="1177877">ownType</a>, <a href="../../../Tuple5.scala.html#73157" title="Boolean" id="1177878">doTranslation</a><span class="delimiter">)</span> = <a href="#560728" title="(selector0: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], mode: Int, resTp: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean)">typedMatch</a><a href="../../../Tuple5.scala.html#1306" title="(Typers.this.global.Tree, Typers.this.global.Type, List[Typers.this.global.CaseDef], Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#1177871" title="Typers.this.global.Tree">selector</a>, <a href="#1177872" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#560729" title="(selector1: Typers.this.global.Tree, selectorTp: Typers.this.global.Type, casesAdapted: List[Typers.this.global.CaseDef], ownType: Typers.this.global.Type, doTranslation: Boolean, matchFailGen: Option[Typers.this.global.Tree =&gt; Typers.this.global.Tree])Typers.this.global.Tree">translatedMatch</a><span class="delimiter">(</span><a href="#1177874" title="Typers.this.global.Tree">selector1</a>, <a href="#1177875" title="Typers.this.global.Type">selectorTp</a>, <a href="#1177876" title="List[Typers.this.global.CaseDef]">casesAdapted</a>, <a href="#1177877" title="Typers.this.global.Type">ownType</a>, <a href="#1177878" title="Boolean">doTranslation</a><span class="delimiter">)</span>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">(</span><span title="Typer.this.MatchFunTyper" class="keyword">new</span> <a href="#560730" title="Typer.this.MatchFunTyper">MatchFunTyper</a><span class="delimiter">(</span><a href="#1177870" title="Typers.this.global.Tree">tree</a>, <a href="#1177872" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#1171035" title="=&gt; Typers.this.global.Tree">translated</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177871" title="Typers.this.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559558" title="Typers.this.global.opt.type">opt</a>.<a href="../settings/AestheticSettings.scala.html#561510" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <a href="../Global.scala.html#559539" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;virtpatmat should not encounter empty-selector matches &quot;)" class="string">&quot;virtpatmat should not encounter empty-selector matches &quot;</span><span title="(x$1: Any)String">+</span> <a href="#1177870" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="1177918">arity</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1050088" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="1177919">params</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="1177969">i</a> &lt;- <a href="../../../collection/immutable/List.scala.html#12323" title="scala.collection.immutable.List.type">List</a>.<a href="../../../collection/generic/GenTraversableFactory.scala.html#60824" title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</a><a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Int =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]" class="delimiter">(</a><span title="Int(0)" class="int">0</span>, <a href="#1177918" title="Int">arity</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
            <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ValDef)Typers.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#1177870" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445370" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../../reflect/api/Trees.scala.html#428215" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441809" title="(flags: Long)Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span>PARAM <span title="Long(2105344L)">|</span> SYNTHETIC<span class="delimiter">)</span>,
                     <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560798" title="(prefix: String)Typers.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;x&quot;)" class="string">&quot;x&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1177969" title="Int">i</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <a href="../../../reflect/api/Trees.scala.html#429772" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Ident]" id="1177920">ids</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="1178059">p</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Ident,List[Typers.this.global.Ident]])List[Typers.this.global.Ident]">params</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="../../../reflect/api/Trees.scala.html#427669" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1178059" title="Typers.this.global.ValDef">p</a>.<a href="../../../reflect/api/Trees.scala.html#427471" title="=&gt; Typers.this.global.TermName">name</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="1177921">selector1</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1177870" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445370" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177918" title="Int">arity</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#1177920" title="List[Typers.this.global.Ident]">ids</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Ident">head</a> <span class="keyword">else</span> <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500058" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#1177920" title="List[Typers.this.global.Ident]">ids</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Match" id="1177922">body</a> = <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428304" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#1177870" title="Typers.this.global.Tree">tree</a>, <a href="#1177921" title="Typers.this.global.gen.global.Tree">selector1</a>, <a href="#1177872" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>
          <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Function)Typers.this.global.Function">atPos</a><span class="delimiter">(</span><a href="#1177870" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../reflect/api/Trees.scala.html#436558" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#1177919" title="List[Typers.this.global.ValDef]">params</a>, <a href="#1177922" title="Typers.this.global.Match">body</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1178124">selector1</a> = <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1177871" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="1178125">cases1</a> = <a href="#560726" title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#1177872" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#560753" title="(tpe: Typers.this.global.Type)Typers.this.global.Type">packCaptured</a><span class="delimiter">(</span><a href="#1178124" title="Typers.this.global.Tree">selector1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#1178200" title="(x: (Typers.this.global.Type, Boolean))(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Type" id="1178127">owntype</a>, <a href="../../../Tuple2.scala.html#61508" title="Boolean" id="1178128">needAdapt</a><span class="delimiter">)</span> = <a href="#1177262" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#1178125" title="List[Typers.this.global.CaseDef]">cases1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1178159" title="Typers.this.global.CaseDef">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178128" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1178125" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#1178125" title="List[Typers.this.global.CaseDef]">cases1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</a> <span class="delimiter">(</span><a href="#560727" title="(cdef: Typers.this.global.CaseDef, mode: Int, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#1178223" title="Typers.this.global.CaseDef">_</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1178127" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428304" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#1177870" title="Typers.this.global.Tree">tree</a>, <a href="#1178124" title="Typers.this.global.Tree">selector1</a>, <a href="#1178125" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</a> <a href="#1178127" title="Typers.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr: Typers.this.global.Tree)Typers.this.global.Tree" id="1177270">typedReturn</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1178255">expr</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="1178256">enclMethod</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560868" title="=&gt; Typers.this.Context">enclMethod</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178256" title="Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Contexts.scala.html#560072" title="Typers.this.NoContext.type">NoContext</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            <a href="#1178256" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
            <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560868" title="=&gt; Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1178256" title="Typers.this.Context">enclMethod</a> // i.e., we are in a constructor of a local class
            <span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#562553" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">ReturnOutsideOfDefError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="#1178287" title="(Typers.this.global.Name, Typers.this.global.Tree)" id="1178293" class="delimiter">(</a>_, <a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Name" id="1178268">name</a>, _, _, <a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.Tree" id="1178269">restpt</a>, _<span class="delimiter">)</span> = <a href="#1178256" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178269" title="Typers.this.global.Tree">restpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="ContextErrors.scala.html#562554" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Tree">ReturnWithoutTypeError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1178256" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560868" title="=&gt; Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#560896" title="(x$1: Boolean)Unit">returnsSeen</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1178300">expr1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1178255" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#1178269" title="Typers.this.global.Tree">restpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            // Warn about returning a value if no value can be returned.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178269" title="Typers.this.global.Tree">restpt</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // The typing in expr1 says expr is Unit (it has already been coerced if
              // it is non-Unit) so we have to retype it.  Fortunately it won't come up much
              // unless the warning is legitimate.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1178255" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span>
                <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;enclosing method &quot;)" class="string">&quot;enclosing method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1178268" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has result type Unit: return value discarded&quot;)" class="string">&quot; has result type Unit: return value discarded&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428305" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Return">Return</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#1178300" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)Typers.this.global.Return">setSymbol</a> <a href="#1178256" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Return">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Typers.this.global.definitions.NothingClass.type">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Typers.this.global.Tree" id="1177271">typedNew</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1178333">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1178334">tpt1</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1178338">tpt0</a> = <a href="#560782" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#1178333" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560647" title="(tpt: Typers.this.global.Tree)Boolean">checkStablePrefixClassType</a><span class="delimiter">(</span><a href="#1178338" title="Typers.this.global.Tree">tpt0</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178338" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1178338" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560932" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="../../../reflect/internal/Symbols.scala.html#441157" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#1178338" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
              <a href="Macros.scala.html#560474" title="(newUndets: List[Typers.this.global.Symbol])Unit">notifyUndetparamsAdded</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a><span class="delimiter">)</span>
              <a href="../../../reflect/api/Trees.scala.html#429772" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#428891" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#1178338" title="Typers.this.global.Tree">tpt0</a><span class="delimiter">)</span>
                        .<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441377" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#1178338" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1178372" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#443426" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> // @PP: tpeHK! #3343, #4018, #4347.
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1178338" title="Typers.this.global.Tree">tpt0</a>
          <span class="keyword">else</span> <a href="#1178338" title="Typers.this.global.Tree">tpt0</a>
        <span class="delimiter">}</span>

        /** If current tree &lt;tree&gt; appears in &lt;val x(: T)? = &lt;tree&gt;&gt;
         *  return `tp with x.type' else return `tp`.
         */
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="1178335">narrowRhs</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1178400">tp</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1178401">sym</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> ValDef<a href="#1178445" title="Typers.this.global.Type" id="1178450" class="delimiter">(</a>mods, _, _, Apply<a title="Typers.this.global.Type" id="1178454" class="delimiter">(</a>Select<a title="Typers.this.global.Type" id="1178458" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Type" id="1178461">`tree`</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>mods.<a href="../../../reflect/internal/HasFlags.scala.html#443594" title="=&gt; Boolean">isMutable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1178401" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1178401" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1178425">sym1</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178401" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1178401" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443525" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#1178401" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#1178401" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443525" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#1178401" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#1178401" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443495" title="=&gt; Typers.this.global.Symbol">lazyAccessorOrSelf</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1178426">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178425" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#1178425" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441258" title="Typers.this.global.NoPrefix.type">NoPrefix</a>
              <a href="../../../reflect/internal/Types.scala.html#441376" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1178400" title="Typers.this.global.Type">tp</a>, <a href="../../../reflect/internal/Types.scala.html#441367" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#1178426" title="Typers.this.global.Type">pre</a>, <a href="#1178425" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt; <a href="#1178462" title="(x: Typers.this.global.Type)Typers.this.global.Type">tp</a>
          <span class="delimiter">}</span><span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1178336">tp</a> = <a href="#1178334" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1178337">sym</a> = <a href="#1178336" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; Typers.this.global.Symbol">initialize</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178337" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1178337" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443613" title="=&gt; Boolean">hasAbstractFlag</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#562548" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Tree">IsAbstractError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1178337" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span>  <a href="#1178336" title="Typers.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1178337" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443483" title="=&gt; Typers.this.global.Symbol">thisSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a> // when there's no explicit self type -- with (#3612) or without self variable
                     // sym.thisSym.tpe == tp.typeOfThis (except for objects)
                  <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1178335" title="(tp: Typers.this.global.Type)Typers.this.global.Type">narrowRhs</a><span class="delimiter">(</span><a href="#1178336" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1178336" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441992" title="=&gt; Typers.this.global.Type">typeOfThis</a>
                  <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a>
                  <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#562549" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, tpe0: Typers.this.global.Type)Typers.this.global.Tree">DoesNotConformToSelfTypeError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1178337" title="Typers.this.global.Symbol">sym</a>, <a href="#1178336" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441992" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428308" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1178334" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</a><span class="delimiter">(</span><a href="#1178336" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree" id="1177272">typedEta</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1178490">expr1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#1178490" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeRef<a href="#1178725" title="Typers.this.global.Tree" id="1178730" class="delimiter">(</a>_, <a href="../../../reflect/internal/Definitions.scala.html#442297" title="Typers.this.global.Tree" id="1178746">ByNameParamClass</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="1178494">expr2</a> = <a href="../../../reflect/api/Trees.scala.html#436558" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#1178490" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</a> <a href="#1178490" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#441848" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1178494" title="Typers.this.global.Function">expr2</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#511668" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1178494" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1178494" title="Typers.this.global.Function">expr2</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> NullaryMethodType<a href="#1178725" title="Typers.this.global.Tree" id="1178734" class="delimiter">(</a>restpe<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="1178514">expr2</a> = <a href="../../../reflect/api/Trees.scala.html#436558" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#1178490" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</a> <a href="#1178490" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#441848" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1178514" title="Typers.this.global.Function">expr2</a>.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#511668" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1178514" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1178514" title="Typers.this.global.Function">expr2</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> PolyType<a href="#1178725" title="Typers.this.global.Tree" id="1178738" class="delimiter">(</a>_, MethodType<a title="Typers.this.global.Tree" id="1178741" class="delimiter">(</a>formals, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#1178748" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1178490" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1178490" title="Typers.this.global.Tree">expr1</a>, <a href="#1050087" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#442481" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span>formals <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1178547">t</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> MethodType<a href="#1178725" title="Typers.this.global.Tree" id="1178744" class="delimiter">(</a>formals, _<span class="delimiter">)</span> =&gt;
          <a href="#1178748" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442506" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1178490" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#1178490" title="Typers.this.global.Tree">expr1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Select<a href="#1178715" title="Typers.this.global.Tree" id="1178717" class="delimiter">(</a>qual, name<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559775" title="=&gt; Boolean">forMSIL</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                        <a href="#1050088" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                        <a href="#1050088" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                        <a href="../../../reflect/internal/Types.scala.html#441512" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a>, <a href="../../../reflect/internal/Definitions.scala.html#442531" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1178594">scalaCaller</a> = <a href="../../../reflect/internal/Definitions.scala.html#442798" title="(delegateType: Typers.this.global.Type)Typers.this.global.Symbol">newScalaCaller</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Definitions.scala.html#442799" title="(scalaCaller: Typers.this.global.Symbol, methSym: Typers.this.global.Symbol)Unit">addScalaCallerInfo</a><span class="delimiter">(</span><a href="#1178594" title="Typers.this.global.Symbol">scalaCaller</a>, <a href="#1178490" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Name" id="1178595">n</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a> = <a href="#1178594" title="Typers.this.global.Symbol">scalaCaller</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; scalaCaller.NameType">name</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="1178596">del</a> = <a href="../../../reflect/internal/Trees.scala.html#441842" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442531" title="=&gt; Typers.this.global.Symbol">DelegateClass</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#442531" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="1178597">f</a> = <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1178596" title="Typers.this.global.Ident">del</a>, <a href="#1178595" title="Typers.this.global.Name">n</a><span class="delimiter">)</span>
              //val f1 = TypeApply(f, List(Ident(pt.symbol) setType pt))
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1178598">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><a href="#1178490" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443356" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#432792" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#443074" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                                     <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span>qual<span class="delimiter">)</span> // where the scala-method is located
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="1178599">rhs</a> = <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1178597" title="Typers.this.global.Select">f</a>, <a href="#1178598" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1178599" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><a href="#1178718" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1178490" title="Typers.this.global.Tree">expr1</a>, <a href="#1050087" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#442481" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span>formals <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1178686">t</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.Tree" id="1178747">ErrorType</a> =&gt;
          <a href="#1178748" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">expr1</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="ContextErrors.scala.html#562550" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">UnderscoreEtaError</a><a href="#1178748" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1178490" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /**
       *  @param args ...
       *  @return     ...
       */
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)Option[List[Typers.this.global.Tree]]" id="1177273">tryTypedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="1178763">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="1178764">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#1510" title="Option[List[Typers.this.global.Tree]]">Option</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="1178765">c</a> = <a href="#560637" title="Typers.this.Context" id="1178766">context</a>.<a href="Contexts.scala.html#857791" title="Typers.this.global.Tree" id="1178768">makeSilent</a><span class="delimiter">(</span><a title="Boolean(false)" id="1178767" class="keyword">false</a><span class="delimiter">)</span>
        <a href="#1178765" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560917" title="(x$1: Boolean)Unit">retyping</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1178769">res</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#1178765" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#560738" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#1178763" title="List[Typers.this.global.Tree]">args</a>, <a href="#1178764" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Option[List[Typers.this.global.Tree]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178765" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560936" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#2498" title="None.type">None</a> <span class="keyword">else</span> <a href="../../../Option.scala.html#64111" title="(x: List[Typers.this.global.Tree])Some[List[Typers.this.global.Tree]]">Some</a><span class="delimiter">(</span><a href="#1178769" title="List[Typers.this.global.Tree]">res</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="1178775">ex</a>: <a href="../../../reflect/internal/Symbols.scala.html#441170" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt;
            <span title="Nothing" class="keyword">throw</span> <a href="#1178775" title="Typers.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="None.type" id="1178776">te</a>: <a href="../../../reflect/internal/Types.scala.html#441578" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            // @H some of typer erros can still leak,
            // for instance in continuations
            <a href="../../../Option.scala.html#2498" title="None.type">None</a>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#1178765" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#560949" title="()Unit">flushBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Try to apply function to arguments; if it does not work, try to convert Java raw to existentials, or try to
       *  insert an implicit conversion.
       */
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="1177274">tryTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1178778">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1178779">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="1178780">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441048" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559985" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(typeError: Typers.this.AbsTypeError)Typers.this.global.Tree" id="1178781">onError</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="1178782">typeError</a>: <a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
            <a href="../../../reflect/internal/util/StatBase.scala.html#441049" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559985" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#1178780" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>

            // If the problem is with raw types, copnvert to existentials and try again.
            // See #4712 for a case where this situation arises,
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1178778" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1178778" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1178786">newtpe</a> = <a href="../../../reflect/internal/Types.scala.html#460839" title="(tp: Typers.this.global.Type)Typers.this.global.Type">rawToExistential</a><span class="delimiter">(</span><a href="#1178778" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178778" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1178786" title="Typers.this.global.Type">newtpe</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // println(&quot;late cooking: &quot;+fun+&quot;:&quot;+fun.tpe) // DEBUG
                <span title="Nothing" class="keyword">return</span> <a href="#1177274" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#1178778" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)fun.type">setType</a> <a href="#1178786" title="Typers.this.global.Type">newtpe</a>, <a href="#1178779" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="1178783">treesInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1178801">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#1178801" title="Typers.this.global.Tree">tree</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span class="delimiter">(</span><a href="#1178801" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Block<a href="#1178964" title="List[Typers.this.global.Tree]" id="1178967" class="delimiter">(</a>_, r<span class="delimiter">)</span>                        =&gt; <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" class="delimiter">(</a>r<span class="delimiter">)</span>
              <span class="keyword">case</span> Match<a href="#1178964" title="List[Typers.this.global.Tree]" id="1178970" class="delimiter">(</a>_, cases<span class="delimiter">)</span>                    =&gt; <a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">cases</a>
              <span class="keyword">case</span> CaseDef<a href="#1178964" title="List[Typers.this.global.Tree]" id="1178974" class="delimiter">(</a>_, _, r<span class="delimiter">)</span>                   =&gt; <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" class="delimiter">(</a>r<span class="delimiter">)</span>
              <span class="keyword">case</span> Annotated<a href="#1178964" title="List[Typers.this.global.Tree]" id="1178977" class="delimiter">(</a>_, r<span class="delimiter">)</span>                    =&gt; <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" class="delimiter">(</a>r<span class="delimiter">)</span>
              <span class="keyword">case</span> If<a href="#1178964" title="List[Typers.this.global.Tree]" id="1178980" class="delimiter">(</a>_, t, e<span class="delimiter">)</span>                        =&gt; <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span>t<span class="delimiter">)</span> <a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">++</a> <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span>e<span class="delimiter">)</span>
              <span class="keyword">case</span> Try<a href="#1178964" title="List[Typers.this.global.Tree]" id="1178983" class="delimiter">(</a>b, catches, _<span class="delimiter">)</span>                 =&gt; <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span>b<span class="delimiter">)</span> <a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">++</a> catches
              <span class="keyword">case</span> Typed<a href="#1178964" title="List[Typers.this.global.Tree]" id="1178986" class="delimiter">(</a>r, Function<a title="List[Typers.this.global.Tree]" id="1178990" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11552" title="List[Typers.this.global.Tree]" id="1178993">Nil</a>, <a href="../../../reflect/api/Trees.scala.html#23577" title="List[Typers.this.global.Tree]" id="1178994">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" class="delimiter">(</a>r<span class="delimiter">)</span>
              <span class="keyword">case</span> _                                  =&gt; <a href="#1178995" title="(x: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">Nil</a>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="1178784">errorInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1179017">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1178783" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#1179017" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1179026" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1178782" title="Typers.this.AbsTypeError">typeError</a>.<a href="ContextErrors.scala.html#562861" title="=&gt; Typers.this.global.Position">errPos</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="Boolean" id="1178785">retry</a> = <span class="delimiter">(</span><a href="#1178782" title="Typers.this.AbsTypeError">typeError</a>.<a href="ContextErrors.scala.html#562861" title="=&gt; Typers.this.global.Position">errPos</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1178778" title="Typers.this.global.Tree">fun</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1178779" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="#1178784" title="(tree: Typers.this.global.Tree)Boolean">errorInResult</a><span class="delimiter">)</span>
            <a href="#560762" title="(s: =&gt; String)Unit">printTyping</a> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="String" id="1179058">funStr</a> = <a href="../../../reflect/internal/TypeDebugging.scala.html#461563" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#1178778" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#1178779" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],String,List[String]])List[String]">map</a> <a href="../../../reflect/internal/TypeDebugging.scala.html#461563" title="(t: Typers.this.global.Tree)String">ptTree</a> <a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178785" title="Boolean">retry</a><span class="delimiter">)</span> <span title="String(&quot;second try: &quot;)" class="string">&quot;second try: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1179058" title="String">funStr</a>
              <span class="keyword">else</span> <span title="String(&quot;no second try: &quot;)" class="string">&quot;no second try: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1179058" title="String">funStr</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; because error not in result: &quot;)" class="string">&quot; because error not in result: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1178782" title="Typers.this.AbsTypeError">typeError</a>.<a href="ContextErrors.scala.html#562861" title="=&gt; Typers.this.global.Position">errPos</a><span title="(x$1: Any)String">+</span><span title="String(&quot;!=&quot;)" class="string">&quot;!=&quot;</span><span title="(x$1: Any)String">+</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1178785" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> Select<a href="#1179123" title="(Typers.this.global.Tree, Typers.this.global.Name)" id="1179125" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1179108">qual</a>, <a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.Name" id="1179109">name</a><span class="delimiter">)</span> = <a href="#1178778" title="Typers.this.global.Tree">fun</a>
              <a href="#1177273" title="(args: List[Typers.this.global.Tree], mode: Int)Option[List[Typers.this.global.Tree]]">tryTypedArgs</a><a href="../../../Option.scala.html#64115" title="=&gt; List[Typers.this.global.Tree]" class="delimiter">(</a><a href="#1178779" title="List[Typers.this.global.Tree]">args</a>, <a href="#560184" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#1178778" title="Typers.this.global.Tree">fun</a>, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> Some<a href="#1179181" title="Unit" id="1179182" class="delimiter">(</a>args1<span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1179132">qual1</a> =
                    <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1050088" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441980" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#560696" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#1179108" title="Typers.this.global.Tree">qual</a>, <a href="#1179109" title="Typers.this.global.Name">name</a>, args1, <a href="#1050088" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#1179108" title="Typers.this.global.Tree">qual</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179132" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1179108" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="1179133">tree1</a> = <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1179132" title="Typers.this.global.Tree">qual1</a>, <a href="#1179109" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1178778" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, args1<span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
                    <span title="Nothing" class="keyword">return</span> <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1179133" title="Typers.this.global.Apply">tree1</a>, <a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(512)">SNDTRYmode</span>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> _ =&gt; <a href="#1179183" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#562629" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#1178782" title="Typers.this.AbsTypeError">typeError</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428311" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1178778" title="Typers.this.global.Tree">fun</a>, <a href="#1178779" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1164811" title="=&gt; Typers.this.AbsTypeError" class="delimiter">(</a><a href="#1179196" title="Typers.this.Typer">_</a>.<a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1178778" title="Typers.this.global.Tree">fun</a>, <a href="#1178779" title="List[Typers.this.global.Tree]">args</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> SilentResultValue<a href="#1179206" title="Typers.this.global.Tree" id="1179208" class="delimiter">(</a>t<span class="delimiter">)</span> =&gt;
            <a href="#1179211" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">t</a>
          <span class="keyword">case</span> SilentTypeError<a href="#1179206" title="Typers.this.global.Tree" id="1179210" class="delimiter">(</a>err<span class="delimiter">)</span> =&gt;
            <a href="#1178781" title="(typeError: Typers.this.AbsTypeError)Typers.this.global.Tree">onError</a><a href="#1179211" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>err<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="1177275">typedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1179216">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1179217">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="1179218">stableApplication</a> = <span class="delimiter">(</span><a href="#1179216" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1179216" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443282" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1179216" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443349" title="=&gt; Boolean">isStable</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179218" title="Boolean">stableApplication</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1177261" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // treat stable function applications f() as expressions.
          <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <a href="../../../Int.scala.html#57878" title="=&gt; Int">~</a><span title="Int(2)">PATTERNmode</span> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(1)">EXPRmode</span>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1179228">funpt</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177261" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="#1050088" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="1179229">appStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441048" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559985" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="1179230">opeqStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441048" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559987" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="1179231">onError</a><span class="delimiter">(</span><a title="=&gt; Typers.this.global.Tree" id="1179232">reportError</a>: =&gt; Tree<span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
              <a href="#1179216" title="Typers.this.global.Tree">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> Select<a href="#1179256" title="Typers.this.global.Tree" id="1179258" class="delimiter">(</a>qual, name<span class="delimiter">)</span>
                <span class="keyword">if</span> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1177261" title="=&gt; Boolean">isPatternMode</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446236" title="(name: Typers.this.global.Name)Boolean">isOpAssignmentName</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#440783" title="(s: String)Typers.this.global.TermName">newTermName</a><span class="delimiter">(</span>name.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1179245">qual1</a> = <a href="#560773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span>qual<span class="delimiter">)</span>
                  <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501481" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isVariableOrGetter</a><span class="delimiter">(</span><a href="#1179245" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/internal/util/StatBase.scala.html#441049" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559987" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a>, <a href="#1179230" title="scala.tools.nsc.util.Statistics.LongPair">opeqStart</a><span class="delimiter">)</span>
                    <a href="#1177276" title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree])Typers.this.global.Tree">convertToAssignment</a><span class="delimiter">(</span><a href="#1179216" title="Typers.this.global.Tree">fun</a>, <a href="#1179245" title="Typers.this.global.Tree">qual1</a>, name, <a href="#1179217" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/internal/util/StatBase.scala.html#441049" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559985" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#1179229" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                      <a href="#1179232" title="=&gt; Typers.this.global.Tree">reportError</a>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> _ =&gt;
                  <a href="../../../reflect/internal/util/StatBase.scala.html#441049" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559985" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#1179229" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                  <a href="#1179232" title="=&gt; Typers.this.global.Tree">reportError</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1164815" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a href="#1179269" title="Typers.this.Typer">_</a>.<a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1179216" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#560167" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>, <a href="#1179228" title="Typers.this.global.Type">funpt</a><span class="delimiter">)</span>,
                 <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560941" title="=&gt; Boolean">ambiguousErrors</a>,
                 <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> SilentResultValue<a href="#1179350" title="Typers.this.global.Tree" id="1179352" class="delimiter">(</a>fun1<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1179295">fun2</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179218" title="Boolean">stableApplication</a><span class="delimiter">)</span> <a href="#560684" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilizeFun</a><span class="delimiter">(</span>fun1, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> fun1
              <a href="../../../reflect/internal/util/StatBase.scala.html#441044" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559975" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedApplyCount</a><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="1179296">isImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1179301">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1179301" title="Typers.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="#1179304" title="Boolean" id="1179306">mt</a>: MethodType =&gt; mt.<a href="#1179307" title="(x: Boolean)Boolean">isImplicit</a>
                <span class="keyword">case</span> _ =&gt; <a href="#1179307" title="(x: Boolean)Boolean" class="keyword">false</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Boolean" id="1179297">useTry</a> = <span class="delimiter">(</span>
                   <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a>
                <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1179295" title="Typers.this.global.Tree">fun2</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23705" title="Typers.this.global.Select">Select</a><span class="delimiter">]</span>
                <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1179296" title="(tpe: Typers.this.global.Type)Boolean">isImplicitMethod</a><span class="delimiter">(</span><a href="#1179295" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1179295" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1179295" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
                <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(513)">|</span> SNDTRYmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span>
              <span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1179298">res</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179297" title="Boolean">useTry</a><span class="delimiter">)</span> <a href="#1177274" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#1179295" title="Typers.this.global.Tree">fun2</a>, <a href="#1179217" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#560743" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179295" title="Typers.this.global.Tree">fun2</a>, <a href="#1179217" title="List[Typers.this.global.Tree]">args</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

            /*
              if (fun2.hasSymbol &amp;&amp; fun2.symbol.isConstructor &amp;&amp; (mode &amp; EXPRmode) != 0) {
                res.tpe = res.tpe.notNull
              }
              */
              // TODO: In theory we should be able to call:
              //if (fun2.hasSymbol &amp;&amp; fun2.symbol.name == nme.apply &amp;&amp; fun2.symbol.owner == ArrayClass) {
              // But this causes cyclic reference for Array class in Cleanup. It is easy to overcome this
              // by calling ArrayClass.info here (or some other place before specialize).
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179295" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442354" title="=&gt; Typers.this.global.Symbol">Array_apply</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">res</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="1179332">checked</a> = <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561763" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#1179298" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span>
                // this check is needed to avoid infinite recursion in Duplicators
                // (calling typed1 more than once for the same tree)
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179332" title="Typers.this.global.gen.global.Tree">checked</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1179298" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span> <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1179332" title="Typers.this.global.gen.global.Tree">checked</a><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#1179298" title="Typers.this.global.Tree">res</a>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="#1179298" title="Typers.this.global.Tree">res</a>
            <span class="keyword">case</span> SilentTypeError<a href="#1179350" title="Typers.this.global.Tree" id="1179354" class="delimiter">(</a>err<span class="delimiter">)</span> =&gt;
              <a href="#1179231" title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">onError</a><a href="#1179355" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><span class="delimiter">{</span><a href="Infer.scala.html#562629" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span>err<span class="delimiter">)</span>; <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="1177276">convertToAssignment</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1179251">fun</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="1179252">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1179253">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="1179254">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="name.ThisNameType" id="1179360">prefix</a> = <a href="#1179253" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#444130" title="(from: Int, to: Int)name.ThisNameType">subName</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#1179253" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#444120" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446793" title="=&gt; Typers.this.global.TermName">EQL</a>.<a href="../../../reflect/internal/Names.scala.html#444120" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(vble: Typers.this.global.Tree)Typers.this.global.Tree" id="1179361">mkAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1179368">vble</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
          <a href="../../../reflect/api/Trees.scala.html#436590" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span>
            <a href="#1179368" title="Typers.this.global.Tree">vble</a>,
            <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1179368" title="Typers.this.global.Tree">vble</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; vble.type">duplicate</a>, <a href="#1179360" title="name.ThisNameType">prefix</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1179251" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445371" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#1179254" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445357" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>
          <span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Assign">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>

        <span class="keyword">def</span> <a title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree" id="1179362">mkUpdate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1179421">table</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1179422">indices</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561797" title="(exprs: List[Typers.this.global.gen.global.Tree], owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: List[() =&gt; Typers.this.global.gen.global.Tree] =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnceAll</a><span class="delimiter">(</span><a href="#1179421" title="Typers.this.global.Tree">table</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#1179422" title="List[Typers.this.global.Tree]">indices</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="1179434">ts</a> =&gt;
            <span class="keyword">val</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="1179435">tab</a> = <a href="#1179434" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; () =&gt; Typers.this.global.gen.global.Tree">head</a>
            <span class="keyword">val</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="1179436">is</a> = <a href="#1179434" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[() =&gt; Typers.this.global.gen.global.Tree]">tail</a>
            <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
               <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#68359" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446717" title="=&gt; Typers.this.global.nme.NameType">update</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1179421" title="Typers.this.global.Tree">table</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
               <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1179436" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</a> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="1179484">i</a> =&gt; <a href="../../../Function0.scala.html#68359" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#63646" title="(prefix: List[Typers.this.global.gen.global.Tree])List[Typers.this.global.gen.global.Tree]">:::</a> <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Apply*)List[Typers.this.global.Apply]">List</a><span class="delimiter">(</span>
                 <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                   <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
                     <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                       <a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#68359" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1179421" title="Typers.this.global.Tree">table</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
                       <a href="#1179436" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</a> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="1179582">i</a> =&gt; <a href="../../../Function0.scala.html#68359" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#1179252" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
                     <a href="#1179360" title="name.ThisNameType">prefix</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1179251" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
                   <a href="#1179254" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
               <span class="delimiter">)</span>
             <span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>
           <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1179363">tree1</a> = <a href="#1179252" title="Typers.this.global.Tree">qual</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Ident<a href="#1179723" title="Typers.this.global.Tree" id="1179726" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt;
            <a href="#1179361" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><a href="#1179731" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1179252" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

          <span class="keyword">case</span> Select<a href="#1179723" title="Typers.this.global.Tree" id="1179728" class="delimiter">(</a>qualqual, vname<span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561796" title="(expr: Typers.this.global.gen.global.Tree, owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span>qualqual, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <a href="#1179731" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">{</a> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="1179670">qq</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="1179671">qq1</a> = <a href="../../../Function0.scala.html#68359" title="()Typers.this.global.gen.global.Tree">qq</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#1179361" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1179671" title="Typers.this.global.gen.global.Tree">qq1</a>, vname<span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1179252" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> Apply<a href="#1179723" title="Typers.this.global.Tree" id="1179730" class="delimiter">(</a>fn, indices<span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#559838" title="Typers.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#501515" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">methPart</a><a href="#1179731" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>fn<span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Select<a href="#1179707" title="Typers.this.global.gen.global.Tree" id="1179710" class="delimiter">(</a>table, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446433" title="Typers.this.global.gen.global.Tree" id="1179713">apply</a><span class="delimiter">)</span> =&gt; <a href="#1179362" title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree">mkUpdate</a><a href="#1179714" title="(x: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree" class="delimiter">(</a>table, indices<span class="delimiter">)</span>
              <span class="keyword">case</span> _                        =&gt; <a href="ContextErrors.scala.html#562544" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">UnexpectedTreeAssignmentConversionError</a><a href="#1179714" title="(x: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree" class="delimiter">(</a><a href="#1179252" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1179363" title="Typers.this.global.Tree">tree1</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super" id="1177277">typedSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1179737">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.TypeName" id="1179738">mix</a>: <a href="../../../reflect/internal/Names.scala.html#440799" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1179739">qual1</a> = <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1179737" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1179740">clazz</a> = <a href="#1179739" title="Typers.this.global.Tree">qual1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> This<a href="#1179752" title="Typers.this.global.Symbol" id="1179755" class="delimiter">(</a>_<span class="delimiter">)</span> =&gt; <a href="#1179739" title="Typers.this.global.Tree">qual1</a>.<a href="#1179756" title="(x: Typers.this.global.Symbol)Typers.this.global.Symbol">symbol</a>
          <span class="keyword">case</span> _ =&gt; <a href="#1179739" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="#1179756" title="(x: Typers.this.global.Symbol)Typers.this.global.Symbol">typeSymbol</a>
        <span class="delimiter">}</span>
        //println(clazz+&quot;/&quot;+qual1.tpe.typeSymbol+&quot;/&quot;+qual1)

        <span class="keyword">def</span> <a title="(site: Typers.this.global.Type)Typers.this.global.Type" id="1179741">findMixinSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1179761">site</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="1179762">ps</a> = <a href="#1179761" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</a> <span class="delimiter">(</span><a href="#1179768" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1179738" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179762" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
            <a href="#1179762" title="List[Typers.this.global.Type]">ps</a> = <a href="#1179761" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</a> <span class="delimiter">(</span><a href="#1179783" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443514" title="=&gt; Typers.this.global.Symbol">toInterface</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1179738" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179762" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#559553" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Fatal: couldn\'t find site &quot;)" class="string">&quot;Fatal: couldn't find site &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1179761" title="Typers.this.global.Type">site</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1179761" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a>.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Symbol#NameType)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Symbol#NameType,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Symbol#NameType,List[Typers.this.global.Symbol#NameType]]" class="delimiter">(</a><a href="#1179812" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Typers.this.global.ErrorType.type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443243" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // println(qual1)
              // println(clazz)
              // println(site)
              // println(site.parents)
              // println(mix)
              // the reference to super class got lost during erasure
              <a href="TypeDiagnostics.scala.html#560519" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <span title="String(&quot;traits may not select fields or methods from super[C] where C is a class&quot;)" class="string">&quot;traits may not select fields or methods from super[C] where C is a class&quot;</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="ContextErrors.scala.html#562545" title="(tree: Typers.this.global.Tree, mix: Typers.this.global.Name, clazz: Typers.this.global.Symbol)Unit">MixinMissingParentClassNameError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179738" title="Typers.this.global.TypeName">mix</a>, <a href="#1179740" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1179762" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.global.Type]">tail</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="ContextErrors.scala.html#562546" title="(tree: Typers.this.global.Tree)Unit">AmbiguousParentClassError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1179762" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1179742">owntype</a> = <span class="delimiter">(</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1179738" title="Typers.this.global.TypeName">mix</a>.<a href="../../../reflect/internal/Names.scala.html#444121" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1179741" title="(site: Typers.this.global.Type)Typers.this.global.Type">findMixinSuper</a><span class="delimiter">(</span><a href="#1179740" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(256)">SUPERCONSTRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1179740" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441996" title="=&gt; Typers.this.global.Type">firstParent</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441376" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#1179740" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441995" title="=&gt; List[Typers.this.global.Type]">parents</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428313" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">Super</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179739" title="Typers.this.global.Tree">qual1</a>, <a href="#1179738" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Super">setType</a> <a href="../../../reflect/internal/Types.scala.html#461391" title="(thistp: Typers.this.global.Type, supertp: Typers.this.global.Type)Typers.this.global.Type">SuperType</a><span class="delimiter">(</span><a href="#1179740" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#1179742" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Tree" id="1177278">typedThis</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="1179875">qual</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Option[Typers.this.global.Symbol]" id="1179876">qualifyingClassSym</a> = <span title="Option[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#64111" title="(x: Typers.this.global.Symbol)Some[Typers.this.global.Symbol]">Some</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#560657" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Option[Typers.this.global.Symbol]">qualifyingClass</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179875" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
        <a href="#1179876" title="Option[Typers.this.global.Symbol]">qualifyingClassSym</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<a href="#1179899" title="Typers.this.global.Tree" id="1179900" class="delimiter">(</a>clazz<span class="delimiter">)</span> =&gt;
            <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> clazz <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> clazz.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#441989" title="=&gt; Typers.this.global.Type">underlying</a>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> clazz.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a>
            <a href="#1050086" title="Typers.this.global.Tree">tree</a>
          <span class="keyword">case</span> <a href="../../../Option.scala.html#2498" title="Typers.this.global.Tree" id="1179902">None</a> =&gt; <a href="#1179903" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Attribute a selection where &lt;code&gt;tree&lt;/code&gt; is &lt;code&gt;qual.name&lt;/code&gt;.
       *  &lt;code&gt;qual&lt;/code&gt; is already attributed.
       *
       *  @param qual ...
       *  @param name ...
       *  @return     ...
       */
      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="1177279">typedSelect</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1179911">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="1179912">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1179913">sym</a> =
          <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1179911" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23697" title="Typers.this.global.Super">Super</a><span class="delimiter">]</span><span class="delimiter">)</span>
              <a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> // todo: replace by settings.check.value?
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1179925">alts</a> = <a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#443472" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1179925" title="List[Typers.this.global.Symbol]">alts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1179940">alt</a> =&gt;
                <a href="#1179940" title="Typers.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1179940" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#443229" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1179940" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442064" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;symbol &quot;)" class="string">&quot;symbol &quot;</span><span title="(x$1: Any)String">+</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span title="(x$1: Any)String">+</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443561" title="=&gt; String">locationString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179925" title="List[Typers.this.global.Symbol]">alts</a><span title="(x$1: Any)String">+</span><span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n members = &quot;)" class="string">&quot;\n members = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442023" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n type history = &quot;)" class="string">&quot;\n type history = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441985" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443565" title="=&gt; String">infosString</a><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n phase = &quot;)" class="string">&quot;\n phase = &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#560685" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        // symbol not found? --&gt; try to convert implicitly to a type that does have the required member
        // added `| PATTERNmode` to allow enrichment in patterns (so we can add e.g., an xml member to StringContext, which in turn has an unapply[Seq] method)
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179913" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1179912" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(3)">|</span> PATTERNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1179970">qual1</a> =
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560685" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#1179911" title="Typers.this.global.Tree">qual</a>
            <span class="keyword">else</span> <a href="#560697" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a>, <a href="#1050087" title="Int">mode</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179970" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1179911" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428315" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179970" title="Typers.this.global.Tree">qual1</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560677" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#1179913" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443507" title="=&gt; Typers.this.global.Symbol">enclosingTopLevelClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#443623" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1179912" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#444125" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable" id="1179982">tree1</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree with Serializable)Typers.this.global.gen.global.Tree with Serializable">atPos</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#561794" title="(qual: Typers.this.global.gen.global.Tree, origName: Typers.this.global.gen.global.Name)Typers.this.global.gen.global.Tree with Serializable">convertToSelectFromType</a><span class="delimiter">(</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>  <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179982" title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable">tree1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1179982" title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable">tree1</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // try to expand according to Dynamic rules.
          <a href="#560758" title="Typer.this.dyna.type">dyna</a>.<a href="#1173830" title="(cxTree: Typers.this.global.Tree, tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Option[Typers.this.global.Tree]">mkInvoke</a><a href="../../../Option.scala.html#64115" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Some<a href="#1180000" title="Unit" id="1180001" class="delimiter">(</a>invocation<span class="delimiter">)</span> =&gt;
              <a href="#1180002" title="(x: Unit)Unit" class="keyword">return</a> <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span>invocation, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
              <span title="String(&quot;qual = &quot;)" class="string">&quot;qual = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nSymbol=&quot;)" class="string">&quot;\nSymbol=&quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441985" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nsymbol-info = &quot;)" class="string">&quot;\nsymbol-info = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441985" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nscope-id = &quot;)" class="string">&quot;\nscope-id = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441985" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;\nmembers = &quot;)" class="string">&quot;\nmembers = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442023" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nname = &quot;)" class="string">&quot;\nname = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179912" title="Typers.this.global.Name">name</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nfound = &quot;)" class="string">&quot;\nfound = &quot;</span><span title="(x$1: Any)String">+</span><a href="#1179913" title="Typers.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nowner = &quot;)" class="string">&quot;\nowner = &quot;</span><span title="(x$1: Any)String">+</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.RefTree with Serializable" id="1179980">makeInteractiveErrorTree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="1180013">tree1</a> = <a href="#1050086" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Select<a href="#1180042" title="Typers extends Typers.this.global.RefTree with Serializable" id="1180046" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428315" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><a href="#1180051" title="(x: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> SelectFromTypeTree<a href="#1180042" title="Typers extends Typers.this.global.RefTree with Serializable" id="1180050" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428322" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><a href="#1180051" title="(x: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">setError</a><span class="delimiter">(</span><a href="#1180013" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1179912" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445906" title="=&gt; Typers.this.global.nme.NameType">ERROR</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#559776" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#1179980" title="=&gt; Typers.this.global.RefTree with Serializable">makeInteractiveErrorTree</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1180073">lastTry</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#440576" title="(owner: Typers.this.global.Symbol, name: Typers.this.global.Name)Typers.this.global.Symbol">missingHook</a><span class="delimiter">(</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180073" title="Typers.this.global.Symbol">lastTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> <a href="#1180073" title="Typers.this.global.Symbol">lastTry</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="ContextErrors.scala.html#562547" title="(sel: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Unit">NotAMemberError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559776" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <a href="#1179980" title="=&gt; Typers.this.global.RefTree with Serializable">makeInteractiveErrorTree</a> <span class="keyword">else</span> <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="1180087">tree1</a> = <a href="#1050086" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Select<a href="#1180117" title="Typers extends Typers.this.global.RefTree with Serializable" id="1180121" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428315" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><a href="#1180126" title="(x: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> SelectFromTypeTree<a href="#1180117" title="Typers extends Typers.this.global.RefTree with Serializable" id="1180125" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428322" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><a href="#1180126" title="(x: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#1180216" title="(x: (Typers.this.global.Tree, Option[Typers.this.AbsTypeError]))(Typers.this.global.Tree, Option[Typers.this.AbsTypeError])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1180089">result</a>, <a href="../../../Tuple2.scala.html#61508" title="Option[Typers.this.AbsTypeError]" id="1180090">accessibleError</a><span class="delimiter">)</span> = <a href="#560686" title="(op: Typers.this.Typer =&gt; (Typers.this.global.Tree, Typers.this.global.Type), reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[(Typers.this.global.Tree, Typers.this.global.Type)]">silent</a><a href="#1164811" title="=&gt; Typers.this.AbsTypeError" class="delimiter">(</a><a href="#1180136" title="Typers.this.Typer">_</a>.<a href="#560680" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span class="delimiter">(</span><a href="#1180087" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#1179913" title="Typers.this.global.Symbol">sym</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, Option[Typers.this.AbsTypeError]) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
            <span class="keyword">case</span> SilentTypeError<a href="#1180194" title="(Typers.this.global.Tree, Option[Typers.this.AbsTypeError])" id="1180196" class="delimiter">(</a>err<span class="delimiter">)</span> =&gt;
              <a href="#1180199" title="(x: (Typers.this.global.Tree, Option[Typers.this.AbsTypeError]))(Typers.this.global.Tree, Option[Typers.this.AbsTypeError])" class="keyword">if</a> <span class="delimiter">(</span>err.<a href="ContextErrors.scala.html#562863" title="=&gt; Typers.this.ErrorKinds.ErrorKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="ContextErrors.scala.html#560556" title="Typers.this.ErrorKinds.type">ErrorKinds</a>.<a href="ContextErrors.scala.html#1082977" title="=&gt; Typers.this.ErrorKinds.Value">Access</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#560637" title="=&gt; Typers.this.Context">context</a> <a href="Contexts.scala.html#560981" title="(err: Typers.this.AbsTypeError)Unit">issue</a> err
                <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../Tuple2.scala.html#63804" title="(_1: Typers.this.global.RefTree with Serializable, _2: Some[Typers.this.AbsTypeError])(Typers.this.global.RefTree with Serializable, Some[Typers.this.AbsTypeError])" class="delimiter">(</a><a href="#1180087" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="../../../Option.scala.html#64111" title="(x: Typers.this.AbsTypeError)Some[Typers.this.AbsTypeError]">Some</a><span class="delimiter">(</span>err<span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> SilentResultValue<a href="#1180194" title="(Typers.this.global.Tree, Option[Typers.this.AbsTypeError])" id="1180198" class="delimiter">(</a>treeAndPre<span class="delimiter">)</span> =&gt;
              <a href="#1180199" title="(x: (Typers.this.global.Tree, Option[Typers.this.AbsTypeError]))(Typers.this.global.Tree, Option[Typers.this.AbsTypeError])" class="delimiter">(</a><a href="#560682" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span>treeAndPre.<a href="../../../Tuple2.scala.html#61506" title="=&gt; Typers.this.global.Tree">_1</a>, treeAndPre.<a href="../../../Tuple2.scala.html#61508" title="=&gt; Typers.this.global.Type">_2</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="../../../Option.scala.html#2498" title="None.type">None</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="()Boolean" id="1180091">isPotentialNullDeference</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1179913" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443265" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#442272" title="=&gt; Typers.this.global.ClassSymbol">NotNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1179911" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441975" title="=&gt; Boolean">isNotNull</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.MethodSymbol*)List[Typers.this.global.MethodSymbol]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442553" title="=&gt; Typers.this.global.MethodSymbol">Any_isInstanceOf</a>, <a href="../../../reflect/internal/Definitions.scala.html#442555" title="=&gt; Typers.this.global.MethodSymbol">Any_asInstanceOf</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#59768" title="(elem: Any)Boolean">contains</a> <a href="#1180089" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>  // null.is/as is not a dereference
          <span class="delimiter">}</span>
          // unit is null here sometimes; how are we to know when unit might be null? (See bug #2467.)
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#467700" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180091" title="()Boolean">isPotentialNullDeference</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;potential null pointer dereference: &quot;)" class="string">&quot;potential null pointer dereference: &quot;</span><span title="(x$1: Any)String">+</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <a href="#1180089" title="Typers.this.global.Tree">result</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            // could checkAccessible (called by makeAccessible) potentially have skipped checking a type application in qual?
            <span class="keyword">case</span> SelectFromTypeTree<a href="#1180288" title="Typers.this.global.Tree" id="1180290" class="delimiter">(</a>qual@TypeTree<a title="Typers.this.global.Tree" id="1180292" class="delimiter">(</a><span class="delimiter">)</span>, name<span class="delimiter">)</span> <span class="keyword">if</span> qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a> =&gt; // TODO: somehow the new qual is not checked in refchecks
              <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428322" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><a href="#1180293" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>
                <a href="#1180089" title="Typers.this.global.Tree">result</a>,
                <span class="delimiter">(</span><a href="../ast/Trees.scala.html#664400" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1180248">tp</a> = qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>; <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1180249">sym</a> = <a href="#1180248" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441988" title="=&gt; Typers.this.global.Symbol">typeSymbolDirect</a>
                  // will execute during refchecks -- TODO: make private checkTypeRef in refchecks public and call that one?
                  <a href="Infer.scala.html#562657" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Boolean">checkBounds</a><span class="delimiter">(</span>qual, <a href="#1180248" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#1180249" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1180249" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#1180248" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  qual // you only get to see the wrapped tree after running this check :-p
                <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</a> qual.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeTreeWithDeferredRefCheck">setPos</a> qual.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>,
                name<span class="delimiter">)</span>
            <span class="keyword">case</span> _ <span class="keyword">if</span> <a href="#1180090" title="Option[Typers.this.AbsTypeError]">accessibleError</a>.<a href="../../../Option.scala.html#63812" title="=&gt; Boolean">isDefined</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1180257">qual1</a> = <a href="#560697" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1179911" title="Typers.this.global.Tree">qual</a>, <a href="#1179912" title="Typers.this.global.Name">name</a>, <a href="#1050087" title="Int">mode</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1180257" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1179911" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1180257" title="Typers.this.global.Tree">qual1</a>, <a href="#1179912" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#562629" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#1180090" title="Option[Typers.this.AbsTypeError]">accessibleError</a>.<a href="../../../Option.scala.html#63813" title="=&gt; Typers.this.AbsTypeError">get</a><span class="delimiter">)</span>
                <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#1180293" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Attribute an identifier consisting of a simple name or an outer reference.
       *
       *  @param tree      The tree representing the identifier.
       *  @param name      The name of the identifier.
       *  Transformations: (1) Prefix class members with this.
       *                   (2) Change imported symbols to selections
       */
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Typers.this.global.Tree" id="1177280">typedIdent</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="1180299">name</a>: <a href="../../../reflect/internal/Names.scala.html#440792" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.AbsTypeError" id="1180300">errorContainer</a>: <a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a> = <span title="Null(null)" class="keyword">null</span>
        @inline
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="1180301">ambiguousError</a><span class="delimiter">(</span><a title="String" id="1180311">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1180300" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>, <span title="String(&quot;Cannot set ambiguous error twice for identifier&quot;)" class="string">&quot;Cannot set ambiguous error twice for identifier&quot;</span><span class="delimiter">)</span>
          <a href="#1180300" title="Typers.this.AbsTypeError">errorContainer</a> = <a href="ContextErrors.scala.html#562523" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, msg: String)Typers.this.NormalTypeError">AmbiguousIdentError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180299" title="Typers.this.global.Name">name</a>, <a href="#1180311" title="String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        @inline
        <span class="keyword">def</span> <a title="(tree: Typers.this.AbsTypeError)Unit" id="1180302">identError</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="1180323">tree</a>: <a href="ContextErrors.scala.html#560559" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1180300" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>, <span title="String(&quot;Cannot set ambiguous error twice for identifier&quot;)" class="string">&quot;Cannot set ambiguous error twice for identifier&quot;</span><span class="delimiter">)</span>
          <a href="#1180300" title="Typers.this.AbsTypeError">errorContainer</a> = <a href="#1180323" title="Typers.this.AbsTypeError">tree</a>
        <span class="delimiter">}</span>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1180303">defSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>  // the directly found symbol
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="1180304">pre</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#441258" title="Typers.this.global.NoPrefix.type">NoPrefix</a>          // the prefix type of defSym, if a class member
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1180305">qual</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a>        // the qualifier tree if transformed tree is a select
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1180306">inaccessibleSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> // the first symbol that was found but that was discarded
                                          // for being inaccessible; used for error reporting
        <span class="keyword">var</span> <a title="String" id="1180307">inaccessibleExplanation</a>: <span title="String">String</span> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

        // If a special setting is given, the empty package will be checked as a
        // last ditch effort before failing.  This method sets defSym and returns
        // true if a member of the given name exists.
        <span class="keyword">def</span> <a title="()Boolean" id="1180308">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> = <a href="../../../reflect/internal/Definitions.scala.html#442146" title="Typers.this.global.definitions.EmptyPackageClass.type">EmptyPackageClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442029" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="1180309">startingIdentContext</a> = <span class="delimiter">(</span>
          // ignore current variable scope in patterns to enforce linearity
          <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(65538)">|</span> TYPEPATmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>
          <span class="keyword">else</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a>
        <span class="delimiter">)</span>
        // A symbol qualifies if it exists and is not stale. Stale symbols
        // are made to disappear here. In addition,
        // if we are in a constructor of a pattern, we ignore all definitions
        // which are methods (note: if we don't do that
        // case x :: xs in class List would return the :: method)
        // unless they are stable or are accessors (the latter exception is for better error messages).
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="1180310">qualifies</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1180354">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          <a href="#1180354" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443435" title="=&gt; Boolean">hasRawInfo</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>       // this condition avoids crashing on self-referential pattern variables
          <a href="#560677" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#1180354" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(2)">PATTERNmode</span> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180354" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443283" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1180354" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="1180377">defEntry</a>: <a href="../../../reflect/internal/Scopes.scala.html#441624" title="Typers.this.global.ScopeEntry">ScopeEntry</a> = <span title="Null(null)" class="keyword">null</span> // the scope entry of defSym, if defined in a local scope

          <span class="keyword">var</span> <a title="Typers.this.Context" id="1180378">cx</a> = <a href="#1180309" title="=&gt; Typers.this.Context">startingIdentContext</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180378" title="Typers.this.Context">cx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#560072" title="Typers.this.NoContext.type">NoContext</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1180382" title="()Unit" class="delimiter">{</a> // cx.scope eq null arises during FixInvalidSyms in Duplicators
            // !!! Shouldn't the argument to compileSourceFor be cx, not context?
            // I can't tell because those methods do nothing in the standard compiler,
            // presumably they are overridden in the IDE.
            <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561369" title="(context: Typers.this.global.analyzer.Context, name: Typers.this.global.Name)Boolean">compileSourceFor</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#560086" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#1180304" title="Typers.this.global.Type">pre</a> = <a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560889" title="=&gt; Typers.this.global.Type">prefix</a>
            <a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a> = <a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447342" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180310" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a><span class="delimiter">(</span><a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // Right here is where SI-1987, overloading in package objects, can be
              // seen to go wrong. There is an overloaded symbol, but when referring
              // to the unqualified identifier from elsewhere in the package, only
              // the last definition is visible. So overloading mis-resolves and is
              // definition-order dependent, bad things. See run/t1987.scala.
              //
              // I assume the actual problem involves how/where these symbols are entered
              // into the scope. But since I didn't figure out how to fix it that way, I
              // catch it here by looking up package-object-defined symbols in the prefix.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560681" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#1180304" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> = <a href="#1180304" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;!!! Overloaded package object member resolved incorrectly.\n  Discarded: &quot;)" class="string">&quot;!!! Overloaded package object member resolved incorrectly.\n  Discarded: &quot;</span> <span title="(x$1: Any)String">+</span>
                    <a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443568" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n  Using: &quot;)" class="string">&quot;\n  Using: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443568" title="=&gt; String">defString</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span>
                <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> = <a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#457240" title="=&gt; Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#1180378" title="Typers.this.Context">cx</a> = <a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1180413">foundSym</a> = <a href="#1180304" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#442028" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <a href="#1180310" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a>
              <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> = <a href="#1180413" title="Typers.this.global.Symbol">foundSym</a> <a href="../../../reflect/internal/Symbols.scala.html#443473" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560996" title="(sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#1180427" title="Typers.this.global.Symbol">_</a>, <a href="#1180304" title="Typers.this.global.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1180413" title="Typers.this.global.Symbol">foundSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1180306" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#1180306" title="Typers.this.global.Symbol">inaccessibleSym</a> = <a href="#1180413" title="Typers.this.global.Symbol">foundSym</a>
                  <a href="#1180307" title="String">inaccessibleExplanation</a> = <a href="../Global.scala.html#559585" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: Typers.this.global.type}">analyzer</a>.<a href="Contexts.scala.html#560076" title="=&gt; String">lastAccessCheckDetails</a>
                <span class="delimiter">}</span>
                <a href="#1180378" title="Typers.this.Context">cx</a> = <a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560862" title="=&gt; Typers.this.Context">outer</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Int" id="1180379">symDepth</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560877" title="=&gt; Int">depth</a>
                         <span class="keyword">else</span> <a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560877" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <span class="delimiter">(</span><a href="#1180378" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#560859" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#447345" title="=&gt; Int">nestingLevel</a> <a href="../../../Int.scala.html#57955" title="(x: Int)Int">-</a> <a href="#1180377" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#457242" title="=&gt; Typers.this.global.Scope">owner</a>.<a href="../../../reflect/internal/Scopes.scala.html#447345" title="=&gt; Int">nestingLevel</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1180380">impSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>      // the imported symbol
          <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="1180381">imports</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560880" title="=&gt; List[Typers.this.ImportInfo]">imports</a>      // impSym != NoSymbol =&gt; it is imported from imports.head
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560677" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#1180380" title="Typers.this.global.Symbol">impSym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876809" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="#1180379" title="Int">symDepth</a><span class="delimiter">)</span> <a href="#1180383" title="()Unit" class="delimiter">{</a>
            <a href="#1180380" title="Typers.this.global.Symbol">impSym</a> = <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876814" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180380" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.ImportInfo]">tail</a>
          <span class="delimiter">}</span>

          // detect ambiguous definition/import,
          // update `defSym` to be the final resolved symbol,
          // update `pre` to be `sym`s prefix type in case it is an imported member,
          // and compute value of:

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180380" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // imported symbols take precedence over package-owned symbols in different
            // compilation units. Defined symbols take precedence over erroneous imports.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443324" title="=&gt; Boolean">isDefinedInPackage</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561353" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
                 <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560803" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443536" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560792" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#561659" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180380" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443317" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1180380" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; Typers.this.global.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#1180380" title="Typers.this.global.Symbol">impSym</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180380" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
              <a href="#1180301" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                <span title="String(&quot;it is both defined in &quot;)" class="string">&quot;it is both defined in &quot;</span><span title="(x$1: Any)String">+</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; and imported subsequently by \n&quot;)" class="string">&quot; and imported subsequently by \n&quot;</span><span title="(x$1: Any)String">+</span><a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443231" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443257" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span>
              <a href="#1180304" title="Typers.this.global.Type">pre</a> = <a href="../../../reflect/internal/Types.scala.html#441258" title="Typers.this.global.NoPrefix.type">NoPrefix</a>
            <span class="keyword">else</span>
              <a href="#1180305" title="Typers.this.global.Tree">qual</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445370" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#559498" title="Typers.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#500031" title="(tpe: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#1180304" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180380" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443373" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.NoSymbol" id="1180492">impSym1</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="1180493">imports1</a> = <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.ImportInfo]">tail</a>
              <span class="keyword">def</span> <a title="()Unit" id="1180494">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876812" title="=&gt; Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442062" title="(that: Typers.this.global.Type)Boolean">=:=</a> <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876812" title="=&gt; Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#1180301" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                    <span title="String(&quot;it is imported twice in the same scope by\n&quot;)" class="string">&quot;it is imported twice in the same scope by\n&quot;</span><span title="(x$1: Any)String">+</span><a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a> <span title="(x$1: Any)String">+</span>  <span title="String(&quot;\nand &quot;)" class="string">&quot;\nand &quot;</span><span title="(x$1: Any)String">+</span><a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1180300" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876813" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
                      <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876809" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876809" title="=&gt; Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1180496" title="()Unit" class="delimiter">{</a>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="1180521">impSym1</a> = <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876814" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560677" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#1180521" title="Typers.this.global.Symbol">impSym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876813" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876813" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
                        <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876809" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876809" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#1180494" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                    <a href="#1180380" title="Typers.this.global.Symbol">impSym</a> = <a href="#1180521" title="Typers.this.global.Symbol">impSym1</a>
                    <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876813" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                             <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876809" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876809" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#1180494" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a> = <a href="#1180493" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Typers.this.ImportInfo]">tail</a>
              <span class="delimiter">}</span>
              <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> = <a href="#1180380" title="Typers.this.global.Symbol">impSym</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1180495">qual0</a> = <a href="#1180381" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#876812" title="=&gt; Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><span title="Boolean(false)">shortenImports</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180495" title="Typers.this.global.Tree">qual0</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443286" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span><span class="delimiter">)</span> // optimization: don't write out package prefixes
                <a href="#1180305" title="Typers.this.global.Tree">qual</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#445370" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#433540" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">resetPos</a><span class="delimiter">(</span><a href="#1180495" title="Typers.this.global.Tree">qual0</a>.<a href="../../../reflect/api/Trees.scala.html#425086" title="=&gt; qual0.type">duplicate</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1180304" title="Typers.this.global.Type">pre</a> = <a href="#1180305" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467582" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">exposeEmptyPackage</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1180308" title="()Boolean">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Allowing empty package member &quot;)" class="string">&quot;Allowing empty package member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1180299" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; due to settings.&quot;)" class="string">&quot; due to settings.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1180566">lastTry</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#440576" title="(owner: Typers.this.global.Symbol, name: Typers.this.global.Name)Typers.this.global.Symbol">missingHook</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442142" title="Typers.this.global.definitions.RootClass.type">RootClass</a>, <a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180566" title="Typers.this.global.Symbol">lastTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425066" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> <a href="#1180566" title="Typers.this.global.Symbol">lastTry</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560880" title="=&gt; List[Typers.this.ImportInfo]">imports</a><span class="delimiter">)</span>//debug
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180306" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // Avoiding some spurious error messages: see SI-2388.
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559481" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#467867" title="=&gt; Boolean">hasErrors</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#444147" title="(prefix: Typers.this.global.Name)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#441756" title="Typers.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445846" title="=&gt; Typers.this.global.tpnme.NameType">ANON_CLASS_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#1180302" title="(tree: Typers.this.AbsTypeError)Unit">identError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562524" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, owner: Typers.this.global.Symbol, startingIdentCx: Typers.this.Context)Typers.this.NormalTypeError">SymbolNotFoundError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180299" title="Typers.this.global.Name">name</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1180309" title="=&gt; Typers.this.Context">startingIdentContext</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="#1180302" title="(tree: Typers.this.AbsTypeError)Unit">identError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#562619" title="Typer.this.infer.InferErrorGen.type">InferErrorGen</a>.<a href="ContextErrors.scala.html#562704" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, owner0: Typers.this.global.Symbol, explanation: String)Typers.this.NormalTypeError">AccessError</a><span class="delimiter">(</span>
                  <a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180306" title="Typers.this.global.Symbol">inaccessibleSym</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>,
                  <a href="#1180307" title="String">inaccessibleExplanation</a>
                <span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1180303" title="Typers.this.global.Symbol">defSym</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443215" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">newErrorSymbol</a><span class="delimiter">(</span><a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180300" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#560578" title="Typers.this.ErrorUtils.type">ErrorUtils</a>.<a href="ContextErrors.scala.html#1082968" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><a href="ContextErrors.scala.html#562514" title="=&gt; Typers.this.Context" class="delimiter">(</a><a href="#1180300" title="Typers.this.AbsTypeError">errorContainer</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443287" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
            <a href="#1180304" title="Typers.this.global.Type">pre</a> = <a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443485" title="=&gt; Typers.this.global.Type">thisType</a>

          // Inferring classOf type parameter from expected type.
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443316" title="=&gt; Boolean">isThisSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441838" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Tree">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          // Inferring classOf type parameter from expected type.  Otherwise an
          // actual call to the stubbed classOf method is generated, returning null.
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442244" title="(sym: Typers.this.global.Symbol, name: Typers.this.global.Name)Boolean">isPredefMemberNamed</a><span class="delimiter">(</span><a href="#1180303" title="Typers.this.global.Symbol">defSym</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446481" title="=&gt; Typers.this.global.nme.NameType">classOf</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050088" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442223" title="=&gt; Typers.this.global.ClassSymbol">ClassClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1050088" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
            <a href="#560755" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, noGen: Boolean)Typers.this.global.Tree">typedClassOf</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1180632">tree1</a> = <span class="delimiter">(</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180305" title="Typers.this.global.Tree">qual</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a>
              // atPos necessary because qualifier might come from startContext
              <span class="keyword">else</span> <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1180305" title="Typers.this.global.Tree">qual</a>, <a href="#1180299" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="#1180676" title="(x: (Typers.this.global.Tree, Typers.this.global.Type))(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1180634">tree2</a>, <a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.Type" id="1180635">pre2</a><span class="delimiter">)</span> = <a href="#560680" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</a><a href="#1180632" title="Typers.this.global.Tree">tree1</a>, <a href="#1180303" title="Typers.this.global.Symbol">defSym</a>, <a href="#1180304" title="Typers.this.global.Type">pre</a>, <a href="#1180305" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            // assert(pre.typeArgs isEmpty) // no need to add #2416-style check here, right?
            <a href="#560682" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#1180634" title="Typers.this.global.Tree">tree2</a>, <a href="#1180635" title="Typers.this.global.Type">pre2</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)Typers.this.global.Tree" id="1177281">typedCompoundTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="1180680">templ</a>: <a href="../../../reflect/api/Trees.scala.html#23621" title="Typers.this.global.Template">Template</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1180681">parents1</a> = <a href="#1180680" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427394" title="=&gt; List[Typers.this.global.Tree]">parents</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1180688" title="Typers.this.global.Tree">_</a>, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="tree.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180681" title="List[Typers.this.global.Tree]">parents1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76170" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="../../../reflect/internal/Types.scala.html#441249" title="Typers.this.global.ErrorType.type">ErrorType</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="1180704">decls</a> = <a href="../../../reflect/internal/Scopes.scala.html#441629" title="=&gt; Typers.this.global.Scope">newScope</a>
          //Console.println(&quot;Owner: &quot; + context.enclClass.owner + &quot; &quot; + context.enclClass.owner.id)
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1180705">self</a> = <a href="../../../reflect/internal/Types.scala.html#441368" title="(parents: List[Typers.this.global.Type], owner: Typers.this.global.Symbol, decls: Typers.this.global.Scope, pos: Typers.this.global.Position)Typers.this.global.Type">refinedType</a><span class="delimiter">(</span><a href="#1180681" title="List[Typers.this.global.Tree]">parents1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1180736" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560865" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1180704" title="Typers.this.global.Scope">decls</a>, <a href="#1180680" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
          <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560971" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#1180680" title="Typers.this.global.Template">templ</a>, <a href="#1180705" title="Typers.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#1180704" title="Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#560733" title="(stats: List[Typers.this.global.Tree])Unit">typedRefinement</a><span class="delimiter">(</span><a href="#1180680" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/api/Trees.scala.html#427398" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span>
          <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#1180705" title="Typers.this.global.Type">self</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="1177282">typedAppliedTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1180766">tpt</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="1180767">args</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1180768">tpt1</a> = <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#1180766" title="Typers.this.global.Tree">tpt</a>, <a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(16)">FUNmode</span> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(128)">TAPPmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tpt1</a>.<a href="../../../reflect/internal/Trees.scala.html#443963" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#562525" title="(tree: Typers.this.global.Tree, errTpe: Typers.this.global.Type)Typers.this.global.Tree">AppliedTypeNoParametersError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1180781">tparams</a> = <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1180781" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1180767" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1180784">args1</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443437" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../../../reflect/internal/Types.scala.html#441983" title="=&gt; Boolean">isComplete</a><span class="delimiter">)</span>
                <a href="#1180767" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a href="#560779" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#1180794" title="Typers.this.global.Tree">_</a>, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // if symbol hasn't been fully loaded, can't check kind-arity
              <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441530" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#1180767" title="List[Typers.this.global.Tree]">args</a>, <a href="#1180781" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1180821">arg</a>, <a title="Typers.this.global.Symbol" id="1180822">tparam</a><span class="delimiter">)</span> =&gt;
                //@M! the polytype denotes the expected kind
                <a href="#560778" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#1180821" title="Typers.this.global.Tree">arg</a>, <a href="#1050087" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#457750" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">GenPolyType</a><span class="delimiter">(</span><a href="#1180822" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1180785">argtypes</a> = <a href="#1180784" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1180843" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

            <a href="../../../reflect/internal/util/Collections.scala.html#440726" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#1180767" title="List[Typers.this.global.Tree]">args</a>, <a href="#1180781" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>arg, tparam<span class="delimiter">)</span> =&gt; <a href="#1180894" title="Typers.this.global.Tree">arg</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              // note: can't use args1 in selector, because Bind's got replaced
              <span class="keyword">case</span> Bind<a href="#1180922" title="Unit" id="1180926" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
                <a href="#1180927" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#1180894" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443233" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span>
                  <a href="#1180894" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> // XXX, feedback. don't trackSymInfo here!
                    <a href="../../../reflect/internal/Types.scala.html#448285" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span>
                      <a href="../../../reflect/internal/Types.scala.html#441559" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">lub</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1180894" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; Typers.this.global.Type">lo</a>, <a href="#1180895" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448297" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#442041" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1180781" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1180785" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      <a href="../../../reflect/internal/Types.scala.html#441568" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1180894" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Typers.this.global.Type">hi</a>, <a href="#1180895" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#441994" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#448299" title="=&gt; Typers.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#442041" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1180781" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#1180785" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AppliedTypeTree" id="1180786">original</a> = <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428324" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.AppliedTypeTree">AppliedTypeTree</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>, <a href="#1180784" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="1180787">result</a> = <a href="../../../reflect/api/Trees.scala.html#23746" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441377" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1180785" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#428891" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#1180786" title="Typers.this.global.AppliedTypeTree">original</a>
            <span title="Typers extends Typers.this.global.TypTree with Serializable" class="keyword">if</span><span class="delimiter">(</span><a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441320" title="Typers.this.global.PolyType">PolyType</a><span class="delimiter">]</span><span class="delimiter">)</span> // did the type application (performed by appliedType) involve an unchecked beta-reduction?
              <a href="../ast/Trees.scala.html#664400" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                // wrap the tree and include the bounds check -- refchecks will perform this check (that the beta reduction was indeed allowed) and unwrap
                // we can't simply use original in refchecks because it does not contains types
                // (and the only typed trees we have have been mangled so they're not quite the original tree anymore)
                <a href="Infer.scala.html#562657" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Boolean">checkBounds</a><span class="delimiter">(</span><a href="#1180787" title="Typers.this.global.TypeTree">result</a>, <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443379" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#1180785" title="List[Typers.this.global.Type]">argtypes</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                <a href="#1180787" title="Typers.this.global.TypeTree">result</a> // you only get to see the wrapped tree after running this check :-p
              <span class="delimiter">}</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</a> <span class="delimiter">(</span><a href="#1180787" title="Typers.this.global.TypeTree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.TypeTreeWithDeferredRefCheck">setPos</a><span class="delimiter">(</span><a href="#1180787" title="Typers.this.global.TypeTree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#1180787" title="Typers.this.global.TypeTree">result</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1180781" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="ContextErrors.scala.html#562525" title="(tree: Typers.this.global.Tree, errTpe: Typers.this.global.Type)Typers.this.global.Tree">AppliedTypeNoParametersError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            //Console.println(&quot;\{tpt1}:\{tpt1.symbol}:\{tpt1.symbol.info}&quot;)
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../../Console.scala.html#227" title="Console.type">Console</a>.<a href="../../../Console.scala.html#64301" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8576" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpt1</a><a href="../../../runtime/StringAdd.scala.html#60949" title="(other: String)String">+</a><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1180768" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>//debug
            <a href="ContextErrors.scala.html#562526" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol])Typers.this.global.Tree">AppliedTypeWrongNumberOfArgsError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180768" title="Typers.this.global.Tree">tpt1</a>, <a href="#1180781" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // begin typed1
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="1177283">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a> = <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443439" title="=&gt; sym.type">initialize</a>
      //if (settings.debug.value &amp;&amp; tree.isDef) log(&quot;typing definition of &quot;+sym);//DEBUG
      <a href="#1050086" title="Typers.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> PackageDef<a href="#1182290" title="Typers.this.global.Tree" id="1182292" class="delimiter">(</a>pid, stats<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.RefTree" id="1180996">pid1</a> = <a href="#560773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span>pid<span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.RefTree" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23575" title="Typers.this.global.RefTree">RefTree</a><span class="delimiter">]</span>
          <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#1177283" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          // complete lazy annotations
          <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="1180997">annots</a> = <a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443459" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1180998">stats1</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560971" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; Typers.this.global.Symbol">moduleClass</a>, <a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442019" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#560736" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span>stats, <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428285" title="(tree: Typers.this.global.Tree, pid: Typers.this.global.RefTree, stats: List[Typers.this.global.Tree])Typers.this.global.PackageDef">PackageDef</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1180996" title="Typers.this.global.RefTree">pid1</a>, <a href="#1180998" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.PackageDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#441256" title="Typers.this.global.NoType.type">NoType</a>

        <span class="keyword">case</span> tree @ ClassDef<a href="#1182290" title="Typers.this.global.Tree" id="1182298" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span>tree, <a href="#1177283" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#560705" title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree">typedClassDef</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>tree<span class="delimiter">)</span>

        <span class="keyword">case</span> tree @ ModuleDef<a href="#1182290" title="Typers.this.global.Tree" id="1182303" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span>tree, <a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443515" title="=&gt; Typers.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#560706" title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree">typedModuleDef</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>tree<span class="delimiter">)</span>

        <span class="keyword">case</span> vdef @ ValDef<a href="#1182290" title="Typers.this.global.Tree" id="1182309" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#560713" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>vdef<span class="delimiter">)</span>

        <span class="keyword">case</span> ddef @ DefDef<a href="#1182290" title="Typers.this.global.Tree" id="1182317" class="delimiter">(</a>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1177283" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#560717" title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef">typedDefDef</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>ddef<span class="delimiter">)</span>

        <span class="keyword">case</span> tdef @ TypeDef<a href="#1182290" title="Typers.this.global.Tree" id="1182323" class="delimiter">(</a>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#560718" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>tdef<span class="delimiter">)</span>

        <span class="keyword">case</span> ldef @ LabelDef<a href="#1182290" title="Typers.this.global.Tree" id="1182328" class="delimiter">(</a>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#560674" title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer">labelTyper</a><span class="delimiter">(</span>ldef<span class="delimiter">)</span>.<a href="#560721" title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef">typedLabelDef</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>ldef<span class="delimiter">)</span>

        <span class="keyword">case</span> ddef @ DocDef<a href="#1182290" title="Typers.this.global.Tree" id="1182330" class="delimiter">(</a>comment, defn<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559777" title="=&gt; Boolean">forScaladoc</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../collection/mutable/HashMap.scala.html#79209" title="(key: Typers.this.global.Symbol, value: Typers.this.global.DocComment)Unit">docComments</a><span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> = comment
            comment.<a href="../ast/DocComments.scala.html#664376" title="(sym: Typers.this.global.Symbol)Unit">defineVariables</a><span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="1181067">typer1</a> = <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="1181092">useCase</a> &lt;- comment.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.UseCase =&gt; Unit)Unit">useCases</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1181067" title="Typers.this.Typer">typer1</a>.<a href="#560686" title="(op: Typers.this.Typer =&gt; Unit, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Unit]">silent</a><a href="#1164811" title="=&gt; Typers.this.AbsTypeError" class="delimiter">(</a><a href="#1181098" title="Typers.this.Typer">_</a>.<a href="#560716" title="(useCase: Typers.this.global.UseCase)Unit">typedUseCase</a><span class="delimiter">(</span><a href="#1181092" title="Typers.this.global.UseCase">useCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> SilentTypeError<a href="#1181106" title="Unit" id="1181108" class="delimiter">(</a>err<span class="delimiter">)</span> =&gt;
                  <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><a href="#1181109" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1181092" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669863" title="=&gt; Typers.this.global.Position">pos</a>, err.<a href="ContextErrors.scala.html#562862" title="=&gt; String">errMsg</a><span class="delimiter">)</span>
                <span class="keyword">case</span> _ =&gt;
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="1181135">useCaseSym</a> &lt;- <a href="#1181092" title="Typers.this.global.UseCase">useCase</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">defined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1181135" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; useCaseSym.NameType">name</a><span class="delimiter">)</span>
                  <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560821" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1181092" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#669863" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;@usecase &quot;)" class="string">&quot;@usecase &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1181135" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; useCaseSym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; does not match commented symbol: &quot;)" class="string">&quot; does not match commented symbol: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1177283" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>defn, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Annotated<a href="#1182290" title="Typers.this.global.Tree" id="1182332" class="delimiter">(</a>constr, arg<span class="delimiter">)</span> =&gt;
          <a href="#1177264" title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree">typedAnnotated</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>constr, <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>arg, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> tree @ Block<a href="#1182290" title="Typers.this.global.Tree" id="1182336" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
          <a href="#560665" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Block)Typers.this.global.Block">typerWithLocalContext</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span>tree, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">{</a>
            <a href="#1181165" title="Typers.this.Typer">_</a>.<a href="#560722" title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block">typedBlock</a><span class="delimiter">(</span>tree, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> Alternative<a href="#1182290" title="Typers.this.global.Tree" id="1182338" class="delimiter">(</a>alts<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1181170">alts1</a> = alts <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1181177">alt</a> =&gt; <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1181177" title="Typers.this.global.Tree">alt</a>, <a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(8192)">ALTmode</span>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428295" title="(tree: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.Alternative">Alternative</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181170" title="List[Typers.this.global.Tree]">alts1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Alternative">setType</a> <a href="#1050088" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> Star<a href="#1182290" title="Typers.this.global.Tree" id="1182340" class="delimiter">(</a>elem<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(4096)">STARmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span>
            <a href="ContextErrors.scala.html#562609" title="(tree: Typers.this.global.Tree)Unit">StarPatternWithVarargParametersError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428296" title="(tree: Typers.this.global.Tree, elem: Typers.this.global.Tree)Typers.this.global.Star">Star</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>elem, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Star">setType</a> <a href="Infer.scala.html#562638" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Bind<a href="#1182290" title="Typers.this.global.Tree" id="1182342" class="delimiter">(</a>name, body<span class="delimiter">)</span> =&gt;
          <a href="#1177265" title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree">typedBind</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>name, body<span class="delimiter">)</span>

        <span class="keyword">case</span> UnApply<a href="#1182290" title="Typers.this.global.Tree" id="1182344" class="delimiter">(</a>fun, args<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181223">fun1</a> = <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>fun<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="1181224">tpes</a> = <a href="Infer.scala.html#560258" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="Unapplies.scala.html#560351" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span>fun.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#1181223" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, args.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1181225">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#440665" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2</a><span class="delimiter">(</span>args, <a href="#1181224" title="List[Typers.this.global.Type]">tpes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#560775" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428298" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181223" title="Typers.this.global.Tree">fun1</a>, <a href="#1181225" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</a> <a href="#1050088" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> ArrayValue<a href="#1182290" title="Typers.this.global.Tree" id="1182346" class="delimiter">(</a>elemtpt, elems<span class="delimiter">)</span> =&gt;
          <a href="#1177266" title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">typedArrayValue</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>elemtpt, elems<span class="delimiter">)</span>

        <span class="keyword">case</span> tree @ Function<a href="#1182290" title="Typers.this.global.Tree" id="1182350" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>tree.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            tree.<a href="../../../reflect/api/Trees.scala.html#427233" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="Typers.this.global.Symbol" id="1181278">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#494726" title="Long" id="1181280">newAnonymousFunctionValue</a><span class="delimiter">(</span>tree.<a href="../../../reflect/api/Trees.scala.html#425042" title="Typers.this.global.Position" id="1181279">pos</a><span class="delimiter">)</span>
          <a href="#560665" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">typerWithLocalContext</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span>tree, tree.<a href="../../../reflect/api/Trees.scala.html#427232" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1181286" title="Typers.this.Typer">_</a>.<a href="#560732" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span>tree, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> Assign<a href="#1182290" title="Typers.this.global.Tree" id="1182352" class="delimiter">(</a>lhs, rhs<span class="delimiter">)</span> =&gt;
          <a href="#1177267" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>lhs, rhs<span class="delimiter">)</span>

        <span class="keyword">case</span> AssignOrNamedArg<a href="#1182290" title="Typers.this.global.Tree" id="1182354" class="delimiter">(</a>lhs, rhs<span class="delimiter">)</span> =&gt; // called by NamesDefaults in silent typecheck
          <a href="#1177267" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>lhs, rhs<span class="delimiter">)</span>

        <span class="keyword">case</span> If<a href="#1182290" title="Typers.this.global.Tree" id="1182356" class="delimiter">(</a>cond, thenp, elsep<span class="delimiter">)</span> =&gt;
          <a href="#1177268" title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">typedIf</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>cond, thenp, elsep<span class="delimiter">)</span>

        <span class="keyword">case</span> tree @ Match<a href="#1182290" title="Typers.this.global.Tree" id="1182358" class="delimiter">(</a>selector, cases<span class="delimiter">)</span> =&gt;
          <a href="#1177269" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Tree">typedTranslatedMatch</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>tree, selector, cases<span class="delimiter">)</span>

        <span class="keyword">case</span> Return<a href="#1182290" title="Typers.this.global.Tree" id="1182360" class="delimiter">(</a>expr<span class="delimiter">)</span> =&gt;
          <a href="#1177270" title="(expr: Typers.this.global.Tree)Typers.this.global.Tree">typedReturn</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>expr<span class="delimiter">)</span>

        <span class="keyword">case</span> Try<a href="#1182290" title="Typers.this.global.Tree" id="1182362" class="delimiter">(</a>block, catches, finalizer<span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1181318">block1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>block, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="1181319">catches1</a> = <a href="#560726" title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span>catches, <a href="../../../reflect/internal/Definitions.scala.html#442209" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181320">finalizer1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>finalizer.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> finalizer
                           <span class="keyword">else</span> <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>finalizer, <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#1181398" title="(x: (Typers.this.global.Type, Boolean))(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Type" id="1181322">owntype</a>, <a href="../../../Tuple2.scala.html#61508" title="Boolean" id="1181323">needAdapt</a><span class="delimiter">)</span> = <a href="#1177262" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#1181318" title="Typers.this.global.Tree">block1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Typers.this.global.Type)List[Typers.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#1181319" title="List[Typers.this.global.CaseDef]">catches1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1181352" title="Typers.this.global.CaseDef">_</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1181323" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1181318" title="Typers.this.global.Tree">block1</a> = <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1181318" title="Typers.this.global.Tree">block1</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1181322" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#1181319" title="List[Typers.this.global.CaseDef]">catches1</a> = <a href="#1181319" title="List[Typers.this.global.CaseDef]">catches1</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</a> <span class="delimiter">(</span><a href="#560727" title="(cdef: Typers.this.global.CaseDef, mode: Int, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#1181421" title="Typers.this.global.CaseDef">_</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1181322" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560206" title="=&gt; Boolean">doMatchTranslation</a><span class="delimiter">)</span>
            <a href="#1181319" title="List[Typers.this.global.CaseDef]">catches1</a> = <span class="delimiter">(</span><a href="PatMatVirtualiser.scala.html#1134685" title="(typer: Typers.this.Typer)Typers.this.MatchTranslation with Typers.this.CodegenCore">MatchTranslator</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="PatMatVirtualiser.scala.html#1134701" title="(caseDefs: List[Typers.this.global.CaseDef], pt: Typers.this.global.Type, pos: Typers.this.global.Position)List[Typers.this.global.CaseDef]">translateTry</a><span class="delimiter">(</span><a href="#1181319" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#1181322" title="Typers.this.global.Type">owntype</a>, <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>

          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428306" title="(tree: Typers.this.global.Tree, block: Typers.this.global.Tree, catches: List[Typers.this.global.CaseDef], finalizer: Typers.this.global.Tree)Typers.this.global.Try">Try</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181318" title="Typers.this.global.Tree">block1</a>, <a href="#1181319" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#1181320" title="Typers.this.global.Tree">finalizer1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Try">setType</a> <a href="#1181322" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> Throw<a href="#1182290" title="Typers.this.global.Tree" id="1182364" class="delimiter">(</a>expr<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181467">expr1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>expr, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Definitions.scala.html#442209" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428307" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Throw">Throw</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181467" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Throw">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#442193" title="Typers.this.global.definitions.NothingClass.type">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>

        <span class="keyword">case</span> New<a href="#1182290" title="Typers.this.global.Tree" id="1182366" class="delimiter">(</a>tpt: Tree<span class="delimiter">)</span> =&gt;
          <a href="#1177271" title="(tpt: Typers.this.global.Tree)Typers.this.global.Tree">typedNew</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>tpt<span class="delimiter">)</span>

        <span class="keyword">case</span> Typed<a href="#1182290" title="Boolean" id="1182370" class="delimiter">(</a>expr, Function<a title="Typers.this.global.Tree" id="1182374" class="delimiter">(</a><a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.ValDef]]" id="1182476">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/api/Trees.scala.html#23577" title="Typers.this.global.Tree" id="1182442">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          // find out whether the programmer is trying to eta-expand a macro def
          // to do that we need to typecheck the tree first (we need a symbol of the eta-expandee)
          // that typecheck must not trigger macro expansions, so we explicitly prohibit them
          // Q: &quot;but, &quot; - you may ask - &quot;, `typed1` doesn't call adapt, which does macro expansion, so why explicit check?&quot;
          // A: solely for robustness reasons. this mechanism might change in the future, which might break unprotected code
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181502">expr1</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560964" title="(op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withMacrosDisabled</a><span class="delimiter">(</span><a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span>expr, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1181502" title="Typers.this.global.Tree">expr1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> macroDef <span class="keyword">if</span> macroDef.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> macroDef.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a>macroDef.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443318" title="=&gt; Boolean">isErroneous</a> =&gt;
              <a href="ContextErrors.scala.html#562551" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">MacroEtaError</a><a href="#1181516" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1181502" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#1177272" title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree">typedEta</a><a href="#1181516" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#1181502" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> Typed<span class="delimiter">(</span>expr0, tpt @ Ident<a title="Typers.this.global.Tree" id="1182383" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#441756" title="Typers.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#449197" title="Typers.this.global.Tree" id="1182443">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181528">expr</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>expr0, <a href="Modes.scala.html#560166" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)Typers.this.global.Type" id="1181529">subArrayType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="1181537">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442785" title="(sym: Typers.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#1181537" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="Infer.scala.html#560269" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#1181537" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442510" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#1181537" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.TypeSymbol" id="1181540">tparam</a> = <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#443202" title="(suffix: String)Typers.this.global.TypeSymbol">freshExistential</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../../../reflect/internal/Symbols.scala.html#443429" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#441274" title="Typers.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#448283" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#1181537" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#441323" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.Type">newExistentialType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.TypeSymbol*)List[Typers.this.global.TypeSymbol]">List</a><span class="delimiter">(</span><a href="#1181540" title="Typers.this.global.TypeSymbol">tparam</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442510" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#1181540" title="Typers.this.global.TypeSymbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">val</span> <a href="#1181589" title="(x: (Typers.this.global.Tree, Typers.this.global.ClassSymbol))(Typers.this.global.Tree, Typers.this.global.ClassSymbol)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#61506" title="Typers.this.global.Tree" id="1181531">expr1</a>, <a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.ClassSymbol" id="1181532">baseClass</a><span class="delimiter">)</span> = <a href="#1181528" title="Typers.this.global.Tree">expr</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../Tuple2.scala.html#1222" title="(Typers.this.global.Tree, Typers.this.global.ClassSymbol) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="(Typers.this.global.Tree, Typers.this.global.ClassSymbol)" id="1181568">ArrayClass</a> =&gt; <a href="#1181569" title="(x: (Typers.this.global.Tree, Typers.this.global.ClassSymbol))(Typers.this.global.Tree, Typers.this.global.ClassSymbol)" class="delimiter">(</a><a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1181528" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#560166" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>, <a href="#1181529" title="(pt: Typers.this.global.Type)Typers.this.global.Type">subArrayType</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Typers.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _          =&gt; <a href="#1181569" title="(x: (Typers.this.global.Tree, Typers.this.global.ClassSymbol))(Typers.this.global.Tree, Typers.this.global.ClassSymbol)" class="delimiter">(</a><a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1181528" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#560166" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442516" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442330" title="=&gt; Typers.this.global.ClassSymbol">SeqClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1181531" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442036" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a><a href="../../../reflect/internal/Types.scala.html#448104" title="=&gt; List[Typers.this.global.Type]" class="delimiter">(</a><a href="#1181532" title="Typers.this.global.ClassSymbol">baseClass</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeRef<a href="#1181624" title="Typers.this.global.Tree" id="1181629" class="delimiter">(</a>_, _, <a href="../../../collection/generic/SeqFactory.scala.html#60838" title="Option[List[Typers.this.global.Type]]" id="1181644">List</a><span class="delimiter">(</span>elemtp<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428309" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181531" title="Typers.this.global.Tree">expr1</a>, tpt <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</a> elemtp<span class="delimiter">)</span> <a href="#1181633" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">setType</a> elemtp
            <span class="keyword">case</span> _ =&gt;
              <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><a href="#1181633" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> Typed<span class="delimiter">(</span>expr, tpt<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181653">tpt1</a> = <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span>tpt, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181654">expr1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>expr, <a href="Modes.scala.html#560166" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>, <a href="#1181653" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441991" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1181655">ownType</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1177261" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="Infer.scala.html#562671" title="(tree0: Typers.this.global.Tree, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#1181653" title="Typers.this.global.Tree">tpt1</a>, <a href="#1181653" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1181653" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428309" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181654" title="Typers.this.global.Tree">expr1</a>, <a href="#1181653" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</a> <a href="#1181655" title="Typers.this.global.Type">ownType</a>

        <span class="keyword">case</span> TypeApply<a href="#1182290" title="Typers.this.global.Tree" id="1182389" class="delimiter">(</a>fun, args<span class="delimiter">)</span> =&gt;
          // @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)
          //@M! we must type fun in order to type the args, as that requires the kinds of fun's type parameters.
          // However, args should apparently be done first, to save context.undetparams. Unfortunately, the args
          // *really* have to be typed *after* fun. We escape from this classic Catch-22 by simply saving&amp;restoring undetparams.

          // @M TODO: the compiler still bootstraps&amp;all tests pass when this is commented out..
          //val undets = context.undetparams

          // @M: fun is typed in TAPPmode because it is being applied to its actual type parameters
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181671">fun1</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>fun, <a href="Modes.scala.html#560167" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#1050087" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(128)">TAPPmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="1181672">tparams</a> = <a href="#1181671" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>

          //@M TODO: val undets_fun = context.undetparams  ?
          // &quot;do args first&quot; (by restoring the context.undetparams) in order to maintain context.undetparams on the function side.

          // @M TODO: the compiler still bootstraps when this is commented out.. TODO: run tests
          //context.undetparams = undets

          // @M maybe the well-kindedness check should be done when checking the type arguments conform to the type parameters' bounds?
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1181673">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441502" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span>args, <a href="#1181672" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#441530" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span>args, <a href="#1181672" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        //@M! the polytype denotes the expected kind
                        <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1181705">arg</a>, <a title="Typers.this.global.Symbol" id="1181706">tparam</a><span class="delimiter">)</span> =&gt; <a href="#560778" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#1181705" title="Typers.this.global.Tree">arg</a>, <a href="#1050087" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#457750" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">GenPolyType</a><span class="delimiter">(</span><a href="#1181706" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#443447" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      //@M  this branch is correctly hit for an overloaded polymorphic type. It also has to handle erroneous cases.
                      // Until the right alternative for an overloaded method is known, be very liberal,
                      // typedTypeApply will find the right alternative and then do the same check as
                      // in the then-branch above. (see pos/tcpoly_overloaded.scala)
                      // this assert is too strict: be tolerant for errors like trait A { def foo[m[x], g]=error(&quot;&quot;); def x[g] = foo[g/*ERR: missing argument type*/] }
                      //assert(fun1.symbol.info.isInstanceOf[OverloadedType] || fun1.symbol.isError) //, (fun1.symbol,fun1.symbol.info,fun1.symbol.info.getClass,args,tparams))
                        args <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a href="#560779" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#1181717" title="Typers.this.global.Tree">_</a>, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span>

          //@M TODO: context.undetparams = undets_fun ?
          <a href="#560757" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1181671" title="Typers.this.global.Tree">fun1</a>, <a href="#1181673" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Apply<a href="#1182290" title="Boolean" id="1182392" class="delimiter">(</a>Block<a title="Typers.this.global.Tree" id="1182394" class="delimiter">(</a>stats, expr<span class="delimiter">)</span>, args<span class="delimiter">)</span> =&gt;
          <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427284" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span>stats, <a href="../../../reflect/api/Trees.scala.html#427174" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>expr, args<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Apply<span class="delimiter">(</span>fun, args<span class="delimiter">)</span> =&gt;
          <a href="#1177275" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedApply</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>fun, args<span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Apply<a href="#1181904" title="Typers.this.global.Tree" id="1181907" class="delimiter">(</a>Select<a title="Typers.this.global.Tree" id="1181910" class="delimiter">(</a>New<a title="Typers.this.global.Tree" id="1181912" class="delimiter">(</a>tpt<span class="delimiter">)</span>, name<span class="delimiter">)</span>, args<span class="delimiter">)</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441986" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Typers.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                args.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="../Global.scala.html#559603" title="Typers.this.global.erasure.type">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#459750" title="Typers.this.global.erasure.GenericArray.type">GenericArray</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#552014" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#63812" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> =&gt; // !!! todo simplify by using extractor
              // convert new Array[T](len) to evidence[ClassTag[T]].newArray(len)
              // convert new Array^N[T](len) for N &gt; 1 to evidence[ClassTag[Array[...Array[T]...]]].newArray(len), where Array HK gets applied (N-1) times
              // [Eugene] no more MaxArrayDims. ClassTags are flexible enough to allow creation of arrays of arbitrary dimensionality (w.r.t JVM restrictions)
              <span class="keyword">val</span> Some<a href="#1181834" title="(Int, Typers.this.global.erasure.global.Type)" id="1181836" class="delimiter">(</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#61506" title="Int" id="1181818">level</a>, <a href="../../../Tuple2.scala.html#61508" title="Typers.this.global.erasure.global.Type" id="1181819">componentType</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="../Global.scala.html#559603" title="Typers.this.global.erasure.type">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#459750" title="Typers.this.global.erasure.GenericArray.type">GenericArray</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#552014" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><a href="../../../Option.scala.html#1510" title="Option[(Int, Typers.this.global.erasure.global.Type)] @unchecked" class="delimiter">(</a>tpt.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.erasure.global.Type" id="1181820">tagType</a> = <a href="../../../collection/immutable/List.scala.html#12323" title="scala.collection.immutable.List.type">List</a>.<a href="../../../collection/generic/GenTraversableFactory.scala.html#60830" title="(start: Typers.this.global.erasure.global.Type, len: Int)(f: Typers.this.global.erasure.global.Type =&gt; Typers.this.global.erasure.global.Type)List[Typers.this.global.erasure.global.Type]">iterate</a><span class="delimiter">(</span><a href="#1181819" title="Typers.this.global.erasure.global.Type">componentType</a>, <a href="#1181818" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.erasure.global.Type" id="1181851">tpe</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#441377" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#442352" title="=&gt; Typers.this.global.ClassSymbol">ArrayClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443131" title="=&gt; Typers.this.global.Type">asType</a>, <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: Typers.this.global.erasure.global.Type*)List[Typers.this.global.erasure.global.Type]">List</a><span class="delimiter">(</span><a href="#1181851" title="Typers.this.global.erasure.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#76185" title="=&gt; Typers.this.global.erasure.global.Type">last</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181821">newArrayApp</a> = <a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181873">tag</a> = <a href="Taggings.scala.html#560837" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Typers.this.global.Tree">resolveArrayTag</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1181820" title="Typers.this.global.erasure.global.Type">tagType</a><span class="delimiter">)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1181873" title="Typers.this.global.Tree">tag</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="ContextErrors.scala.html#562607" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type)Typers.this.global.Tree">MissingClassTagError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181820" title="Typers.this.global.erasure.global.Type">tagType</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../../../reflect/api/Trees.scala.html#23691" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1181873" title="Typers.this.global.Tree">tag</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446605" title="=&gt; Typers.this.global.nme.NameType">newArray</a><span class="delimiter">)</span>, args<span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1181821" title="Typers.this.global.Tree">newArrayApp</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">case</span> tree1 =&gt;
              <a href="#1181913" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">tree1</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> ApplyDynamic<a href="#1182290" title="Typers.this.global.Tree" id="1182398" class="delimiter">(</a>qual, args<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="1181922">reflectiveCalls</a> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467558" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">refinementMethodDispatch</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#456449" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;invoke-dynamic&quot;)" class="string">&quot;invoke-dynamic&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181923">qual1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>qual, <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="1181924">args1</a> = args <a href="../../../collection/immutable/List.scala.html#63652" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1181943">arg</a> =&gt; <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1181922" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1181943" title="Typers.this.global.Tree">arg</a>, <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1181943" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428312" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.ApplyDynamic">ApplyDynamic</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1181923" title="Typers.this.global.Tree">qual1</a>, <a href="#1181924" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.ApplyDynamic">setType</a> <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1181922" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443427" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Super<a href="#1182290" title="Typers.this.global.Tree" id="1182400" class="delimiter">(</a>qual, mix<span class="delimiter">)</span> =&gt;
          <a href="#1177277" title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">typedSuper</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>qual, mix<span class="delimiter">)</span>

        <span class="keyword">case</span> This<a href="#1182290" title="Typers.this.global.Tree" id="1182402" class="delimiter">(</a>qual<span class="delimiter">)</span> =&gt;
          <a href="#1177278" title="(qual: Typers.this.global.Name)Typers.this.global.Tree">typedThis</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>qual<span class="delimiter">)</span>

        <span class="keyword">case</span> Select<a href="#1182290" title="Boolean" id="1182405" class="delimiter">(</a>qual @ Super<a title="Typers.this.global.Tree" id="1182409" class="delimiter">(</a>_, _<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="Typers.this.global.Tree" id="1182444">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1181980">qual1</a> =
            <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>qual, EXPRmode | QUALmode | POLYmode <span title="Int(353)">|</span> SUPERCONSTRmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
          // the qualifier type of a supercall constructor is its first parent class
          <a href="#1177279" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#1181980" title="Typers.this.global.Tree">qual1</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446177" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Select<span class="delimiter">(</span>qual, name<span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/util/StatBase.scala.html#441044" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559979" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedSelectCount</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1182003">qual1</a> = <a href="TypeDiagnostics.scala.html#1162987" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#560772" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span>qual, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>name.<a href="../../../reflect/internal/Names.scala.html#444125" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#1182003" title="Typers.this.global.Tree">qual1</a> = <a href="#560641" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#1182003" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182004">tree1</a> = // temporarily use `filter` and an alternative for `withFilter`
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446731" title="=&gt; Typers.this.global.nme.NameType">withFilter</a><span class="delimiter">)</span>
              <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span title="Typers.this.global.Tree" class="delimiter">(</span><a title="Typers.this.Typer" id="1182020">_</a> =&gt; <a href="#1177279" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#1182003" title="Typers.this.global.Tree">qual1</a>, name<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> SilentResultValue<a href="#1182077" title="Typers.this.global.Tree" id="1182079" class="delimiter">(</a>result<span class="delimiter">)</span> =&gt;
                  <a href="#1182080" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">result</a>
                <span class="keyword">case</span> _ =&gt;
                  <a href="#560686" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><a href="#1182080" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a title="Typers.this.Typer" id="1182033">_</a> =&gt; <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#427925" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1182003" title="Typers.this.global.Tree">qual1</a>, <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#446525" title="=&gt; Typers.this.global.nme.NameType">filter</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425044" title="(newpos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> SilentResultValue<a href="#1182066" title="Typers.this.global.Tree" id="1182068" class="delimiter">(</a>result2<span class="delimiter">)</span> =&gt;
                      <a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560822" title="(pos: Typers.this.global.Position, msg: String)Any">deprecationWarning</a><span class="delimiter">(</span>
                        <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;`withFilter\' method does not yet exist on &quot;)" class="string">&quot;`withFilter' method does not yet exist on &quot;</span><span title="(x$1: Any)String">+</span><a href="#1182003" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a><span title="(x$1: Any)String">+</span>
                        <span title="String(&quot;, using `filter\' method instead&quot;)" class="string">&quot;, using `filter' method instead&quot;</span><span class="delimiter">)</span>
                      result2
                    <span class="keyword">case</span> SilentTypeError<a href="#1182066" title="Typers.this.global.Tree" id="1182070" class="delimiter">(</a>err<span class="delimiter">)</span> =&gt;
                      <a href="ContextErrors.scala.html#562519" title="(tree: Typers.this.global.Tree, ex: Typers.this.AbsTypeError)Typers.this.global.Tree">WithFilterError</a><a href="#1182071" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1050086" title="Typers.this.global.Tree">tree</a>, err<span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span>
              <a href="#1177279" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#1182003" title="Typers.this.global.Tree">qual1</a>, name<span class="delimiter">)</span>

          <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../ast/Trees.scala.html#559832" title="Typers.this.global.PostfixSelect">PostfixSelect</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <a href="#560689" title="(pos: Typers.this.global.Position, featureTrait: Typers.this.global.Symbol, construct: =&gt; String, immediate: Boolean)Boolean">checkFeature</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Definitions.scala.html#442715" title="=&gt; Typers.this.global.Symbol">PostfixOpsFeature</a>, name.<a href="../../../reflect/internal/Names.scala.html#444172" title="=&gt; String">decode</a><span class="delimiter">)</span>
          <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#1182004" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1182004" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443368" title="=&gt; Boolean">isOnlyRefinementMember</a><span class="delimiter">)</span>
            <a href="#560689" title="(pos: Typers.this.global.Position, featureTrait: Typers.this.global.Symbol, construct: =&gt; String, immediate: Boolean)Boolean">checkFeature</a><span class="delimiter">(</span><a href="#1182004" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Definitions.scala.html#442717" title="=&gt; Typers.this.global.Symbol">ReflectiveCallsFeature</a>, <a href="#1182004" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443559" title="()String">toString</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1182003" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#442140" title="Typers.this.global.definitions.RootPackage.type">RootPackage</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428316" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1182004" title="Typers.this.global.Tree">tree1</a>, name<span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1182004" title="Typers.this.global.Tree">tree1</a>

        <span class="keyword">case</span> Ident<a href="#1182290" title="Typers.this.global.Tree" id="1182415" class="delimiter">(</a>name<span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/util/StatBase.scala.html#441044" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559977" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedIdentCount</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441764" title="Typers.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(2)">PATTERNmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a>
              <span class="delimiter">(</span>name <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#441756" title="Typers.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#445910" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(4)">TYPEmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57898" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="Infer.scala.html#562638" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#1177280" title="(name: Typers.this.global.Name)Typers.this.global.Tree">typedIdent</a><span class="delimiter">(</span>name<span class="delimiter">)</span>

        <span class="keyword">case</span> ReferenceToBoxed<a href="#1182290" title="Typers.this.global.Tree" id="1182417" class="delimiter">(</a>idt @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="1182154">id1</a> = <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><a href="#1182162" title="(x: Typers.this.global.Ident)Typers.this.global.Ident" class="delimiter">(</a>idt, <a href="#1050087" title="Int">mode</a>, <a href="#1050088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a href="#1182159" title="Typers.this.global.Ident" id="1182161">id</a>: Ident =&gt; <a href="#1182162" title="(x: Typers.this.global.Ident)Typers.this.global.Ident">id</a> <span class="delimiter">}</span>
          // [Eugene] am I doing it right?
          <span class="keyword">val</span> <a title="Boolean" id="1182155">erasedTypes</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#440600" title="(period: Typers.this.global.Period)Int">phaseId</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#440602" title="=&gt; Typers.this.global.Period">currentPeriod</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57926" title="(x: Int)Boolean">&gt;=</a> <a href="../Global.scala.html#559697" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#561333" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../reflect/internal/Phase.scala.html#452437" title="=&gt; Int">id</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1182156">tpe</a> = <a href="../../../reflect/internal/CapturedVariables.scala.html#450978" title="Typers.this.global.Type" id="1182178">capturedVariableType</a><span class="delimiter">(</span>idt.<a href="../../../reflect/api/Trees.scala.html#427232" title="Typers.this.global.Symbol" id="1182176">symbol</a>, erasedTypes = <a href="#1182155" title="Boolean" id="1182177">erasedTypes</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428317" title="(tree: Typers.this.global.Tree, idt: Typers.this.global.Ident)Typers.this.global.ReferenceToBoxed">ReferenceToBoxed</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1182154" title="Typers.this.global.Ident">id1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.ReferenceToBoxed">setType</a> <a href="#1182156" title="Typers.this.global.Type">tpe</a>

        <span class="keyword">case</span> Literal<a href="#1182290" title="Typers.this.global.Tree" id="1182420" class="delimiter">(</a>value<span class="delimiter">)</span> =&gt;
          <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">setType</a> <span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>value.<a href="../../../reflect/internal/Constants.scala.html#443079" title="=&gt; Int">tag</a> <a href="../../../Int.scala.html#57891" title="(x: Int)Boolean">==</a> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#442841" title="=&gt; Typers.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#460802" title="(value: Typers.this.global.Constant)Typers.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span>value<span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> SingletonTypeTree<a href="#1182290" title="Typers.this.global.Tree" id="1182422" class="delimiter">(</a>ref<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182195">ref1</a> = <a href="#560641" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span>
            <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>ref, EXPRmode <span title="Int(65)">|</span> QUALmode <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span class="delimiter">(</span><a href="#1050087" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(65536)">TYPEPATmode</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#442177" title="=&gt; Typers.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#1182195" title="Typers.this.global.Tree">ref1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442002" title="=&gt; Typers.this.global.Type">resultType</a>

        <span class="keyword">case</span> SelectFromTypeTree<a href="#1182290" title="Typers.this.global.Tree" id="1182424" class="delimiter">(</a>qual, selector<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182218">qual1</a> = <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span>qual, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1182218" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441974" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <a href="ContextErrors.scala.html#562604" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree)Typers.this.global.Tree">TypeSelectionFromVolatileTypeError</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, qual<span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1177279" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#1182218" title="Typers.this.global.Tree">qual1</a>, selector<span class="delimiter">)</span>

        <span class="keyword">case</span> CompoundTypeTree<a href="#1182290" title="Typers.this.global.Tree" id="1182426" class="delimiter">(</a>templ<span class="delimiter">)</span> =&gt;
          <a href="#1177281" title="(templ: Typers.this.global.Template)Typers.this.global.Tree">typedCompoundTypeTree</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>templ<span class="delimiter">)</span>

        <span class="keyword">case</span> AppliedTypeTree<a href="#1182290" title="Typers.this.global.Tree" id="1182428" class="delimiter">(</a>tpt, args<span class="delimiter">)</span> =&gt;
          <a href="#1177282" title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedAppliedTypeTree</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a>tpt, args<span class="delimiter">)</span>

        <span class="keyword">case</span> TypeBoundsTree<a href="#1182290" title="Typers.this.global.Tree" id="1182430" class="delimiter">(</a>lo, hi<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182235">lo1</a> = <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span>lo, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182236">hi1</a> = <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span>hi, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#23748" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#428325" title="(tree: Typers.this.global.Tree, lo: Typers.this.global.Tree, hi: Typers.this.global.Tree)Typers.this.global.TypeBoundsTree">TypeBoundsTree</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#1182235" title="Typers.this.global.Tree">lo1</a>, <a href="#1182236" title="Typers.this.global.Tree">hi1</a><span class="delimiter">)</span> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)Typers.this.global.TypeBoundsTree">setType</a> <a href="../../../reflect/internal/Types.scala.html#448285" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#1182235" title="Typers.this.global.Tree">lo1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#1182236" title="Typers.this.global.Tree">hi1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> etpt @ ExistentialTypeTree<a href="#1182290" title="Typers.this.global.Tree" id="1182434" class="delimiter">(</a>_, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182254">tree1</a> = <a href="#560665" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">typerWithLocalContext</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560973" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#1050086" title="Typers.this.global.Tree">tree</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span>
            <a href="#1182260" title="Typers.this.Typer">_</a>.<a href="#560756" title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree">typedExistentialTypeTree</a><span class="delimiter">(</span>etpt, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#560690" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type, prefix: String)AnyVal">checkExistentialsFeature</a><span class="delimiter">(</span><a href="#1182254" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1182254" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>, <span title="String(&quot;the existential type&quot;)" class="string">&quot;the existential type&quot;</span><span class="delimiter">)</span>
          <a href="#1182254" title="Typers.this.global.Tree">tree1</a>

        <span class="keyword">case</span> dc@TypeTreeWithDeferredRefCheck<a href="#1182290" title="Typers.this.global.Tree" id="1182436" class="delimiter">(</a><span class="delimiter">)</span> =&gt; <a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">dc</a> // TODO: should we re-type the wrapped tree? then we need to change TypeTreeWithDeferredRefCheck's representation to include the wrapped tree explicitly (instead of in its closure)
        <span class="keyword">case</span> tpt @ TypeTree<a href="#1182290" title="Typers.this.global.Tree" id="1182438" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
          <a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#428890" title="=&gt; Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span>tpt.<a href="../../../reflect/api/Trees.scala.html#428890" title="=&gt; Typers.this.global.Tree">original</a>, <a href="#1050087" title="Int">mode</a><span class="delimiter">)</span>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">else</span>
            // we should get here only when something before failed
            // and we try again (@see tryTypedApply). In that case we can assign
            // whatever type to tree; we just have to survive until a real error message is issued.
            <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> Import<a href="#1182290" title="Typers.this.global.Tree" id="1182440" class="delimiter">(</a>expr, selectors<span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../Global.scala.html#559776" title="=&gt; Boolean">forInteractive</a>, <span title="String(&quot;!forInteractive&quot;)" class="string">&quot;!forInteractive&quot;</span><span class="delimiter">)</span> // should not happen in normal circumstances.
          <a href="#1050086" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443425" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="../Global.scala.html#559537" title="(msg: String)Nothing">abort</a><a href="#1182448" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><span title="String(&quot;unexpected tree: &quot;)" class="string">&quot;unexpected tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1050086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>//debug
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560765">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="562801">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="562802">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="562803">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="#560761" title="()Unit">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Boolean" id="1182512">alreadyTyped</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#51448" title="scala.tools.nsc.util.Statistics.type">Statistics</a>.<a href="../../../reflect/internal/util/StatBase.scala.html#441040" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="1182515">t</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441042" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#559969" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../util/Statistics.scala.html#559963" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559969" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1182515" title="Long">t</a> <a href="../../../Long.scala.html#58318" title="(x: Long)Long">-</a> <a href="../util/Statistics.scala.html#559972" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#58331" title="(x: Int)Long">/</a> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<a href="../../../Long.scala.html#58236" title="=&gt; Int">toInt</a>
          <span class="delimiter">}</span>
          <a href="../util/Statistics.scala.html#559973" title="(x$1: Long)Unit">typerTime</a> = <a href="#1182515" title="Long">t</a>
          <a href="../util/Statistics.scala.html#559970" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="#562801" title="Typers.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Class[_])List[Class[_]]">::</a> <a href="../util/Statistics.scala.html#559969" title="=&gt; List[Class[_]]">pendingTreeTypes</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560916" title="=&gt; Boolean">retyping</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441981" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#442058" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#562803" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425067" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425065" title="(sym: Typers.this.global.Symbol)Unit">symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#441152" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>

        <a href="#1182512" title="Boolean">alreadyTyped</a> = <a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="1182513">tree1</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1182512" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <a href="#562801" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#560762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/TypeDebugging.scala.html#461562" title="(label: String, pairs: (String, Any)*)String">ptLine</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typing %s: pt = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../../reflect/internal/TypeDebugging.scala.html#461563" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#562803" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>,
              <a href="../../../Predef.scala.html#8484" title="(x: String)ArrowAssoc[String]" class="string">&quot;undetparams&quot;</a>      <a href="../../../Predef.scala.html#63591" title="(y: List[Typers.this.global.Symbol])(String, List[Typers.this.global.Symbol])">-&gt;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560931" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>,
              <a href="../../../Predef.scala.html#8484" title="(x: String)ArrowAssoc[String]" class="string">&quot;implicitsEnabled&quot;</a> <a href="../../../Predef.scala.html#63591" title="(y: Boolean)(String, Boolean)">-&gt;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560904" title="=&gt; Boolean">implicitsEnabled</a>,
              <a href="../../../Predef.scala.html#8484" title="(x: String)ArrowAssoc[String]" class="string">&quot;enrichmentEnabled&quot;</a>   <a href="../../../Predef.scala.html#63591" title="(y: Boolean)(String, Boolean)">-&gt;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560910" title="=&gt; Boolean">enrichmentEnabled</a>,
              <a href="../../../Predef.scala.html#8484" title="(x: String)ArrowAssoc[String]" class="string">&quot;mode&quot;</a>             <a href="../../../Predef.scala.html#63591" title="(y: String)(String, String)">-&gt;</a> <a href="Modes.scala.html#560179" title="(mode: Int)String">modeString</a><span class="delimiter">(</span><a href="#562802" title="Int">mode</a><span class="delimiter">)</span>,
              <a href="../../../Predef.scala.html#8484" title="(x: String)ArrowAssoc[String]" class="string">&quot;silent&quot;</a>           <a href="../../../Predef.scala.html#63591" title="(y: Boolean)(String, Boolean)">-&gt;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560940" title="=&gt; Boolean">bufferErrors</a>,
              <a href="../../../Predef.scala.html#8484" title="(x: String)ArrowAssoc[String]" class="string">&quot;context.owner&quot;</a>    <a href="../../../Predef.scala.html#63591" title="(y: Typers.this.global.Symbol)(String, Typers.this.global.Symbol)">-&gt;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182646">tree1</a> = <a href="#560764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a>, <a href="#562802" title="Int">mode</a>, <a href="#560640" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#562803" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#560762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed %s: %s%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/TypeDebugging.scala.html#461563" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#1182646" title="Typers.this.global.Tree">tree1</a><span class="delimiter">)</span>, <a href="#1182646" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>,
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441517" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#1182646" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot; with underlying &quot;)" class="string">&quot; with underlying &quot;</span><span title="(x$1: Any)String">+</span><a href="#1182646" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#1182646" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>

        <a href="#1182513" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="../../../reflect/internal/AnnotationCheckers.scala.html#440542" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#1182513" title="Typers.this.global.Tree">tree1</a>, <a href="#1182513" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182514">result</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1182513" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425069" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1182513" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#560691" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#1182513" title="Typers.this.global.Tree">tree1</a>, <a href="#562802" title="Int">mode</a>, <a href="#562803" title="Typers.this.global.Type">pt</a>, <a href="#562801" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1182512" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#560762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;adapted %s: %s to %s, %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <a href="#1182513" title="Typers.this.global.Tree">tree1</a>, <a href="#1182513" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#441990" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#562803" title="Typers.this.global.Type">pt</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560930" title="=&gt; String">undetparamsString</a><span class="delimiter">)</span>
          <span class="delimiter">)</span> //DEBUG
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560205" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <a href="../Global.scala.html#559525" title="(context: Typers.this.global.analyzer.Context, old: Typers.this.global.Tree, result: Typers.this.global.Tree)Unit">signalDone</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#560086" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#562801" title="Typers.this.global.Tree">tree</a>, <a href="#1182514" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span>
        <a href="#1182514" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="1182758">ex</a>: <a href="../../../reflect/internal/Types.scala.html#441578" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425061" title="(t: Typers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          // The only problematic case are (recoverable) cyclic reference errors which can pop up almost anywhere.
          <a href="#560762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;caught %s: while typing %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1182758" title="Typers.this.global.TypeError">ex</a>, <a href="#562801" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> //DEBUG

          <a href="TypeDiagnostics.scala.html#560619" title="(context0: Typers.this.Context, pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>, <a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1182758" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#562625" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="1182769">ex</a>: <span title="Exception">Exception</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#559485" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#467500" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#467820" title="=&gt; Boolean">value</a><span class="delimiter">)</span> // @M causes cyclic reference error
            <a href="../../../Console.scala.html#227" title="Console.type">Console</a>.<a href="../../../Console.scala.html#64301" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span><span title="(x$1: Any)String">+</span><a href="#562801" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)String">+</span><a href="#562803" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560803" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#562801" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#559547" title="(msg: String, t: Throwable)Unit">logError</a><span class="delimiter">(</span><span title="String(&quot;AT: &quot;)" class="string">&quot;AT: &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#562801" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../util/Position.scala.html#445384" title="=&gt; String">dbgString</a>, <a href="#1182769" title="Exception">ex</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#1182769" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#560760" title="()Unit">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#51448" title="scala.tools.nsc.util.Statistics.type">Statistics</a>.<a href="../../../reflect/internal/util/StatBase.scala.html#441040" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="1182787">t</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#441042" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#559963" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559969" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1182787" title="Long">t</a> <a href="../../../Long.scala.html#58318" title="(x: Long)Long">-</a> <a href="../util/Statistics.scala.html#559972" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#58331" title="(x: Int)Long">/</a> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<a href="../../../Long.scala.html#58236" title="=&gt; Int">toInt</a>
          <a href="../util/Statistics.scala.html#559966" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">visitsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#559969" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57948" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <a href="../util/Statistics.scala.html#559973" title="(x$1: Long)Unit">typerTime</a> = <a href="#1182787" title="Long">t</a>
          <a href="../util/Statistics.scala.html#559970" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="../util/Statistics.scala.html#559969" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[Class[_]]">tail</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol)Typers.this.Typer" id="560766">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="596906">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#560207" title="Typers.this.Typer">Typer</a> =
      <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560974" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560853" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#596906" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Typer" id="560767">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="596898">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="596899">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#560207" title="Typers.this.Typer">Typer</a> =
      <a href="#560201" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560974" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#596898" title="Typers.this.global.Tree">tree</a>, <a href="#596899" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Types expression or definition &lt;code&gt;tree&lt;/code&gt;.
     *
     *  @param tree ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560768">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="562798">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1182960">ret</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#562798" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
      <a href="#1182960" title="Typers.this.global.Tree">ret</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560769">typedPos</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="1041263">pos</a>: <a href="../util/Position.scala.html#52230" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1041264">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#560768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#441889" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1041263" title="Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1041264" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    // TODO: see if this formulation would impose any penalty, since
    // it makes for a lot less casting.
    // def typedPos[T &lt;: Tree](pos: Position)(tree: T): T = typed(atPos(pos)(tree)).asInstanceOf[T]

    /** Types expression &lt;code&gt;tree&lt;/code&gt; with given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560770">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="562793">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="562794">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#562793" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="#562794" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560771">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="876895">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="876896">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="876897">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#876895" title="Typers.this.global.Tree">tree</a>, EXPRmode | QUALmode <span title="Int(97)">|</span> POLYmode <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <a href="#876896" title="Int">mode</a> <a href="../../../Int.scala.html#57938" title="(x: Int)Int">&amp;</a> <span title="Int(65536)">TYPEPATmode</span>, <a href="#876897" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> // TR: don't set BYVALmode, since qualifier might end up as by-name param to an implicit

    /** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="560772">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="876890">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="876891">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <a href="#560771" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#876890" title="Typers.this.global.Tree">tree</a>, <a href="#876891" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560773">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="876887">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560771" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#876887" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>

    /** Types function part of an application */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560774">typedOperator</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1074935">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1074935" title="Typers.this.global.Tree">tree</a>, EXPRmode | FUNmode | POLYmode <span title="Int(177)">|</span> TAPPmode, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>

    /** Types a pattern with prototype &lt;code&gt;pt&lt;/code&gt; */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560775">typedPattern</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1170509">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1170510">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      // We disable implicits because otherwise some constructs will
      // type check which should not.  The pattern matcher does not
      // perform implicit conversions in an attempt to consummate a match.

      // on the one hand,
      //   &quot;abc&quot; match { case Seq('a', 'b', 'c') =&gt; true }
      // should be ruled out statically, otherwise this is a runtime
      // error both because there is an implicit from String to Seq
      // (even though such implicits are not used by the matcher) and
      // because the typer is fine with concluding that &quot;abc&quot; might
      // be of type &quot;String with Seq[T]&quot; and thus eligible for a call
      // to unapplySeq.

      // on the other hand, we want to be able to use implicits to add members retro-actively (e.g., add xml to StringContext)

      // as a compromise, context.enrichmentEnabled tells adaptToMember to go ahead and enrich,
      // but arbitrary conversions (in adapt) are disabled
      // TODO: can we achieve the pattern matching bit of the string interpolation SIP without this?
      <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560958" title="(op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withImplicitsDisabledAllowEnrichment</a><span class="delimiter">(</span><a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1170509" title="Typers.this.global.Tree">tree</a>, <span title="Int(2)">PATTERNmode</span>, <a href="#1170510" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Types a (fully parameterized) type tree */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="560776">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1092885">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1092886">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1092885" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#560168" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#1092886" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>

    /** Types a (fully parameterized) type tree */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560777">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1092882">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1092882" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    /** Types a higher-kinded type tree -- pt denotes the expected kind*/
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560778">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176715">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1176716">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1176717">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1176717" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#442011" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#560776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#1176715" title="Typers.this.global.Tree">tree</a>, <a href="#1176716" title="Int">mode</a><span class="delimiter">)</span> // kind is known and it's *
      <span class="keyword">else</span> <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1176715" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="#1176717" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="560779">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176712">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1176713">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> =
      <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1176712" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560780">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1176710">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560779" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#1176710" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    /** Types a type constructor tree used in a new or supertype */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="560781">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166864">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1166865">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1183045">result</a> = <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#1166864" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#560168" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#1166865" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57933" title="(x: Int)Int">|</a> <span title="Int(16)">FUNmode</span>, <a href="../../../reflect/internal/Types.scala.html#441251" title="Typers.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1183046">restpe</a> = <a href="#1183045" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442017" title="=&gt; Typers.this.global.Type">normalize</a> // normalize to get rid of type aliases for the following check (#1241)
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#452455" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1183046" title="Typers.this.global.Type">restpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#441308" title="Typers.this.global.TypeRef">TypeRef</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1183046" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#441997" title="=&gt; Typers.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#441973" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560850" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#560827" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // The isJava exception if OK only because the only type constructors scalac gets
        // to see are those in the signatures. These do not need a unique object as a prefix.
        // The situation is different for new's and super's, but scalac does not look deep
        // enough to see those. See #3938
        <a href="ContextErrors.scala.html#562603" title="(tree: Typers.this.global.Tree, restpe: Typers.this.global.Type)Typers.this.global.Tree">ConstructorPrefixError</a><span class="delimiter">(</span><a href="#1166864" title="Typers.this.global.Tree">tree</a>, <a href="#1183046" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
	      //@M fix for #2208
	      // if there are no type arguments, normalization does not bypass any checks, so perform it to get rid of AnyRef
	      <span title="result.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1183045" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/api/Trees.scala.html#425060" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#442000" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	        // minimal check: if(result.tpe.typeSymbolDirect eq AnyRefClass) {
	        // must expand the fake AnyRef type alias, because bootstrapping (init in Definitions) is not
	        // designed to deal with the cycles in the scala package (ScalaObject extends
	        // AnyRef, but the AnyRef type alias is entered after the scala package is
	        // loaded and completed, so that ScalaObject is unpickled while AnyRef is not
	        // yet defined )
	        // !!! TODO - revisit now that ScalaObject is gone.
	        <a href="#1183045" title="Typers.this.global.Tree">result</a> <a href="../../../reflect/api/Trees.scala.html#425062" title="(tp: Typers.this.global.Type)result.type">setType</a><span class="delimiter">(</span><a href="#1183046" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
	      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> // must not normalize: type application must be (bounds-)checked (during RefChecks), see #2208
	        // during uncurry (after refchecks), all types are normalized
	        <a href="#1183045" title="Typers.this.global.Tree">result</a>
	      <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="560782">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1166862">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560781" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#1166862" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Type" id="560783">computeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="997961">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="997962">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      // macros employ different logic of `computeType`
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1183072">tree1</a> = <a href="#560770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#997961" title="Typers.this.global.Tree">tree</a>, <a href="#997962" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/HashMap.scala.html#79209" title="(key: Typers.this.global.Tree, value: Typers.this.global.Tree)Unit">transformed</a><span class="delimiter">(</span><a href="#997961" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#1183072" title="Typers.this.global.Tree">tree1</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="1183073">tpe</a> = <a href="#560754" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#1183072" title="Typers.this.global.Tree">tree1</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#560690" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type, prefix: String)AnyVal">checkExistentialsFeature</a><span class="delimiter">(</span><a href="#997961" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425042" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#1183073" title="Typers.this.global.Type">tpe</a>, <span title="String(&quot;inferred existential type&quot;)" class="string">&quot;inferred existential type&quot;</span><span class="delimiter">)</span>
      <a href="#1183073" title="Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Type" id="560784">computeMacroDefType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1128915">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="1128916">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a>, <a href="#560637" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#560856" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1128915" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443278" title="=&gt; Boolean">isTermMacro</a>, <a href="#1128915" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#559533" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1128915" title="Typers.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23598" title="Typers.this.global.DefDef">DefDef</a><span class="delimiter">]</span>, <a href="#1128915" title="Typers.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="1183085">ddef</a> = <a href="#1128915" title="Typers.this.global.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.DefDef" class="delimiter">[</span><a href="../../../reflect/api/Trees.scala.html#23598" title="Typers.this.global.DefDef">DefDef</a><span class="delimiter">]</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1183086">tree1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#560185" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <a href="../../../collection/mutable/HashMap.scala.html#79205" title="(key: Typers.this.global.Tree)Boolean">contains</a> <a href="#1183085" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427506" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // macro defs are typechecked in `methodSig` (by calling this method) in order to establish their link to macro implementation asap
          // if a macro def doesn't have explicitly specified return type, this method will be called again by `assignTypeToTree`
          // here we guard against this case
          <a href="../../../collection/mutable/HashMap.scala.html#79206" title="(key: Typers.this.global.Tree)Typers.this.global.Tree">transformed</a><span class="delimiter">(</span><a href="#1183085" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427506" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="1183127">tree1</a> = <a href="Macros.scala.html#560429" title="(typer: Typers.this.Typer, ddef: Typers.this.global.DefDef)Typers.this.global.Tree">typedMacroBody</a><span class="delimiter">(</span><a href="#560207" title="Typers.this.Typer" class="keyword">this</a>, <a href="#1183085" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/HashMap.scala.html#79209" title="(key: Typers.this.global.Tree, value: Typers.this.global.Tree)Unit">transformed</a><span class="delimiter">(</span><a href="#1183085" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/api/Trees.scala.html#427506" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span> = <a href="#1183127" title="Typers.this.global.Tree">tree1</a>
          <a href="#1183127" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Boolean" id="1183087">isMacroBodyOkay</a> = <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1128915" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#443318" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1183086" title="Typers.this.global.Tree">tree1</a> <a href="../../../reflect/api/Trees.scala.html#425081" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#441814" title="implicit scala.reflect.internal.Trees.TreeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#443953" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1183087" title="Boolean">isMacroBodyOkay</a><span class="delimiter">)</span> <a href="Macros.scala.html#560430" title="(macroDdef: Typers.this.global.DefDef, macroDef: Typers.this.global.Symbol, macroImpl: Typers.this.global.Symbol)Typers.this.global.Type">computeMacroDefTypeFromMacroImpl</a><span class="delimiter">(</span><a href="#1183085" title="Typers.this.global.DefDef">ddef</a>, <a href="#1128915" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#1183086" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/api/Trees.scala.html#425064" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#442175" title="=&gt; Typers.this.global.ClassSymbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#443721" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="560785">transformedOr</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1169677">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="=&gt; Typers.this.global.Tree" id="1169678">op</a>: =&gt; Tree<span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560185" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<a href="../../../collection/mutable/HashMap.scala.html#79207" title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">get</a><a href="../../../Option.scala.html#64115" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a href="#1169677" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#1183151" title="Typers.this.global.Tree" id="1183152" class="delimiter">(</a>tree1<span class="delimiter">)</span> =&gt; <a href="#560185" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <a href="../../../collection/mutable/HashMap.scala.html#79212" title="(key: Typers.this.global.Tree)Typers.this.transformed.type">-=</a> <a href="#1169677" title="Typers.this.global.Tree">tree</a>; tree1
      <span class="keyword">case</span> <a href="../../../Option.scala.html#2498" title="Typers.this.global.Tree" id="1183154">None</a> =&gt; <a href="#1183155" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">op</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="560786">transformedOrTyped</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="1168709">tree</a>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="1168710">mode</a>: <a href="../../../Int.scala.html#508" title="Int">Int</a>, <a title="Typers.this.global.Type" id="1168711">pt</a>: <a href="../../../reflect/internal/Types.scala.html#441242" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/api/Trees.scala.html#23570" title="Typers.this.global.Tree">Tree</a> = <a href="#560185" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<a href="../../../collection/mutable/HashMap.scala.html#79207" title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">get</a><a href="../../../Option.scala.html#64115" title="=&gt; Typers.this.global.Tree" class="delimiter">(</a><a href="#1168709" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#1183172" title="Typers.this.global.Tree" id="1183173" class="delimiter">(</a>tree1<span class="delimiter">)</span> =&gt; <a href="#560185" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <a href="../../../collection/mutable/HashMap.scala.html#79212" title="(key: Typers.this.global.Tree)Typers.this.transformed.type">-=</a> <a href="#1168709" title="Typers.this.global.Tree">tree</a>; tree1
      <span class="keyword">case</span> <a href="../../../Option.scala.html#2498" title="Typers.this.global.Tree" id="1183175">None</a> =&gt; <a href="#560765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><a href="#1183176" title="(x: Typers.this.global.Tree)Typers.this.global.Tree" class="delimiter">(</a><a href="#1168709" title="Typers.this.global.Tree">tree</a>, <a href="#1168710" title="Int">mode</a>, <a href="#1168711" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

/*
    def convertToTypeTree(tree: Tree): Tree = tree match {
      case TypeTree() =&gt; tree
      case _ =&gt; TypeTree(tree.tpe)
    }
*/
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>