<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/util/FlagsUtil.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Paul Phillips
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> util

// Overloading invariants: these are &quot;pseudoinvariants&quot; because many of the
// methods do not exist on Modifiers, only on Symbol, not to mention it is only
// speculative that they are mutually exclusive: but is here to provide a
// starting point for further refinement.
//
// 16: BYNAMEPARAM CAPTURED COVARIANT
//   x.isParameter  ==&gt; BYNAMEPARAM
//   x.isMutable    ==&gt; CAPTURED
//   x.isType       ==&gt; COVARIANT
//
// 17: CONTRAVARIANT INCONSTRUCTOR LABEL
//   x.isType       ==&gt; CONTRAVARIANT
//   x.isClass      ==&gt; INCONSTRUCTOR
//   x.isMethod     ==&gt; LABEL
//
// 25: DEFAULTPARAM TRAIT
//   x.isParameter  ==&gt; DEFAULTPARAM
//   x.isClass      ==&gt; TRAIT
//
// 35: EXISTENTIAL MIXEDIN
//   x.isType       ==&gt; EXISTENTIAL
//   x.isTerm       ==&gt; MIXEDIN
//
// 37: IMPLCLASS PRESUPER
//   x.isClass      ==&gt; IMPLCLASS
//   x.isTerm       ==&gt; PRESUPER

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a>.ExplicitFlags

<span class="keyword">class</span> <a title="class TransFlagManager[T &lt;: scala.tools.nsc.Global] extends Object" id="51888">TransFlagManager</a><span class="delimiter">[</span><a title=" &lt;: scala.tools.nsc.Global" id="52373">T</a> &lt;: Global<span class="delimiter">]</span><a href="#51888" title="scala.tools.nsc.util.TransFlagManager[T]" class="delimiter">(</a><span class="keyword">val</span> <a title="T" id="1192223">global</a>: <a href="#52373" title="T">T</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#1192223" title="=&gt; T">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#441641" title="TransFlagManager.this.global.definitions.type">definitions</a>._

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[TransFlagManager.this.FlagTracker]" id="1192210">trackerStack</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[TransFlagManager.this.FlagTracker]">List</a><span class="delimiter">[</span>FlagTracker<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="1192212">trackerString</a> = <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class FlagTracker extends Object" id="1192213">FlagTracker</a><a href="#1192213" title="TransFlagManager.this.FlagTracker" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="1192244">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Long" id="1192228">mask</a>               = symtab.Flags.<span title="Long(274877906944L)">TRANS_FLAG</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]" id="1192230">seen</a>               = <a href="../../../collection/mutable/HashSet.scala.html#141566" title="()scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#13456" title="scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="1192232">doWeOwnFlag</a>        = <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableLike.scala.html#59011" title="=&gt; Option[TransFlagManager.this.FlagTracker]">headOption</a> <a href="../../../Option.scala.html#63837" title="(p: TransFlagManager.this.FlagTracker =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1192247" title="TransFlagManager.this.FlagTracker">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1192213" title="TransFlagManager.this.FlagTracker" class="keyword">this</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="1192233">isOK</a>               = <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; TransFlagManager.this.FlagTracker">head</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1192213" title="TransFlagManager.this.FlagTracker" class="keyword">this</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sym: TransFlagManager.this.global.Symbol)Boolean" id="1192234">apply</a><span class="delimiter">(</span><a title="TransFlagManager.this.global.Symbol" id="1192254">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TransFlagManager.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1192233" title="=&gt; Boolean">isOK</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Testing &quot;)" class="string">&quot;Testing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192254" title="TransFlagManager.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#443152" title="=&gt; sym.NameType">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192244" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; flag, but not at top of stack: &quot;)" class="string">&quot; flag, but not at top of stack: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192212" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#1192254" title="TransFlagManager.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443303" title="(mask: Long)Boolean">hasFlag</a> <a href="#1192228" title="=&gt; Long">mask</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(sym: TransFlagManager.this.global.Symbol)TransFlagManager.this.global.Symbol" id="1192235">set</a><span class="delimiter">(</span><a title="TransFlagManager.this.global.Symbol" id="1192255">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TransFlagManager.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1192233" title="=&gt; Boolean">isOK</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Tried to set &quot;)" class="string">&quot;Tried to set &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192244" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; but not at top of stack: &quot;)" class="string">&quot; but not at top of stack: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192212" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#1192230" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a> <a href="../../../collection/mutable/HashSet.scala.html#141570" title="(elem: TransFlagManager.this.global.Symbol)FlagTracker.this.seen.type">+=</a> <a href="#1192255" title="TransFlagManager.this.global.Symbol">sym</a>
      <a href="#1192255" title="TransFlagManager.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443305" title="(mask: Long)sym.type">setFlag</a> <a href="#1192228" title="=&gt; Long">mask</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(sym: TransFlagManager.this.global.Symbol)TransFlagManager.this.global.Symbol" id="1192236">reset</a><span class="delimiter">(</span><a title="TransFlagManager.this.global.Symbol" id="1192265">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#441132" title="TransFlagManager.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1192233" title="=&gt; Boolean">isOK</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Tried to clear &quot;)" class="string">&quot;Tried to clear &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192244" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; but not at top of stack: &quot;)" class="string">&quot; but not at top of stack: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192212" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#1192230" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a> <a href="../../../collection/mutable/HashSet.scala.html#141571" title="(elem: TransFlagManager.this.global.Symbol)FlagTracker.this.seen.type">-=</a> <a href="#1192265" title="TransFlagManager.this.global.Symbol">sym</a>
      <a href="#1192265" title="TransFlagManager.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#443306" title="(mask: Long)sym.type">resetFlag</a> <a href="#1192228" title="=&gt; Long">mask</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="()Unit" id="1192237">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#58721" title="=&gt; Boolean">!</a><a href="#1192232" title="=&gt; Boolean">doWeOwnFlag</a> <a href="../../../Boolean.scala.html#58725" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1192230" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Clearing &quot;)" class="string">&quot;Clearing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192230" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a>.<a href="../../../collection/mutable/HashSet.scala.html#141568" title="=&gt; Int">size</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192244" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; flags even though the stack is: &quot;)" class="string">&quot; flags even though the stack is: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192212" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#1192230" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a> <a href="../../../collection/mutable/HashSet.scala.html#141576" title="(f: TransFlagManager.this.global.Symbol =&gt; TransFlagManager.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1192293" title="TransFlagManager.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#443306" title="(mask: Long)x$2.type">resetFlag</a> <a href="#1192228" title="=&gt; Long">mask</a><span class="delimiter">)</span>
      <a href="#1192230" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a>.<a href="../../../collection/mutable/HashSet.scala.html#141575" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="1192214">forceClear</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableOnce.scala.html#59102" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Warning: force clearing the stack at &quot;)" class="string">&quot;Warning: force clearing the stack at &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/SymbolTable.scala.html#440593" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192212" title="=&gt; String">trackerString</a><span class="delimiter">)</span>
      <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a> <a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: TransFlagManager.this.FlagTracker =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#1192321" title="TransFlagManager.this.FlagTracker">_</a>.<a href="#1192237" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#1192210" title="(x$1: List[TransFlagManager.this.FlagTracker])Unit">trackerStack</a> = <a href="../../../collection/immutable/List.scala.html#11552" title="scala.collection.immutable.Nil.type">Nil</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(label: String)TransFlagManager.this.FlagTracker" id="1192215">claimTransFlag</a><span class="delimiter">(</span><a title="String" id="1192323">label</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#1192213" title="TransFlagManager.this.FlagTracker">FlagTracker</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; TransFlagManager.this.FlagTracker">head</a>.<a href="#1192244" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1192323" title="String">label</a><span class="delimiter">)</span>
      <a href="#1192210" title="(x$1: List[TransFlagManager.this.FlagTracker])Unit">trackerStack</a> <a href="../../../collection/immutable/List.scala.html#63643" title="(x: TransFlagManager.this.FlagTracker)List[TransFlagManager.this.FlagTracker]">::=</a> <span title="TransFlagManager.this.FlagTracker" class="keyword">new</span> <a href="#1192213" title="TransFlagManager.this.FlagTracker">FlagTracker</a><span class="delimiter">(</span><a href="#1192323" title="String">label</a><span class="delimiter">)</span>

    <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; TransFlagManager.this.FlagTracker">head</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(label: String)Boolean" id="1192216">releaseTransFlag</a><span class="delimiter">(</span><a title="String" id="1192346">label</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#2218" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59464" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; TransFlagManager.this.FlagTracker">head</a>.<a href="#1192244" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1192346" title="String">label</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#59473" title="=&gt; TransFlagManager.this.FlagTracker">head</a>.<a href="#1192237" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#1192210" title="(x$1: List[TransFlagManager.this.FlagTracker])Unit">trackerStack</a> = <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableLike.scala.html#59012" title="=&gt; List[TransFlagManager.this.FlagTracker]">tail</a>
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#559552" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Warning: trying to release &quot;)" class="string">&quot;Warning: trying to release &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192346" title="String">label</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; flag but the stack is: &quot;)" class="string">&quot; flag but the stack is: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192210" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[U](label: String)(f: TransFlagManager.this.FlagTracker =&gt; U)U" id="1192217">holdingTransFlag</a><span class="delimiter">[</span><a title="" id="1192219">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="1192359">label</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="TransFlagManager.this.FlagTracker =&gt; U" id="1192360">f</a>: FlagTracker =&gt; U<span class="delimiter">)</span>: <a href="#1192219" title="U">U</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TransFlagManager.this.FlagTracker" id="1192362">t</a> = <a href="#1192215" title="(label: String)TransFlagManager.this.FlagTracker">claimTransFlag</a><span class="delimiter">(</span><a href="#1192359" title="String">label</a><span class="delimiter">)</span>
      <a href="../../../Function1.scala.html#59555" title="(v1: TransFlagManager.this.FlagTracker)U">f</a><span class="delimiter">(</span><a href="#1192362" title="TransFlagManager.this.FlagTracker">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#1192216" title="(label: String)Boolean">releaseTransFlag</a><span title="Unit" class="delimiter">(</span><a href="#1192359" title="String">label</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


/** Some functions for generating comments and methods involving flags,
 *  with the output determined by reflection so we can have a little more
 *  assurance that documentation and debugging output match up with reality.
 *
 *  For the compiler, the output can be generated with:
 *    scala scala.tools.nsc.util.FlagsUtilCompiler
 */
<span title="Object" class="keyword">class</span> <a title="class FlagsUtil extends Object" id="51411">FlagsUtil</a><a href="#51411" title="scala.tools.nsc.util.FlagsUtil" class="delimiter">(</a><a title="AnyRef" id="1192378">flagsObject</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  /** Override to tweak flag strings before output. */
  <span class="keyword">def</span> <a title="(name: String)String" id="1192368">addFlagMetadata</a><span class="delimiter">(</span><a title="String" id="1192379">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#1192379" title="String">name</a>

  /** Runs the generative methods in this class. */
  <span class="keyword">def</span> <a title="()Unit" id="1192369">reflectiveAnalyzeFlags</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#1192371" title="()Unit">mkFlagsTable</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <a href="#1192372" title="()Unit">mkFlagToStringMethod</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  /** A list of the flag names found at each bit position.
   */
  <span class="keyword">def</span> <a title="=&gt; List[List[String]]" id="1192370">reflectiveFlagNames</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[List[String]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[(String, Long)]" id="1193954">pairs</a> = <a href="#1192374" title="=&gt; List[java.lang.reflect.Method]">flagMethods</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: java.lang.reflect.Method =&gt; (String, Long))(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.reflect.Method],(String, Long),List[(String, Long)]])List[(String, Long)]">map</a> <span class="delimiter">{</span> <a title="java.lang.reflect.Method" id="1194239">m</a> =&gt;
      <a href="#1194239" title="java.lang.reflect.Method">m</a>.<a href="../../../Predef.scala.html#8484" title="(x: String)ArrowAssoc[String]">getName</a> <a href="../../../Predef.scala.html#63591" title="(y: Long)(String, Long)">-&gt;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1194239" title="java.lang.reflect.Method">m</a> <a href="#1194259" title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</a> <a href="#1192378" title="AnyRef">flagsObject</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#1194258" title="Long" id="1194259">x</a>: java.lang.Integer   =&gt; x.<a href="../../../Int.scala.html#57875" title="=&gt; Long">intValue</a>: <a href="../../../Long.scala.html#1993" title="Long">Long</a>
        <span class="keyword">case</span> <a href="#1194258" title="Long" id="1194260">x</a>: java.lang.Long      =&gt; x.<a href="#1194261" title="(x: Long)Long">longValue</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="../../../LowPriorityImplicits.scala.html#8333" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../runtime/RichInt.scala.html#57856" title="(end: Int)scala.collection.immutable.Range.Inclusive">to</a> <span title="Int(63)" class="int">63</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[Int]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Int =&gt; List[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],List[String],List[List[String]]])List[List[String]]">map</a> <span class="delimiter">{</span> <a title="Int" id="1194427">idx</a> =&gt;
      <a href="#1193954" title="List[(String, Long)]">pairs</a> <a href="../../../collection/TraversableLike.scala.html#58983" title="(pf: PartialFunction[(String, Long),String])(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, Long)],String,List[String]])List[String]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(String, Long),String] with Serializable" id="1194464" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span>name, value<span class="delimiter">)</span> <span class="keyword">if</span> value <a href="../../../Long.scala.html#58254" title="(x: Long)Boolean">==</a> <span class="delimiter">(</span><span title="Long(1L)" class="long">1L</span> <a href="../../../Long.scala.html#58244" title="(x: Int)Long">&lt;&lt;</a> <a href="#1194427" title="Int">idx</a><span class="delimiter">)</span> =&gt; <a href="#1194460" title="(x: B1)B1">name</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  /** Prints a comment table identifying all the flags (as seen
   *  via reflection) and at what bit each is located.
   */
  <span class="keyword">def</span> <a title="()Unit" id="1192371">mkFlagsTable</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[List[String]]" id="1192380">markedFlagNames</a> = <a href="#1192370" title="=&gt; List[List[String]]">reflectiveFlagNames</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: List[String] =&gt; List[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[String]],List[String],List[List[String]]])List[List[String]]">map</a> <span class="delimiter">(</span><a href="#1192403" title="List[String]">_</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <a href="#1192368" title="(name: String)String">addFlagMetadata</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[Int]" id="1192381">widths</a> = <a href="../../../LowPriorityImplicits.scala.html#8333" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../runtime/RichInt.scala.html#57856" title="(end: Int)scala.collection.immutable.Range.Inclusive">to</a> <span title="Int(2)" class="int">2</span> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,scala.collection.immutable.IndexedSeq[Int]])scala.collection.immutable.IndexedSeq[Int]">map</a> <span class="delimiter">{</span> <a title="Int" id="1192608">column</a> =&gt;
      <a href="#1192380" title="List[List[String]]">markedFlagNames</a> <a href="../../../collection/TraversableLike.scala.html#58983" title="(pf: PartialFunction[List[String],Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[String]],Int,List[Int]])List[Int]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[List[String],Int] with Serializable" id="1192647" class="delimiter">{</a> <span class="keyword">case</span> xs <span class="keyword">if</span> xs.<a href="../../../collection/LinearSeqOptimized.scala.html#76164" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57919" title="(x: Int)Boolean">&gt;</a> <a href="#1192608" title="Int">column</a> =&gt;
        <a href="../../../collection/LinearSeqOptimized.scala.html#76165" title="(n: Int)String">xs</a><span class="delimiter">(</span><a href="#1192608" title="Int">column</a><span class="delimiter">)</span>.<a href="#1192643" title="(x: B1)B1">length</a>
      <span class="delimiter">}</span> <a href="../../../collection/TraversableOnce.scala.html#59152" title="(implicit cmp: Ordering[Int])Int">max</a>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="String" id="1192382">fmt</a> = <span title="String(&quot;// %2d: &quot;)" class="string">&quot;// %2d: &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#1192381" title="scala.collection.immutable.IndexedSeq[Int]">widths</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: Int =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</a> <span class="delimiter">(</span><span title="String(&quot;%&quot;)" class="string">&quot;%&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192839" title="Int">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;s&quot;)" class="string">&quot;s&quot;</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#59190" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(xs: List[String])List[String]" id="1192383">padded</a><span class="delimiter">(</span><a title="List[String]" id="1192873">xs</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1192873" title="List[String]">xs</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11552" title="List[String]" id="1192921">Nil</a>              =&gt; <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: String*)List[String]">List</a><a href="#1192925" title="(x: List[String])List[String]" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> x <a href="#1192911" title="Boolean" id="1192914">::</a> <a href="../../../collection/immutable/List.scala.html#11552" title="List[String]" id="1192922">Nil</a>         =&gt; <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: String*)List[String]">List</a><a href="#1192925" title="(x: List[String])List[String]" class="delimiter">(</a>x, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> x1 :: x2 <a title="List[String]" id="1192919">::</a> <a href="../../../collection/immutable/List.scala.html#11552" title="List[String]" id="1192923">Nil</a>  =&gt; <a href="../../../collection/immutable/List.scala.html#63291" title="(xs: String*)List[String]">List</a><a href="#1192925" title="(x: List[String])List[String]" class="delimiter">(</a>x1, x2, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _                =&gt; <a href="#1192873" title="List[String]">xs</a> <a href="#1192925" title="(x: List[String])List[String]">take</a> <span title="Int(3)" class="int">3</span>
    <span class="delimiter">}</span>
    <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;// Generated by mkFlagsTable() at &quot;)" class="string">&quot;// Generated by mkFlagsTable() at &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192375" title="=&gt; String">now</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n//&quot;)" class="string">&quot;\n//&quot;</span><span class="delimiter">)</span>
    // prints the grid showing which flags are at each index
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>names, idx<span class="delimiter">)</span> &lt;- <a href="#1192380" title="List[List[String]]">markedFlagNames</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: ((List[String], Int)) =&gt; Unit)Unit">zipWithIndex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><a href="#1193033" title="(x: Unit)Unit" class="delimiter">(</a><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">fmt</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>idx <a href="../../../collection/immutable/List.scala.html#63643" title="(x: Any)List[Any]">::</a> <a href="#1192383" title="(xs: List[String])List[String]">padded</a><span class="delimiter">(</span>names<span class="delimiter">)</span> : _*<span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  /** Prints an implementation of flagToString based on the reflectively
   *  determined contents of the flags class.
   */
  <span class="keyword">def</span> <a title="()Unit" id="1192372">mkFlagToStringMethod</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(xs: List[String], flag: Long)String" id="1193050">key</a><span class="delimiter">(</span><a title="List[String]" id="1193056">xs</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Long" id="1193057">flag</a>: <a href="../../../Long.scala.html#1993" title="Long">Long</a><span class="delimiter">)</span> = <a href="#1193056" title="List[String]">xs</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11552" title="String" id="1193418">Nil</a>    =&gt; <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%19s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><a href="#1193419" title="(x: String)String" class="delimiter">(</a><span title="String(&quot;0x&quot;)" class="string">&quot;0x&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%x&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1193057" title="Long">flag</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;L&quot;)" class="string">&quot;L&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> x <a href="#1193414" title="String" id="1193417">::</a> _ =&gt;
        <a href="#1193419" title="(x: String)String" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">x</a>.<a href="../../../LowPriorityImplicits.scala.html#8334" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">head</a>.<a href="../../../runtime/RichChar.scala.html#58010" title="=&gt; Boolean">isLower</a><span class="delimiter">)</span> <span title="String(&quot;`&quot;)" class="string">&quot;`&quot;</span> <span title="(x$1: Any)String">+</span> x <span title="(x$1: Any)String">+</span> <span title="String(&quot;`&quot;)" class="string">&quot;`&quot;</span>
        <span class="keyword">else</span> x
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(xs: List[String], flag: Long)String" id="1193051">value</a><span class="delimiter">(</span><a title="List[String]" id="1193427">xs</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Long" id="1193428">flag</a>: <a href="../../../Long.scala.html#1993" title="Long">Long</a><span class="delimiter">)</span> = <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#1193427" title="List[String]">xs</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11552" title="Any" id="1193501">Nil</a>                                      =&gt; <a href="#1193503" title="(x: Any)Any" class="string">&quot;&quot;</a>
      <span class="keyword">case</span> x <a href="#1193496" title="Any" id="1193499">::</a> <a href="../../../collection/immutable/List.scala.html#11552" title="Any" id="1193502">Nil</a> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#1193428" title="Long">flag</a> <a href="../../../Long.scala.html#58301" title="(x: Long)Long">&amp;</a> <span title="Long(2147749423L)">ExplicitFlags</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#58260" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span>  =&gt; x.<a href="#1193503" title="(x: Any)Any">toLowerCase</a>
      <span class="keyword">case</span> xs                                       =&gt; xs.<a href="../../../collection/TraversableLike.scala.html#58971" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#63282" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#1193462" title="String">_</a>.<span title="()String">toLowerCase</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#59189" title="(start: String, sep: String, end: String)String">mkString</a><a href="#1193503" title="(x: Any)Any" class="delimiter">(</a><span title="String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>, <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span>
    <span class="keyword">val</span> <a title="List[(String, String)]" id="1193052">pairs</a>: <a href="../../../collection/immutable/List.scala.html#12322" title="List[(String, String)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#1192370" title="=&gt; List[List[String]]">reflectiveFlagNames</a>.<a href="../../../collection/IterableLike.scala.html#59514" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[List[String]],(List[String], Int),List[(List[String], Int)]])List[(List[String], Int)]">zipWithIndex</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: ((List[String], Int)) =&gt; (String, String))(implicit bf: scala.collection.generic.CanBuildFrom[List[(List[String], Int)],(String, String),List[(String, String)]])List[(String, String)]">map</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractFunction1[(List[String], Int),(String, String)] with Serializable" id="1193579" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span>xs, idx<span class="delimiter">)</span> =&gt; <a href="#1193601" title="(x: (String, String))(String, String)" class="delimiter">(</a><a href="#1193050" title="(xs: List[String], flag: Long)String">key</a><span class="delimiter">(</span>xs, <span title="Long(1L)" class="long">1L</span> <a href="../../../Long.scala.html#58244" title="(x: Int)Long">&lt;&lt;</a> idx<span class="delimiter">)</span>, <a href="#1193051" title="(xs: List[String], flag: Long)String">value</a><span class="delimiter">(</span>xs, <span title="Long(1L)" class="long">1L</span> <a href="../../../Long.scala.html#58244" title="(x: Int)Long">&lt;&lt;</a> idx<span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Int" id="1193053">keyWidth</a>  = <a href="#1193052" title="List[(String, String)]">pairs</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: ((String, String)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, String)],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a href="#1193658" title="(String, String)">_</a>.<a href="../../../Tuple2.scala.html#61506" title="=&gt; String">_1</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#59152" title="(implicit cmp: Ordering[Int])Int">max</a>
    <span class="keyword">val</span> <a title="Int" id="1193054">bodyWidth</a> = <a href="#1193052" title="List[(String, String)]">pairs</a> <a href="../../../collection/TraversableLike.scala.html#58971" title="(f: ((String, String)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, String)],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a href="#1193760" title="(String, String)">_</a>.<a href="../../../Tuple2.scala.html#61508" title="=&gt; String">_2</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#59152" title="(implicit cmp: Ordering[Int])Int">max</a>
    <span class="keyword">val</span> <a title="String" id="1193055">fmt</a>       = <span title="String(&quot;  case %&quot;)" class="string">&quot;  case %&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1193053" title="Int">keyWidth</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;s =&gt; %-&quot;)" class="string">&quot;s =&gt; %-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1193054" title="Int">bodyWidth</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;s // (1L &lt;&lt; %d)&quot;)" class="string">&quot;s // (1L &lt;&lt; %d)&quot;</span>

    <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;// Generated by mkFlagToStringMethod() at &quot;)" class="string">&quot;// Generated by mkFlagToStringMethod() at &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1192375" title="=&gt; String">now</a><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;@annotation.switch override def flagToString(flag: Long): String = flag match {&quot;)" class="string">&quot;@annotation.switch override def flagToString(flag: Long): String = flag match {&quot;</span><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>key, body<span class="delimiter">)</span>, idx<span class="delimiter">)</span> &lt;- <a href="#1193052" title="List[(String, String)]">pairs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#76166" title="(f: (((String, String), Int)) =&gt; Unit)Unit">zipWithIndex</a><span class="delimiter">)</span> <a href="#1193935" title="(x: Unit)Unit" class="delimiter">{</a>
      <a href="../../../Predef.scala.html#8487" title="(x: Any)Unit">print</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">fmt</a>.<a href="../../../collection/immutable/StringLike.scala.html#60730" title="(args: Any*)String">format</a><span class="delimiter">(</span>key, body, idx<span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;  case _ =&gt; \&quot;\&quot;&quot;)" class="string">&quot;  case _ =&gt; \&quot;\&quot;&quot;</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#8489" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(s: String)Boolean" id="1192373">isFlagName</a><span class="delimiter">(</span><a title="String" id="1194058">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a> <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripPrefix</a> <span title="String(&quot;late&quot;)" class="string">&quot;late&quot;</span> <a href="../../../Predef.scala.html#8578" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripPrefix</a> <span title="String(&quot;not&quot;)" class="string">&quot;not&quot;</span> <a href="../../../collection/IndexedSeqOptimized.scala.html#60082" title="(p: Char =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Char" id="1194149">x</a> =&gt; <a href="../../../LowPriorityImplicits.scala.html#8334" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">x</a>.<a href="../../../runtime/RichChar.scala.html#58011" title="=&gt; Boolean">isUpper</a> <a href="../../../Boolean.scala.html#58724" title="(x: Boolean)Boolean">||</a> <a href="#1194149" title="Char">x</a> <a href="../../../Char.scala.html#58041" title="(x: Char)Boolean">==</a> <span title="Char('_')" class="char">'_'</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.lang.reflect.Method]" id="1192374">flagMethods</a>           = <a href="#1192378" title="AnyRef">flagsObject</a>.<span title="()Class[_]">getClass</span>.<a href="../../../Predef.scala.html#8521" title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]">getMethods</a>.<a href="../../../collection/TraversableOnce.scala.html#59174" title="=&gt; List[java.lang.reflect.Method]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58981" title="(p: java.lang.reflect.Method =&gt; Boolean)List[java.lang.reflect.Method]">filter</a> <span class="delimiter">(</span><a title="java.lang.reflect.Method" id="1194057">x</a> =&gt; <a href="#1192373" title="(s: String)Boolean">isFlagName</a><span class="delimiter">(</span><a href="#1194057" title="java.lang.reflect.Method">x</a>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#59827" title="(f: java.lang.reflect.Method =&gt; String)(implicit ord: scala.math.Ordering[String])List[java.lang.reflect.Method]">sortBy</a> <span class="delimiter">(</span><a href="#1194164" title="java.lang.reflect.Method">_</a>.<span title="()String">getName</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="1192375">now</a>           = <span title="java.util.Date" class="keyword">new</span> java.util.<span title="java.util.Date">Date</span> <span title="()String">toString</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">object</span> <a title="scala.tools.nsc.util.FlagsUtil.type" id="51412">FlagsUtil</a> <a href="#51413" title="scala.tools.nsc.util.FlagsUtil.type" class="delimiter">{</a>
  <span class="keyword">import</span> reflect.internal.ModifierFlags

  <span class="keyword">trait</span> <a title="trait MarkModifiers extends scala.tools.nsc.util.FlagsUtil" id="1194582">MarkModifiers</a> <a href="../../../Unit.scala.html#2389" title="Unit" class="keyword">extends</a> <a href="#51411" title="scala.tools.nsc.util.FlagsUtil">FlagsUtil</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="1194586">isModifiersFlag</a> = classOf<span title="Class[scala.reflect.internal.ModifierFlags](classOf[scala.reflect.internal.ModifierFlags])" class="delimiter">[</span>ModifierFlags<span class="delimiter">]</span>.<a href="../../../Predef.scala.html#8521" title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]">getMethods</a> <a href="../../../Predef.scala.html#8521" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">map</a> <span class="delimiter">(</span><a href="#1195026" title="java.lang.reflect.Method">_</a>.<span title="()String">getName</span><span class="delimiter">)</span> <a href="../../../Predef.scala.html#8521" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">filter</a> <a href="#1192373" title="(s: String)Boolean">isFlagName</a> <a href="../../../collection/TraversableOnce.scala.html#59181" title="scala.collection.immutable.Set[String]">toSet</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String)String" id="1194587">addFlagMetadata</a><span class="delimiter">(</span><a title="String" id="1195391">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#65156" title="(elem: String)Boolean">isModifiersFlag</a><span class="delimiter">(</span><a href="#1195391" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1195391" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/M&quot;)" class="string">&quot;/M&quot;</span>
      <span class="keyword">else</span> <a href="#1195391" title="String">name</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

/** Convenience standalone programs.
 */
<span title="Object" class="keyword">object</span> <a title="scala.tools.nsc.util.FlagsUtilCompiler.type" id="51430">FlagsUtilCompiler</a> <a href="#51431" title="scala.tools.nsc.util.FlagsUtilCompiler.type" class="keyword">extends</a> <a href="#51411" title="scala.tools.nsc.util.FlagsUtil">FlagsUtil</a><span class="delimiter">(</span>symtab.<a href="../symtab/package.scala.html#57302" title="=&gt; reflect.internal.Flags.type">Flags</a><span class="delimiter">)</span> <span class="keyword">with</span> FlagsUtil.<a href="#1194582" title="scala.tools.nsc.util.FlagsUtil.MarkModifiers">MarkModifiers</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="1195404">main</a><span class="delimiter">(</span><a title="Array[String]" id="1195406">args</a>: <a href="../../../Array.scala.html#292" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <a href="#1192369" title="()Unit">reflectiveAnalyzeFlags</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="scala.tools.nsc.util.FlagsUtilLibrary.type" id="51349">FlagsUtilLibrary</a> <a href="#51350" title="scala.tools.nsc.util.FlagsUtilLibrary.type" class="keyword">extends</a> <a href="#51411" title="scala.tools.nsc.util.FlagsUtil">FlagsUtil</a><span class="delimiter">(</span>reflect.internal.<a href="../../../reflect/internal/Flags.scala.html#20545" title="scala.reflect.internal.Flags.type">Flags</a><span class="delimiter">)</span> <span class="keyword">with</span> FlagsUtil.<a href="#1194582" title="scala.tools.nsc.util.FlagsUtil.MarkModifiers">MarkModifiers</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="1195409">main</a><span class="delimiter">(</span><a title="Array[String]" id="1195411">args</a>: <a href="../../../Array.scala.html#292" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#2389" title="Unit">Unit</a> = <a href="#1192369" title="()Unit">reflectiveAnalyzeFlags</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>