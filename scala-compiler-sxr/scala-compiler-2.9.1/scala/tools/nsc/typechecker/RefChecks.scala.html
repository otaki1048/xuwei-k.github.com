<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="comment">/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="29762">RefChecks</a> <a href="#29762" title="ScalaObject" class="keyword">extends</a> <a href="../transform/InfoTransform.scala.html#27212" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="../SubComponent.scala.html#95918" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67688" title="object RefChecks.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#64954" title="object RefChecks.this.global.typer">typer</a>.<span class="delimiter">{</span>typed, typedOperator, atOwner<span class="delimiter">}</span>

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  <span class="keyword">val</span> <a title="String" id="110420">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="110422">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../symtab/Flags.scala.html#67044" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="110423">newTransformer</a><span class="delimiter">(</span><a title="RefChecks.this.global.CompilationUnit" id="559231">unit</a>: <a href="../CompilationUnits.scala.html#67942" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="#110431" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#110431" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a><span class="delimiter">(</span><a href="#559231" title="RefChecks.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="110424">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="110425">transformInfo</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559308">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="559309">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a> =
    <span title="RefChecks.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#559308" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#559308" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107384" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#559308" title="RefChecks.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../symtab/Flags.scala.html#67044" title="=&gt; Long">lateMETHOD</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span>
      <a href="../symtab/Types.scala.html#148801" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#559309" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#559309" title="RefChecks.this.global.Type">tp</a>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="110426">toJavaRepeatedParam</a> = <a href="#559132" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67503" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="559132">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="559134">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559135">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#559135" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559140">pre</a>, <a href="../symtab/Definitions.scala.html#106211" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="559141">args</a><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Types.scala.html#67472" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#559140" title="RefChecks.this.global.Type">pre</a>, <a href="../symtab/Definitions.scala.html#106213" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="#559141" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#133280" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#559135" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="110428">toScalaRepeatedParam</a> = <a href="#559194" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67503" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="559194">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="559196">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559197">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a> = <a href="#559197" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559203">pre</a>, <a href="../symtab/Definitions.scala.html#106213" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="559204">args</a><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Types.scala.html#67472" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#559203" title="RefChecks.this.global.Type">pre</a>, <a href="../symtab/Definitions.scala.html#106211" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a href="#559204" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#133280" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#559197" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="110430">accessFlagsToString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559319">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Flags.scala.html#24079" title="(flags: Long, privateWithin: String)String">flagsToString</a><span class="delimiter">(</span>
    <a href="#559319" title="RefChecks.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107414" title="(mask: Long)Long">getFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#559319" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAccessBoundary</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559319" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107277" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject" id="110431">RefCheckTransformer</a><a href="#110431" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.CompilationUnit" id="559304">unit</a>: <a href="../CompilationUnits.scala.html#67942" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#67825" title="RefChecks.this.global.Transformer">Transformer</a> <span class="delimiter">{</span> 

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="559238">localTyper</a>: analyzer.<a href="Typers.scala.html#105608" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#64954" title="object RefChecks.this.global.typer">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="559241">currentApplication</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="../SubComponent.scala.html#95918" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="559244">inPattern</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" id="559247">checkedCombinations</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: List[RefChecks.this.global.Type]*)scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" class="delimiter">[</span><span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// only one overloaded alternative is allowed to define default arguments</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="559249">checkOverloadedRestrictions</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559795">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="comment">// Using the default getters (such as methodName$default$1) as a cheap way of</span>
      <span class="comment">// finding methods with default parameters. This way, we can limit the members to</span>
      <span class="comment">// those with the DEFAULTPARAM flag, and infer the methods. Looking for the methods</span>
      <span class="comment">// directly requires inspecting the parameter list of every one. That modification</span>
      <span class="comment">// shaved 95% off the time spent in this method.</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559797">defaultGetters</a>     = <a href="#559795" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105397" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115274" title="=&gt; RefChecks.this.global.nme.NameType">ANYNAME</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(33554432L)">DEFAULTPARAM</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.TermName]" id="559798">defaultMethodNames</a> = <a href="#559797" title="List[RefChecks.this.global.Symbol]">defaultGetters</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TermName)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TermName,List[RefChecks.this.global.TermName]])List[RefChecks.this.global.TermName]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559819">sym</a> =&gt; <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115622" title="(name: RefChecks.this.global.Name)RefChecks.this.global.TermName">defaultGetterToMethod</a><span class="delimiter">(</span><a href="#559819" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#559798" title="List[RefChecks.this.global.TermName]">defaultMethodNames</a>.<span title="=&gt; List[RefChecks.this.global.TermName]">distinct</span> <span title="(f: RefChecks.this.global.TermName =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.TermName" id="559877">name</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559878">methods</a>      = <a href="#559795" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105397" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#559877" title="RefChecks.this.global.TermName">name</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(64L)">METHOD</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559879">haveDefaults</a> = <a href="#559878" title="List[RefChecks.this.global.Symbol]">methods</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559883">sym</a> =&gt; <a href="#559883" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107440" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">hasParamWhich</a><span class="delimiter">(</span><a href="#559886" title="RefChecks.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115608" title="(name: RefChecks.this.global.Name)Boolean">isProtectedAccessorName</a><span class="delimiter">(</span><a href="#559883" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559879" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559892">owners</a> = <a href="#559879" title="List[RefChecks.this.global.Symbol]">haveDefaults</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#559909" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
           <span class="comment">// constructors of different classes are allowed to have defaults</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559879" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559943">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#559943" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559892" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">distinct</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#559879" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#559795" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <span title="java.lang.String(&quot;in &quot;)" class="string">&quot;in &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#559795" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;, multiple overloaded alternatives of &quot;)" class="string">&quot;, multiple overloaded alternatives of &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#559879" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; RefChecks.this.global.Symbol">head</span> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; define default arguments&quot;)" class="string">&quot; define default arguments&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#559892" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#559955" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#559795" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
                <span class="keyword">else</span> <span title="java.lang.String(&quot;.\012The members with defaults are defined in &quot;)" class="string">&quot;.\nThe members with defaults are defined in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#559892" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#559976" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; java.lang.String">fullLocationString</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#559795" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#112963" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560014">x</a> =&gt; <a href="#560014" title="RefChecks.this.global.Symbol">x</a>.<span title="=&gt; Boolean">isImplicit</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560014" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../symtab/Scopes.scala.html#112960" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="560037">sym</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="560038">alts</a> = <a href="#559795" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#560037" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560038" title="List[RefChecks.this.global.Symbol]">alts</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#560038" title="List[RefChecks.this.global.Symbol]">alts</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560066">x</a> =&gt; <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#560066" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;)" class="string">&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Override checking ------------------------------------------------------------</span>

    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="559250">hasRepeatedParam</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560071">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#560071" title="RefChecks.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="560075">formals</a>, <a title="RefChecks.this.global.Type" id="560076">restpe</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Definitions.scala.html#106219" title="(params: List[RefChecks.this.global.Symbol])Boolean">isScalaVarArgs</a><span class="delimiter">(</span><a href="#560075" title="List[RefChecks.this.global.Symbol]">formals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559250" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#560076" title="RefChecks.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Type" id="560080">restpe</a><span class="delimiter">)</span>         =&gt; <a href="#559250" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#560080" title="RefChecks.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                           =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Add bridges for vararg methods that extend Java vararg methods
     */</span>
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="559251">addVarargBridges</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560081">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560083">self</a> = <a href="#560081" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" id="560084">bridges</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="560085">varargBridge</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560086">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="560087">bridgetpe</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560088">bridge</a> = <a href="#560086" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107455" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#560081" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#107264" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Symbol">setPos</a><span class="delimiter">(</span><a href="#560081" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)RefChecks.this.global.Symbol">setFlag</a><span class="delimiter">(</span><a href="#560086" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
        <a href="#560088" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: RefChecks.this.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#560087" title="RefChecks.this.global.Type">bridgetpe</a>.<a href="../symtab/Types.scala.html#105387" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#560088" title="RefChecks.this.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#560081" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#560088" title="RefChecks.this.global.Symbol">bridge</a>
        <span class="keyword">val</span> <a href="#560120" title="(x: List[List[RefChecks.this.global.Symbol]])Some[List[List[RefChecks.this.global.Symbol]]]">List</a><a href="#560142" title="List[RefChecks.this.global.Symbol]" id="560089" class="delimiter">(</a><a title="List[RefChecks.this.global.Symbol]" id="560142">params</a><span class="delimiter">)</span> = <a href="#560088" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>
        <span class="keyword">val</span> TypeRef<a href="#560159" title="RefChecks.this.global.Type" id="560090" class="delimiter">(</a>_, <a href="../symtab/Definitions.scala.html#106213" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="#560148" title="(x: List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]">List</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560159">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#560089" title="List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>
        <span class="keyword">val</span> <a href="#560092" title="(List[RefChecks.this.global.Ident], RefChecks.this.global.Ident)" class="delimiter">(</a><a href="#560091" title="List[RefChecks.this.global.Ident]" id="560092">initargs</a>, <a href="#560231" title="(x: List[RefChecks.this.global.Ident])Some[List[RefChecks.this.global.Ident]]">List</a><span class="delimiter">(</span><a href="#560091" title="RefChecks.this.global.Ident" id="560093">lastarg0</a><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#560089" title="List[RefChecks.this.global.Symbol]">params</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Ident,List[RefChecks.this.global.Ident]])List[RefChecks.this.global.Ident]">map</span> <a href="../ast/Trees.scala.html#67802" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Ident">Ident</a><span class="delimiter">)</span> <span title="(n: Int)(List[RefChecks.this.global.Ident], List[RefChecks.this.global.Ident])">splitAt</span> <span class="delimiter">(</span><a href="#560089" title="List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Typed" id="560094">lastarg</a> = <a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105460" title="(tree: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105464" title="(tree: RefChecks.this.global.gen.global.Tree, elemtp: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Apply">mkWrapArray</a><span class="delimiter">(</span><a href="#560093" title="RefChecks.this.global.Ident">lastarg0</a>, <a href="#560090" title="RefChecks.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Apply" id="560095">body</a> = <a href="../SubComponent.scala.html#95918" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Tree">This</a><span class="delimiter">(</span><a href="#560081" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#560086" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#560092" title="List[RefChecks.this.global.Ident]">initargs</a> <a href="#560290" title="(prefix: List[RefChecks.this.global.gen.global.Tree with Serializable])List[RefChecks.this.global.gen.global.Tree with Serializable]">:::</a> <span title="(xs: RefChecks.this.global.gen.global.Typed*)List[RefChecks.this.global.gen.global.Typed]">List</span><span class="delimiter">(</span><a href="#560094" title="RefChecks.this.global.gen.global.Typed">lastarg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105922" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
          <span class="comment">/*util.trace(&quot;generating varargs bridge&quot;)*/</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67790" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#560088" title="RefChecks.this.global.Symbol">bridge</a>, <a href="#560095" title="RefChecks.this.global.Apply">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">// For all concrete non-private members that have a (Scala) repeated parameter:</span>
      <span class="comment">//   compute the corresponding method type `jtpe` with a Java repeated parameter</span>
      <span class="comment">//   if a method with type `jtpe` exists and that method is not a varargs bridge</span>
      <span class="comment">//   then create a varargs bridge of type `jtpe` that forwards to the</span>
      <span class="comment">//   member method with the Scala vararg type.</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560368">member</a> &lt;- <a href="#560081" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105350" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560368" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559250" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#560368" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560369">jtpe</a> = <a href="#110426" title="(v1: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#560083" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560368" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560370">inherited</a> = <a href="#560081" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105356" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#560368" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107451" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span>
            <a title="RefChecks.this.global.Symbol" id="560377">sym</a> =&gt; <span class="delimiter">(</span><a href="#560083" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560377" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105381" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#560369" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560377" title="RefChecks.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
            <span class="comment">// this is a bit tortuous: we look for non-private members or bridges</span>
            <span class="comment">// if we find a bridge everything is OK. If we find another member,</span>
            <span class="comment">// we need to create a bridge</span>
          <span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560370" title="RefChecks.this.global.Symbol">inherited</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560084" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a> <span title="(x: RefChecks.this.global.Tree)bridges.type">+=</span> <a href="#560085" title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">varargBridge</a><span class="delimiter">(</span><a href="#560368" title="RefChecks.this.global.Symbol">member</a>, <a href="#560369" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#560084" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; List[RefChecks.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>

    <span class="comment">/** 1. Check all members of class `clazz' for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override' modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O. 
     *    1.7. If O is an abstract type then 
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then 
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override' modifier
     *     overrides some other member.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit" id="559252">checkAllOverrides</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560409">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="560412">typesOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends java.lang.Object with ScalaObject with Product with Serializable" id="560459">MixinOverrideError</a><a href="#560459" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="561318">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="561319">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="560416">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</span><span class="delimiter">[</span>MixinOverrideError<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="()Unit" id="560417">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#560416" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<span title="=&gt; List[MixinOverrideError]">toList</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#560512" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; 
          <span class="keyword">case</span> <a href="#560526" title="Unit">List</a><span class="delimiter">(</span>MixinOverrideError<span class="delimiter">(</span>_, <a title="String" id="560537">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#560537" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MixinOverrideError</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560542">member</a>, <a title="String" id="560543">msg</a><span class="delimiter">)</span> :: <a title="List[MixinOverrideError]" id="560544">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="560545">others1</a> = <a href="#560544" title="List[MixinOverrideError]">others</a>.<span title="(f: MixinOverrideError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixinOverrideError],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#560562" title="MixinOverrideError">_</a>.<a href="#561318" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><a href="#560542" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560595" title="String">_</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">distinct</span>
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
              <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, 
              <a href="#560543" title="String">msg</a><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560545" title="List[String]">others1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
                   <span class="keyword">else</span> <span title="java.lang.String(&quot;;\012 other members with override errors are: &quot;)" class="string">&quot;;\n other members with override errors are: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#560545" title="List[String]">others1</a> <span title="(sep: String)String">mkString</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560418">self</a> = <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a>
 
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="560419">isAbstractTypeWithoutFBound</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560604">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="comment">// (part of DEVIRTUALIZE) </span>
        <a href="#560604" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560420" title="(tsym: RefChecks.this.global.Symbol)Boolean">isFBounded</a><span class="delimiter">(</span><a href="#560604" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tsym: RefChecks.this.global.Symbol)Boolean" id="560420">isFBounded</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560605">tsym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#560605" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105383" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a> <a href="../symtab/BaseTypeSeqs.scala.html#197517" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#560608" title="RefChecks.this.global.Type">_</a> <a href="../symtab/Types.scala.html#105372" title="(sym: RefChecks.this.global.Symbol)Boolean">contains</a> <a href="#560605" title="RefChecks.this.global.Symbol">tsym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="560421">infoString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560610">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#560423" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String">infoString0</a><span class="delimiter">(</span><a href="#560610" title="RefChecks.this.global.Symbol">sym</a>, <a href="#560610" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="560422">infoStringWithLocation</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560621">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#560423" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String">infoString0</a><span class="delimiter">(</span><a href="#560621" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String" id="560423">infoString0</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560611">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="560612">showLocation</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="560613">sym1</a> = <a href="../Global.scala.html#64900" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105537" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#560611" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107516" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560612" title="Boolean">showLocation</a><span class="delimiter">)</span> 
          <a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> 
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;, which equals &quot;)" class="string">&quot;, which equals &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105360" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; with bounds &quot;)" class="string">&quot; with bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105360" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105360" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560613" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean" id="560424">overridesType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560622">tp1</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="560623">tp2</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: RefChecks.this.global.Type, _2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)" class="delimiter">(</span><a href="#560622" title="RefChecks.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#560623" title="RefChecks.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a href="#560635" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="560646">rtp1</a><span class="delimiter">)</span>, NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560648">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; 
          <a href="#560646" title="RefChecks.this.global.Type">rtp1</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#560648" title="RefChecks.this.global.Type">rtp2</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560653">rtp1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a href="#560657" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="560668">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; 
          <a href="#560653" title="RefChecks.this.global.Type">rtp1</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#560668" title="RefChecks.this.global.Type">rtp2</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.Symbol" id="560675">sym</a>, _<span class="delimiter">)</span>,  _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#560675" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> =&gt; 
          <a href="#560424" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean">overridesType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148801" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#560622" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>, <a href="#560623" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; 
          <a href="#560622" title="RefChecks.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#560623" title="RefChecks.this.global.Type">tp2</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Check that all conditions for overriding `other` by `member`
       *  of class `clazz` are met.
       */</span>
      <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit" id="560425">checkOverride</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560677">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="560678">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="560679">other</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="560680">noErrorType</a> = <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67388" title="object RefChecks.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67388" title="object RefChecks.this.global.ErrorType">ErrorType</a>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="560681">isRootOrNone</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560697">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#560697" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106036" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#560697" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="560682">overrideError</a><span class="delimiter">(</span><a title="String" id="560706">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560680" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="560707">fullmsg</a> = 
              <span title="java.lang.String(&quot;overriding &quot;)" class="string">&quot;overriding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560422" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;\012 &quot;)" class="string">&quot;;\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#560421" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560706" title="String">msg</a><span title="(x$1: Any)java.lang.String">+</span>
              <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> 
                <span title="java.lang.String(&quot;;\012 (Note that &quot;)" class="string">&quot;;\n (Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560422" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is abstract,&quot;)" class="string">&quot; is abstract,&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
               <span title="java.lang.String(&quot;\012  and is therefore overridden by concrete &quot;)" class="string">&quot;\n  and is therefore overridden by concrete &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560422" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#560677" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#560707" title="java.lang.String">fullmsg</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#560416" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a> <span title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]">+=</span> <span title="MixinOverrideError" class="keyword">new</span> <a href="#560459" title="MixinOverrideError">MixinOverrideError</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>, <a href="#560707" title="java.lang.String">fullmsg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="560683">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560680" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="560684">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="560732">otherAccess</a> = <a href="#110430" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
          <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has weaker access privileges; it should be &quot;)" class="string">&quot;has weaker access privileges; it should be &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560732" title="String">otherAccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;at least &quot;)" class="string">&quot;at least &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560732" title="String">otherAccess</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">//Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>

        <span class="comment">// return if we already checked this combination elsewhere</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560677" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG</span>
            <span title="Nothing" class="keyword">return</span>; 
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560677" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560754">parent</a> =&gt;
            <span class="delimiter">(</span><a href="#560754" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560754" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
                <span title="Nothing" class="keyword">return</span>; 
            <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560677" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560763">parent</a> =&gt;
            <span class="delimiter">(</span><a href="#560763" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">==</span> <span class="delimiter">(</span><a href="#560763" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
              <span title="Nothing" class="keyword">return</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">/** Is the intersection between given two lists of overridden symbols empty?
         */</span>
        <span class="keyword">def</span> <a title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean" id="560685">intersectionIsEmpty</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="560769">syms1</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Symbol]" id="560770">syms2</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560769" title="List[RefChecks.this.global.Symbol]">syms1</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#560770" title="List[RefChecks.this.global.Symbol]">syms2</a> <a href="#560777" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560412" title="Boolean">typesOnly</a><span class="delimiter">)</span> <a href="#560686" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// o: public | protected        | package-protected  (aka java's default access)</span>
          <span class="comment">// ^-may be overridden by member with access privileges-v</span>
          <span class="comment">// m: public | public/protected | public/protected/package-protected-in-same-package-as-o</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span> <span class="comment">// (1.1)</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span><span class="delimiter">)</span>
          
          <span class="comment">// todo: align accessibility implication checking with isAccessible in Contexts</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560778">ob</a> = <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107416" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560779">mb</a> = <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107416" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>          
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="560780">isOverrideAccessOK</a> = <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isPublic</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>      <span class="comment">// member is public, definitely same or relaxed access</span>
            <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isProtected</span> <span title="(x: Boolean)Boolean">||</span> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isProtected</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>    <span class="comment">// if o is protected, so is m</span>
            <span class="delimiter">(</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560681" title="(sym: RefChecks.this.global.Symbol)Boolean">isRootOrNone</a><span class="delimiter">(</span><a href="#560778" title="RefChecks.this.global.Symbol">ob</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560778" title="RefChecks.this.global.Symbol">ob</a>.<a href="../symtab/Symbols.scala.html#107406" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#560779" title="RefChecks.this.global.Symbol">mb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>  <span class="comment">// m relaxes o's access boundary</span>
              <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span>                           <span class="comment">// overriding a protected java member, see #3946</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560780" title="=&gt; Boolean">isOverrideAccessOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560684" title="()Unit">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot be used here - classes and objects cannot be overridden&quot;)" class="string">&quot;cannot be used here - classes and objects cannot be overridden&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot be used here - classes and objects can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes and objects can only override abstract types&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(32L)">FINAL</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.2)</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE | ABSOVERRIDE <span title="Long(2359298L)">|</span> SYNTHETIC<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.3), SYNTHETIC because of DEVIRTUALIZE</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs `override\' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107395" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#560677" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs `abstract override\' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107323" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#560814" title="RefChecks.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span title="=&gt; Boolean">!</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <a href="#560685" title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean">intersectionIsEmpty</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107492" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a>, <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107492" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span class="string">&quot;cannot override a concrete member without a third member that's overridden by both &quot;</span><span title="java.lang.String(&quot;cannot override a concrete member without a third member that\'s overridden by both (this rule is designed to prevent ``accidental overrides\'\')&quot;)">+</span>
                          <span class="string">&quot;(this rule is designed to prevent ``accidental overrides'')&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107373" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107373" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.4)</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#560686" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36923" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryOverride</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;non-nullary method overrides nullary method&quot;)" class="string">&quot;non-nullary method overrides nullary method&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="560686">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>  
            <span class="comment">//if (!member.typeParams.isEmpty) (1.5)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>
            <span class="comment">//if (!other.typeParams.isEmpty)  (1.5)   @MAT</span>
            <span class="comment">//  overrideError(&quot;may not override parameterized type&quot;);</span>
            <span class="comment">// @M: substSym</span>

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105364" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105379" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="comment">// (1.6)</span>
              <a href="#560683" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//if (!member.typeParams.isEmpty) // (1.7)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>

            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560833">memberTp</a> = <a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560834">otherTp</a> = <a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105360" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560834" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#148449" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#560833" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.7.1)</span>
              <a href="#560683" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>; <span class="comment">// todo: do an explaintypes with bounds here</span>
              <a href="../symtab/Types.scala.html#67669" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any, found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#560845" title="RefChecks.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#148449" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#560846" title="RefChecks.this.global.Type">_</a>, <a href="#560834" title="RefChecks.this.global.Type">otherTp</a>, <a href="#560833" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            
            <span class="comment">// check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))</span>
            <span class="comment">// making an abstract type member concrete is like passing a type argument</span>
            <span class="keyword">val</span> <a title="List[String]" id="560835">kindErrors</a> = <a href="../Global.scala.html#64954" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#105820" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#105990" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#560833" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>, <a href="#560418" title="RefChecks.this.global.Type">self</a>, <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="comment">// (1.7.2)</span>
           
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560835" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, 
                <span title="java.lang.String(&quot;The kind of &quot;)" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107509" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107523" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; java.lang.String">nameString</a><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107526" title="=&gt; String">defString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                <a href="#560835" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> 
            
            <span class="comment">// check a type alias's RHS corresponds to its declaration</span>
            <span class="comment">// this overlaps somewhat with validateVariance</span>
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[String]" id="560868">kindErrors</a> = <a href="../Global.scala.html#64954" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#105820" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#105990" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#560833" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span>, <a href="#560418" title="RefChecks.this.global.Type">self</a>, <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560868" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, 
                  <span title="java.lang.String(&quot;The kind of the right-hand side &quot;)" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560833" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107509" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107523" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; java.lang.String">nameString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#560868" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> 
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560833" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560834" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;)" class="string">&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560679" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107434" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// #2454</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560886">memberTp</a> = <a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560887">otherTp</a> = <a href="#560418" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560679" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560424" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean">overridesType</a><span class="delimiter">(</span><a href="#560886" title="RefChecks.this.global.Type">memberTp</a>, <a href="#560887" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// 8</span>
              <a href="#560683" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#67668" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#560886" title="RefChecks.this.global.Type">memberTp</a>, <a href="#560887" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107373" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560887" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560886" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#560682" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has a volatile type; cannot override a member with non-volatile type&quot;)" class="string">&quot;has a volatile type; cannot override a member with non-volatile type&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#560886" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; RefChecks.this.global.Type">resultType</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="560893">rt</a>: <a href="../symtab/Types.scala.html#67416" title="RefChecks.this.global.RefinedType">RefinedType</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560893" title="RefChecks.this.global.RefinedType">rt</a> <a href="../symtab/Types.scala.html#105379" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#560887" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559247" title="=&gt; scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])Boolean">contains</span> <a href="#560893" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#148539" title="=&gt; List[RefChecks.this.global.Type]">parents</a><span class="delimiter">)</span> =&gt; 
                  <span class="comment">// might mask some inconsistencies -- check overrides </span>
                  <a href="#559247" title="(x$1: scala.collection.immutable.Set[List[RefChecks.this.global.Type]])Unit">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">+=</span> <a href="#560893" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#148539" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
                  <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560905">tsym</a> = <a href="#560893" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560905" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#67891" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#560905" title="RefChecks.this.global.Symbol">tsym</a> <a href="../symtab/Symbols.scala.html#107264" title="(pos: RefChecks.this.global.Position)tsym.type">setPos</a> <a href="#560678" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>
                  <a href="#559252" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#560905" title="RefChecks.this.global.Symbol">tsym</a>, typesOnly = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span title="Unit" class="delimiter">}</span>
      
      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="560426">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#64840" title="object RefChecks.this.global.overridingPairs">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#107110" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#560426" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502497" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#560428" title="()Unit" class="delimiter">{</a>
        <span class="comment">//Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullName + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullName + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560426" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502494" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#560425" title="(clazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit">checkOverride</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#560426" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502491" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#560426" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502494" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>;
        
        <a href="#560426" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502498" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="#560417" title="()Unit">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> 

      <span class="comment">// Verifying a concrete class has nothing unimplemented.</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560412" title="Boolean">typesOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="560932">abstractErrors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="560933">abstractErrorMessage</a> =
          <span class="comment">// a little formatting polish</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(sep: String)String">mkString</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
          <span class="keyword">else</span> <a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; scala.collection.mutable.ListBuffer[String]">tail</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; String">head</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         
        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean, msg: String)Unit" id="560934">abstractClassError</a><span class="delimiter">(</span><a title="Boolean" id="560948">mustBeMixin</a>: <span title="Boolean">Boolean</span>, <a title="String" id="560949">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="560950">prelude</a> = <span class="delimiter">(</span>
            <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107346" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
            <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#560948" title="Boolean">mustBeMixin</a><span class="delimiter">)</span> <a href="#560409" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
            <span class="keyword">else</span> <a href="#560409" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>
          <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, since&quot;)" class="string">&quot;, since&quot;</span>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(xs: scala.collection.TraversableOnce[String])abstractErrors.type">++=</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#560950" title="=&gt; java.lang.String">prelude</a>, <a href="#560949" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(x: String)abstractErrors.type">+=</span> <a href="#560949" title="String">msg</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="560935">javaErasedOverridingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560978">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a> = 
          <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105356" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#560978" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107451" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560980">other</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#560980" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560980" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type" id="560981">uncurryAndErase</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560984">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../Global.scala.html#64918" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#236582" title="(tp: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="../Global.scala.html#64910" title="object RefChecks.this.global.uncurry">uncurry</a>.<a href="../transform/UnCurry.scala.html#110553" title="(sym: RefChecks.this.global.uncurry.global.Symbol, tp: RefChecks.this.global.uncurry.global.Type)RefChecks.this.global.uncurry.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#560978" title="RefChecks.this.global.Symbol">sym</a>, <a href="#560984" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #3622: erasure operates on uncurried types -- note on passing sym in both cases: only sym.isType is relevant for uncurry.transformInfo</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="560982">tp1</a> = <a href="#560981" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560978" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="560983">tp2</a> = <a href="#560981" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560980" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72331" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#560982" title="RefChecks.this.global.erasure.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105381" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">matches</a> <a href="#560983" title="RefChecks.this.global.erasure.global.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol)Boolean" id="560936">ignoreDeferred</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560999">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
          <a href="#560419" title="(sym: RefChecks.this.global.Symbol)Boolean">isAbstractTypeWithoutFBound</a><span class="delimiter">(</span><a href="#560999" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">(</span><a href="#560999" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
           <span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72331" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../NoPhase.scala.html#10826" title="object scala.tools.nsc.NoPhase">NoPhase</a> <span title="(x: Boolean)Boolean">||</span> <span class="comment">// the test requires atPhase(erasurePhase.next) so shouldn't be done if the compiler has no erasure phase available</span>
            <a href="#560935" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span class="delimiter">(</span><a href="#560999" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// 2. Check that only abstract classes have deferred members</span>
        <span class="keyword">def</span> <a title="()Unit" id="560937">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="comment">// Avoid spurious duplicates: first gather any missing members.</span>
          <span class="keyword">def</span> <a title="=&gt; List[RefChecks.this.global.Symbol]" id="561010">memberList</a> = <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105351" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#561012" title="(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])" class="delimiter">(</a><a href="#561011" title="List[RefChecks.this.global.Symbol]" id="561012">missing</a>, <a href="#561011" title="List[RefChecks.this.global.Symbol]" id="561013">rest</a><span class="delimiter">)</span> = <a href="#561010" title="=&gt; List[RefChecks.this.global.Symbol]">memberList</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])">partition</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561020">m</a> =&gt; <a href="#561020" title="RefChecks.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560936" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#561020" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="comment">// Group missing members by the underlying symbol.</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]" id="561014">grouped</a> = <a href="#561012" title="List[RefChecks.this.global.Symbol]">missing</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.analyzer.global.Name)scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">groupBy</span> <span class="delimiter">(</span><a href="../Global.scala.html#64900" title="object RefChecks.this.global.analyzer">analyzer</a> <a href="Namers.scala.html#105537" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a> <a href="#561037" title="RefChecks.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561059">member</a> &lt;- <a href="#561012" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">missing</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(msg: String)Unit" id="561060">undefined</a><span class="delimiter">(</span><a title="String" id="561062">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#560934" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#560421" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561059" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561062" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="561061">underlying</a> = <a href="../Global.scala.html#64900" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105537" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#561059" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>

            <span class="comment">// Give a specific error message for abstract vars based on why it fails:</span>
            <span class="comment">// It could be unimplemented, have only one accessor, or be uninitialized.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107323" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// If both getter and setter are missing, squelch the setter error.</span>
              <span class="keyword">val</span> <a title="Boolean" id="561063">isMultiple</a> = <a href="#561014" title="(key: RefChecks.this.global.analyzer.global.Name)List[RefChecks.this.global.Symbol]">grouped</a><span class="delimiter">(</span><a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span>
              <span class="comment">// TODO: messages shouldn't be spread over two files, and varNotice is not a clear name</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561059" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107326" title="=&gt; Boolean">isSetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561063" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#561060" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561059" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107326" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012(Note that an abstract var requires a setter in addition to the getter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;</span>
                <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561059" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#561063" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012(Note that an abstract var requires a getter in addition to the setter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;</span>
                <span class="keyword">else</span> <a href="../Global.scala.html#64900" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105541" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a><span class="delimiter">(</span><a href="#561059" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>

              <span class="comment">// If there is a concrete method whose name matches the unimplemented</span>
              <span class="comment">// abstract method, and a cursory examination of the difference reveals</span>
              <span class="comment">// something obvious to us, let's make it more obvious to them.</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.analyzer.global.Type]" id="561089">abstractParams</a>   = <a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="561090">matchingName</a>     = <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105351" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="561091">matchingArity</a>    = <a href="#561090" title="List[RefChecks.this.global.Symbol]">matchingName</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="561095">m</a> =&gt;
                <span title="=&gt; Boolean">!</span><a href="#561095" title="RefChecks.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <span class="delimiter">(</span><a href="#561095" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#561095" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#561095" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              
              <a href="#561091" title="List[RefChecks.this.global.Symbol]">matchingArity</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="comment">// So far so good: only one candidate method</span>
                <span class="keyword">case</span> <a title="Unit" id="561127">concrete</a> :: <span title="object Nil">Nil</span>   =&gt;
                  <span class="keyword">val</span> <a title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="561128">mismatches</a>  = <a href="#561089" title="List[RefChecks.this.global.analyzer.global.Type]">abstractParams</a> <span title="(that: scala.collection.GenIterable[RefChecks.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.analyzer.global.Type],(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]])List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">zip</span> <a href="#561127" title="RefChecks.this.global.Symbol">concrete</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a> <span title="(p: (RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type) =&gt; Boolean)List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">filterNot</span> <a href="#561188" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="561191">x</a>, <a title="RefChecks.this.global.Type" id="561192">y</a><span class="delimiter">)</span> =&gt; <a href="#561191" title="RefChecks.this.global.analyzer.global.Type">x</a> <a href="../symtab/Types.scala.html#105379" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#561192" title="RefChecks.this.global.Type">y</a> <span class="delimiter">}</span>
                  <a href="#561128" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">mismatches</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="comment">// Only one mismatched parameter: say something useful.</span>
                    <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="561200">pa</a>, <a title="RefChecks.this.global.Type" id="561201">pc</a><span class="delimiter">)</span> :: <span title="object Nil">Nil</span>  =&gt;
                      <span class="keyword">val</span> <a title="String" id="561202">addendum</a> =
                        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561200" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561201" title="RefChecks.this.global.Type">pc</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                          <span class="comment">// TODO: what is the optimal way to test for a raw type at this point?</span>
                          <span class="comment">// Compilation has already failed so we shouldn't have to worry overmuch</span>
                          <span class="comment">// about forcing types.</span>
                          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561061" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561200" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561200" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
                            <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;. To implement a raw type, use %s[_]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#561200" title="RefChecks.this.global.analyzer.global.Type">pa</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561200" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105323" title="=&gt; RefChecks.this.global.analyzer.global.Type">prefix</a> <a href="../symtab/Types.scala.html#105379" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#561201" title="RefChecks.this.global.Type">pc</a>.<a href="../symtab/Types.scala.html#105323" title="=&gt; RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
                            <span title="java.lang.String(&quot;: their type parameters differ&quot;)" class="string">&quot;: their type parameters differ&quot;</span>
                          <span class="keyword">else</span>
                            <span title="java.lang.String(&quot;: their prefixes (i.e. enclosing instances) differ&quot;)" class="string">&quot;: their prefixes (i.e. enclosing instances) differ&quot;</span>
                        <span class="delimiter">}</span>
                        <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

                      <a href="#561060" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n(Note that %s does not match %s%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#561200" title="RefChecks.this.global.analyzer.global.Type">pa</a>, <a href="#561201" title="RefChecks.this.global.Type">pc</a>, <a href="#561202" title="String">addendum</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> <a title="Unit" id="561217">xs</a> =&gt;
                      <a href="#561060" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                  <a href="#561060" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#561060" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        
          <span class="comment">// Check the remainder for invalid absoverride.</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561228">member</a> &lt;- <a href="#561013" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">rest</a> ; <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#561228" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561228" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107395" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561229">other</a> = <a href="#561228" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107493" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="561230">explanation</a> =
              <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561229" title="RefChecks.this.global.Symbol">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; and overrides incomplete superclass member &quot;)" class="string">&quot; and overrides incomplete superclass member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560421" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561229" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="java.lang.String(&quot;, but no concrete implementation could be found in a base class&quot;)" class="string">&quot;, but no concrete implementation could be found in a base class&quot;</span>
          
            <a href="#560934" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#560421" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561228" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is marked `abstract\' and `override\'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561230" title="java.lang.String">explanation</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// 3. Check that concrete classes do not have deferred definitions</span>
        <span class="comment">// that are not implemented in a subclass.</span>
        <span class="comment">// Note that this is not the same as (2); In a situation like</span>
        <span class="comment">//</span>
        <span class="comment">// class C { def m: Int = 0}</span>
        <span class="comment">// class D extends C { def m: Int }</span>
        <span class="comment">// </span>
        <span class="comment">// (3) is violated but not (2).</span>
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="560938">checkNoAbstractDecls</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561237">bc</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561250">decl</a> &lt;- <a href="#561237" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112959" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561250" title="RefChecks.this.global.Symbol">decl</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560936" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#561250" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561251">impl</a> = <a href="#561250" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107488" title="(site: RefChecks.this.global.Type, admit: Long)RefChecks.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a>, admit = <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561251" title="RefChecks.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561250" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561251" title="RefChecks.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#560934" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;there is a deferred declaration of &quot;)" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560421" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561250" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../Global.scala.html#64900" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105541" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a><span class="delimiter">(</span><a href="#561250" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="561238">parents</a> = <a href="#561237" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561238" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561238" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span><span class="delimiter">)</span> 
            <a href="#560938" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#561238" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <a href="#560937" title="()Unit">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#560938" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560932" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#560933" title="=&gt; String">abstractErrorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// prevent abstract methods in interfaces that override final members in Object; see #4431</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561278">decl</a> &lt;- <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112959" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561279">overridden</a> = <a href="#561278" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107489" title="(ofclazz: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106079" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561279" title="RefChecks.this.global.Symbol">overridden</a>.<span title="=&gt; Boolean">isFinal</span><span class="delimiter">)</span>
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#561278" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;trait cannot redefine final method from class AnyRef&quot;)" class="string">&quot;trait cannot redefine final method from class AnyRef&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Returns whether there is a symbol declared in class `inclazz`
       *  (which must be different from `clazz`) whose name and type
       *  seen as a member of `class.thisType` matches `member`'s.
       */</span>
      <span class="keyword">def</span> <a title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean" id="560427">hasMatchingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561282">inclazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="561283">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="561284">isVarargs</a> = <a href="#559250" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#561283" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="561286">varargsType</a> = <a href="#110426" title="(v1: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#561283" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="561287">isSignatureMatch</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561292">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#561292" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="561293">symtpe</a>            = <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a> <a href="../symtab/Types.scala.html#105361" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#561292" title="RefChecks.this.global.Symbol">sym</a>
          <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="561294">matches</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561295">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#561295" title="RefChecks.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105381" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#561293" title="RefChecks.this.global.Type">symtpe</a>
          
          <a href="#561294" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#561283" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561284" title="Boolean">isVarargs</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561294" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#561285" title="=&gt; RefChecks.this.global.Type">varargsType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">/** The rules for accessing members which have an access boundary are more
         *  restrictive in java than scala.  Since java has no concept of package nesting,
         *  a member with &quot;default&quot; (package-level) access can only be accessed by members
         *  in the exact same package.  Example:
         *
         *    package a.b;
         *    public class JavaClass { void foo() { } }
         *
         *  The member foo() can be accessed only from members of package a.b, and not
         *  nested packages like a.b.c.  In the analogous scala class:
         *
         *    package a.b
         *    class ScalaClass { private[b] def foo() = () }
         *
         *  The member IS accessible to classes in package a.b.c.  The javaAccessCheck logic
         *  is restricting the set of matching signatures according to the above semantics.
         */</span>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="561288">javaAccessCheck</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561297">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
             <span title="=&gt; Boolean">!</span><a href="#561282" title="RefChecks.this.global.Symbol">inclazz</a>.<span title="=&gt; Boolean">isJavaDefined</span>                             <span class="comment">// not a java defined member</span>
          <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#561297" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAccessBoundary</span>                             <span class="comment">// no access boundary</span>
          <span title="(x: Boolean)Boolean">||</span> <a href="#561297" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isProtected</span>                                    <span class="comment">// marked protected in java, thus accessible to subclasses</span>
          <span title="(x: Boolean)Boolean">||</span> <a href="#561297" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107277" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561283" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107473" title="=&gt; RefChecks.this.global.Symbol">enclosingPackageClass</a>  <span class="comment">// exact package match</span>
        <span class="delimiter">)</span>        
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="561289">classDecls</a>   = <a href="#561282" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105348" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#561283" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="561290">matchingSyms</a> = <a href="#561289" title="=&gt; RefChecks.this.global.Symbol">classDecls</a> <a href="../symtab/Symbols.scala.html#107451" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561305">sym</a> =&gt; <a href="#561287" title="(sym: RefChecks.this.global.Symbol)Boolean">isSignatureMatch</a><span class="delimiter">(</span><a href="#561305" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561288" title="(sym: RefChecks.this.global.Symbol)Boolean">javaAccessCheck</a><span class="delimiter">(</span><a href="#561305" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span class="delimiter">(</span><a href="#561282" title="RefChecks.this.global.Symbol">inclazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#561290" title="=&gt; RefChecks.this.global.Symbol">matchingSyms</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// 4. Check that every defined member with an `override' modifier overrides some other member.</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561345">member</a> &lt;- <a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">toList</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#561345" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560409" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#560427" title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean">hasMatchingSym</a><span class="delimiter">(</span><a href="#561358" title="RefChecks.this.global.Symbol">_</a>, <a href="#561345" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG</span>
          <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#561345" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#561345" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107516" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span><span class="delimiter">)</span>;
          <a href="#561345" title="RefChecks.this.global.Symbol">member</a> <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)member.type">resetFlag</a> <span title="Long(2L)">OVERRIDE</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">// Basetype Checking --------------------------------------------------------</span>

    <span class="comment">/** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="559253">validateBaseTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561368">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]" id="561370">seenParents</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</span><span title="(elems: RefChecks.this.global.Type*)scala.collection.mutable.HashSet[RefChecks.this.global.Type]" class="delimiter">[</span><a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="561371">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <span title="Array[List[RefChecks.this.global.Type]]">Array</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#561368" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105383" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../symtab/BaseTypeSeqs.scala.html#197505" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="561508">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#561371" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
        <a href="#561371" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#561508" title="Int">i</a><span class="delimiter">)</span> = <span title="object Nil">Nil</span>

      <span class="comment">/** validate all base types of a class in reverse linear order. */</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="561372">register</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561512">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
<span class="comment">//        if (clazz.fullName.endsWith(&quot;Collection.Projection&quot;))</span>
<span class="comment">//            println(&quot;validate base type &quot;+tp)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561513">baseClass</a> = <a href="#561512" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561513" title="RefChecks.this.global.Symbol">baseClass</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="561515">index</a> = <a href="#561368" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105386" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#561513" title="RefChecks.this.global.Symbol">baseClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561515" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561371" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#561515" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561529">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561529" title="RefChecks.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561512" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#561371" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#561515" title="Int">index</a><span class="delimiter">)</span> = 
                <a href="#561512" title="RefChecks.this.global.Type">tp</a> <a href="#561531" title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#561371" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#561515" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561537">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561512" title="RefChecks.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561537" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="561514">remaining</a> = <a href="#561512" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <a href="#561370" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a>
        <a href="#561370" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Type])seenParents.type">++=</span> <a href="#561514" title="List[RefChecks.this.global.Type]">remaining</a>
        <a href="#561514" title="List[RefChecks.this.global.Type]">remaining</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <a href="#561372" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      <span class="delimiter">}</span>
      <a href="#561372" title="(tp: RefChecks.this.global.Type)Unit">register</a><span class="delimiter">(</span><a href="#561368" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="561669">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#561371" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561670">baseClass</a> = <a href="#561368" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/BaseTypeSeqs.scala.html#197508" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#561669" title="Int">i</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#561371" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#561669" title="Int">i</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#561673" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;??? base &quot;)" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561670" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561368" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#561687" title="Unit">List</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;<span class="comment">// OK</span>
          <span class="keyword">case</span> <a title="Unit" id="561702">tp1</a> :: <a title="RefChecks.this.global.Type" id="561710">tp2</a> :: _ =&gt;
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#561368" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal inheritance;\012 &quot;)" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561368" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561670" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561702" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561710" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>;
            <a href="../symtab/Types.scala.html#67668" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#561702" title="RefChecks.this.global.Type">tp1</a>, <a href="#561710" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#67668" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#561710" title="RefChecks.this.global.Type">tp2</a>, <a href="#561702" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">// Variance Checking --------------------------------------------------------</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559254">ContraVariance</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559256">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559258">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559260">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="559262">escapedPrivateLocals</a> = <span title="()scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="559264">varianceValidator</a> = <a href="#559337" title="RefChecks.this.global.Traverser{}" class="keyword">new</a> <a href="../ast/Trees.scala.html#67826" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="559337">Traverser</a> <span class="delimiter">{</span>

      <span class="comment">/** Validate variance of info of symbol `base` */</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="559339">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559348">base</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <span class="keyword">def</span> <a title="(variance: Int)String" id="559349">varianceString</a><span class="delimiter">(</span><a title="Int" id="559354">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="String">String</span> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#559354" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#559354" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        <span class="comment">/** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */</span>
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="559350">relativeVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559363">tvar</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="559364">clazz</a> = <a href="#559363" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="559365">sym</a> = <a href="#559348" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="559366">state</a> = <a href="#559258" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#559364" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559366" title="Int">state</a> <span title="(x: Int)Boolean">!=</span> <a href="#559260" title="=&gt; Int">AnyVariance</a><span class="delimiter">)</span> <a href="#559367" title="()Unit" class="delimiter">{</a>
            <span class="comment">//Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG</span>
            <span class="comment">// Flip occurrences of type parameters and parameters, unless</span>
            <span class="comment">//  - it's a constructor, or case class factory or extractor</span>
            <span class="comment">//  - it's a type parameter of tvar's owner.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107380" title="=&gt; Boolean">isCaseApplyOrUnapply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559363" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107340" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107340" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <a href="#559363" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#559366" title="Int">state</a> = <span title="=&gt; Int">-</span><a href="#559366" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> 
                     <a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivateLocal</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isProtectedLocal</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSuperAccessor</span> <span class="comment">/* super accessors are implicitly local #4345*/</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559262" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)Boolean">contains</span> <a href="#559365" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// return AnyVariance if `sym` is local to a term</span>
              <span class="comment">// or is private[this] or protected[this]</span>
              <a href="#559366" title="Int">state</a> = <a href="#559260" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// return AnyVariance if `sym` is an alias type</span>
              <span class="comment">// that does not override anything. This is OK, because we always</span>
              <span class="comment">// expand aliases for variance checking.</span>
              <span class="comment">// However, if `sym` does override a type in a base class</span>
              <span class="comment">// we have to assume NoVariance, as there might then be</span>
              <span class="comment">// references to the type parameter that are not variance checked.</span>
              <a href="#559366" title="Int">state</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#559260" title="=&gt; Int">AnyVariance</a>
                      <span class="keyword">else</span> <a href="#559256" title="=&gt; Int">NoVariance</a>
            <span class="delimiter">}</span>
            <a href="#559365" title="RefChecks.this.global.Symbol">sym</a> = <a href="#559365" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="delimiter">}</span>
          <a href="#559366" title="Int">state</a>
        <span class="delimiter">}</span>

        <span class="comment">/** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, variance: Int)Unit" id="559351">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559396">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="559397">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#559396" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Unit">ErrorType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67390" title="Unit">WildcardType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67395" title="Unit">NoType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67397" title="Unit">NoPrefix</a> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="comment">// case DeBruijnIndex(_, _) =&gt; ;</span>
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559402">pre</a>, <a title="RefChecks.this.global.Symbol" id="559403">sym</a><span class="delimiter">)</span> =&gt;
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559402" title="RefChecks.this.global.Type">pre</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559407">pre</a>, <a title="RefChecks.this.global.Symbol" id="559408">sym</a>, <a title="List[RefChecks.this.global.Type]" id="559409">args</a><span class="delimiter">)</span> =&gt;
<span class="comment">//            println(&quot;validate &quot;+sym+&quot; at &quot;+relativeVariance(sym))</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559408" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="comment">/* &amp;&amp; relativeVariance(sym) == AnyVariance*/</span><span class="delimiter">)</span>
              <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559396" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107399" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#559256" title="=&gt; Int">NoVariance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="559415">v</a> = <a href="#559350" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span class="delimiter">(</span><a href="#559408" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559415" title="Int">v</a> <span title="(x: Int)Boolean">!=</span> <a href="#559260" title="=&gt; Int">AnyVariance</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107399" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#559415" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#559397" title="Int">variance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">//Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG</span>
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)java.lang.String" id="559429">tpString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559430">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#559430" title="RefChecks.this.global.Type">tp</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="java.lang.String">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559434">parents</a>, _, <a title="RefChecks.this.global.Symbol" id="559435">clazz</a><span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;supertype &quot;)" class="string">&quot;supertype &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Types.scala.html#67476" title="(tps: List[RefChecks.this.global.Type], owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#559434" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#559435" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="java.lang.String">_</span> =&gt; <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#559430" title="RefChecks.this.global.Type">tp</a>
                <span class="delimiter">}</span>
                <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#559348" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>,
                           <a href="#559349" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#559408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107399" title="=&gt; Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559408" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559349" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#559415" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#559397" title="Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559429" title="(tp: RefChecks.this.global.Type)java.lang.String">tpString</a><span class="delimiter">(</span><a href="#559348" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559348" title="RefChecks.this.global.Symbol">base</a><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559407" title="RefChecks.this.global.Type">pre</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#559353" title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a><span class="delimiter">(</span><a href="#559409" title="List[RefChecks.this.global.Type]">args</a>, <a href="#559397" title="Int">variance</a>, <a href="#559408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span class="comment">//@M for higher-kinded typeref, args.isEmpty</span>
            <span class="comment">// However, these args respect variances by construction anyway </span>
            <span class="comment">// -- the interesting case is in type application, see checkKindBounds in Infer</span>
          <span class="keyword">case</span> <span title="Unit">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559453">parents</a>, <a title="RefChecks.this.global.Scope" id="559454">decls</a>, <a title="RefChecks.this.global.Symbol" id="559455">symbol</a><span class="delimiter">)</span> =&gt;
            <a href="#559352" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#559453" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559460">parents</a>, <a title="RefChecks.this.global.Scope" id="559461">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#559352" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#559460" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559483">sym</a> &lt;- <a href="#559461" title="RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">toList</a><span class="delimiter">)</span>
              <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559483" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#559483" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <a href="#559256" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559487">lo</a>, <a title="RefChecks.this.global.Type" id="559488">hi</a><span class="delimiter">)</span> =&gt;
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559487" title="RefChecks.this.global.Type">lo</a>, <span title="=&gt; Int">-</span><a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559488" title="RefChecks.this.global.Type">hi</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="559491">formals</a>, <a title="RefChecks.this.global.Type" id="559492">result</a><span class="delimiter">)</span> =&gt;
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559492" title="RefChecks.this.global.Type">result</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559494">result</a><span class="delimiter">)</span> =&gt;
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559494" title="RefChecks.this.global.Type">result</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="559497">tparams</a>, <a title="RefChecks.this.global.Type" id="559498">result</a><span class="delimiter">)</span> =&gt;
            <span class="comment">// type parameters will be validated separately, because they are defined explicitly.</span>
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559498" title="RefChecks.this.global.Type">result</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="559501">tparams</a>, <a title="RefChecks.this.global.Type" id="559502">result</a><span class="delimiter">)</span> =&gt;
            <a href="#559352" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#559501" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#559530" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559502" title="RefChecks.this.global.Type">result</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="559561">annots</a>, <a title="RefChecks.this.global.Type" id="559562">tp</a>, <a title="RefChecks.this.global.Symbol" id="559563">selfsym</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559561" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(p: RefChecks.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#559570" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; RefChecks.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107447" title="(that: RefChecks.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106117" title="=&gt; RefChecks.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559562" title="RefChecks.this.global.Type">tp</a>, <a href="#559397" title="Int">variance</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit" id="559352">validateVariances</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559456">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="559457">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#559456" title="List[RefChecks.this.global.Type]">tps</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559591">tp</a> =&gt; <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559591" title="RefChecks.this.global.Type">tp</a>, <a href="#559457" title="Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit" id="559353">validateVarianceArgs</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559447">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="559448">variance</a>: <span title="Int">Int</span>, <a title="List[RefChecks.this.global.Symbol]" id="559449">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#559447" title="List[RefChecks.this.global.Type]">tps</a> <span title="(that: scala.collection.GenIterable[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]])List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]">zip</span> <a href="#559449" title="List[RefChecks.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.Symbol) =&gt; Unit)Unit">foreach</span> <a href="#559679" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559682">tp</a>, <a title="RefChecks.this.global.Symbol" id="559683">tparam</a><span class="delimiter">)</span> =&gt; <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559682" title="RefChecks.this.global.Type">tp</a>, <a href="#559448" title="Int">variance</a> <span title="(x: Int)Int">*</span> <a href="#559683" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107399" title="=&gt; Int">variance</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#559351" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559348" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#559258" title="=&gt; Int">CoVariance</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559340">traverse</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="559341">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#559341" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | 
               TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559339" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559341" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#559337" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162606" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#559341" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="comment">// ModuleDefs need not be considered because they have been eliminated already</span>
          <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559339" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559341" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, <a title="List[RefChecks.this.global.TypeDef]" id="559744">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="559745">vparamss</a>, <a title="RefChecks.this.global.Tree" id="559746">tpt</a>, <a title="RefChecks.this.global.Tree" id="559747">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="#559339" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559341" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#559337" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a><span class="delimiter">(</span><a href="#559744" title="List[RefChecks.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>; <a href="#559337" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span><a href="#559745" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559337" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162606" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#559341" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Forward reference checking ---------------------------------------------------</span>

    <span class="keyword">class</span> <a title="class LevelInfo extends java.lang.Object with ScalaObject" id="559266">LevelInfo</a><a href="#559266" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="561721">outer</a>: <a href="#559266" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="559782">scope</a>: <a href="../symtab/Scopes.scala.html#67680" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#561721" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../symtab/Scopes.scala.html#112939" title="()RefChecks.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="RefChecks.this.global.Scope">Scope</a> <span class="keyword">else</span> <a href="../symtab/Scopes.scala.html#112940" title="(base: RefChecks.this.global.Scope)RefChecks.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="RefChecks.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#561721" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#559782" title="=&gt; RefChecks.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="559785">maxindex</a>: <span title="Int">Int</span> = Int.<span title="Int(-2147483648)">MinValue</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Position" id="559788">refpos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="559791">refsym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a> = _
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="559268">currentLevel</a>: <a href="#559266" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="559270">symIndex</a> = <span title="()scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]">HashMap</span><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="559272">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#559268" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#559266" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">(</span><a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="559273">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#559268" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#561721" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="559274">enterSyms</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="561733">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="561735">index</a> = -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="561755">stat</a> &lt;- <a href="#561733" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
        <a href="#561735" title="Int">index</a> = <a href="#561735" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>; 
        <a href="#561755" title="RefChecks.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> | ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span class="comment">//assert(stat.symbol != NoSymbol, stat);//debug</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561787">sym</a> = <a href="#561755" title="RefChecks.this.global.Tree">stat</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107468" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561787" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107389" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559782" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#561787" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#559270" title="(key: RefChecks.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#561787" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#561735" title="Int">index</a>;
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit" id="559275">enterReference</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="561803">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="561804">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561804" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107389" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="561806">e</a> = <a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559782" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112955" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#561804" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#561806" title="RefChecks.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561804" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561806" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="561812">l</a> = <a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#561812" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559782" title="=&gt; RefChecks.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#561806" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113137" title="=&gt; RefChecks.this.global.Scope">owner</a><span class="delimiter">)</span> <a href="#561812" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#561812" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#561721" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="561813">symindex</a> = <a href="#559270" title="(key: RefChecks.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#561804" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561812" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559785" title="=&gt; Int">maxindex</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#561813" title="Int">symindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#561812" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559788" title="(x$1: RefChecks.this.global.Position)Unit">refpos</a> = <a href="#561803" title="RefChecks.this.global.Position">pos</a>
            <a href="#561812" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559791" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#561804" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#561812" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559785" title="(x$1: Int)Unit">maxindex</a> = <a href="#561813" title="Int">symindex</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Comparison checking -------------------------------------------------------</span>
    <span class="keyword">object</span> <a title="object RefCheckTransformer.this.normalizeAll" id="559276">normalizeAll</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67503" title="RefChecks.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="561852">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561854">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../symtab/Types.scala.html#133280" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#561854" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit" id="559278">checkSensible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="561871">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="561872">fn</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="List[RefChecks.this.global.Tree]" id="561873">args</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#561872" title="RefChecks.this.global.Tree">fn</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="561880">qual</a>, <a title="RefChecks.this.global.Name" id="561881">name</a> @ <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115536" title="=&gt; RefChecks.this.global.TermName">EQ</a> | <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115560" title="=&gt; RefChecks.this.global.TermName">NE</a> | <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115346" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> | <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115406" title="=&gt; RefChecks.this.global.nme.NameType">ne</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#561873" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561891">isReferenceOp</a> = <a href="#561881" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115346" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> <span title="(x: Boolean)Boolean">||</span> <a href="#561881" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115406" title="=&gt; RefChecks.this.global.nme.NameType">ne</a>
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="561892">isNew</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="561930">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#561930" title="RefChecks.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)">Function</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> 
             | Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; RefChecks.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="561893">underlyingClass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561944">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="561945">sym</a> = <a href="#561944" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#561945" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span>
            <a href="#561945" title="RefChecks.this.global.Symbol">sym</a> = <a href="#561945" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <a href="#561945" title="RefChecks.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561894">actual</a>   = <a href="#561893" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#561873" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561895">receiver</a> = <a href="#561893" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#561880" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Tree] =&gt; T)T" id="561896">onTrees</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="561898">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree] =&gt; T" id="561950">f</a>: List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#561950" title="(v1: List[RefChecks.this.global.Tree])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#561880" title="RefChecks.this.global.Tree">qual</a>, <a href="#561873" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Symbol] =&gt; T)T" id="561899">onSyms</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="561901">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol] =&gt; T" id="561960">f</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#561960" title="(v1: List[RefChecks.this.global.Symbol])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a>, <a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// @MAT normalize for consistency in error message, otherwise only part is normalized due to use of `typeSymbol'</span>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="561902">typesString</a> = <a href="#561852" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</span><a href="#561880" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561852" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span class="delimiter">(</span><a href="#561873" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span>
        
        <span class="comment">/** Symbols which limit the warnings we can issue since they may be value types */</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[RefChecks.this.global.Symbol]" id="561903">isMaybeValue</a> = <span title="(elems: RefChecks.this.global.Symbol*)scala.collection.immutable.Set[RefChecks.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106075" title="=&gt; RefChecks.this.global.Symbol">AnyClass</a>, <a href="../symtab/Definitions.scala.html#106077" title="=&gt; RefChecks.this.global.Symbol">AnyRefClass</a>, <a href="../symtab/Definitions.scala.html#106575" title="=&gt; RefChecks.this.global.Symbol">AnyValClass</a>, <a href="../symtab/Definitions.scala.html#106079" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a>, <a href="../symtab/Definitions.scala.html#106209" title="=&gt; RefChecks.this.global.Symbol">ComparableClass</a>, <a href="../symtab/Definitions.scala.html#106205" title="=&gt; RefChecks.this.global.Symbol">SerializableClass</a><span class="delimiter">)</span>

        <span class="comment">// Whether def equals(other: Any) is overridden</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561904">isUsingDefaultEquals</a>      = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561976">m</a> = <a href="#561895" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115348" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span> 
          <span class="delimiter">(</span><a href="#561976" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106425" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561976" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106377" title="=&gt; RefChecks.this.global.Symbol">Any_equals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">// Whether this == or != is one of those defined in Any/AnyRef or an overload from elsewhere.</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561905">isUsingDefaultScalaOp</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561986">s</a> = <a href="#561872" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <span class="delimiter">(</span><a href="#561986" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106404" title="=&gt; RefChecks.this.global.Symbol">Object_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561986" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106407" title="=&gt; RefChecks.this.global.Symbol">Object_!=</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561986" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106371" title="=&gt; RefChecks.this.global.Symbol">Any_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561986" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106374" title="=&gt; RefChecks.this.global.Symbol">Any_!=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">// Whether the operands+operator represent a warnable combo (assuming anyrefs)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561906">isWarnable</a>           = <a href="#561891" title="=&gt; Boolean">isReferenceOp</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561904" title="=&gt; Boolean">isUsingDefaultEquals</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561905" title="=&gt; Boolean">isUsingDefaultScalaOp</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561907">isEitherNullable</a>     = <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106085" title="=&gt; RefChecks.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561895" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106085" title="=&gt; RefChecks.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561894" title="RefChecks.this.global.Symbol">actual</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="561908">isBoolean</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562004">s</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Definitions.scala.html#106524" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#562004" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106593" title="=&gt; RefChecks.this.global.Symbol">BooleanClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="561909">isUnit</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562011">s</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="../symtab/Definitions.scala.html#106524" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#562011" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="561910">isNumeric</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562017">s</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Definitions.scala.html#106571" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106524" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#562017" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#562017" title="RefChecks.this.global.Symbol">s</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../symtab/Definitions.scala.html#106477" title="=&gt; RefChecks.this.global.Symbol">ScalaNumberClass</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Int" id="561911">possibleNumericCount</a> = <a href="#561899" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#562024" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562028">x</a> =&gt; <a href="#561910" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#562028" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#561903" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#562028" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="561912">nullCount</a>            = <a href="#561899" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#562051" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#562055" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106085" title="=&gt; RefChecks.this.global.Symbol">NullClass</a><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>
        
        <span class="keyword">def</span> <a title="(what: String, alwaysEqual: Boolean)Unit" id="561913">nonSensibleWarning</a><span class="delimiter">(</span><a title="String" id="562062">what</a>: <span title="String">String</span>, <a title="Boolean" id="562063">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="562064">msg</a> = <a href="#562063" title="Boolean">alwaysEqual</a> <span title="(x: Boolean)Boolean">==</span> <span class="delimiter">(</span><a href="#561881" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115536" title="=&gt; RefChecks.this.global.TermName">EQ</a> <span title="(x: Boolean)Boolean">||</span> <a href="#561881" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115346" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
          <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#561871" title="RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;comparing &quot;)" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#562062" title="String">what</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561881" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562064" title="Boolean">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
          
        <span class="keyword">def</span> <a title="(pre: String, alwaysEqual: Boolean)Unit" id="561914">nonSensible</a><span class="delimiter">(</span><a title="String" id="562080">pre</a>: <span title="String">String</span>, <a title="Boolean" id="562081">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = 
          <a href="#561913" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><a href="#562080" title="String">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561902" title="=&gt; java.lang.String">typesString</a>, <a href="#562081" title="Boolean">alwaysEqual</a><span class="delimiter">)</span>
         
        <span class="keyword">def</span> <a title="()Unit" id="561915">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> = 
          <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#561871" title="RefChecks.this.global.Position">pos</a>, <a href="#561902" title="=&gt; java.lang.String">typesString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; are unrelated: should not compare equal&quot;)" class="string">&quot; are unrelated: should not compare equal&quot;</span><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561912" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  <span class="comment">// null == null</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561912" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561899" title="(f: List[RefChecks.this.global.Symbol] =&gt; Boolean)Boolean">onSyms</a><span class="delimiter">(</span><a href="#562093" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="../symtab/Definitions.scala.html#106520" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// null == 5</span>
            <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561896" title="(f: List[RefChecks.this.global.Tree] =&gt; Boolean)Boolean">onTrees</a><span class="delimiter">(</span> <a href="#562107" title="List[RefChecks.this.global.Tree]">_</a> <span title="(p: RefChecks.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#561892" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// null == new AnyRef</span>
            <a href="#561913" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561908" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561908" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#561903" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>    <span class="comment">// true == 5</span>
            <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561909" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561909" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// () == ()</span>
            <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561909" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#561903" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">// () == &quot;abc&quot;</span>
            <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561910" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561910" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64992" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561909" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#561908" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#561903" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="comment">// 5 == &quot;abc&quot;</span>
              <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561906" title="=&gt; Boolean">isWarnable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561892" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#561880" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// new X == y</span>
            <a href="#561913" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561892" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#561873" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a>.<span title="=&gt; Boolean">isFinal</span> <span title="(x: Boolean)Boolean">||</span> <a href="#561891" title="=&gt; Boolean">isReferenceOp</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="comment">// object X ; X == new Y</span>
            <a href="#561913" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a>.<span title="=&gt; Boolean">isFinal</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// object X, Y; X == Y</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561907" title="=&gt; Boolean">isEitherNullable</a><span class="delimiter">)</span>
              <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#561914" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>            
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="comment">// Warning on types without a parental relationship.  Uncovers a lot of</span>
        <span class="comment">// bugs, but not always right to warn.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561912" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561911" title="=&gt; Int">possibleNumericCount</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561895" title="RefChecks.this.global.Symbol">receiver</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561894" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561894" title="RefChecks.this.global.Symbol">actual</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561895" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#561915" title="()Unit">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

<span class="comment">// Transformation ------------------------------------------------------------</span>

    <span class="comment">/* Convert a reference to a case factory of type `tpe' to a new of the class it produces. */</span>
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="559279">toConstructor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="562159">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Type" id="562160">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="562162">rtpe</a> = <a href="#562160" title="RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105331" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#562162" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2048L)">CASE</span>, <a href="#562160" title="RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>;
      <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105928" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> <span class="delimiter">{</span>
        <a href="../ast/Trees.scala.html#67840" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#562159" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#67801" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95918" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67807" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#562162" title="RefChecks.this.global.Type">rtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#562162" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107456" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree], exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="559280">transformStats</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="562205">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="RefChecks.this.global.Symbol" id="562206">exprOwner</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#559272" title="()Unit">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#559274" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#562205" title="List[RefChecks.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="562210">index</a> = -<span title="Int(-1)" class="int">1</span>
        <a href="#562205" title="List[RefChecks.this.global.Tree]">stats</a> <span title="(f: RefChecks.this.global.Tree =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Tree" id="562238">stat</a> =&gt; <a href="#562210" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>; <a href="#559283" title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]">transformStat</a><span class="delimiter">(</span><a href="#562238" title="RefChecks.this.global.Tree">stat</a>, <a href="#562210" title="Int">index</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#559273" title="()Unit">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Eliminate ModuleDefs.
     *   - A top level object is replaced with their module class.
     *   - An inner object is transformed into a module var, created on first access.
     *
     *  In both cases, this transformation returns the list of replacement trees:
     *   - Top level: the module class accessor definition
     *   - Inner: a class definition, declaration of module var, and module var accessor
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="559281">eliminateModuleDefs</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562273">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> ModuleDef<a href="#562276" title="(RefChecks.this.global.Modifiers, RefChecks.this.global.TermName, RefChecks.this.global.Template)" class="delimiter">(</a><a href="#562275" title="RefChecks.this.global.Modifiers" id="562276">mods</a>, <a href="#562275" title="RefChecks.this.global.TermName" id="562277">name</a>, <a href="#562275" title="RefChecks.this.global.Template" id="562278">impl</a><span class="delimiter">)</span> = <a href="#562273" title="RefChecks.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562279">sym</a> = <a href="#562273" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562280">classSym</a>        = <a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="562281">cdef</a>            = <a href="../SubComponent.scala.html#95918" title="(mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.TypeName, tparams: List[RefChecks.this.global.TypeDef], impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#562276" title="RefChecks.this.global.Modifiers">mods</a> <span title="(flag: Long)RefChecks.this.global.Modifiers">|</span> <span title="Long(256L)">MODULE</span>, <a href="#562277" title="RefChecks.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#96636" title="=&gt; RefChecks.this.global.TypeName">toTypeName</a>, <span title="object Nil">Nil</span>, <a href="#562278" title="RefChecks.this.global.Template">impl</a><span class="delimiter">)</span> <span title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</span> <a href="#562280" title="RefChecks.this.global.Symbol">classSym</a> <span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object RefChecks.this.global.NoType">NoType</a>

      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="562282">findOrCreateModuleVar</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105923" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#562273" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.ValDef" id="562329">createModuleVar</a> = <a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105452" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<span title="(name: RefChecks.this.global.TermName)RefChecks.this.global.TermName">moduleVarName</span><span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96577" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// In case we are dealing with local symbol then we already have</span>
          <span class="comment">// to correct error with forward reference</span>
          <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#67328" title="RefChecks.this.global.gen.global.ValDef">NoSymbol</a> =&gt; <a href="#562328" title="=&gt; RefChecks.this.global.gen.global.ValDef">createModuleVar</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.ValDef" id="562338">vsym</a>     =&gt; <a href="../ast/Trees.scala.html#67784" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#562338" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="562283">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.MethodSymbol" id="562357">method</a> = <span class="delimiter">(</span>
          <a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107284" title="(pos: RefChecks.this.global.Position, name: RefChecks.this.global.TermName)RefChecks.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96577" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span>
          <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)RefChecks.this.global.MethodSymbol">setFlag</a> <span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)RefChecks.this.global.MethodSymbol">resetFlag</a> <span title="Long(256L)">MODULE</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: RefChecks.this.global.Type)RefChecks.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148801" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#562357" title="RefChecks.this.global.MethodSymbol">method</a>
        <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105923" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#562273" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105454" title="(accessor: RefChecks.this.global.gen.global.Symbol, msym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a><span class="delimiter">(</span><a href="#562357" title="RefChecks.this.global.MethodSymbol">method</a>, <a href="#562279" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]" id="562284">createInnerModuleAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562401">vdef</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="#562401" title="RefChecks.this.global.Tree">vdef</a>,
        <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105923" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#562273" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562408">vsym</a> = <a href="#562401" title="RefChecks.this.global.Tree">vdef</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="562413">rhs</a>  = <a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105455" title="(accessor: RefChecks.this.global.gen.global.Symbol, tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>, <a href="#562408" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="562414">body</a> = <span title="RefChecks.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#562413" title="RefChecks.this.global.gen.global.Tree">rhs</a> <span class="keyword">else</span> <a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105451" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#562408" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#562413" title="RefChecks.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#67790" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>, <a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../ast/Trees.scala.html#109038" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#562408" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#562279" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <a href="../ast/Trees.scala.html#162513" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#562281" title="RefChecks.this.global.ClassDef">cdef</a> <a href="#562465" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span class="delimiter">{</span>
        <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107384" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562279" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
          <span class="keyword">else</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#562283" title="()RefChecks.this.global.analyzer.global.Tree">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#562284" title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">createInnerModuleAccessor</a><span class="delimiter">(</span><a href="#562282" title="()RefChecks.this.global.analyzer.global.Tree">findOrCreateModuleVar</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="559282">makeLazyAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562481">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Tree" id="562482">rhs</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562484">vsym</a>        = <a href="#562481" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#562484" title="RefChecks.this.global.Symbol">vsym</a>.<span title="=&gt; Boolean">isTerm</span>, <a href="#562484" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="562485">hasUnitType</a> = <a href="#562484" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562486">lazySym</a>     = <a href="#562484" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#107467" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#562486" title="RefChecks.this.global.Symbol">lazySym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#562484" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
  
      <span class="comment">// for traits, this is further transformed in mixins</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="562487">body</a> = <span class="delimiter">(</span>
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#562481" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <a href="#562485" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="#562482" title="RefChecks.this.global.Tree">rhs</a>
        <span class="keyword">else</span> <a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105451" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#562484" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#562482" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="562488">lazyDef</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#562481" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67790" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#562486" title="RefChecks.this.global.Symbol">lazySym</a>, <a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../ast/Trees.scala.html#109038" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#562484" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#562486" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Made lazy def: &quot;)" class="string">&quot;Made lazy def: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562488" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span>

      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562485" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="Typers.scala.html#105922" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#562488" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="Typers.scala.html#105922" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#562484" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Typers.scala.html#105922" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#562488" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]" id="559283">transformStat</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562243">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="Int" id="562244">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#562243" title="RefChecks.this.global.Tree">tree</a> <span title="List[RefChecks.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ModuleDef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#559281" title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">eliminateModuleDefs</a><span class="delimiter">(</span><a href="#562243" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="562602">tree1</a> @ ValDef<span class="delimiter">(</span>_, _, _, <a href="#562601" title="RefChecks.this.global.Tree" id="562603">rhs</a><span class="delimiter">)</span> = <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="RefChecks.this.global.Tree @unchecked" class="delimiter">(</span><a href="#562243" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="comment">// important to do before forward reference check</span>
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562243" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span>
          <a href="#559282" title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">makeLazyAccessor</a><span class="delimiter">(</span><a href="#562243" title="RefChecks.this.global.Tree">tree</a>, <a href="#562603" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562621">lazySym</a> = <a href="#562243" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107468" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#562621" title="RefChecks.this.global.Symbol">lazySym</a>.<a href="../symtab/Symbols.scala.html#107389" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#562244" title="Int">index</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559785" title="=&gt; Int">maxindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559791" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#559268" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559788" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="java.lang.String(&quot;forward reference extends over definition of &quot;)" class="string">&quot;forward reference extends over definition of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562621" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="(xs: RefChecks.this.global.ValDef*)List[RefChecks.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#562602" title="RefChecks.this.global.ValDef">tree1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Import</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">_</span>            =&gt; <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#562243" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/* Check whether argument types conform to bounds of type parameters */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="559284">checkBounds</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562647">pre</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="562648">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="562649">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Type]" id="562650">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="562651">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span class="keyword">try</span> <a href="../Global.scala.html#64954" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#105820" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#105989" title="(pos: RefChecks.this.global.analyzer.global.Position, pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol, tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#562651" title="RefChecks.this.global.Position">pos</a>, <a href="#562647" title="RefChecks.this.global.Type">pre</a>, <a href="#562648" title="RefChecks.this.global.Symbol">owner</a>, <a href="#562649" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#562650" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="562659">ex</a>: <a href="../symtab/Types.scala.html#67658" title="RefChecks.this.global.TypeError">TypeError</a> =&gt; 
          <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#562651" title="RefChecks.this.global.Position">pos</a>, <a href="#562659" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36875" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="562663">bounds</a> = <a href="#562649" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])List[RefChecks.this.global.TypeBounds]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562680">tp</a> =&gt; <a href="#562680" title="RefChecks.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[RefChecks.this.global.Symbol], actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#562649" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#562650" title="List[RefChecks.this.global.Type]">argtps</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105321" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#562650" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#562663" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562768">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="562769">bound</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#67668" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#562769" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#562768" title="RefChecks.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#562650" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#562663" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562847">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="562848">bound</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#67668" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#562847" title="RefChecks.this.global.Type">targ</a>, <a href="#562848" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean" id="559285">isIrrefutable</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562878">pat</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Type" id="562879">seltpe</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#562878" title="RefChecks.this.global.Tree">pat</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span>_, <a title="List[RefChecks.this.global.Tree]" id="562883">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562884">clazz</a> = <a href="#562878" title="RefChecks.this.global.Tree">pat</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#562884" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#562879" title="RefChecks.this.global.Type">seltpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#562884" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107377" title="=&gt; Boolean">isCaseClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="#562883" title="List[RefChecks.this.global.Tree]">args</a> <span title="(that: scala.collection.GenSeq[RefChecks.this.global.Type])(p: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean">corresponds</span> <a href="#562884" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107456" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105359" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#562879" title="RefChecks.this.global.Type">seltpe</a>, <a href="#562884" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#559285" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">Typed</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562914">pat</a>, <a title="RefChecks.this.global.Tree" id="562915">tpt</a><span class="delimiter">)</span> =&gt; 
        <a href="#562879" title="RefChecks.this.global.Type">seltpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#562915" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
      <span class="keyword">case</span> <span title="Boolean(true)">Ident</span><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">Bind</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Tree" id="562926">pat</a><span class="delimiter">)</span> =&gt;
        <a href="#559285" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#562926" title="RefChecks.this.global.Tree">pat</a>, <a href="#562879" title="RefChecks.this.global.Type">seltpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="comment">/** If symbol is deprecated, and the point of reference is not enclosed
     *  in either a deprecated member or a scala bridge method, issue a warning.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="559286">checkDeprecated</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562927">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="562928">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#562927" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107363" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#162506" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107403" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562938">x</a> =&gt; <a href="#562938" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107363" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#562938" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107364" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96432" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#562928" title="RefChecks.this.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is deprecated%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#562927" title="RefChecks.this.global.Symbol">sym</a>, <a href="#562927" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a>, <a href="#562927" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107365" title="=&gt; Option[String]">deprecationMessage</a> <span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562948" title="String">_</a><span class="delimiter">)</span> <span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Similar to deprecation: check if the symbol is marked with @migration
     *  indicating it has changed semantics between versions.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="559287">checkMigration</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562955">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="562956">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="562963">msg</a> &lt;- <a href="#562955" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107367" title="(f: String =&gt; Unit)Unit">migrationMessage</a><span class="delimiter">)</span>
        <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#562956" title="RefChecks.this.global.Position">pos</a>, <a href="#562955" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; java.lang.String">fullLocationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has changed semantics:\012&quot;)" class="string">&quot; has changed semantics:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562963" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean" id="559288">lessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562965">otherSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="562966">memberSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#562965" title="RefChecks.this.global.Symbol">otherSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#562965" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../symtab/Symbols.scala.html#107340" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#562965" title="RefChecks.this.global.Symbol">otherSym</a>.<span title="=&gt; Boolean">isExistentiallyBound</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#562965" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../symtab/Symbols.scala.html#107417" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#562966" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#562965" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../symtab/Symbols.scala.html#107417" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#562966" title="RefChecks.this.global.Symbol">memberSym</a>.<span title="=&gt; RefChecks.this.global.Symbol">enclClass</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]" id="559289">lessAccessibleSymsInType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562973">other</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="562974">memberSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="562976">extras</a> = <a href="#562973" title="RefChecks.this.global.Type">other</a> <span title="List[RefChecks.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[RefChecks.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562980">pre</a>, _, <a title="List[RefChecks.this.global.Type]" id="562981">args</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// checking the prefix here gives us spurious errors on e.g. a private[process]</span>
          <span class="comment">// object which contains a type alias, which normalizes to a visible type.</span>
          <a href="#562981" title="List[RefChecks.this.global.Type]">args</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <span class="delimiter">(</span><a href="#562985" title="RefChecks.this.global.Type">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Types.scala.html#67397" title="object RefChecks.this.global.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563005">tp</a> =&gt; <a href="#559289" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563005" title="RefChecks.this.global.Type">tp</a>, <a href="#562974" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt;
          <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
      <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#559288" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean">lessAccessible</a><span class="delimiter">(</span><a href="#562973" title="RefChecks.this.global.Type">other</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>, <a href="#562974" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#562973" title="RefChecks.this.global.Type">other</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="#563033" title="(x: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">::</a> <a href="#562976" title="List[RefChecks.this.global.Symbol]">extras</a>
      <span class="keyword">else</span> <a href="#562976" title="List[RefChecks.this.global.Symbol]">extras</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit" id="559290">warnLessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563039">otherSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="563040">memberSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="563042">comparison</a> = <a href="#110430" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#563040" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>   =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="keyword">case</span> <a title="java.lang.String" id="563044">acc</a>  =&gt; <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#563044" title="String">acc</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; but&quot;)" class="string">&quot; but&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="563043">cannot</a> =
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#563040" title="RefChecks.this.global.Symbol">memberSym</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;may be unable to provide a concrete implementation of&quot;)" class="string">&quot;may be unable to provide a concrete implementation of&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;may be unable to override&quot;)" class="string">&quot;may be unable to override&quot;</span>
      
      <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#563040" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>, 
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s references %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#563040" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; java.lang.String">fullLocationString</a>, <a href="#563042" title="java.lang.String">comparison</a>,
          <a href="#110430" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#563039" title="RefChecks.this.global.Symbol">otherSym</a><span class="delimiter">)</span>, <a href="#563039" title="RefChecks.this.global.Symbol">otherSym</a>
        <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nClasses which cannot access %s %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#563039" title="RefChecks.this.global.Symbol">otherSym</a>.<span title="=&gt; String">decodedName</span>, <a href="#563043" title="java.lang.String">cannot</a>, <a href="#563040" title="RefChecks.this.global.Symbol">memberSym</a>.<span title="=&gt; String">decodedName</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">/** Warn about situations where a method signature will include a type which
     *  has more restrictive access than the method itself.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559291">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563051">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563053">member</a> = <a href="#563051" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      
      <span class="comment">// types of the value parameters</span>
      <a href="#563053" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[RefChecks.this.global.Symbol] =&gt; scala.collection.TraversableOnce[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">flatten</span> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="563113">p</a> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="563114">normalized</a> = <a href="#563113" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; RefChecks.this.global.Type">normalize</a> 
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#563114" title="RefChecks.this.global.Type">normalized</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#563113" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559289" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563114" title="RefChecks.this.global.Type">normalized</a>, <a href="#563053" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#559289" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563113" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#563053" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563137">sym</a> =&gt; <a href="#559290" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#563137" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563053" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="comment">// upper bounds of type parameters</span>
      <a href="#563053" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,RefChecks.this.global.Type,List[RefChecks.this.global.Type]]" class="delimiter">(</span><a href="#563159" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Type" id="563208">tp</a> =&gt;
        <a href="#559289" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563208" title="RefChecks.this.global.Type">tp</a>, <a href="#563053" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563230">sym</a> =&gt; <a href="#559290" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#563230" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563053" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Check that a deprecated val or def does not override a
      * concrete, non-deprecated method.  If it does, then
      * deprecation is meaningless.
      */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559292">checkDeprecatedOvers</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563233">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563235">symbol</a> = <a href="#563233" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563235" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107363" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="563236">concrOvers</a> =
          <a href="#563235" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563242">sym</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#563242" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107363" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563242" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563236" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96432" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
            <a href="#563233" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>,
            <a href="#563235" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107516" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#563236" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#563259" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="559293">isRepeatedParamArg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563290">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#559241" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563295">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="563296">args</a><span class="delimiter">)</span> =&gt;
        <span title="=&gt; Boolean">!</span><a href="#563296" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#563296" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">last</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#563290" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
        <a href="#563295" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#563296" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106218" title="(tp: RefChecks.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#563295" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit" id="559294">checkTypeRef</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563306">tp</a>: <a href="../symtab/Types.scala.html#67381" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Position" id="563307">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#563306" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563313">pre</a>, <a title="RefChecks.this.global.Symbol" id="563314">sym</a>, <a title="List[RefChecks.this.global.Type]" id="563315">args</a><span class="delimiter">)</span> =&gt;
        <a href="#559286" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#563314" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563307" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#563314" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span>
          <a href="#563314" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#563337" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107434" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563306" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105304" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
          <a href="#559284" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="#563313" title="RefChecks.this.global.Type">pre</a>, <a href="#563314" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#563314" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#563315" title="List[RefChecks.this.global.Type]">args</a>, <a href="#563307" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="559295">checkAnnotations</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="563339">tpes</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="563340">pos</a>: <a href="../util/Position.scala.html#30599" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#563339" title="List[RefChecks.this.global.Type]">tpes</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563362">tp</a> =&gt; <a href="#559294" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#563362" title="RefChecks.this.global.Type">tp</a>, <a href="#563340" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit" id="559296">doTypeTraversal</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563364">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type =&gt; Unit" id="563365">f</a>: Type =&gt; Unit<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#559244" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#563364" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105369" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#563365" title="RefChecks.this.global.Type =&gt; Unit">f</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559297">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563369">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]" id="563371">applyChecks</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="563372">annots</a>: <span title="List[RefChecks.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#559295" title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkAnnotations</a><span class="delimiter">(</span><a href="#563372" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#563389" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; RefChecks.this.global.Type">atp</a><span class="delimiter">)</span>, <a href="#563369" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#162513" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#563372" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">(</span><a href="#563433" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133315" title="=&gt; List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#563369" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="563461">m</a>: <span title="RefChecks.this.global.MemberDef">MemberDef</span> =&gt; 
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563462">sym</a> = <a href="#563461" title="RefChecks.this.global.MemberDef">m</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="#563371" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span class="delimiter">(</span><a href="#563462" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
          <span class="comment">// validate implicitNotFoundMessage</span>
          <a href="../Global.scala.html#64900" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Implicits.scala.html#105671" title="object RefChecks.this.global.analyzer.ImplicitNotFoundMsg">ImplicitNotFoundMsg</a>.<a href="Implicits.scala.html#542489" title="(sym: RefChecks.this.global.analyzer.global.Symbol)Option[String]">check</a><span class="delimiter">(</span><a href="#563462" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="563467">warn</a> =&gt;
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#563369" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Invalid implicitNotFound message for %s%s:\n%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#563462" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563462" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a>, <a href="#563467" title="String">warn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a title="Unit" id="563472">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#563472" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135683" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#563472" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">original</a> <a href="../ast/Trees.scala.html#109034" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#563546" title="Unit" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="Unit" id="563547">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#559297" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#563547" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#160668" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #2416</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="#559296" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#563369" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#563550" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="563554">annots</a>, _, _<span class="delimiter">)</span>  =&gt; <a href="#563371" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span title="Unit" class="delimiter">(</span><a href="#563554" title="List[RefChecks.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree" id="559298">transformCaseApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563555">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="=&gt; Unit" id="563556">ifNot</a>: =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563559">sym</a> = <a href="#563555" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      
      <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563559" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563559" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isCase</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563559" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; RefChecks.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
        <a href="#559279" title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a><span class="delimiter">(</span><a href="#563555" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563555" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#563556" title="=&gt; Unit">ifNot</a>
        <a href="#563555" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree" id="559299">transformApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Apply" id="563565">tree</a>: <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#563565" title="RefChecks.this.global.Apply">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Apply</span><span class="delimiter">(</span>
        Select<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563573">qual</a>, <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115356" title="=&gt; RefChecks.this.global.nme.NameType">filter</a><span class="delimiter">)</span>, 
        <a href="#563575" title="(x: List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]">List</a><span class="delimiter">(</span>Function<span class="delimiter">(</span>
          <a href="#563589" title="(x: List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]">List</a><span class="delimiter">(</span>ValDef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.TermName" id="563617">pname</a>, <a title="RefChecks.this.global.Tree" id="563618">tpt</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>, 
          Match<span class="delimiter">(</span>_, CaseDef<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563634">pat1</a>, _, _<span class="delimiter">)</span> :: _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#563617" title="RefChecks.this.global.TermName">pname</a> <a href="../symtab/Names.scala.html#96606" title="(name: String)Boolean">startsWith</a> <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115502" title="=&gt; java.lang.String">CHECK_IF_REFUTABLE_STRING</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
            <a href="#559285" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#563634" title="RefChecks.this.global.Tree">pat1</a>, <a href="#563618" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#563573" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#563565" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            
          <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#563573" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="RefChecks.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563652">tpt</a><span class="delimiter">)</span>, <a title="RefChecks.this.global.Name" id="563653">name</a><span class="delimiter">)</span>, <a title="List[RefChecks.this.global.Tree]" id="563654">args</a><span class="delimiter">)</span> 
      <span class="keyword">if</span> <span class="delimiter">(</span><a href="#563652" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106253" title="=&gt; RefChecks.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563654" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
        <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96432" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#563565" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, 
          <span title="java.lang.String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;)" class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="563665">manif</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="563667">etpe</a> = <a href="#563652" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563687">_</a> &lt;- <a href="#563654" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#563667" title="RefChecks.this.global.Type">etpe</a> = <a href="#563667" title="RefChecks.this.global.Type">etpe</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<span title="=&gt; Option[RefChecks.this.global.Type]">headOption</span>.<span title="(default: =&gt; RefChecks.this.global.Type)RefChecks.this.global.Type">getOrElse</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67395" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563667" title="RefChecks.this.global.Type">etpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67395" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#563565" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="java.lang.String(&quot;too many dimensions for array creation&quot;)" class="string">&quot;too many dimensions for array creation&quot;</span><span class="delimiter">)</span>
            <a href="../SubComponent.scala.html#95918" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95918" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105940" title="(pos: RefChecks.this.global.analyzer.global.Position, tp: RefChecks.this.global.analyzer.global.Type, full: Boolean)RefChecks.this.global.analyzer.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#563565" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563667" title="RefChecks.this.global.Type">etpe</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="563666">newResult</a> = <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105923" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#563565" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="RefChecks.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#67820" title="RefChecks.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95918" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95918" title="(qualifier: RefChecks.this.global.Tree, name: RefChecks.this.global.Name)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105427" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106250" title="=&gt; RefChecks.this.global.Symbol">ArrayModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115418" title="=&gt; RefChecks.this.global.nme.NameType">ofDim</a><span class="delimiter">)</span>, <a href="#563654" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#563665" title="RefChecks.this.global.analyzer.global.Tree">manif</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#559241" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#563565" title="RefChecks.this.global.Apply">tree</a>
        <a href="#563666" title="RefChecks.this.global.analyzer.global.Tree">newResult</a>

      <span class="keyword">case</span> <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563760">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="563761">args</a><span class="delimiter">)</span> =&gt;
        <a href="#559278" title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit">checkSensible</a><span class="delimiter">(</span><a href="#563565" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563760" title="RefChecks.this.global.Tree">fn</a>, <a href="#563761" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#559241" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#563565" title="RefChecks.this.global.Apply">tree</a>
        <a href="#563565" title="RefChecks.this.global.Apply">tree</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree" id="559300">transformSelect</a><span class="delimiter">(</span><a title="RefChecks.this.global.Select" id="563762">tree</a>: <span title="RefChecks.this.global.Select">Select</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Select<a href="#563765" title="(RefChecks.this.global.Tree, RefChecks.this.global.Name)" class="delimiter">(</a><a href="#563764" title="RefChecks.this.global.Tree" id="563765">qual</a>, <a href="#563764" title="RefChecks.this.global.Name" id="563766">name</a><span class="delimiter">)</span> = <a href="#563762" title="RefChecks.this.global.Select">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563767">sym</a> = <a href="#563762" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      
      <span class="comment">/** Note: if a symbol has both @deprecated and @migration annotations and both
       *  warnings are enabled, only the first one checked here will be emitted.
       *  I assume that's a consequence of some code trying to avoid noise by suppressing
       *  warnings after the first, but I think it'd be better if we didn't have to
       *  arbitrarily choose one as more important than the other.
       */</span>
      <a href="#559286" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#563767" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563762" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36696" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#559287" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkMigration</a><span class="delimiter">(</span><a href="#563767" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563762" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>        
      
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162510" title="=&gt; RefChecks.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#563767" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563767" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasLocalFlag</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="563789">o</a> = <a href="../ast/Trees.scala.html#162510" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
        <span class="keyword">var</span> <a title="Boolean" id="563790">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563790" title="Boolean">hidden</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563789" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#563767" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563789" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#563767" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563789" title="RefChecks.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isPackage</span><span class="delimiter">)</span> <a href="#563791" title="()Unit" class="delimiter">{</a>
          <a href="#563790" title="Boolean">hidden</a> = <a href="#563789" title="RefChecks.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">||</span> <a href="#563789" title="RefChecks.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isPrivateLocal</span>
          <a href="#563789" title="RefChecks.this.global.Symbol">o</a> = <a href="#563789" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563790" title="Boolean">hidden</a><span class="delimiter">)</span> <a href="#559262" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type">+=</span> <a href="#563767" title="RefChecks.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(mix: RefChecks.this.global.Name)Unit" id="563768">checkSuper</a><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="563835">mix</a>: <a href="../symtab/Names.scala.html#66914" title="RefChecks.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span class="comment">// term should have been eliminated by super accessors</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#563765" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563767" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563835" title="RefChecks.this.global.Name">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67709" title="object RefChecks.this.global.tpnme">tpnme</a>.<span title="=&gt; RefChecks.this.global.tpnme.NameType">EMPTY</span><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <a href="#559298" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#563762" title="RefChecks.this.global.Select">tree</a>, 
        <a href="#563765" title="RefChecks.this.global.Tree">qual</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Super</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.TypeName" id="563849">mix</a><span class="delimiter">)</span>  =&gt; <a href="#563768" title="(mix: RefChecks.this.global.Name)Unit">checkSuper</a><span class="delimiter">(</span><a href="#563849" title="RefChecks.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>              =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree" id="559301">transformIf</a><span class="delimiter">(</span><a title="RefChecks.this.global.If" id="563850">tree</a>: <span title="RefChecks.this.global.If">If</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> If<a href="#563853" title="(RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree)" class="delimiter">(</a><a href="#563852" title="RefChecks.this.global.Tree" id="563853">cond</a>, <a href="#563852" title="RefChecks.this.global.Tree" id="563854">thenpart</a>, <a href="#563852" title="RefChecks.this.global.Tree" id="563855">elsepart</a><span class="delimiter">)</span> = <a href="#563850" title="RefChecks.this.global.If">tree</a>
      <span class="keyword">def</span> <a title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="563856">unitIfEmpty</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563872">t</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> =
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563872" title="RefChecks.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../SubComponent.scala.html#95918" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="../SubComponent.scala.html#95918" title="(value: Any)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</span><span class="delimiter">(</span><a href="#563850" title="RefChecks.this.global.If">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>.<span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106577" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#563872" title="RefChecks.this.global.Tree">t</a>
      
      <a href="#563853" title="RefChecks.this.global.Tree">cond</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ConstantType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Constant" id="563894">value</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="563895">res</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563894" title="RefChecks.this.global.Constant">value</a>.<span title="=&gt; Boolean">booleanValue</span><span class="delimiter">)</span> <a href="#563854" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#563855" title="RefChecks.this.global.Tree">elsepart</a>
          <a href="#563856" title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree">unitIfEmpty</a><span class="delimiter">(</span><a href="#563895" title="RefChecks.this.global.Tree">res</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.If">_</span> =&gt; <a href="#563850" title="RefChecks.this.global.If">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="comment">// Warning about nullary methods returning Unit.</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Unit" id="559302">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563896">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#563896" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563900">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#563900" title="RefChecks.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a> =&gt;
        <span class="comment">// this may be the implementation of e.g. a generic method being parameterized</span>
        <span class="comment">// on Unit, in which case we had better let it slide.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563896" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">||</span> <a href="#563896" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563914">over</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#563914" title="RefChecks.this.global.Symbol">over</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; RefChecks.this.global.Type">resultType</a> <a href="../symtab/Types.scala.html#105379" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#563896" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; RefChecks.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#563896" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; RefChecks.this.global.Position">pos</a>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;side-effecting nullary methods are discouraged: suggest defining as `def %s()` instead&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
           <a href="#563896" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="559303">transform</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562604">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="563923">savedLocalTyper</a> = <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="563924">savedCurrentApplication</a> = <a href="#559241" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563925">sym</a> = <a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

        <span class="comment">// Apply RefChecks to annotations. Makes sure the annotations conform to</span>
        <span class="comment">// type bounds (bug #935), issues deprecation warnings for symbols used</span>
        <span class="comment">// inside annotations.</span>
        <a href="#559297" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="563926">result</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#562604" title="RefChecks.this.global.Tree">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Modifiers" id="563935">mods</a>, <a title="RefChecks.this.global.TermName" id="563936">name</a>, <a title="List[RefChecks.this.global.TypeDef]" id="563937">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="563938">vparams</a>, <a title="RefChecks.this.global.Tree" id="563939">tpt</a>, <a href="../SubComponent.scala.html#95918" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106473" title="=&gt; RefChecks.this.global.Symbol">NativeAttr</a><span class="delimiter">)</span> =&gt;
            <a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)RefChecks.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162504" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: RefChecks.this.global.Tree, mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.Name, tparams: List[RefChecks.this.global.TypeDef], vparamss: List[List[RefChecks.this.global.ValDef]], tpt: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>, <a href="#563935" title="RefChecks.this.global.Modifiers">mods</a>, <a href="#563936" title="RefChecks.this.global.TermName">name</a>, <a href="#563937" title="List[RefChecks.this.global.TypeDef]">tparams</a>, <a href="#563938" title="List[List[RefChecks.this.global.ValDef]]">vparams</a>, <a href="#563939" title="RefChecks.this.global.Tree">tpt</a>, 
                  <a href="Typers.scala.html#105922" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95918" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105427" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106174" title="=&gt; RefChecks.this.global.Symbol">Predef_error</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Literal*)List[RefChecks.this.global.Literal]">List</span><span class="delimiter">(</span><a href="../SubComponent.scala.html#95918" title="(value: Any)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="java.lang.String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559292" title="(tree: RefChecks.this.global.Tree)Unit">checkDeprecatedOvers</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36919" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryUnit</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#559302" title="(sym: RefChecks.this.global.Symbol)Unit">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a href="#563925" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36921" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnInaccessible</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563925" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563925" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107388" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563925" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSynthetic</span><span class="delimiter">)</span>
                <a href="#559291" title="(tree: RefChecks.this.global.Tree)Unit">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#562604" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="564003">parents</a>, <a title="RefChecks.this.global.ValDef" id="564004">self</a>, <a title="List[RefChecks.this.global.Tree]" id="564005">body</a><span class="delimiter">)</span> =&gt;
            <a href="#559238" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#559238" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#105921" title="(tree: RefChecks.this.global.analyzer.global.Tree, owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#162506" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#559253" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#559249" title="(clazz: RefChecks.this.global.Symbol)Unit">checkOverloadedRestrictions</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="564006">bridges</a> = <a href="#559251" title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]">addVarargBridges</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#559252" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>

            <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#564006" title="List[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#162504" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162414" title="(tree: RefChecks.this.global.Tree, parents: List[RefChecks.this.global.Tree], self: RefChecks.this.global.ValDef, body: List[RefChecks.this.global.Tree])RefChecks.this.global.Template">Template</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>, <a href="#564003" title="List[RefChecks.this.global.Tree]">parents</a>, <a href="#564004" title="RefChecks.this.global.ValDef">self</a>, <a href="#564005" title="List[RefChecks.this.global.Tree]">body</a> <a href="#564018" title="(prefix: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">:::</a> <a href="#564006" title="List[RefChecks.this.global.Tree]">bridges</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#562604" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <a title="RefChecks.this.global.TypeTreeWithDeferredRefCheck" id="564026">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;)" class="string">&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;</span><span class="delimiter">)</span>; <a href="#564026" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564030">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#564030" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135683" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#564030" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">original</a> <a href="../ast/Trees.scala.html#109034" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#564104" title="Unit" class="delimiter">{</a>
                <span class="keyword">case</span> <a title="Unit" id="564105">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                  <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="Unit" class="delimiter">(</span><a href="#564105" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#160668" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #2416 -- only call transform to do refchecks, but discard results</span>
                  <span class="comment">// tpt has the right type if the deferred checks are ok</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="564033">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#559296" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#564108" title="Unit" class="delimiter">{</a> <span class="comment">// check all bounds, except those that are</span>
                              <span class="comment">// existential type parameters</span>
              <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="564111">tparams</a>, <a title="RefChecks.this.global.Type" id="564112">tpe</a><span class="delimiter">)</span> =&gt; 
                <a href="#564033" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Symbol])existentialParams.type">++=</span> <a href="#564111" title="List[RefChecks.this.global.Symbol]">tparams</a>
              <span class="keyword">case</span> <a title="Unit" id="564120">t</a>: <a href="../symtab/Types.scala.html#67433" title="RefChecks.this.global.TypeRef">TypeRef</a> =&gt; 
                <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="564121">exparams</a> = <a href="#564033" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">toList</span>
                <span class="keyword">val</span> <a title="List[RefChecks.this.global.WildcardType.type]" id="564122">wildcards</a> = <a href="#564121" title="List[RefChecks.this.global.Symbol]">exparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.WildcardType.type,List[RefChecks.this.global.WildcardType.type]])List[RefChecks.this.global.WildcardType.type]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="564139">_</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object RefChecks.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
                <a href="#559294" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#564120" title="RefChecks.this.global.TypeRef">t</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Type])RefChecks.this.global.Type">subst</a><span class="delimiter">(</span><a href="#564121" title="List[RefChecks.this.global.Symbol]">exparams</a>, <a href="#564122" title="List[RefChecks.this.global.WildcardType.type]">wildcards</a><span class="delimiter">)</span>, <a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; 
            <span class="delimiter">}</span>
            <a href="#562604" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564171">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="564172">args</a><span class="delimiter">)</span> =&gt;
            <a href="#559284" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67397" title="object RefChecks.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#564171" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#564172" title="List[RefChecks.this.global.Tree]">args</a> <span title="(f: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#564189" title="RefChecks.this.global.Tree">_</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
            <a href="#559298" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564217">x</a> @ Apply<span class="delimiter">(</span>_, _<span class="delimiter">)</span>  =&gt;
            <a href="#559299" title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree">transformApply</a><span class="delimiter">(</span><a href="#564217" title="RefChecks.this.global.Apply">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564220">x</a> @ If<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span>  =&gt;
            <a href="#559301" title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree">transformIf</a><span class="delimiter">(</span><a href="#564220" title="RefChecks.this.global.If">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">New</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564227">tpt</a><span class="delimiter">)</span> =&gt;
            <a href="#559275" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#564227" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#562604" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Typed</span><span class="delimiter">(</span>_, Ident<span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114911" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#559293" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> =&gt;
            <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="java.lang.String(&quot;no `: _*\' annotation allowed here\012(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span><span class="delimiter">)</span>
            <a href="#562604" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="564237">name</a><span class="delimiter">)</span> =&gt;
            <a href="#559298" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>,
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#564237" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67713" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; RefChecks.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#564237" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67709" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114911" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#563925" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <span title="java.lang.String(&quot;transformCaseApply: name = &quot;)" class="string">&quot;transformCaseApply: name = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#564237" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96584" title="()java.lang.String">debugString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree = &quot;)" class="string">&quot; tree = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562604" title="RefChecks.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span> <span class="comment">//debug</span>
                <a href="#559275" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563925" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564254">x</a> @ Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="#559300" title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree">transformSelect</a><span class="delimiter">(</span><a href="#564254" title="RefChecks.this.global.Select">x</a><span class="delimiter">)</span>
            
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">UnApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564261">fun</a>, <a title="List[RefChecks.this.global.Tree]" id="564262">args</a><span class="delimiter">)</span> =&gt;
            <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564261" title="RefChecks.this.global.Tree">fun</a><span class="delimiter">)</span> <span class="comment">// just make sure we enterReference for unapply symbols, note that super.transform(tree) would not transform(fun)</span>
                           <span class="comment">// transformTrees(args) // TODO: is this necessary? could there be forward references in the args??</span>
                           <span class="comment">// probably not, until we allow parameterised extractors</span>
            <a href="#562604" title="RefChecks.this.global.Tree">tree</a>


          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt; <a href="#562604" title="RefChecks.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
        <a href="#563926" title="RefChecks.this.global.Tree">result</a> = <a href="#563926" title="RefChecks.this.global.Tree">result</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564268">pat</a>, <a title="RefChecks.this.global.Tree" id="564269">guard</a>, <a title="RefChecks.this.global.Tree" id="564270">body</a><span class="delimiter">)</span> =&gt;
            <a href="#559244" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="564271">pat1</a> = <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564268" title="RefChecks.this.global.Tree">pat</a><span class="delimiter">)</span>
            <a href="#559244" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="../ast/Trees.scala.html#162504" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162416" title="(tree: RefChecks.this.global.Tree, pat: RefChecks.this.global.Tree, guard: RefChecks.this.global.Tree, body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>, <a href="#564271" title="RefChecks.this.global.Tree">pat1</a>, <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564269" title="RefChecks.this.global.Tree">guard</a><span class="delimiter">)</span>, <a href="#559303" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564270" title="RefChecks.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt;
            <a href="#110431" title="RefChecks.this.RefCheckTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162512" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#563926" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#563926" title="RefChecks.this.global.Tree">result</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> 
             | TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563926" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107389" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#563926" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span> 
              <a href="#559264" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<a href="../ast/Trees.scala.html#162606" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#563926" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#563926" title="RefChecks.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564293">ex</a>: <a href="../symtab/Types.scala.html#67658" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#564293" title="RefChecks.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>;
          <a href="#559304" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#562604" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#564293" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#562604" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#559238" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#563923" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
        <a href="#559241" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#563924" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <span class="delimiter">}</span>        
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>