<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="comment">/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="29751">RefChecks</a> <a href="#29751" title="ScalaObject" class="keyword">extends</a> <a href="../transform/InfoTransform.scala.html#27201" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="../SubComponent.scala.html#95939" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67699" title="object RefChecks.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#64965" title="object RefChecks.this.global.typer">typer</a>.<span class="delimiter">{</span>typed, typedOperator, atOwner<span class="delimiter">}</span>

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  <span class="keyword">val</span> <a title="String" id="110560">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="110562">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../symtab/Flags.scala.html#67055" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="110563">newTransformer</a><span class="delimiter">(</span><a title="RefChecks.this.global.CompilationUnit" id="559294">unit</a>: <a href="../CompilationUnits.scala.html#67953" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="#110571" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#110571" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a><span class="delimiter">(</span><a href="#559294" title="RefChecks.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="110564">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="110565">transformInfo</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559371">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="559372">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a> =
    <span title="RefChecks.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#559371" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#559371" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107525" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#559371" title="RefChecks.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../symtab/Flags.scala.html#67055" title="=&gt; Long">lateMETHOD</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span>
      <a href="../symtab/Types.scala.html#148865" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#559372" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#559372" title="RefChecks.this.global.Type">tp</a>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="110566">toJavaRepeatedParam</a> = <a href="#559195" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67514" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="559195">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="559197">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559198">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#559198" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559203">pre</a>, <a href="../symtab/Definitions.scala.html#106352" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="559204">args</a><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Types.scala.html#67483" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#559203" title="RefChecks.this.global.Type">pre</a>, <a href="../symtab/Definitions.scala.html#106354" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="#559204" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#133458" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#559198" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="110568">toScalaRepeatedParam</a> = <a href="#559257" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67514" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="559257">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="559259">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559260">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a> = <a href="#559260" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559266">pre</a>, <a href="../symtab/Definitions.scala.html#106354" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="559267">args</a><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Types.scala.html#67483" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#559266" title="RefChecks.this.global.Type">pre</a>, <a href="../symtab/Definitions.scala.html#106352" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a href="#559267" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#133458" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#559260" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="110570">accessFlagsToString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559382">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Flags.scala.html#24068" title="(flags: Long, privateWithin: String)String">flagsToString</a><span class="delimiter">(</span>
    <a href="#559382" title="RefChecks.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107555" title="(mask: Long)Long">getFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#559382" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAccessBoundary</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107418" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject" id="110571">RefCheckTransformer</a><a href="#110571" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.CompilationUnit" id="559367">unit</a>: <a href="../CompilationUnits.scala.html#67953" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#67836" title="RefChecks.this.global.Transformer">Transformer</a> <span class="delimiter">{</span> 

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="559301">localTyper</a>: analyzer.<a href="Typers.scala.html#105749" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#64965" title="object RefChecks.this.global.typer">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="559304">currentApplication</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="../SubComponent.scala.html#95939" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="559307">inPattern</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" id="559310">checkedCombinations</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: List[RefChecks.this.global.Type]*)scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" class="delimiter">[</span><span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// only one overloaded alternative is allowed to define default arguments</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="559312">checkOverloadedRestrictions</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559858">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="comment">// Using the default getters (such as methodName$default$1) as a cheap way of</span>
      <span class="comment">// finding methods with default parameters. This way, we can limit the members to</span>
      <span class="comment">// those with the DEFAULTPARAM flag, and infer the methods. Looking for the methods</span>
      <span class="comment">// directly requires inspecting the parameter list of every one. That modification</span>
      <span class="comment">// shaved 95% off the time spent in this method.</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559860">defaultGetters</a>     = <a href="#559858" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105538" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115414" title="=&gt; RefChecks.this.global.nme.NameType">ANYNAME</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(33554432L)">DEFAULTPARAM</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.TermName]" id="559861">defaultMethodNames</a> = <a href="#559860" title="List[RefChecks.this.global.Symbol]">defaultGetters</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TermName)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TermName,List[RefChecks.this.global.TermName]])List[RefChecks.this.global.TermName]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559882">sym</a> =&gt; <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115762" title="(name: RefChecks.this.global.Name)RefChecks.this.global.TermName">defaultGetterToMethod</a><span class="delimiter">(</span><a href="#559882" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#559861" title="List[RefChecks.this.global.TermName]">defaultMethodNames</a>.<span title="=&gt; List[RefChecks.this.global.TermName]">distinct</span> <span title="(f: RefChecks.this.global.TermName =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.TermName" id="559940">name</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559941">methods</a>      = <a href="#559858" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105538" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#559940" title="RefChecks.this.global.TermName">name</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(64L)">METHOD</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559942">haveDefaults</a> = <a href="#559941" title="List[RefChecks.this.global.Symbol]">methods</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559946">sym</a> =&gt; <a href="#559946" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107581" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">hasParamWhich</a><span class="delimiter">(</span><a href="#559949" title="RefChecks.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115748" title="(name: RefChecks.this.global.Name)Boolean">isProtectedAccessorName</a><span class="delimiter">(</span><a href="#559946" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559942" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="559955">owners</a> = <a href="#559942" title="List[RefChecks.this.global.Symbol]">haveDefaults</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#559972" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
           <span class="comment">// constructors of different classes are allowed to have defaults</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559942" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560006">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#560006" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559955" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">distinct</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#559942" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#559858" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <span title="java.lang.String(&quot;in &quot;)" class="string">&quot;in &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#559858" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;, multiple overloaded alternatives of &quot;)" class="string">&quot;, multiple overloaded alternatives of &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#559942" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; RefChecks.this.global.Symbol">head</span> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; define default arguments&quot;)" class="string">&quot; define default arguments&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#559955" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#560018" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#559858" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
                <span class="keyword">else</span> <span title="java.lang.String(&quot;.\012The members with defaults are defined in &quot;)" class="string">&quot;.\nThe members with defaults are defined in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#559955" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#560039" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107660" title="=&gt; java.lang.String">fullLocationString</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#559858" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#113103" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560077">x</a> =&gt; <a href="#560077" title="RefChecks.this.global.Symbol">x</a>.<span title="=&gt; Boolean">isImplicit</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560077" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../symtab/Scopes.scala.html#113100" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="560100">sym</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="560101">alts</a> = <a href="#559858" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#560100" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560101" title="List[RefChecks.this.global.Symbol]">alts</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#560101" title="List[RefChecks.this.global.Symbol]">alts</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560129">x</a> =&gt; <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#560129" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;)" class="string">&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Override checking ------------------------------------------------------------</span>

    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="559313">hasRepeatedParam</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560134">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#560134" title="RefChecks.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="560138">formals</a>, <a title="RefChecks.this.global.Type" id="560139">restpe</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Definitions.scala.html#106360" title="(params: List[RefChecks.this.global.Symbol])Boolean">isScalaVarArgs</a><span class="delimiter">(</span><a href="#560138" title="List[RefChecks.this.global.Symbol]">formals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559313" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#560139" title="RefChecks.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Type" id="560143">restpe</a><span class="delimiter">)</span>         =&gt; <a href="#559313" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#560143" title="RefChecks.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                           =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Add bridges for vararg methods that extend Java vararg methods
     */</span>
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="559314">addVarargBridges</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560144">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560146">self</a> = <a href="#560144" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" id="560147">bridges</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="560148">varargBridge</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560149">member</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="560150">bridgetpe</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560151">bridge</a> = <a href="#560149" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107596" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#560144" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#107405" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Symbol">setPos</a><span class="delimiter">(</span><a href="#560144" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)RefChecks.this.global.Symbol">setFlag</a><span class="delimiter">(</span><a href="#560149" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
        <a href="#560151" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: RefChecks.this.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#560150" title="RefChecks.this.global.Type">bridgetpe</a>.<a href="../symtab/Types.scala.html#105528" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#560151" title="RefChecks.this.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#560144" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#560151" title="RefChecks.this.global.Symbol">bridge</a>
        <span class="keyword">val</span> <a href="#560183" title="(x: List[List[RefChecks.this.global.Symbol]])Some[List[List[RefChecks.this.global.Symbol]]]">List</a><a href="#560205" title="List[RefChecks.this.global.Symbol]" id="560152" class="delimiter">(</a><a title="List[RefChecks.this.global.Symbol]" id="560205">params</a><span class="delimiter">)</span> = <a href="#560151" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#107580" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>
        <span class="keyword">val</span> TypeRef<a href="#560222" title="RefChecks.this.global.Type" id="560153" class="delimiter">(</a>_, <a href="../symtab/Definitions.scala.html#106354" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="#560211" title="(x: List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]">List</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560222">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#560152" title="List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>
        <span class="keyword">val</span> <a href="#560155" title="(List[RefChecks.this.global.Ident], RefChecks.this.global.Ident)" class="delimiter">(</a><a href="#560154" title="List[RefChecks.this.global.Ident]" id="560155">initargs</a>, <a href="#560294" title="(x: List[RefChecks.this.global.Ident])Some[List[RefChecks.this.global.Ident]]">List</a><span class="delimiter">(</span><a href="#560154" title="RefChecks.this.global.Ident" id="560156">lastarg0</a><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#560152" title="List[RefChecks.this.global.Symbol]">params</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Ident,List[RefChecks.this.global.Ident]])List[RefChecks.this.global.Ident]">map</span> <a href="../ast/Trees.scala.html#67813" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Ident">Ident</a><span class="delimiter">)</span> <span title="(n: Int)(List[RefChecks.this.global.Ident], List[RefChecks.this.global.Ident])">splitAt</span> <span class="delimiter">(</span><a href="#560152" title="List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Typed" id="560157">lastarg</a> = <a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105601" title="(tree: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105605" title="(tree: RefChecks.this.global.gen.global.Tree, elemtp: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Apply">mkWrapArray</a><span class="delimiter">(</span><a href="#560156" title="RefChecks.this.global.Ident">lastarg0</a>, <a href="#560153" title="RefChecks.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Apply" id="560158">body</a> = <a href="../SubComponent.scala.html#95939" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67811" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Tree">This</a><span class="delimiter">(</span><a href="#560144" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#560149" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#560155" title="List[RefChecks.this.global.Ident]">initargs</a> <a href="#560353" title="(prefix: List[RefChecks.this.global.gen.global.Tree with Serializable])List[RefChecks.this.global.gen.global.Tree with Serializable]">:::</a> <span title="(xs: RefChecks.this.global.gen.global.Typed*)List[RefChecks.this.global.gen.global.Typed]">List</span><span class="delimiter">(</span><a href="#560157" title="RefChecks.this.global.gen.global.Typed">lastarg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106063" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
          <span class="comment">/*util.trace(&quot;generating varargs bridge&quot;)*/</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#560151" title="RefChecks.this.global.Symbol">bridge</a>, <a href="#560158" title="RefChecks.this.global.Apply">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">// For all concrete non-private members that have a (Scala) repeated parameter:</span>
      <span class="comment">//   compute the corresponding method type `jtpe` with a Java repeated parameter</span>
      <span class="comment">//   if a method with type `jtpe` exists and that method is not a varargs bridge</span>
      <span class="comment">//   then create a varargs bridge of type `jtpe` that forwards to the</span>
      <span class="comment">//   member method with the Scala vararg type.</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560431">member</a> &lt;- <a href="#560144" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105491" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560431" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559313" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#560431" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560432">jtpe</a> = <a href="#110566" title="(v1: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#560146" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560431" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560433">inherited</a> = <a href="#560144" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105497" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#560431" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107592" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span>
            <a title="RefChecks.this.global.Symbol" id="560440">sym</a> =&gt; <span class="delimiter">(</span><a href="#560146" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560440" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105522" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#560432" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560440" title="RefChecks.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
            <span class="comment">// this is a bit tortuous: we look for non-private members or bridges</span>
            <span class="comment">// if we find a bridge everything is OK. If we find another member,</span>
            <span class="comment">// we need to create a bridge</span>
          <span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560433" title="RefChecks.this.global.Symbol">inherited</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560147" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a> <span title="(x: RefChecks.this.global.Tree)bridges.type">+=</span> <a href="#560148" title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">varargBridge</a><span class="delimiter">(</span><a href="#560431" title="RefChecks.this.global.Symbol">member</a>, <a href="#560432" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#560147" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; List[RefChecks.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>

    <span class="comment">/** 1. Check all members of class `clazz' for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override' modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O. 
     *    1.7. If O is an abstract type then 
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then 
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override' modifier
     *     overrides some other member.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit" id="559315">checkAllOverrides</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560472">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="560475">typesOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends java.lang.Object with ScalaObject with Product with Serializable" id="560522">MixinOverrideError</a><a href="#560522" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="561381">member</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="561382">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="560479">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</span><span class="delimiter">[</span>MixinOverrideError<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="()Unit" id="560480">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#560479" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<span title="=&gt; List[MixinOverrideError]">toList</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#560575" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; 
          <span class="keyword">case</span> <a href="#560589" title="Unit">List</a><span class="delimiter">(</span>MixinOverrideError<span class="delimiter">(</span>_, <a title="String" id="560600">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#560600" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MixinOverrideError</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560605">member</a>, <a title="String" id="560606">msg</a><span class="delimiter">)</span> :: <a title="List[MixinOverrideError]" id="560607">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="560608">others1</a> = <a href="#560607" title="List[MixinOverrideError]">others</a>.<span title="(f: MixinOverrideError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixinOverrideError],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#560625" title="MixinOverrideError">_</a>.<a href="#561381" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><a href="#560605" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560658" title="String">_</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">distinct</span>
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
              <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, 
              <a href="#560606" title="String">msg</a><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560608" title="List[String]">others1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
                   <span class="keyword">else</span> <span title="java.lang.String(&quot;;\012 other members with override errors are: &quot;)" class="string">&quot;;\n other members with override errors are: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#560608" title="List[String]">others1</a> <span title="(sep: String)String">mkString</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560481">self</a> = <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a>
 
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="560482">isAbstractTypeWithoutFBound</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560667">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="comment">// (part of DEVIRTUALIZE) </span>
        <a href="#560667" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560483" title="(tsym: RefChecks.this.global.Symbol)Boolean">isFBounded</a><span class="delimiter">(</span><a href="#560667" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tsym: RefChecks.this.global.Symbol)Boolean" id="560483">isFBounded</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560668">tsym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#560668" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105524" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a> <a href="../symtab/BaseTypeSeqs.scala.html#197581" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#560671" title="RefChecks.this.global.Type">_</a> <a href="../symtab/Types.scala.html#105513" title="(sym: RefChecks.this.global.Symbol)Boolean">contains</a> <a href="#560668" title="RefChecks.this.global.Symbol">tsym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="560484">infoString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560673">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#560486" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String">infoString0</a><span class="delimiter">(</span><a href="#560673" title="RefChecks.this.global.Symbol">sym</a>, <a href="#560673" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="560485">infoStringWithLocation</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560684">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#560486" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String">infoString0</a><span class="delimiter">(</span><a href="#560684" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String" id="560486">infoString0</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560674">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="560675">showLocation</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="560676">sym1</a> = <a href="../Global.scala.html#64911" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105678" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#560674" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107657" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560675" title="Boolean">showLocation</a><span class="delimiter">)</span> 
          <a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> 
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;, which equals &quot;)" class="string">&quot;, which equals &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105501" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; with bounds &quot;)" class="string">&quot; with bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105501" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105501" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560676" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean" id="560487">overridesType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560685">tp1</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="560686">tp2</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: RefChecks.this.global.Type, _2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)" class="delimiter">(</span><a href="#560685" title="RefChecks.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#560686" title="RefChecks.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a href="#560698" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="560709">rtp1</a><span class="delimiter">)</span>, NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560711">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; 
          <a href="#560709" title="RefChecks.this.global.Type">rtp1</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#560711" title="RefChecks.this.global.Type">rtp2</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560716">rtp1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a href="#560720" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="560731">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; 
          <a href="#560716" title="RefChecks.this.global.Type">rtp1</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#560731" title="RefChecks.this.global.Type">rtp2</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.Symbol" id="560738">sym</a>, _<span class="delimiter">)</span>,  _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#560738" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> =&gt; 
          <a href="#560487" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean">overridesType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148865" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#560685" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>, <a href="#560686" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; 
          <a href="#560685" title="RefChecks.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#560686" title="RefChecks.this.global.Type">tp2</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Check that all conditions for overriding `other` by `member`
       *  of class `clazz` are met.
       */</span>
      <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit" id="560488">checkOverride</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560740">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="560741">member</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="560742">other</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="560743">noErrorType</a> = <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67399" title="object RefChecks.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67399" title="object RefChecks.this.global.ErrorType">ErrorType</a>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="560744">isRootOrNone</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="560760">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#560760" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106177" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#560760" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="560745">overrideError</a><span class="delimiter">(</span><a title="String" id="560769">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560743" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="560770">fullmsg</a> = 
              <span title="java.lang.String(&quot;overriding &quot;)" class="string">&quot;overriding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560485" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;\012 &quot;)" class="string">&quot;;\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#560484" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560769" title="String">msg</a><span title="(x$1: Any)java.lang.String">+</span>
              <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> 
                <span title="java.lang.String(&quot;;\012 (Note that &quot;)" class="string">&quot;;\n (Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560485" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is abstract,&quot;)" class="string">&quot; is abstract,&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
               <span title="java.lang.String(&quot;\012  and is therefore overridden by concrete &quot;)" class="string">&quot;\n  and is therefore overridden by concrete &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560485" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#560740" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#560770" title="java.lang.String">fullmsg</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#560479" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a> <span title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]">+=</span> <span title="MixinOverrideError" class="keyword">new</span> <a href="#560522" title="MixinOverrideError">MixinOverrideError</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>, <a href="#560770" title="java.lang.String">fullmsg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="560746">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560743" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="560747">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="560795">otherAccess</a> = <a href="#110570" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
          <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has weaker access privileges; it should be &quot;)" class="string">&quot;has weaker access privileges; it should be &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560795" title="String">otherAccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;at least &quot;)" class="string">&quot;at least &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560795" title="String">otherAccess</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">//Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>

        <span class="comment">// return if we already checked this combination elsewhere</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560740" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG</span>
            <span title="Nothing" class="keyword">return</span>; 
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560740" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560817">parent</a> =&gt;
            <span class="delimiter">(</span><a href="#560817" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560817" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
                <span title="Nothing" class="keyword">return</span>; 
            <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560740" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="560826">parent</a> =&gt;
            <span class="delimiter">(</span><a href="#560826" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">==</span> <span class="delimiter">(</span><a href="#560826" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
              <span title="Nothing" class="keyword">return</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">/** Is the intersection between given two lists of overridden symbols empty?
         */</span>
        <span class="keyword">def</span> <a title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean" id="560748">intersectionIsEmpty</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="560832">syms1</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Symbol]" id="560833">syms2</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560832" title="List[RefChecks.this.global.Symbol]">syms1</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#560833" title="List[RefChecks.this.global.Symbol]">syms2</a> <a href="#560840" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560475" title="Boolean">typesOnly</a><span class="delimiter">)</span> <a href="#560749" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// o: public | protected        | package-protected  (aka java's default access)</span>
          <span class="comment">// ^-may be overridden by member with access privileges-v</span>
          <span class="comment">// m: public | public/protected | public/protected/package-protected-in-same-package-as-o</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span> <span class="comment">// (1.1)</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span><span class="delimiter">)</span>
          
          <span class="comment">// todo: align accessibility implication checking with isAccessible in Contexts</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560841">ob</a> = <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107557" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560842">mb</a> = <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107557" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>          
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="560843">isOverrideAccessOK</a> = <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isPublic</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>      <span class="comment">// member is public, definitely same or relaxed access</span>
            <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isProtected</span> <span title="(x: Boolean)Boolean">||</span> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isProtected</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>    <span class="comment">// if o is protected, so is m</span>
            <span class="delimiter">(</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560744" title="(sym: RefChecks.this.global.Symbol)Boolean">isRootOrNone</a><span class="delimiter">(</span><a href="#560841" title="RefChecks.this.global.Symbol">ob</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560841" title="RefChecks.this.global.Symbol">ob</a>.<a href="../symtab/Symbols.scala.html#107547" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#560842" title="RefChecks.this.global.Symbol">mb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>  <span class="comment">// m relaxes o's access boundary</span>
              <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span>                           <span class="comment">// overriding a protected java member, see #3946</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560843" title="=&gt; Boolean">isOverrideAccessOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560747" title="()Unit">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot be used here - classes and objects cannot be overridden&quot;)" class="string">&quot;cannot be used here - classes and objects cannot be overridden&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot be used here - classes and objects can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes and objects can only override abstract types&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(32L)">FINAL</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.2)</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE | ABSOVERRIDE <span title="Long(2359298L)">|</span> SYNTHETIC<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.3), SYNTHETIC because of DEVIRTUALIZE</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs `override\' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107536" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#560740" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs `abstract override\' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107603" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107603" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105526" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#560877" title="RefChecks.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span title="=&gt; Boolean">!</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <a href="#560748" title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean">intersectionIsEmpty</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107633" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a>, <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107633" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span class="string">&quot;cannot override a concrete member without a third member that's overridden by both &quot;</span><span title="java.lang.String(&quot;cannot override a concrete member without a third member that\'s overridden by both (this rule is designed to prevent ``accidental overrides\'\')&quot;)">+</span>
                          <span class="string">&quot;(this rule is designed to prevent ``accidental overrides'')&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.4)</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#560749" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36910" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryOverride</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107580" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107580" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;non-nullary method overrides nullary method&quot;)" class="string">&quot;non-nullary method overrides nullary method&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="560749">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>  
            <span class="comment">//if (!member.typeParams.isEmpty) (1.5)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>
            <span class="comment">//if (!other.typeParams.isEmpty)  (1.5)   @MAT</span>
            <span class="comment">//  overrideError(&quot;may not override parameterized type&quot;);</span>
            <span class="comment">// @M: substSym</span>

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105505" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105520" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="comment">// (1.6)</span>
              <a href="#560746" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//if (!member.typeParams.isEmpty) // (1.7)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>

            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560896">memberTp</a> = <a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560897">otherTp</a> = <a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105501" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560897" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#148513" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#560896" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.7.1)</span>
              <a href="#560746" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>; <span class="comment">// todo: do an explaintypes with bounds here</span>
              <a href="../symtab/Types.scala.html#67680" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any, found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#560908" title="RefChecks.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#148513" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#560909" title="RefChecks.this.global.Type">_</a>, <a href="#560897" title="RefChecks.this.global.Type">otherTp</a>, <a href="#560896" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            
            <span class="comment">// check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))</span>
            <span class="comment">// making an abstract type member concrete is like passing a type argument</span>
            <span class="keyword">val</span> <a title="List[String]" id="560898">kindErrors</a> = <a href="../Global.scala.html#64965" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#105961" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#106131" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#560896" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>, <a href="#560481" title="RefChecks.this.global.Type">self</a>, <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="comment">// (1.7.2)</span>
           
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560898" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, 
                <span title="java.lang.String(&quot;The kind of &quot;)" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107650" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107664" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107655" title="=&gt; java.lang.String">nameString</a><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107667" title="=&gt; String">defString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                <a href="#560898" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> 
            
            <span class="comment">// check a type alias's RHS corresponds to its declaration</span>
            <span class="comment">// this overlaps somewhat with validateVariance</span>
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[String]" id="560931">kindErrors</a> = <a href="../Global.scala.html#64965" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#105961" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#106131" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#560896" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span>, <a href="#560481" title="RefChecks.this.global.Type">self</a>, <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560931" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, 
                  <span title="java.lang.String(&quot;The kind of the right-hand side &quot;)" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560896" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107650" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107664" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107655" title="=&gt; java.lang.String">nameString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#560931" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> 
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560896" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560897" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;)" class="string">&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#560742" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107575" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// #2454</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560949">memberTp</a> = <a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="560950">otherTp</a> = <a href="#560481" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#560742" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560487" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean">overridesType</a><span class="delimiter">(</span><a href="#560949" title="RefChecks.this.global.Type">memberTp</a>, <a href="#560950" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// 8</span>
              <a href="#560746" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#67679" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#560949" title="RefChecks.this.global.Type">memberTp</a>, <a href="#560950" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560950" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560949" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#560745" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has a volatile type; cannot override a member with non-volatile type&quot;)" class="string">&quot;has a volatile type; cannot override a member with non-volatile type&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#560949" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; RefChecks.this.global.Type">resultType</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="560956">rt</a>: <a href="../symtab/Types.scala.html#67427" title="RefChecks.this.global.RefinedType">RefinedType</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560956" title="RefChecks.this.global.RefinedType">rt</a> <a href="../symtab/Types.scala.html#105520" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#560950" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559310" title="=&gt; scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])Boolean">contains</span> <a href="#560956" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#148603" title="=&gt; List[RefChecks.this.global.Type]">parents</a><span class="delimiter">)</span> =&gt; 
                  <span class="comment">// might mask some inconsistencies -- check overrides </span>
                  <a href="#559310" title="(x$1: scala.collection.immutable.Set[List[RefChecks.this.global.Type]])Unit">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">+=</span> <a href="#560956" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#148603" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
                  <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="560968">tsym</a> = <a href="#560956" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#560968" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#67902" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#560968" title="RefChecks.this.global.Symbol">tsym</a> <a href="../symtab/Symbols.scala.html#107405" title="(pos: RefChecks.this.global.Position)tsym.type">setPos</a> <a href="#560741" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>
                  <a href="#559315" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#560968" title="RefChecks.this.global.Symbol">tsym</a>, typesOnly = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span title="Unit" class="delimiter">}</span>
      
      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="560489">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#64851" title="object RefChecks.this.global.overridingPairs">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#107251" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#560489" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502560" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#560491" title="()Unit" class="delimiter">{</a>
        <span class="comment">//Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullName + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullName + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#560489" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502557" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#560488" title="(clazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit">checkOverride</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#560489" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502554" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#560489" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502557" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>;
        
        <a href="#560489" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#502561" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="#560480" title="()Unit">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> 

      <span class="comment">// Verifying a concrete class has nothing unimplemented.</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560475" title="Boolean">typesOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="560995">abstractErrors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="560996">abstractErrorMessage</a> =
          <span class="comment">// a little formatting polish</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(sep: String)String">mkString</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
          <span class="keyword">else</span> <a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; scala.collection.mutable.ListBuffer[String]">tail</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; String">head</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         
        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean, msg: String)Unit" id="560997">abstractClassError</a><span class="delimiter">(</span><a title="Boolean" id="561011">mustBeMixin</a>: <span title="Boolean">Boolean</span>, <a title="String" id="561012">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="561013">prelude</a> = <span class="delimiter">(</span>
            <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107487" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
            <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561011" title="Boolean">mustBeMixin</a><span class="delimiter">)</span> <a href="#560472" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
            <span class="keyword">else</span> <a href="#560472" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>
          <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, since&quot;)" class="string">&quot;, since&quot;</span>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(xs: scala.collection.TraversableOnce[String])abstractErrors.type">++=</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#561013" title="=&gt; java.lang.String">prelude</a>, <a href="#561012" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(x: String)abstractErrors.type">+=</span> <a href="#561012" title="String">msg</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="560998">javaErasedOverridingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561041">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a> = 
          <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105497" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#561041" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107592" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561043">other</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#561043" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561043" title="RefChecks.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type" id="561044">uncurryAndErase</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561047">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../Global.scala.html#64929" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#236646" title="(tp: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="../Global.scala.html#64921" title="object RefChecks.this.global.uncurry">uncurry</a>.<a href="../transform/UnCurry.scala.html#110693" title="(sym: RefChecks.this.global.uncurry.global.Symbol, tp: RefChecks.this.global.uncurry.global.Type)RefChecks.this.global.uncurry.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#561041" title="RefChecks.this.global.Symbol">sym</a>, <a href="#561047" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #3622: erasure operates on uncurried types -- note on passing sym in both cases: only sym.isType is relevant for uncurry.transformInfo</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="561045">tp1</a> = <a href="#561044" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#561041" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="561046">tp2</a> = <a href="#561044" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#561043" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72342" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#561045" title="RefChecks.this.global.erasure.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105522" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">matches</a> <a href="#561046" title="RefChecks.this.global.erasure.global.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol)Boolean" id="560999">ignoreDeferred</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561062">member</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
          <a href="#560482" title="(sym: RefChecks.this.global.Symbol)Boolean">isAbstractTypeWithoutFBound</a><span class="delimiter">(</span><a href="#561062" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">(</span><a href="#561062" title="RefChecks.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
           <span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72342" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../NoPhase.scala.html#10815" title="object scala.tools.nsc.NoPhase">NoPhase</a> <span title="(x: Boolean)Boolean">||</span> <span class="comment">// the test requires atPhase(erasurePhase.next) so shouldn't be done if the compiler has no erasure phase available</span>
            <a href="#560998" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span class="delimiter">(</span><a href="#561062" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// 2. Check that only abstract classes have deferred members</span>
        <span class="keyword">def</span> <a title="()Unit" id="561000">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="comment">// Avoid spurious duplicates: first gather any missing members.</span>
          <span class="keyword">def</span> <a title="=&gt; List[RefChecks.this.global.Symbol]" id="561073">memberList</a> = <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105492" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#561075" title="(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])" class="delimiter">(</a><a href="#561074" title="List[RefChecks.this.global.Symbol]" id="561075">missing</a>, <a href="#561074" title="List[RefChecks.this.global.Symbol]" id="561076">rest</a><span class="delimiter">)</span> = <a href="#561073" title="=&gt; List[RefChecks.this.global.Symbol]">memberList</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])">partition</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561083">m</a> =&gt; <a href="#561083" title="RefChecks.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560999" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#561083" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="comment">// Group missing members by the underlying symbol.</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]" id="561077">grouped</a> = <a href="#561075" title="List[RefChecks.this.global.Symbol]">missing</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.analyzer.global.Name)scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">groupBy</span> <span class="delimiter">(</span><a href="../Global.scala.html#64911" title="object RefChecks.this.global.analyzer">analyzer</a> <a href="Namers.scala.html#105678" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a> <a href="#561100" title="RefChecks.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561122">member</a> &lt;- <a href="#561075" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">missing</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(msg: String)Unit" id="561123">undefined</a><span class="delimiter">(</span><a title="String" id="561125">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#560997" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#560484" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561122" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561125" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="561124">underlying</a> = <a href="../Global.scala.html#64911" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105678" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#561122" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>

            <span class="comment">// Give a specific error message for abstract vars based on why it fails:</span>
            <span class="comment">// It could be unimplemented, have only one accessor, or be uninitialized.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// If both getter and setter are missing, squelch the setter error.</span>
              <span class="keyword">val</span> <a title="Boolean" id="561126">isMultiple</a> = <a href="#561077" title="(key: RefChecks.this.global.analyzer.global.Name)List[RefChecks.this.global.Symbol]">grouped</a><span class="delimiter">(</span><a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span>
              <span class="comment">// TODO: messages shouldn't be spread over two files, and varNotice is not a clear name</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561122" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107467" title="=&gt; Boolean">isSetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561126" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#561123" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561122" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107467" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012(Note that an abstract var requires a setter in addition to the getter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;</span>
                <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561122" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#561126" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012(Note that an abstract var requires a getter in addition to the setter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;</span>
                <span class="keyword">else</span> <a href="../Global.scala.html#64911" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105682" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a><span class="delimiter">(</span><a href="#561122" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>

              <span class="comment">// If there is a concrete method whose name matches the unimplemented</span>
              <span class="comment">// abstract method, and a cursory examination of the difference reveals</span>
              <span class="comment">// something obvious to us, let's make it more obvious to them.</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.analyzer.global.Type]" id="561152">abstractParams</a>   = <a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="561153">matchingName</a>     = <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105492" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="561154">matchingArity</a>    = <a href="#561153" title="List[RefChecks.this.global.Symbol]">matchingName</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="561158">m</a> =&gt;
                <span title="=&gt; Boolean">!</span><a href="#561158" title="RefChecks.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <span class="delimiter">(</span><a href="#561158" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#561158" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#561158" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              
              <a href="#561154" title="List[RefChecks.this.global.Symbol]">matchingArity</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="comment">// So far so good: only one candidate method</span>
                <span class="keyword">case</span> <a title="Unit" id="561190">concrete</a> :: <span title="object Nil">Nil</span>   =&gt;
                  <span class="keyword">val</span> <a title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="561191">mismatches</a>  = <a href="#561152" title="List[RefChecks.this.global.analyzer.global.Type]">abstractParams</a> <span title="(that: scala.collection.GenIterable[RefChecks.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.analyzer.global.Type],(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]])List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">zip</span> <a href="#561190" title="RefChecks.this.global.Symbol">concrete</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a> <span title="(p: (RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type) =&gt; Boolean)List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">filterNot</span> <a href="#561251" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="561254">x</a>, <a title="RefChecks.this.global.Type" id="561255">y</a><span class="delimiter">)</span> =&gt; <a href="#561254" title="RefChecks.this.global.analyzer.global.Type">x</a> <a href="../symtab/Types.scala.html#105520" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#561255" title="RefChecks.this.global.Type">y</a> <span class="delimiter">}</span>
                  <a href="#561191" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">mismatches</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="comment">// Only one mismatched parameter: say something useful.</span>
                    <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="561263">pa</a>, <a title="RefChecks.this.global.Type" id="561264">pc</a><span class="delimiter">)</span> :: <span title="object Nil">Nil</span>  =&gt;
                      <span class="keyword">val</span> <a title="String" id="561265">addendum</a> =
                        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561263" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561264" title="RefChecks.this.global.Type">pc</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                          <span class="comment">// TODO: what is the optimal way to test for a raw type at this point?</span>
                          <span class="comment">// Compilation has already failed so we shouldn't have to worry overmuch</span>
                          <span class="comment">// about forcing types.</span>
                          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561124" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561263" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561263" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
                            <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;. To implement a raw type, use %s[_]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#561263" title="RefChecks.this.global.analyzer.global.Type">pa</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561263" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#105464" title="=&gt; RefChecks.this.global.analyzer.global.Type">prefix</a> <a href="../symtab/Types.scala.html#105520" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#561264" title="RefChecks.this.global.Type">pc</a>.<a href="../symtab/Types.scala.html#105464" title="=&gt; RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
                            <span title="java.lang.String(&quot;: their type parameters differ&quot;)" class="string">&quot;: their type parameters differ&quot;</span>
                          <span class="keyword">else</span>
                            <span title="java.lang.String(&quot;: their prefixes (i.e. enclosing instances) differ&quot;)" class="string">&quot;: their prefixes (i.e. enclosing instances) differ&quot;</span>
                        <span class="delimiter">}</span>
                        <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

                      <a href="#561123" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n(Note that %s does not match %s%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#561263" title="RefChecks.this.global.analyzer.global.Type">pa</a>, <a href="#561264" title="RefChecks.this.global.Type">pc</a>, <a href="#561265" title="String">addendum</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> <a title="Unit" id="561280">xs</a> =&gt;
                      <a href="#561123" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                  <a href="#561123" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#561123" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        
          <span class="comment">// Check the remainder for invalid absoverride.</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561291">member</a> &lt;- <a href="#561076" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">rest</a> ; <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#561291" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561291" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107536" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561292">other</a> = <a href="#561291" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107634" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="561293">explanation</a> =
              <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#561292" title="RefChecks.this.global.Symbol">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; and overrides incomplete superclass member &quot;)" class="string">&quot; and overrides incomplete superclass member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#560484" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561292" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="java.lang.String(&quot;, but no concrete implementation could be found in a base class&quot;)" class="string">&quot;, but no concrete implementation could be found in a base class&quot;</span>
          
            <a href="#560997" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#560484" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561291" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is marked `abstract\' and `override\'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561293" title="java.lang.String">explanation</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// 3. Check that concrete classes do not have deferred definitions</span>
        <span class="comment">// that are not implemented in a subclass.</span>
        <span class="comment">// Note that this is not the same as (2); In a situation like</span>
        <span class="comment">//</span>
        <span class="comment">// class C { def m: Int = 0}</span>
        <span class="comment">// class D extends C { def m: Int }</span>
        <span class="comment">// </span>
        <span class="comment">// (3) is violated but not (2).</span>
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="561001">checkNoAbstractDecls</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561300">bc</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561313">decl</a> &lt;- <a href="#561300" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113099" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561313" title="RefChecks.this.global.Symbol">decl</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#560999" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#561313" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561314">impl</a> = <a href="#561313" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107629" title="(site: RefChecks.this.global.Type, admit: Long)RefChecks.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a>, admit = <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561314" title="RefChecks.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561313" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561314" title="RefChecks.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#560997" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;there is a deferred declaration of &quot;)" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#560484" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#561313" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../Global.scala.html#64911" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#105682" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a><span class="delimiter">(</span><a href="#561313" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="561301">parents</a> = <a href="#561300" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561301" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561301" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span><span class="delimiter">)</span> 
            <a href="#561001" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#561301" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <a href="#561000" title="()Unit">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#561001" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560995" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#560996" title="=&gt; String">abstractErrorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// prevent abstract methods in interfaces that override final members in Object; see #4431</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561341">decl</a> &lt;- <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113099" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561342">overridden</a> = <a href="#561341" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107630" title="(ofclazz: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106220" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561342" title="RefChecks.this.global.Symbol">overridden</a>.<span title="=&gt; Boolean">isFinal</span><span class="delimiter">)</span>
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#561341" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;trait cannot redefine final method from class AnyRef&quot;)" class="string">&quot;trait cannot redefine final method from class AnyRef&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Returns whether there is a symbol declared in class `inclazz`
       *  (which must be different from `clazz`) whose name and type
       *  seen as a member of `class.thisType` matches `member`'s.
       */</span>
      <span class="keyword">def</span> <a title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean" id="560490">hasMatchingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561345">inclazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="561346">member</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="561347">isVarargs</a> = <a href="#559313" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#561346" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="561349">varargsType</a> = <a href="#110566" title="(v1: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#561346" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="561350">isSignatureMatch</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561355">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#561355" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="561356">symtpe</a>            = <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a> <a href="../symtab/Types.scala.html#105502" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#561355" title="RefChecks.this.global.Symbol">sym</a>
          <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="561357">matches</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561358">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#561358" title="RefChecks.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105522" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#561356" title="RefChecks.this.global.Type">symtpe</a>
          
          <a href="#561357" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#561346" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561347" title="Boolean">isVarargs</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561357" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#561348" title="=&gt; RefChecks.this.global.Type">varargsType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">/** The rules for accessing members which have an access boundary are more
         *  restrictive in java than scala.  Since java has no concept of package nesting,
         *  a member with &quot;default&quot; (package-level) access can only be accessed by members
         *  in the exact same package.  Example:
         *
         *    package a.b;
         *    public class JavaClass { void foo() { } }
         *
         *  The member foo() can be accessed only from members of package a.b, and not
         *  nested packages like a.b.c.  In the analogous scala class:
         *
         *    package a.b
         *    class ScalaClass { private[b] def foo() = () }
         *
         *  The member IS accessible to classes in package a.b.c.  The javaAccessCheck logic
         *  is restricting the set of matching signatures according to the above semantics.
         */</span>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="561351">javaAccessCheck</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561360">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
             <span title="=&gt; Boolean">!</span><a href="#561345" title="RefChecks.this.global.Symbol">inclazz</a>.<span title="=&gt; Boolean">isJavaDefined</span>                             <span class="comment">// not a java defined member</span>
          <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#561360" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAccessBoundary</span>                             <span class="comment">// no access boundary</span>
          <span title="(x: Boolean)Boolean">||</span> <a href="#561360" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isProtected</span>                                    <span class="comment">// marked protected in java, thus accessible to subclasses</span>
          <span title="(x: Boolean)Boolean">||</span> <a href="#561360" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107418" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561346" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107614" title="=&gt; RefChecks.this.global.Symbol">enclosingPackageClass</a>  <span class="comment">// exact package match</span>
        <span class="delimiter">)</span>        
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="561352">classDecls</a>   = <a href="#561345" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105489" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#561346" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="561353">matchingSyms</a> = <a href="#561352" title="=&gt; RefChecks.this.global.Symbol">classDecls</a> <a href="../symtab/Symbols.scala.html#107592" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561368">sym</a> =&gt; <a href="#561350" title="(sym: RefChecks.this.global.Symbol)Boolean">isSignatureMatch</a><span class="delimiter">(</span><a href="#561368" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561351" title="(sym: RefChecks.this.global.Symbol)Boolean">javaAccessCheck</a><span class="delimiter">(</span><a href="#561368" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span class="delimiter">(</span><a href="#561345" title="RefChecks.this.global.Symbol">inclazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#561353" title="=&gt; RefChecks.this.global.Symbol">matchingSyms</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// 4. Check that every defined member with an `override' modifier overrides some other member.</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561408">member</a> &lt;- <a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113097" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">toList</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#561408" title="RefChecks.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#560472" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105526" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#560490" title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean">hasMatchingSym</a><span class="delimiter">(</span><a href="#561421" title="RefChecks.this.global.Symbol">_</a>, <a href="#561408" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG</span>
          <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#561408" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#561408" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107657" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span><span class="delimiter">)</span>;
          <a href="#561408" title="RefChecks.this.global.Symbol">member</a> <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)member.type">resetFlag</a> <span title="Long(2L)">OVERRIDE</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">// Basetype Checking --------------------------------------------------------</span>

    <span class="comment">/** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="559316">validateBaseTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="561431">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]" id="561433">seenParents</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</span><span title="(elems: RefChecks.this.global.Type*)scala.collection.mutable.HashSet[RefChecks.this.global.Type]" class="delimiter">[</span><a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="561434">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <span title="Array[List[RefChecks.this.global.Type]]">Array</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#561431" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105524" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../symtab/BaseTypeSeqs.scala.html#197569" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="561571">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#561434" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
        <a href="#561434" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#561571" title="Int">i</a><span class="delimiter">)</span> = <span title="object Nil">Nil</span>

      <span class="comment">/** validate all base types of a class in reverse linear order. */</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="561435">register</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561575">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
<span class="comment">//        if (clazz.fullName.endsWith(&quot;Collection.Projection&quot;))</span>
<span class="comment">//            println(&quot;validate base type &quot;+tp)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561576">baseClass</a> = <a href="#561575" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561576" title="RefChecks.this.global.Symbol">baseClass</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="561578">index</a> = <a href="#561431" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105527" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#561576" title="RefChecks.this.global.Symbol">baseClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561578" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561434" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#561578" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561592">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561592" title="RefChecks.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561575" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#561434" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#561578" title="Int">index</a><span class="delimiter">)</span> = 
                <a href="#561575" title="RefChecks.this.global.Type">tp</a> <a href="#561594" title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#561434" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#561578" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561600">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561575" title="RefChecks.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561600" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="561577">remaining</a> = <a href="#561575" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <a href="#561433" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a>
        <a href="#561433" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Type])seenParents.type">++=</span> <a href="#561577" title="List[RefChecks.this.global.Type]">remaining</a>
        <a href="#561577" title="List[RefChecks.this.global.Type]">remaining</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <a href="#561435" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      <span class="delimiter">}</span>
      <a href="#561435" title="(tp: RefChecks.this.global.Type)Unit">register</a><span class="delimiter">(</span><a href="#561431" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="561732">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#561434" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561733">baseClass</a> = <a href="#561431" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/BaseTypeSeqs.scala.html#197572" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#561732" title="Int">i</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#561434" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#561732" title="Int">i</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#561736" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;??? base &quot;)" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561733" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561431" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#561750" title="Unit">List</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;<span class="comment">// OK</span>
          <span class="keyword">case</span> <a title="Unit" id="561765">tp1</a> :: <a title="RefChecks.this.global.Type" id="561773">tp2</a> :: _ =&gt;
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#561431" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal inheritance;\012 &quot;)" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561431" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561733" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561765" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#561773" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>;
            <a href="../symtab/Types.scala.html#67679" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#561765" title="RefChecks.this.global.Type">tp1</a>, <a href="#561773" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#67679" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#561773" title="RefChecks.this.global.Type">tp2</a>, <a href="#561765" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">// Variance Checking --------------------------------------------------------</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559317">ContraVariance</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559319">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559321">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="559323">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="559325">escapedPrivateLocals</a> = <span title="()scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="559327">varianceValidator</a> = <a href="#559400" title="RefChecks.this.global.Traverser{}" class="keyword">new</a> <a href="../ast/Trees.scala.html#67837" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="559400">Traverser</a> <span class="delimiter">{</span>

      <span class="comment">/** Validate variance of info of symbol `base` */</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="559402">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559411">base</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <span class="keyword">def</span> <a title="(variance: Int)String" id="559412">varianceString</a><span class="delimiter">(</span><a title="Int" id="559417">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="String">String</span> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#559417" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#559417" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        <span class="comment">/** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */</span>
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="559413">relativeVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559426">tvar</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="559427">clazz</a> = <a href="#559426" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="559428">sym</a> = <a href="#559411" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="559429">state</a> = <a href="#559321" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#559427" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559429" title="Int">state</a> <span title="(x: Int)Boolean">!=</span> <a href="#559323" title="=&gt; Int">AnyVariance</a><span class="delimiter">)</span> <a href="#559430" title="()Unit" class="delimiter">{</a>
            <span class="comment">//Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG</span>
            <span class="comment">// Flip occurrences of type parameters and parameters, unless</span>
            <span class="comment">//  - it's a constructor, or case class factory or extractor</span>
            <span class="comment">//  - it's a type parameter of tvar's owner.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107521" title="=&gt; Boolean">isCaseApplyOrUnapply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559426" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107481" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107481" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <a href="#559426" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#559429" title="Int">state</a> = <span title="=&gt; Int">-</span><a href="#559429" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> 
                     <a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivateLocal</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isProtectedLocal</span> <span title="(x: Boolean)Boolean">||</span> <a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSuperAccessor</span> <span class="comment">/* super accessors are implicitly local #4345*/</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559325" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)Boolean">contains</span> <a href="#559428" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// return AnyVariance if `sym` is local to a term</span>
              <span class="comment">// or is private[this] or protected[this]</span>
              <a href="#559429" title="Int">state</a> = <a href="#559323" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// return AnyVariance if `sym` is an alias type</span>
              <span class="comment">// that does not override anything. This is OK, because we always</span>
              <span class="comment">// expand aliases for variance checking.</span>
              <span class="comment">// However, if `sym` does override a type in a base class</span>
              <span class="comment">// we have to assume NoVariance, as there might then be</span>
              <span class="comment">// references to the type parameter that are not variance checked.</span>
              <a href="#559429" title="Int">state</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107632" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#559323" title="=&gt; Int">AnyVariance</a>
                      <span class="keyword">else</span> <a href="#559319" title="=&gt; Int">NoVariance</a>
            <span class="delimiter">}</span>
            <a href="#559428" title="RefChecks.this.global.Symbol">sym</a> = <a href="#559428" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="delimiter">}</span>
          <a href="#559429" title="Int">state</a>
        <span class="delimiter">}</span>

        <span class="comment">/** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, variance: Int)Unit" id="559414">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559459">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="559460">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#559459" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Unit">ErrorType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67401" title="Unit">WildcardType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67406" title="Unit">NoType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67408" title="Unit">NoPrefix</a> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="comment">// case DeBruijnIndex(_, _) =&gt; ;</span>
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559465">pre</a>, <a title="RefChecks.this.global.Symbol" id="559466">sym</a><span class="delimiter">)</span> =&gt;
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559465" title="RefChecks.this.global.Type">pre</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559470">pre</a>, <a title="RefChecks.this.global.Symbol" id="559471">sym</a>, <a title="List[RefChecks.this.global.Type]" id="559472">args</a><span class="delimiter">)</span> =&gt;
<span class="comment">//            println(&quot;validate &quot;+sym+&quot; at &quot;+relativeVariance(sym))</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559471" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="comment">/* &amp;&amp; relativeVariance(sym) == AnyVariance*/</span><span class="delimiter">)</span>
              <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559459" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559471" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107540" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#559319" title="=&gt; Int">NoVariance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="559478">v</a> = <a href="#559413" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span class="delimiter">(</span><a href="#559471" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#559478" title="Int">v</a> <span title="(x: Int)Boolean">!=</span> <a href="#559323" title="=&gt; Int">AnyVariance</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559471" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107540" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#559478" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#559460" title="Int">variance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">//Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG</span>
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)java.lang.String" id="559492">tpString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559493">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#559493" title="RefChecks.this.global.Type">tp</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="java.lang.String">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559497">parents</a>, _, <a title="RefChecks.this.global.Symbol" id="559498">clazz</a><span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;supertype &quot;)" class="string">&quot;supertype &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Types.scala.html#67487" title="(tps: List[RefChecks.this.global.Type], owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#559497" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#559498" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="java.lang.String">_</span> =&gt; <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#559493" title="RefChecks.this.global.Type">tp</a>
                <span class="delimiter">}</span>
                <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#559411" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>,
                           <a href="#559412" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#559471" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107540" title="=&gt; Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559471" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559412" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#559478" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#559460" title="Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559492" title="(tp: RefChecks.this.global.Type)java.lang.String">tpString</a><span class="delimiter">(</span><a href="#559411" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#559411" title="RefChecks.this.global.Symbol">base</a><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559470" title="RefChecks.this.global.Type">pre</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#559416" title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a><span class="delimiter">(</span><a href="#559472" title="List[RefChecks.this.global.Type]">args</a>, <a href="#559460" title="Int">variance</a>, <a href="#559471" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span class="comment">//@M for higher-kinded typeref, args.isEmpty</span>
            <span class="comment">// However, these args respect variances by construction anyway </span>
            <span class="comment">// -- the interesting case is in type application, see checkKindBounds in Infer</span>
          <span class="keyword">case</span> <span title="Unit">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559516">parents</a>, <a title="RefChecks.this.global.Scope" id="559517">decls</a>, <a title="RefChecks.this.global.Symbol" id="559518">symbol</a><span class="delimiter">)</span> =&gt;
            <a href="#559415" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#559516" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559523">parents</a>, <a title="RefChecks.this.global.Scope" id="559524">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#559415" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#559523" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="559546">sym</a> &lt;- <a href="#559524" title="RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113097" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">toList</a><span class="delimiter">)</span>
              <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559546" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#559546" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <a href="#559319" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559550">lo</a>, <a title="RefChecks.this.global.Type" id="559551">hi</a><span class="delimiter">)</span> =&gt;
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559550" title="RefChecks.this.global.Type">lo</a>, <span title="=&gt; Int">-</span><a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559551" title="RefChecks.this.global.Type">hi</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="559554">formals</a>, <a title="RefChecks.this.global.Type" id="559555">result</a><span class="delimiter">)</span> =&gt;
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559555" title="RefChecks.this.global.Type">result</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559557">result</a><span class="delimiter">)</span> =&gt;
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559557" title="RefChecks.this.global.Type">result</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="559560">tparams</a>, <a title="RefChecks.this.global.Type" id="559561">result</a><span class="delimiter">)</span> =&gt;
            <span class="comment">// type parameters will be validated separately, because they are defined explicitly.</span>
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559561" title="RefChecks.this.global.Type">result</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="559564">tparams</a>, <a title="RefChecks.this.global.Type" id="559565">result</a><span class="delimiter">)</span> =&gt;
            <a href="#559415" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#559564" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#559593" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559565" title="RefChecks.this.global.Type">result</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="559624">annots</a>, <a title="RefChecks.this.global.Type" id="559625">tp</a>, <a title="RefChecks.this.global.Symbol" id="559626">selfsym</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#559624" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(p: RefChecks.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#559633" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; RefChecks.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107588" title="(that: RefChecks.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106258" title="=&gt; RefChecks.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559625" title="RefChecks.this.global.Type">tp</a>, <a href="#559460" title="Int">variance</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit" id="559415">validateVariances</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559519">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="559520">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#559519" title="List[RefChecks.this.global.Type]">tps</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559654">tp</a> =&gt; <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559654" title="RefChecks.this.global.Type">tp</a>, <a href="#559520" title="Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit" id="559416">validateVarianceArgs</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="559510">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="559511">variance</a>: <span title="Int">Int</span>, <a title="List[RefChecks.this.global.Symbol]" id="559512">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#559510" title="List[RefChecks.this.global.Type]">tps</a> <span title="(that: scala.collection.GenIterable[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]])List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]">zip</span> <a href="#559512" title="List[RefChecks.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.Symbol) =&gt; Unit)Unit">foreach</span> <a href="#559742" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.Type" id="559745">tp</a>, <a title="RefChecks.this.global.Symbol" id="559746">tparam</a><span class="delimiter">)</span> =&gt; <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559745" title="RefChecks.this.global.Type">tp</a>, <a href="#559511" title="Int">variance</a> <span title="(x: Int)Int">*</span> <a href="#559746" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107540" title="=&gt; Int">variance</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#559414" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559411" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#559321" title="=&gt; Int">CoVariance</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559403">traverse</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="559404">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#559404" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | 
               TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559402" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559404" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#559400" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162670" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#559404" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="comment">// ModuleDefs need not be considered because they have been eliminated already</span>
          <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559402" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559404" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, <a title="List[RefChecks.this.global.TypeDef]" id="559807">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="559808">vparamss</a>, <a title="RefChecks.this.global.Tree" id="559809">tpt</a>, <a title="RefChecks.this.global.Tree" id="559810">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="#559402" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#559404" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#559400" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a><span class="delimiter">(</span><a href="#559807" title="List[RefChecks.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>; <a href="#559400" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span><a href="#559808" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559400" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162670" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#559404" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Forward reference checking ---------------------------------------------------</span>

    <span class="keyword">class</span> <a title="class LevelInfo extends java.lang.Object with ScalaObject" id="559329">LevelInfo</a><a href="#559329" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="561784">outer</a>: <a href="#559329" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="559845">scope</a>: <a href="../symtab/Scopes.scala.html#67691" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#561784" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../symtab/Scopes.scala.html#113079" title="()RefChecks.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="RefChecks.this.global.Scope">Scope</a> <span class="keyword">else</span> <a href="../symtab/Scopes.scala.html#113080" title="(base: RefChecks.this.global.Scope)RefChecks.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="RefChecks.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#561784" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#559845" title="=&gt; RefChecks.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="559848">maxindex</a>: <span title="Int">Int</span> = Int.<span title="Int(-2147483648)">MinValue</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Position" id="559851">refpos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="559854">refsym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a> = _
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="559331">currentLevel</a>: <a href="#559329" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="559333">symIndex</a> = <span title="()scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]">HashMap</span><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="559335">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#559331" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#559329" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">(</span><a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="559336">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#559331" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#561784" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="559337">enterSyms</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="561796">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="561798">index</a> = -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="561818">stat</a> &lt;- <a href="#561796" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
        <a href="#561798" title="Int">index</a> = <a href="#561798" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>; 
        <a href="#561818" title="RefChecks.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> | ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span class="comment">//assert(stat.symbol != NoSymbol, stat);//debug</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561850">sym</a> = <a href="#561818" title="RefChecks.this.global.Tree">stat</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107609" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561850" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107530" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559845" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#561850" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#559333" title="(key: RefChecks.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#561850" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#561798" title="Int">index</a>;
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit" id="559338">enterReference</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="561866">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="561867">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561867" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107530" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="561869">e</a> = <a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559845" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113095" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#561867" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#561869" title="RefChecks.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561867" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#561869" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="561875">l</a> = <a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#561875" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559845" title="=&gt; RefChecks.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#561869" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113277" title="=&gt; RefChecks.this.global.Scope">owner</a><span class="delimiter">)</span> <a href="#561875" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#561875" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#561784" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="561876">symindex</a> = <a href="#559333" title="(key: RefChecks.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#561867" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561875" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559848" title="=&gt; Int">maxindex</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#561876" title="Int">symindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#561875" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559851" title="(x$1: RefChecks.this.global.Position)Unit">refpos</a> = <a href="#561866" title="RefChecks.this.global.Position">pos</a>
            <a href="#561875" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559854" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#561867" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#561875" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#559848" title="(x$1: Int)Unit">maxindex</a> = <a href="#561876" title="Int">symindex</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Comparison checking -------------------------------------------------------</span>
    <span class="keyword">object</span> <a title="object RefCheckTransformer.this.normalizeAll" id="559339">normalizeAll</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67514" title="RefChecks.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="561915">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="561917">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../symtab/Types.scala.html#133458" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#561917" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit" id="559341">checkSensible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="561934">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="561935">fn</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="List[RefChecks.this.global.Tree]" id="561936">args</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#561935" title="RefChecks.this.global.Tree">fn</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="561943">qual</a>, <a title="RefChecks.this.global.Name" id="561944">name</a> @ <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115676" title="=&gt; RefChecks.this.global.TermName">EQ</a> | <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115700" title="=&gt; RefChecks.this.global.TermName">NE</a> | <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115486" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> | <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115546" title="=&gt; RefChecks.this.global.nme.NameType">ne</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#561936" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561954">isReferenceOp</a> = <a href="#561944" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115486" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> <span title="(x: Boolean)Boolean">||</span> <a href="#561944" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115546" title="=&gt; RefChecks.this.global.nme.NameType">ne</a>
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="561955">isNew</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="561993">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#561993" title="RefChecks.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)">Function</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> 
             | Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; RefChecks.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="561956">underlyingClass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562007">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="562008">sym</a> = <a href="#562007" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#562008" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span>
            <a href="#562008" title="RefChecks.this.global.Symbol">sym</a> = <a href="#562008" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <a href="#562008" title="RefChecks.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561957">actual</a>   = <a href="#561956" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#561936" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="561958">receiver</a> = <a href="#561956" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#561943" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Tree] =&gt; T)T" id="561959">onTrees</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="561961">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree] =&gt; T" id="562013">f</a>: List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#562013" title="(v1: List[RefChecks.this.global.Tree])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#561943" title="RefChecks.this.global.Tree">qual</a>, <a href="#561936" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Symbol] =&gt; T)T" id="561962">onSyms</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="561964">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol] =&gt; T" id="562023">f</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#562023" title="(v1: List[RefChecks.this.global.Symbol])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a>, <a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// @MAT normalize for consistency in error message, otherwise only part is normalized due to use of `typeSymbol'</span>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="561965">typesString</a> = <a href="#561915" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</span><a href="#561943" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561915" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span class="delimiter">(</span><a href="#561936" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span>
        
        <span class="comment">/** Symbols which limit the warnings we can issue since they may be value types */</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[RefChecks.this.global.Symbol]" id="561966">isMaybeValue</a> = <span title="(elems: RefChecks.this.global.Symbol*)scala.collection.immutable.Set[RefChecks.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106216" title="=&gt; RefChecks.this.global.Symbol">AnyClass</a>, <a href="../symtab/Definitions.scala.html#106218" title="=&gt; RefChecks.this.global.Symbol">AnyRefClass</a>, <a href="../symtab/Definitions.scala.html#106716" title="=&gt; RefChecks.this.global.Symbol">AnyValClass</a>, <a href="../symtab/Definitions.scala.html#106220" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a>, <a href="../symtab/Definitions.scala.html#106350" title="=&gt; RefChecks.this.global.Symbol">ComparableClass</a>, <a href="../symtab/Definitions.scala.html#106346" title="=&gt; RefChecks.this.global.Symbol">SerializableClass</a><span class="delimiter">)</span>

        <span class="comment">// Whether def equals(other: Any) is overridden</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561967">isUsingDefaultEquals</a>      = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562039">m</a> = <a href="#561958" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105495" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115488" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span> 
          <span class="delimiter">(</span><a href="#562039" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106566" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#562039" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106518" title="=&gt; RefChecks.this.global.Symbol">Any_equals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">// Whether this == or != is one of those defined in Any/AnyRef or an overload from elsewhere.</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561968">isUsingDefaultScalaOp</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562049">s</a> = <a href="#561935" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <span class="delimiter">(</span><a href="#562049" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106545" title="=&gt; RefChecks.this.global.Symbol">Object_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#562049" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106548" title="=&gt; RefChecks.this.global.Symbol">Object_!=</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#562049" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106512" title="=&gt; RefChecks.this.global.Symbol">Any_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#562049" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106515" title="=&gt; RefChecks.this.global.Symbol">Any_!=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">// Whether the operands+operator represent a warnable combo (assuming anyrefs)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561969">isWarnable</a>           = <a href="#561954" title="=&gt; Boolean">isReferenceOp</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#561967" title="=&gt; Boolean">isUsingDefaultEquals</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561968" title="=&gt; Boolean">isUsingDefaultScalaOp</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="561970">isEitherNullable</a>     = <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106226" title="=&gt; RefChecks.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561958" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106226" title="=&gt; RefChecks.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#561957" title="RefChecks.this.global.Symbol">actual</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="561971">isBoolean</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562067">s</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Definitions.scala.html#106665" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#562067" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106734" title="=&gt; RefChecks.this.global.Symbol">BooleanClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="561972">isUnit</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562074">s</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="../symtab/Definitions.scala.html#106665" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#562074" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="561973">isNumeric</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562080">s</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Definitions.scala.html#106712" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106665" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#562080" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#562080" title="RefChecks.this.global.Symbol">s</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../symtab/Definitions.scala.html#106618" title="=&gt; RefChecks.this.global.Symbol">ScalaNumberClass</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Int" id="561974">possibleNumericCount</a> = <a href="#561962" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#562087" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562091">x</a> =&gt; <a href="#561973" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#562091" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#561966" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#562091" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="561975">nullCount</a>            = <a href="#561962" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#562114" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#562118" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106226" title="=&gt; RefChecks.this.global.Symbol">NullClass</a><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>
        
        <span class="keyword">def</span> <a title="(what: String, alwaysEqual: Boolean)Unit" id="561976">nonSensibleWarning</a><span class="delimiter">(</span><a title="String" id="562125">what</a>: <span title="String">String</span>, <a title="Boolean" id="562126">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="562127">msg</a> = <a href="#562126" title="Boolean">alwaysEqual</a> <span title="(x: Boolean)Boolean">==</span> <span class="delimiter">(</span><a href="#561944" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115676" title="=&gt; RefChecks.this.global.TermName">EQ</a> <span title="(x: Boolean)Boolean">||</span> <a href="#561944" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115486" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
          <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#561934" title="RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;comparing &quot;)" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#562125" title="String">what</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561944" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562127" title="Boolean">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
          
        <span class="keyword">def</span> <a title="(pre: String, alwaysEqual: Boolean)Unit" id="561977">nonSensible</a><span class="delimiter">(</span><a title="String" id="562143">pre</a>: <span title="String">String</span>, <a title="Boolean" id="562144">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = 
          <a href="#561976" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><a href="#562143" title="String">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#561965" title="=&gt; java.lang.String">typesString</a>, <a href="#562144" title="Boolean">alwaysEqual</a><span class="delimiter">)</span>
         
        <span class="keyword">def</span> <a title="()Unit" id="561978">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> = 
          <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#561934" title="RefChecks.this.global.Position">pos</a>, <a href="#561965" title="=&gt; java.lang.String">typesString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; are unrelated: should not compare equal&quot;)" class="string">&quot; are unrelated: should not compare equal&quot;</span><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561975" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  <span class="comment">// null == null</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561975" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561962" title="(f: List[RefChecks.this.global.Symbol] =&gt; Boolean)Boolean">onSyms</a><span class="delimiter">(</span><a href="#562156" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="../symtab/Definitions.scala.html#106661" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// null == 5</span>
            <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561959" title="(f: List[RefChecks.this.global.Tree] =&gt; Boolean)Boolean">onTrees</a><span class="delimiter">(</span> <a href="#562170" title="List[RefChecks.this.global.Tree]">_</a> <span title="(p: RefChecks.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#561955" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// null == new AnyRef</span>
            <a href="#561976" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561971" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561971" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#561966" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>    <span class="comment">// true == 5</span>
            <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561972" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561972" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// () == ()</span>
            <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561972" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#561966" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">// () == &quot;abc&quot;</span>
            <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561973" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#561973" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#65003" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561972" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#561971" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#561966" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="comment">// 5 == &quot;abc&quot;</span>
              <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561969" title="=&gt; Boolean">isWarnable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561955" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#561943" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// new X == y</span>
            <a href="#561976" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561955" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#561936" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a>.<span title="=&gt; Boolean">isFinal</span> <span title="(x: Boolean)Boolean">||</span> <a href="#561954" title="=&gt; Boolean">isReferenceOp</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="comment">// object X ; X == new Y</span>
            <a href="#561976" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a>.<span title="=&gt; Boolean">isFinal</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// object X, Y; X == Y</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561970" title="=&gt; Boolean">isEitherNullable</a><span class="delimiter">)</span>
              <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#561977" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>            
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="comment">// Warning on types without a parental relationship.  Uncovers a lot of</span>
        <span class="comment">// bugs, but not always right to warn.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#561975" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#561974" title="=&gt; Int">possibleNumericCount</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561958" title="RefChecks.this.global.Symbol">receiver</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561957" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#561957" title="RefChecks.this.global.Symbol">actual</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#561958" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#561978" title="()Unit">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

<span class="comment">// Transformation ------------------------------------------------------------</span>

    <span class="comment">/* Convert a reference to a case factory of type `tpe' to a new of the class it produces. */</span>
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="559342">toConstructor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="562222">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Type" id="562223">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="562225">rtpe</a> = <a href="#562223" title="RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105472" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#562225" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(2048L)">CASE</span>, <a href="#562223" title="RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>;
      <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106069" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> <span class="delimiter">{</span>
        <a href="../ast/Trees.scala.html#67851" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#562222" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#67812" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95939" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67818" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#562225" title="RefChecks.this.global.Type">rtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#562225" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107597" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree], exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="559343">transformStats</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="562268">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="RefChecks.this.global.Symbol" id="562269">exprOwner</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#559335" title="()Unit">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#559337" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#562268" title="List[RefChecks.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="562273">index</a> = -<span title="Int(-1)" class="int">1</span>
        <a href="#562268" title="List[RefChecks.this.global.Tree]">stats</a> <span title="(f: RefChecks.this.global.Tree =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Tree" id="562301">stat</a> =&gt; <a href="#562273" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>; <a href="#559346" title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]">transformStat</a><span class="delimiter">(</span><a href="#562301" title="RefChecks.this.global.Tree">stat</a>, <a href="#562273" title="Int">index</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#559336" title="()Unit">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Eliminate ModuleDefs.
     *   - A top level object is replaced with their module class.
     *   - An inner object is transformed into a module var, created on first access.
     *
     *  In both cases, this transformation returns the list of replacement trees:
     *   - Top level: the module class accessor definition
     *   - Inner: a class definition, declaration of module var, and module var accessor
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="559344">eliminateModuleDefs</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562336">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> ModuleDef<a href="#562339" title="(RefChecks.this.global.Modifiers, RefChecks.this.global.TermName, RefChecks.this.global.Template)" class="delimiter">(</a><a href="#562338" title="RefChecks.this.global.Modifiers" id="562339">mods</a>, <a href="#562338" title="RefChecks.this.global.TermName" id="562340">name</a>, <a href="#562338" title="RefChecks.this.global.Template" id="562341">impl</a><span class="delimiter">)</span> = <a href="#562336" title="RefChecks.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562342">sym</a> = <a href="#562336" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562343">classSym</a>        = <a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="562344">cdef</a>            = <a href="../SubComponent.scala.html#95939" title="(mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.TypeName, tparams: List[RefChecks.this.global.TypeDef], impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#562339" title="RefChecks.this.global.Modifiers">mods</a> <span title="(flag: Long)RefChecks.this.global.Modifiers">|</span> <span title="Long(256L)">MODULE</span>, <a href="#562340" title="RefChecks.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#96657" title="=&gt; RefChecks.this.global.TypeName">toTypeName</a>, <span title="object Nil">Nil</span>, <a href="#562341" title="RefChecks.this.global.Template">impl</a><span class="delimiter">)</span> <span title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</span> <a href="#562343" title="RefChecks.this.global.Symbol">classSym</a> <span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</span> <a href="../symtab/Types.scala.html#67406" title="object RefChecks.this.global.NoType">NoType</a>

      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="562345">findOrCreateModuleVar</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106064" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#562336" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.ValDef" id="562392">createModuleVar</a> = <a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105593" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<span title="(name: RefChecks.this.global.TermName)RefChecks.this.global.TermName">moduleVarName</span><span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96598" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// In case we are dealing with local symbol then we already have</span>
          <span class="comment">// to correct error with forward reference</span>
          <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#67339" title="RefChecks.this.global.gen.global.ValDef">NoSymbol</a> =&gt; <a href="#562391" title="=&gt; RefChecks.this.global.gen.global.ValDef">createModuleVar</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.ValDef" id="562401">vsym</a>     =&gt; <a href="../ast/Trees.scala.html#67795" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#562401" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="562346">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.MethodSymbol" id="562420">method</a> = <span class="delimiter">(</span>
          <a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107425" title="(pos: RefChecks.this.global.Position, name: RefChecks.this.global.TermName)RefChecks.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96598" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span>
          <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)RefChecks.this.global.MethodSymbol">setFlag</a> <span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)RefChecks.this.global.MethodSymbol">resetFlag</a> <span title="Long(256L)">MODULE</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: RefChecks.this.global.Type)RefChecks.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148865" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#562420" title="RefChecks.this.global.MethodSymbol">method</a>
        <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106064" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#562336" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105595" title="(accessor: RefChecks.this.global.gen.global.Symbol, msym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a><span class="delimiter">(</span><a href="#562420" title="RefChecks.this.global.MethodSymbol">method</a>, <a href="#562342" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]" id="562347">createInnerModuleAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562464">vdef</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="#562464" title="RefChecks.this.global.Tree">vdef</a>,
        <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106064" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#562336" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562471">vsym</a> = <a href="#562464" title="RefChecks.this.global.Tree">vdef</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="562476">rhs</a>  = <a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105596" title="(accessor: RefChecks.this.global.gen.global.Symbol, tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>, <a href="#562471" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="562477">body</a> = <span title="RefChecks.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#562476" title="RefChecks.this.global.gen.global.Tree">rhs</a> <span class="keyword">else</span> <a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105592" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#562471" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#562476" title="RefChecks.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#67801" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>, <a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../ast/Trees.scala.html#109178" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#562471" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#562342" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <a href="../ast/Trees.scala.html#162577" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#562344" title="RefChecks.this.global.ClassDef">cdef</a> <a href="#562528" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span class="delimiter">{</span>
        <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107525" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562342" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107632" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
          <span class="keyword">else</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#562346" title="()RefChecks.this.global.analyzer.global.Tree">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#562347" title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">createInnerModuleAccessor</a><span class="delimiter">(</span><a href="#562345" title="()RefChecks.this.global.analyzer.global.Tree">findOrCreateModuleVar</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="559345">makeLazyAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562544">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Tree" id="562545">rhs</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562547">vsym</a>        = <a href="#562544" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#562547" title="RefChecks.this.global.Symbol">vsym</a>.<span title="=&gt; Boolean">isTerm</span>, <a href="#562547" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="562548">hasUnitType</a> = <a href="#562547" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562549">lazySym</a>     = <a href="#562547" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#107608" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#562549" title="RefChecks.this.global.Symbol">lazySym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#562547" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
  
      <span class="comment">// for traits, this is further transformed in mixins</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="562550">body</a> = <span class="delimiter">(</span>
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#562544" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <a href="#562548" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="#562545" title="RefChecks.this.global.Tree">rhs</a>
        <span class="keyword">else</span> <a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105592" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#562547" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#562545" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="562551">lazyDef</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#562544" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#562549" title="RefChecks.this.global.Symbol">lazySym</a>, <a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../ast/Trees.scala.html#109178" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#562547" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#562549" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Made lazy def: &quot;)" class="string">&quot;Made lazy def: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562551" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span>

      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562548" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="Typers.scala.html#106063" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#562551" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="Typers.scala.html#106063" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67795" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#562547" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Typers.scala.html#106063" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#562551" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]" id="559346">transformStat</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562306">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="Int" id="562307">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#562306" title="RefChecks.this.global.Tree">tree</a> <span title="List[RefChecks.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ModuleDef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#559344" title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">eliminateModuleDefs</a><span class="delimiter">(</span><a href="#562306" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="562665">tree1</a> @ ValDef<span class="delimiter">(</span>_, _, _, <a href="#562664" title="RefChecks.this.global.Tree" id="562666">rhs</a><span class="delimiter">)</span> = <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="RefChecks.this.global.Tree @unchecked" class="delimiter">(</span><a href="#562306" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="comment">// important to do before forward reference check</span>
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#562306" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span>
          <a href="#559345" title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">makeLazyAccessor</a><span class="delimiter">(</span><a href="#562306" title="RefChecks.this.global.Tree">tree</a>, <a href="#562666" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562684">lazySym</a> = <a href="#562306" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107609" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#562684" title="RefChecks.this.global.Symbol">lazySym</a>.<a href="../symtab/Symbols.scala.html#107530" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#562307" title="Int">index</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559848" title="=&gt; Int">maxindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559854" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#559331" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#559851" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="java.lang.String(&quot;forward reference extends over definition of &quot;)" class="string">&quot;forward reference extends over definition of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562684" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="(xs: RefChecks.this.global.ValDef*)List[RefChecks.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#562665" title="RefChecks.this.global.ValDef">tree1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Import</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">_</span>            =&gt; <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#562306" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/* Check whether argument types conform to bounds of type parameters */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="559347">checkBounds</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562710">pre</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="562711">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="562712">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Type]" id="562713">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="562714">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span class="keyword">try</span> <a href="../Global.scala.html#64965" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#105961" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#106130" title="(pos: RefChecks.this.global.analyzer.global.Position, pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol, tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#562714" title="RefChecks.this.global.Position">pos</a>, <a href="#562710" title="RefChecks.this.global.Type">pre</a>, <a href="#562711" title="RefChecks.this.global.Symbol">owner</a>, <a href="#562712" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#562713" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="562722">ex</a>: <a href="../symtab/Types.scala.html#67669" title="RefChecks.this.global.TypeError">TypeError</a> =&gt; 
          <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#562714" title="RefChecks.this.global.Position">pos</a>, <a href="#562722" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36862" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="562726">bounds</a> = <a href="#562712" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])List[RefChecks.this.global.TypeBounds]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562743">tp</a> =&gt; <a href="#562743" title="RefChecks.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[RefChecks.this.global.Symbol], actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#562712" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#562713" title="List[RefChecks.this.global.Type]">argtps</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105462" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#562713" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#562726" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562831">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="562832">bound</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#67679" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#562832" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#562831" title="RefChecks.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#562713" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#562726" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="562910">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="562911">bound</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#67679" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#562910" title="RefChecks.this.global.Type">targ</a>, <a href="#562911" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean" id="559348">isIrrefutable</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562941">pat</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Type" id="562942">seltpe</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#562941" title="RefChecks.this.global.Tree">pat</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span>_, <a title="List[RefChecks.this.global.Tree]" id="562946">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="562947">clazz</a> = <a href="#562941" title="RefChecks.this.global.Tree">pat</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#562947" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#562942" title="RefChecks.this.global.Type">seltpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#562947" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; Boolean">isCaseClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="#562946" title="List[RefChecks.this.global.Tree]">args</a> <span title="(that: scala.collection.GenSeq[RefChecks.this.global.Type])(p: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean">corresponds</span> <a href="#562947" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107597" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105500" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#562942" title="RefChecks.this.global.Type">seltpe</a>, <a href="#562947" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#559348" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">Typed</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562977">pat</a>, <a title="RefChecks.this.global.Tree" id="562978">tpt</a><span class="delimiter">)</span> =&gt; 
        <a href="#562942" title="RefChecks.this.global.Type">seltpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#562978" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
      <span class="keyword">case</span> <span title="Boolean(true)">Ident</span><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">Bind</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Tree" id="562989">pat</a><span class="delimiter">)</span> =&gt;
        <a href="#559348" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#562989" title="RefChecks.this.global.Tree">pat</a>, <a href="#562942" title="RefChecks.this.global.Type">seltpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="comment">/** If symbol is deprecated, and the point of reference is not enclosed
     *  in either a deprecated member or a scala bridge method, issue a warning.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="559349">checkDeprecated</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="562990">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="562991">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#562990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107504" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#162570" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107544" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563001">x</a> =&gt; <a href="#563001" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107504" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#563001" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#107505" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96453" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#562991" title="RefChecks.this.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is deprecated%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#562990" title="RefChecks.this.global.Symbol">sym</a>, <a href="#562990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a>, <a href="#562990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107506" title="=&gt; Option[String]">deprecationMessage</a> <span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#563011" title="String">_</a><span class="delimiter">)</span> <span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Similar to deprecation: check if the symbol is marked with @migration
     *  indicating it has changed semantics between versions.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="559350">checkMigration</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563018">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="563019">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="563026">msg</a> &lt;- <a href="#563018" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107508" title="(f: String =&gt; Unit)Unit">migrationMessage</a><span class="delimiter">)</span>
        <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#563019" title="RefChecks.this.global.Position">pos</a>, <a href="#563018" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107660" title="=&gt; java.lang.String">fullLocationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has changed semantics:\012&quot;)" class="string">&quot; has changed semantics:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#563026" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean" id="559351">lessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563028">otherSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="563029">memberSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#563028" title="RefChecks.this.global.Symbol">otherSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563028" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../symtab/Symbols.scala.html#107481" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563028" title="RefChecks.this.global.Symbol">otherSym</a>.<span title="=&gt; Boolean">isExistentiallyBound</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#563028" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../symtab/Symbols.scala.html#107558" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#563029" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#563028" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../symtab/Symbols.scala.html#107558" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#563029" title="RefChecks.this.global.Symbol">memberSym</a>.<span title="=&gt; RefChecks.this.global.Symbol">enclClass</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]" id="559352">lessAccessibleSymsInType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563036">other</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="563037">memberSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="563039">extras</a> = <a href="#563036" title="RefChecks.this.global.Type">other</a> <span title="List[RefChecks.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[RefChecks.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563043">pre</a>, _, <a title="List[RefChecks.this.global.Type]" id="563044">args</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// checking the prefix here gives us spurious errors on e.g. a private[process]</span>
          <span class="comment">// object which contains a type alias, which normalizes to a visible type.</span>
          <a href="#563044" title="List[RefChecks.this.global.Type]">args</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <span class="delimiter">(</span><a href="#563048" title="RefChecks.this.global.Type">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Types.scala.html#67408" title="object RefChecks.this.global.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563068">tp</a> =&gt; <a href="#559352" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563068" title="RefChecks.this.global.Type">tp</a>, <a href="#563037" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt;
          <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
      <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#559351" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean">lessAccessible</a><span class="delimiter">(</span><a href="#563036" title="RefChecks.this.global.Type">other</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>, <a href="#563037" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#563036" title="RefChecks.this.global.Type">other</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="#563096" title="(x: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">::</a> <a href="#563039" title="List[RefChecks.this.global.Symbol]">extras</a>
      <span class="keyword">else</span> <a href="#563039" title="List[RefChecks.this.global.Symbol]">extras</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit" id="559353">warnLessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563102">otherSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="563103">memberSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="563105">comparison</a> = <a href="#110570" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#563103" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>   =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="keyword">case</span> <a title="java.lang.String" id="563107">acc</a>  =&gt; <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#563107" title="String">acc</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; but&quot;)" class="string">&quot; but&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="563106">cannot</a> =
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#563103" title="RefChecks.this.global.Symbol">memberSym</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;may be unable to provide a concrete implementation of&quot;)" class="string">&quot;may be unable to provide a concrete implementation of&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;may be unable to override&quot;)" class="string">&quot;may be unable to override&quot;</span>
      
      <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#563103" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>, 
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s references %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#563103" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../symtab/Symbols.scala.html#107660" title="=&gt; java.lang.String">fullLocationString</a>, <a href="#563105" title="java.lang.String">comparison</a>,
          <a href="#110570" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#563102" title="RefChecks.this.global.Symbol">otherSym</a><span class="delimiter">)</span>, <a href="#563102" title="RefChecks.this.global.Symbol">otherSym</a>
        <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nClasses which cannot access %s %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#563102" title="RefChecks.this.global.Symbol">otherSym</a>.<span title="=&gt; String">decodedName</span>, <a href="#563106" title="java.lang.String">cannot</a>, <a href="#563103" title="RefChecks.this.global.Symbol">memberSym</a>.<span title="=&gt; String">decodedName</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">/** Warn about situations where a method signature will include a type which
     *  has more restrictive access than the method itself.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559354">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563114">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563116">member</a> = <a href="#563114" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      
      <span class="comment">// types of the value parameters</span>
      <a href="#563116" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107580" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[RefChecks.this.global.Symbol] =&gt; scala.collection.TraversableOnce[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">flatten</span> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="563176">p</a> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="563177">normalized</a> = <a href="#563176" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; RefChecks.this.global.Type">normalize</a> 
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#563177" title="RefChecks.this.global.Type">normalized</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#563176" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#559352" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563177" title="RefChecks.this.global.Type">normalized</a>, <a href="#563116" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#559352" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563176" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#563116" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563200">sym</a> =&gt; <a href="#559353" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#563200" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563116" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="comment">// upper bounds of type parameters</span>
      <a href="#563116" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,RefChecks.this.global.Type,List[RefChecks.this.global.Type]]" class="delimiter">(</span><a href="#563222" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Type" id="563271">tp</a> =&gt;
        <a href="#559352" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#563271" title="RefChecks.this.global.Type">tp</a>, <a href="#563116" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563293">sym</a> =&gt; <a href="#559353" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#563293" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563116" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Check that a deprecated val or def does not override a
      * concrete, non-deprecated method.  If it does, then
      * deprecation is meaningless.
      */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559355">checkDeprecatedOvers</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563296">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563298">symbol</a> = <a href="#563296" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563298" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107504" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="563299">concrOvers</a> =
          <a href="#563298" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107632" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563305">sym</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#563305" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107504" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563305" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563299" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96453" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
            <a href="#563296" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>,
            <a href="#563298" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107657" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#563299" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#563322" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="559356">isRepeatedParamArg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563353">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#559304" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563358">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="563359">args</a><span class="delimiter">)</span> =&gt;
        <span title="=&gt; Boolean">!</span><a href="#563359" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#563359" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">last</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#563353" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
        <a href="#563358" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#563359" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106359" title="(tp: RefChecks.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#563358" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit" id="559357">checkTypeRef</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563369">tp</a>: <a href="../symtab/Types.scala.html#67392" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Position" id="563370">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#563369" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563376">pre</a>, <a title="RefChecks.this.global.Symbol" id="563377">sym</a>, <a title="List[RefChecks.this.global.Type]" id="563378">args</a><span class="delimiter">)</span> =&gt;
        <a href="#559349" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#563377" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563370" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#563377" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span>
          <a href="#563377" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#563400" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107575" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563369" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105445" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
          <a href="#559347" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="#563376" title="RefChecks.this.global.Type">pre</a>, <a href="#563377" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#563377" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#563378" title="List[RefChecks.this.global.Type]">args</a>, <a href="#563370" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="559358">checkAnnotations</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="563402">tpes</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="563403">pos</a>: <a href="../util/Position.scala.html#30588" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#563402" title="List[RefChecks.this.global.Type]">tpes</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563425">tp</a> =&gt; <a href="#559357" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#563425" title="RefChecks.this.global.Type">tp</a>, <a href="#563403" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit" id="559359">doTypeTraversal</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563427">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type =&gt; Unit" id="563428">f</a>: Type =&gt; Unit<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#559307" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#563427" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105510" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#563428" title="RefChecks.this.global.Type =&gt; Unit">f</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="559360">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563432">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]" id="563434">applyChecks</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="563435">annots</a>: <span title="List[RefChecks.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#559358" title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkAnnotations</a><span class="delimiter">(</span><a href="#563435" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#563452" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; RefChecks.this.global.Type">atp</a><span class="delimiter">)</span>, <a href="#563432" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#162577" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#563435" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">(</span><a href="#563496" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133493" title="=&gt; List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#563432" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="563524">m</a>: <span title="RefChecks.this.global.MemberDef">MemberDef</span> =&gt; 
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563525">sym</a> = <a href="#563524" title="RefChecks.this.global.MemberDef">m</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="#563434" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span class="delimiter">(</span><a href="#563525" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
          <span class="comment">// validate implicitNotFoundMessage</span>
          <a href="../Global.scala.html#64911" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Implicits.scala.html#105812" title="object RefChecks.this.global.analyzer.ImplicitNotFoundMsg">ImplicitNotFoundMsg</a>.<a href="Implicits.scala.html#542552" title="(sym: RefChecks.this.global.analyzer.global.Symbol)Option[String]">check</a><span class="delimiter">(</span><a href="#563525" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="563530">warn</a> =&gt;
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#563432" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Invalid implicitNotFound message for %s%s:\n%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#563525" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563525" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a>, <a href="#563530" title="String">warn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a title="Unit" id="563535">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#563535" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135861" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#563535" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">original</a> <a href="../ast/Trees.scala.html#109174" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#563609" title="Unit" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="Unit" id="563610">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#559360" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#563610" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#160732" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #2416</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="#559359" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#563432" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#563613" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="563617">annots</a>, _, _<span class="delimiter">)</span>  =&gt; <a href="#563434" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span title="Unit" class="delimiter">(</span><a href="#563617" title="List[RefChecks.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree" id="559361">transformCaseApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563618">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="=&gt; Unit" id="563619">ifNot</a>: =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563622">sym</a> = <a href="#563618" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      
      <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563622" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563622" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isCase</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563622" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; RefChecks.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
        <a href="#559342" title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a><span class="delimiter">(</span><a href="#563618" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563618" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#563619" title="=&gt; Unit">ifNot</a>
        <a href="#563618" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree" id="559362">transformApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Apply" id="563628">tree</a>: <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#563628" title="RefChecks.this.global.Apply">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Apply</span><span class="delimiter">(</span>
        Select<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563636">qual</a>, <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115496" title="=&gt; RefChecks.this.global.nme.NameType">filter</a><span class="delimiter">)</span>, 
        <a href="#563638" title="(x: List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]">List</a><span class="delimiter">(</span>Function<span class="delimiter">(</span>
          <a href="#563652" title="(x: List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]">List</a><span class="delimiter">(</span>ValDef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.TermName" id="563680">pname</a>, <a title="RefChecks.this.global.Tree" id="563681">tpt</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>, 
          Match<span class="delimiter">(</span>_, CaseDef<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563697">pat1</a>, _, _<span class="delimiter">)</span> :: _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#563680" title="RefChecks.this.global.TermName">pname</a> <a href="../symtab/Names.scala.html#96627" title="(name: String)Boolean">startsWith</a> <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115642" title="=&gt; java.lang.String">CHECK_IF_REFUTABLE_STRING</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
            <a href="#559348" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#563697" title="RefChecks.this.global.Tree">pat1</a>, <a href="#563681" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#563636" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#563628" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            
          <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#563636" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="RefChecks.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563715">tpt</a><span class="delimiter">)</span>, <a title="RefChecks.this.global.Name" id="563716">name</a><span class="delimiter">)</span>, <a title="List[RefChecks.this.global.Tree]" id="563717">args</a><span class="delimiter">)</span> 
      <span class="keyword">if</span> <span class="delimiter">(</span><a href="#563715" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106394" title="=&gt; RefChecks.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563717" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
        <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96453" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#563628" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, 
          <span title="java.lang.String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;)" class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="563728">manif</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="563730">etpe</a> = <a href="#563715" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563750">_</a> &lt;- <a href="#563717" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#563730" title="RefChecks.this.global.Type">etpe</a> = <a href="#563730" title="RefChecks.this.global.Type">etpe</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<span title="=&gt; Option[RefChecks.this.global.Type]">headOption</span>.<span title="(default: =&gt; RefChecks.this.global.Type)RefChecks.this.global.Type">getOrElse</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67406" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563730" title="RefChecks.this.global.Type">etpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67406" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#563628" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="java.lang.String(&quot;too many dimensions for array creation&quot;)" class="string">&quot;too many dimensions for array creation&quot;</span><span class="delimiter">)</span>
            <a href="../SubComponent.scala.html#95939" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95939" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106081" title="(pos: RefChecks.this.global.analyzer.global.Position, tp: RefChecks.this.global.analyzer.global.Type, full: Boolean)RefChecks.this.global.analyzer.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#563628" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563730" title="RefChecks.this.global.Type">etpe</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="563729">newResult</a> = <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106064" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#563628" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="RefChecks.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#67831" title="RefChecks.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95939" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95939" title="(qualifier: RefChecks.this.global.Tree, name: RefChecks.this.global.Name)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105568" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106391" title="=&gt; RefChecks.this.global.Symbol">ArrayModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115558" title="=&gt; RefChecks.this.global.nme.NameType">ofDim</a><span class="delimiter">)</span>, <a href="#563717" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#563728" title="RefChecks.this.global.analyzer.global.Tree">manif</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#559304" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#563628" title="RefChecks.this.global.Apply">tree</a>
        <a href="#563729" title="RefChecks.this.global.analyzer.global.Tree">newResult</a>

      <span class="keyword">case</span> <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563823">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="563824">args</a><span class="delimiter">)</span> =&gt;
        <a href="#559341" title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit">checkSensible</a><span class="delimiter">(</span><a href="#563628" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563823" title="RefChecks.this.global.Tree">fn</a>, <a href="#563824" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#559304" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#563628" title="RefChecks.this.global.Apply">tree</a>
        <a href="#563628" title="RefChecks.this.global.Apply">tree</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree" id="559363">transformSelect</a><span class="delimiter">(</span><a title="RefChecks.this.global.Select" id="563825">tree</a>: <span title="RefChecks.this.global.Select">Select</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Select<a href="#563828" title="(RefChecks.this.global.Tree, RefChecks.this.global.Name)" class="delimiter">(</a><a href="#563827" title="RefChecks.this.global.Tree" id="563828">qual</a>, <a href="#563827" title="RefChecks.this.global.Name" id="563829">name</a><span class="delimiter">)</span> = <a href="#563825" title="RefChecks.this.global.Select">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563830">sym</a> = <a href="#563825" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      
      <span class="comment">/** Note: if a symbol has both @deprecated and @migration annotations and both
       *  warnings are enabled, only the first one checked here will be emitted.
       *  I assume that's a consequence of some code trying to avoid noise by suppressing
       *  warnings after the first, but I think it'd be better if we didn't have to
       *  arbitrarily choose one as more important than the other.
       */</span>
      <a href="#559349" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#563830" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563825" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36683" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#559350" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkMigration</a><span class="delimiter">(</span><a href="#563830" title="RefChecks.this.global.Symbol">sym</a>, <a href="#563825" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>        
      
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162574" title="=&gt; RefChecks.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#563830" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563830" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasLocalFlag</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="563852">o</a> = <a href="../ast/Trees.scala.html#162574" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
        <span class="keyword">var</span> <a title="Boolean" id="563853">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563853" title="Boolean">hidden</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563852" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#563830" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563852" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#563830" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563852" title="RefChecks.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isPackage</span><span class="delimiter">)</span> <a href="#563854" title="()Unit" class="delimiter">{</a>
          <a href="#563853" title="Boolean">hidden</a> = <a href="#563852" title="RefChecks.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">||</span> <a href="#563852" title="RefChecks.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isPrivateLocal</span>
          <a href="#563852" title="RefChecks.this.global.Symbol">o</a> = <a href="#563852" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563853" title="Boolean">hidden</a><span class="delimiter">)</span> <a href="#559325" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type">+=</span> <a href="#563830" title="RefChecks.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(mix: RefChecks.this.global.Name)Unit" id="563831">checkSuper</a><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="563898">mix</a>: <a href="../symtab/Names.scala.html#66925" title="RefChecks.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span class="comment">// term should have been eliminated by super accessors</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#563828" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563830" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#563898" title="RefChecks.this.global.Name">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67720" title="object RefChecks.this.global.tpnme">tpnme</a>.<span title="=&gt; RefChecks.this.global.tpnme.NameType">EMPTY</span><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <a href="#559361" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#563825" title="RefChecks.this.global.Select">tree</a>, 
        <a href="#563828" title="RefChecks.this.global.Tree">qual</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Super</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.TypeName" id="563912">mix</a><span class="delimiter">)</span>  =&gt; <a href="#563831" title="(mix: RefChecks.this.global.Name)Unit">checkSuper</a><span class="delimiter">(</span><a href="#563912" title="RefChecks.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>              =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree" id="559364">transformIf</a><span class="delimiter">(</span><a title="RefChecks.this.global.If" id="563913">tree</a>: <span title="RefChecks.this.global.If">If</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> If<a href="#563916" title="(RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree)" class="delimiter">(</a><a href="#563915" title="RefChecks.this.global.Tree" id="563916">cond</a>, <a href="#563915" title="RefChecks.this.global.Tree" id="563917">thenpart</a>, <a href="#563915" title="RefChecks.this.global.Tree" id="563918">elsepart</a><span class="delimiter">)</span> = <a href="#563913" title="RefChecks.this.global.If">tree</a>
      <span class="keyword">def</span> <a title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="563919">unitIfEmpty</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="563935">t</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> =
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563935" title="RefChecks.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../SubComponent.scala.html#95939" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="../SubComponent.scala.html#95939" title="(value: Any)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</span><span class="delimiter">(</span><a href="#563913" title="RefChecks.this.global.If">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>.<span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106718" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#563935" title="RefChecks.this.global.Tree">t</a>
      
      <a href="#563916" title="RefChecks.this.global.Tree">cond</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ConstantType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Constant" id="563957">value</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="563958">res</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#563957" title="RefChecks.this.global.Constant">value</a>.<span title="=&gt; Boolean">booleanValue</span><span class="delimiter">)</span> <a href="#563917" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#563918" title="RefChecks.this.global.Tree">elsepart</a>
          <a href="#563919" title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree">unitIfEmpty</a><span class="delimiter">(</span><a href="#563958" title="RefChecks.this.global.Tree">res</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.If">_</span> =&gt; <a href="#563913" title="RefChecks.this.global.If">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="comment">// Warning about nullary methods returning Unit.</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Unit" id="559365">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563959">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#563959" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="563963">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#563963" title="RefChecks.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a> =&gt;
        <span class="comment">// this may be the implementation of e.g. a generic method being parameterized</span>
        <span class="comment">// on Unit, in which case we had better let it slide.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563959" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">||</span> <a href="#563959" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107632" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="563977">over</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#563977" title="RefChecks.this.global.Symbol">over</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; RefChecks.this.global.Type">resultType</a> <a href="../symtab/Types.scala.html#105520" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#563959" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; RefChecks.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#563959" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; RefChecks.this.global.Position">pos</a>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;side-effecting nullary methods are discouraged: suggest defining as `def %s()` instead&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
           <a href="#563959" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="559366">transform</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="562667">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="563986">savedLocalTyper</a> = <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="563987">savedCurrentApplication</a> = <a href="#559304" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="563988">sym</a> = <a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

        <span class="comment">// Apply RefChecks to annotations. Makes sure the annotations conform to</span>
        <span class="comment">// type bounds (bug #935), issues deprecation warnings for symbols used</span>
        <span class="comment">// inside annotations.</span>
        <a href="#559360" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="563989">result</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#562667" title="RefChecks.this.global.Tree">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Modifiers" id="563998">mods</a>, <a title="RefChecks.this.global.TermName" id="563999">name</a>, <a title="List[RefChecks.this.global.TypeDef]" id="564000">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="564001">vparams</a>, <a title="RefChecks.this.global.Tree" id="564002">tpt</a>, <a href="../SubComponent.scala.html#95939" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106614" title="=&gt; RefChecks.this.global.Symbol">NativeAttr</a><span class="delimiter">)</span> =&gt;
            <a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)RefChecks.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162568" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: RefChecks.this.global.Tree, mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.Name, tparams: List[RefChecks.this.global.TypeDef], vparamss: List[List[RefChecks.this.global.ValDef]], tpt: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>, <a href="#563998" title="RefChecks.this.global.Modifiers">mods</a>, <a href="#563999" title="RefChecks.this.global.TermName">name</a>, <a href="#564000" title="List[RefChecks.this.global.TypeDef]">tparams</a>, <a href="#564001" title="List[List[RefChecks.this.global.ValDef]]">vparams</a>, <a href="#564002" title="RefChecks.this.global.Tree">tpt</a>, 
                  <a href="Typers.scala.html#106063" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95939" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105568" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106315" title="=&gt; RefChecks.this.global.Symbol">Predef_error</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Literal*)List[RefChecks.this.global.Literal]">List</span><span class="delimiter">(</span><a href="../SubComponent.scala.html#95939" title="(value: Any)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="java.lang.String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#559355" title="(tree: RefChecks.this.global.Tree)Unit">checkDeprecatedOvers</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36906" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryUnit</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#559365" title="(sym: RefChecks.this.global.Symbol)Unit">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a href="#563988" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36908" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnInaccessible</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#563988" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563988" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107529" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#563988" title="RefChecks.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSynthetic</span><span class="delimiter">)</span>
                <a href="#559354" title="(tree: RefChecks.this.global.Tree)Unit">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#562667" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="564066">parents</a>, <a title="RefChecks.this.global.ValDef" id="564067">self</a>, <a title="List[RefChecks.this.global.Tree]" id="564068">body</a><span class="delimiter">)</span> =&gt;
            <a href="#559301" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#559301" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#106062" title="(tree: RefChecks.this.global.analyzer.global.Tree, owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#162570" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#559316" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162570" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#559312" title="(clazz: RefChecks.this.global.Symbol)Unit">checkOverloadedRestrictions</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162570" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="564069">bridges</a> = <a href="#559314" title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]">addVarargBridges</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162570" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#559315" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162570" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>

            <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#564069" title="List[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#162568" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162478" title="(tree: RefChecks.this.global.Tree, parents: List[RefChecks.this.global.Tree], self: RefChecks.this.global.ValDef, body: List[RefChecks.this.global.Tree])RefChecks.this.global.Template">Template</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>, <a href="#564066" title="List[RefChecks.this.global.Tree]">parents</a>, <a href="#564067" title="RefChecks.this.global.ValDef">self</a>, <a href="#564068" title="List[RefChecks.this.global.Tree]">body</a> <a href="#564081" title="(prefix: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">:::</a> <a href="#564069" title="List[RefChecks.this.global.Tree]">bridges</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#562667" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <a title="RefChecks.this.global.TypeTreeWithDeferredRefCheck" id="564089">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;)" class="string">&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;</span><span class="delimiter">)</span>; <a href="#564089" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564093">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#564093" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135861" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#564093" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">original</a> <a href="../ast/Trees.scala.html#109174" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#564167" title="Unit" class="delimiter">{</a>
                <span class="keyword">case</span> <a title="Unit" id="564168">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                  <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="Unit" class="delimiter">(</span><a href="#564168" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#160732" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #2416 -- only call transform to do refchecks, but discard results</span>
                  <span class="comment">// tpt has the right type if the deferred checks are ok</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="564096">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#559359" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#564171" title="Unit" class="delimiter">{</a> <span class="comment">// check all bounds, except those that are</span>
                              <span class="comment">// existential type parameters</span>
              <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="564174">tparams</a>, <a title="RefChecks.this.global.Type" id="564175">tpe</a><span class="delimiter">)</span> =&gt; 
                <a href="#564096" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Symbol])existentialParams.type">++=</span> <a href="#564174" title="List[RefChecks.this.global.Symbol]">tparams</a>
              <span class="keyword">case</span> <a title="Unit" id="564183">t</a>: <a href="../symtab/Types.scala.html#67444" title="RefChecks.this.global.TypeRef">TypeRef</a> =&gt; 
                <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="564184">exparams</a> = <a href="#564096" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">toList</span>
                <span class="keyword">val</span> <a title="List[RefChecks.this.global.WildcardType.type]" id="564185">wildcards</a> = <a href="#564184" title="List[RefChecks.this.global.Symbol]">exparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.WildcardType.type,List[RefChecks.this.global.WildcardType.type]])List[RefChecks.this.global.WildcardType.type]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="564202">_</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object RefChecks.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
                <a href="#559357" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#564183" title="RefChecks.this.global.TypeRef">t</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Type])RefChecks.this.global.Type">subst</a><span class="delimiter">(</span><a href="#564184" title="List[RefChecks.this.global.Symbol]">exparams</a>, <a href="#564185" title="List[RefChecks.this.global.WildcardType.type]">wildcards</a><span class="delimiter">)</span>, <a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; 
            <span class="delimiter">}</span>
            <a href="#562667" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564234">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="564235">args</a><span class="delimiter">)</span> =&gt;
            <a href="#559347" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67408" title="object RefChecks.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#564234" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#564235" title="List[RefChecks.this.global.Tree]">args</a> <span title="(f: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#564252" title="RefChecks.this.global.Tree">_</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
            <a href="#559361" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564280">x</a> @ Apply<span class="delimiter">(</span>_, _<span class="delimiter">)</span>  =&gt;
            <a href="#559362" title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree">transformApply</a><span class="delimiter">(</span><a href="#564280" title="RefChecks.this.global.Apply">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564283">x</a> @ If<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span>  =&gt;
            <a href="#559364" title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree">transformIf</a><span class="delimiter">(</span><a href="#564283" title="RefChecks.this.global.If">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">New</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564290">tpt</a><span class="delimiter">)</span> =&gt;
            <a href="#559338" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#564290" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#562667" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Typed</span><span class="delimiter">(</span>_, Ident<span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115051" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#559356" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> =&gt;
            <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="java.lang.String(&quot;no `: _*\' annotation allowed here\012(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span><span class="delimiter">)</span>
            <a href="#562667" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="564300">name</a><span class="delimiter">)</span> =&gt;
            <a href="#559361" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>,
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#564300" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67724" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; RefChecks.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#564300" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67720" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115051" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#563988" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <span title="java.lang.String(&quot;transformCaseApply: name = &quot;)" class="string">&quot;transformCaseApply: name = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#564300" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96605" title="()java.lang.String">debugString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree = &quot;)" class="string">&quot; tree = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562667" title="RefChecks.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span> <span class="comment">//debug</span>
                <a href="#559338" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#563988" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564317">x</a> @ Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="#559363" title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree">transformSelect</a><span class="delimiter">(</span><a href="#564317" title="RefChecks.this.global.Select">x</a><span class="delimiter">)</span>
            
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">UnApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564324">fun</a>, <a title="List[RefChecks.this.global.Tree]" id="564325">args</a><span class="delimiter">)</span> =&gt;
            <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564324" title="RefChecks.this.global.Tree">fun</a><span class="delimiter">)</span> <span class="comment">// just make sure we enterReference for unapply symbols, note that super.transform(tree) would not transform(fun)</span>
                           <span class="comment">// transformTrees(args) // TODO: is this necessary? could there be forward references in the args??</span>
                           <span class="comment">// probably not, until we allow parameterised extractors</span>
            <a href="#562667" title="RefChecks.this.global.Tree">tree</a>


          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt; <a href="#562667" title="RefChecks.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
        <a href="#563989" title="RefChecks.this.global.Tree">result</a> = <a href="#563989" title="RefChecks.this.global.Tree">result</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="564331">pat</a>, <a title="RefChecks.this.global.Tree" id="564332">guard</a>, <a title="RefChecks.this.global.Tree" id="564333">body</a><span class="delimiter">)</span> =&gt;
            <a href="#559307" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="564334">pat1</a> = <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564331" title="RefChecks.this.global.Tree">pat</a><span class="delimiter">)</span>
            <a href="#559307" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="../ast/Trees.scala.html#162568" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162480" title="(tree: RefChecks.this.global.Tree, pat: RefChecks.this.global.Tree, guard: RefChecks.this.global.Tree, body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>, <a href="#564334" title="RefChecks.this.global.Tree">pat1</a>, <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564332" title="RefChecks.this.global.Tree">guard</a><span class="delimiter">)</span>, <a href="#559366" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#564333" title="RefChecks.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt;
            <a href="#110571" title="RefChecks.this.RefCheckTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162576" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#563989" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#563989" title="RefChecks.this.global.Tree">result</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> 
             | TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#563989" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107530" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#563989" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span> 
              <a href="#559327" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<a href="../ast/Trees.scala.html#162670" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#563989" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#563989" title="RefChecks.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="564356">ex</a>: <a href="../symtab/Types.scala.html#67669" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#564356" title="RefChecks.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>;
          <a href="#559367" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#562667" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#564356" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#562667" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#559301" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#563986" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
        <a href="#559304" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#563987" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <span class="delimiter">}</span>        
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>