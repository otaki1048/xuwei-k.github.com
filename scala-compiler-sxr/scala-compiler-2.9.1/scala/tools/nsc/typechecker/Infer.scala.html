<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Infer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.util.control.ControlThrowable
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#31727" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> scala.annotation.tailrec

<span class="comment">/** This trait ...
 *
 *  @author Martin Odersky
 *  @version 1.0
 */</span>
<span class="keyword">trait</span> <a title="trait Infer extends java.lang.Object with ScalaObject" id="30119">Infer</a> <span title="ScalaObject" class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#105486" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67688" title="object Infer.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#64954" title="object Infer.this.global.typer">typer</a>.printInference
  <span class="keyword">import</span> <a href="../symtab/TypeDebugging.scala.html#67934" title="object Infer.this.global.typeDebug">typeDebug</a>.ptBlock

<span class="comment">/* -- Type parameter inference utility functions --------------------------- */</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="105615">assertNonCyclic</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="542773">tvar</a>: <a href="../symtab/Types.scala.html#67458" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span> =
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#542773" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#542773" title="Infer.this.global.TypeVar">tvar</a>, <a href="#542773" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448928" title="=&gt; Infer.this.global.Type">origin</a><span class="delimiter">)</span>

  <span class="comment">/** The formal parameter types corresponding to &lt;code&gt;formals&lt;/code&gt;.
   *  If &lt;code&gt;formals&lt;/code&gt; has a repeated last parameter, a list of
   *  (nargs - params.length + 1) copies of its type is returned.
   *  By-name types are replaced with their underlying type.
   *
   *  @param removeByName allows keeping ByName parameters. Used in NamesDefaults.
   *  @param removeRepeated allows keeping repeated parameter (if there's one argument). Used in NamesDefaults.
   */</span>
  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]" id="105616">formalTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="542783">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="542784">nargs</a>: <span title="Int">Int</span>, <a title="Boolean" id="542788">removeByName</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>, <a title="Boolean" id="542789">removeRepeated</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="542790">formals1</a> = <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#542788" title="Boolean">removeByName</a><span class="delimiter">)</span> <a href="#542783" title="List[Infer.this.global.Type]">formals</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">mapConserve</span> <a href="#542797" title="Infer.this.global.Type" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106224" title="=&gt; Infer.this.global.Symbol">ByNameParamClass</a>, <a href="#542802" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="542813">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#542813" title="Infer.this.global.Type">arg</a>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="542814">formal</a> =&gt; <a href="#542814" title="Infer.this.global.Type">formal</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#542783" title="List[Infer.this.global.Type]">formals</a>
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106221" title="(formals: List[Infer.this.global.Type])Boolean">isVarArgTypes</a><span class="delimiter">(</span><a href="#542790" title="List[Infer.this.global.Type]">formals1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#542789" title="Boolean">removeRepeated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#542783" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#542784" title="Int">nargs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="542824">ft</a> = <a href="#542790" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Infer.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span>
      <a href="#542790" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; List[Infer.this.global.Type]">init</span> <a href="#542828" title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">:::</a> <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="542876">i</a> &lt;- <span title="object List">List</span>.<span title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</span><span title="(f: Int =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]" class="delimiter">(</span><a href="#542790" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="#542784" title="Int">nargs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#542824" title="Infer.this.global.Type">ft</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#542790" title="List[Infer.this.global.Type]">formals1</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]" id="105617">actualTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="542911">actuals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="542912">nformals</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#542912" title="Int">nformals</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67575" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#542911" title="List[Infer.this.global.Type]">actuals</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#542911" title="List[Infer.this.global.Type]">actuals</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106336" title="(elems: List[Infer.this.global.Type])Infer.this.global.Type">tupleType</a><span class="delimiter">(</span><a href="#542911" title="List[Infer.this.global.Type]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#542911" title="List[Infer.this.global.Type]">actuals</a>

  <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, actuals: List[Infer.this.global.Tree], nformals: Int)List[Infer.this.global.Tree]" id="105618">actualArgs</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="542927">pos</a>: <a href="../util/Position.scala.html#30599" title="Infer.this.global.Position">Position</a>, <a title="List[Infer.this.global.Tree]" id="542928">actuals</a>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="542929">nformals</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="542931">inRange</a> = <a href="#542929" title="Int">nformals</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67575" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#542928" title="List[Infer.this.global.Tree]">actuals</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#542928" title="List[Infer.this.global.Tree]">actuals</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106316" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span>
    <span title="List[Infer.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#542931" title="Boolean">inRange</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span title="(xs: Infer.this.global.gen.global.Tree*)List[Infer.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Infer.this.global.Position)(tree: Infer.this.global.gen.global.Tree)Infer.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#542927" title="Infer.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object Infer.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105446" title="(elems: List[Infer.this.global.gen.global.Tree])Infer.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#542928" title="List[Infer.this.global.Tree]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#542928" title="List[Infer.this.global.Tree]">actuals</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A fresh type variable with given type parameter as origin.
   *
   *  @param tparam ...
   *  @return       ...
   */</span>
  <span class="keyword">def</span> <a title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar" id="105619">freshVar</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="540310">tparam</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67458" title="Infer.this.global.TypeVar">TypeVar</a> = <a href="../symtab/Types.scala.html#448918" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#540310" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span> 
  
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NoInstance extends java.lang.Throwable with scala.util.control.ControlThrowable with ScalaObject" id="105620">NoInstance</a><a href="#105620" title="ScalaObject" class="delimiter">(</a><a title="String" id="542977">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.Throwable">Throwable</span><span class="delimiter">(</span><a href="#542977" title="String">msg</a><span class="delimiter">)</span> <span class="keyword">with</span> <span title="scala.util.control.ControlThrowable">ControlThrowable</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class DeferredNoInstance extends Infer.this.NoInstance with ScalaObject" id="105621">DeferredNoInstance</a><a href="#105621" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; String" id="542991">getmsg</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#105620" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="542988">getMessage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#542991" title="()String">getmsg</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](f: String =&gt; T)PartialFunction[Throwable,T]" id="105622">ifNoInstance</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="105624">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String =&gt; T" id="542996">f</a>: String =&gt; T<span class="delimiter">)</span>: <span title="PartialFunction[Throwable,T]">PartialFunction</span><span class="delimiter">[</span>Throwable, T<span class="delimiter">]</span> = <a href="#543000" title="T" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="T" id="543001">x</a>: <a href="#105620" title="Infer.this.NoInstance">NoInstance</a>  =&gt; <a href="#542996" title="(v1: String)T">f</a><span class="delimiter">(</span><a href="#543001" title="Infer.this.NoInstance">x</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Map every TypeVar to its constraint.inst field.
   *  throw a NoInstance exception if a NoType or WildcardType is encountered.
   */</span>
  <span class="keyword">object</span> <a title="object Infer.this.instantiate" id="105625">instantiate</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67503" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Infer.this.global.TypeVar]" id="543005">excludedVars</a> = immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Infer.this.global.TypeVar*)scala.collection.immutable.Set[Infer.this.global.TypeVar]" class="delimiter">[</span><a href="../symtab/Types.scala.html#67458" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="543007">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543011">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="#543011" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67390" title="Nothing">WildcardType</a> | BoundedWildcardType<span class="delimiter">(</span>_<span class="delimiter">)</span> | <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a> =&gt;
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#105620" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;undetermined type&quot;)" class="string">&quot;undetermined type&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543015">tv</a> @ <a href="../symtab/Types.scala.html#448916" title="(tv: Infer.this.global.TypeVar)Some[(Infer.this.global.Type, Infer.this.global.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543019">origin</a>, <a title="Infer.this.global.TypeConstraint" id="543020">constr</a><span class="delimiter">)</span> =&gt;
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#543020" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#105621" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="java.lang.String(&quot;no unique instantiation of type variable &quot;)" class="string">&quot;no unique instantiation of type variable &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543019" title="Infer.this.global.Type">origin</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; could be found&quot;)" class="string">&quot; could be found&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#543005" title="(elem: Infer.this.global.TypeVar)Boolean">excludedVars</a><span class="delimiter">(</span><a href="#543015" title="Infer.this.global.TypeVar">tv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#105620" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cyclic instantiation&quot;)" class="string">&quot;cyclic instantiation&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#543005" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit">excludedVars</a> <span title="(elem: Infer.this.global.TypeVar)scala.collection.immutable.Set[Infer.this.global.TypeVar]">+=</span> <a href="#543015" title="Infer.this.global.TypeVar">tv</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543046">res</a> = <a href="#543007" title="(tp: Infer.this.global.Type)Infer.this.global.Type">apply</a><span class="delimiter">(</span><a href="#543020" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
          <a href="#543005" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit">excludedVars</a> <span title="(elem: Infer.this.global.TypeVar)scala.collection.immutable.Set[Infer.this.global.TypeVar]">-=</span> <a href="#543015" title="Infer.this.global.TypeVar">tv</a>
          <a href="#543046" title="Infer.this.global.Type">res</a>
        <span class="delimiter">}</span> 
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#133280" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#543011" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Is type fully defined, i.e. no embedded anytypes or wildcards in it?
   *
   *  @param tp ...
   *  @return   ...
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Boolean" id="105627">isFullyDefined</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543103">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#543103" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67390" title="Boolean(false)">WildcardType</a> | BoundedWildcardType<span class="delimiter">(</span>_<span class="delimiter">)</span> | <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67397" title="Boolean(true)">NoPrefix</a> | ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span> | ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; 
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543111">pre</a>, <a title="Infer.this.global.Symbol" id="543112">sym</a>, <a title="List[Infer.this.global.Type]" id="543113">args</a><span class="delimiter">)</span> =&gt;
      <a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#543111" title="Infer.this.global.Type">pre</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#543113" title="List[Infer.this.global.Type]">args</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543123">pre</a>, <a title="Infer.this.global.Symbol" id="543124">sym</a><span class="delimiter">)</span> =&gt;
      <a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#543123" title="Infer.this.global.Type">pre</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="543127">ts</a>, <a title="Infer.this.global.Scope" id="543128">decls</a><span class="delimiter">)</span> =&gt;
      <a href="#543127" title="List[Infer.this.global.Type]">ts</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#448916" title="Boolean(false)">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543139">origin</a>, <a title="Infer.this.global.TypeConstraint" id="543140">constr</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#543140" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#543007" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#543103" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean(false)" id="543147">ex</a>: <a href="#105620" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>        

  <span class="comment">/** Solve constraint collected in types `tvars`.
   *
   *  @param tvars      All type variables to be instantiated.
   *  @param tparams    The type parameters corresponding to `tvars`
   *  @param variances  The variances of type parameters; need to reverse
   *                    solution direction for all contravariant variables.
   *  @param upper      When `true` search for max solution else min.
   *  @throws NoInstance
   */</span>
  <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]" id="105628">solvedTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.TypeVar]" id="540476">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="540477">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                  <a title="List[Int]" id="540478">variances</a>: <span title="List[Int]">List</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Boolean" id="540479">upper</a>: <span title="Boolean">Boolean</span>, <a title="Int" id="540480">depth</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67613" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)Boolean">solve</a><span class="delimiter">(</span><a href="#540476" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#540477" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540478" title="List[Int]">variances</a>, <a href="#540479" title="Boolean">upper</a>, <a href="#540480" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
      <span class="comment">// no panic, it's good enough to just guess a solution, we'll find out</span>
      <span class="comment">// later whether it works.  *ZAP* @M danger, Will Robinson! this means</span>
      <span class="comment">// that you should never trust inferred type arguments!</span>
      <span class="comment">//</span>
      <span class="comment">// Need to call checkBounds on the args/typars or type1 on the tree</span>
      <span class="comment">// for the expression that results from type inference see e.g., #2421:</span>
      <span class="comment">// implicit search had been ignoring this caveat</span>
      <span class="comment">// throw new DeferredNoInstance(() =&gt;</span>
      <span class="comment">//   &quot;no solution exists for constraints&quot;+(tvars map boundsString))</span>
    <span class="delimiter">}</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="543172">tvar</a> &lt;- <a href="#540476" title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">tvars</a> ; <span class="keyword">if</span> <a href="#543172" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#543172" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#543172" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448928" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Types.scala.html#67388" title="object Infer.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
        <span class="comment">// this can happen if during solving a cyclic type parameter</span>
        <span class="comment">// such as T &lt;: T gets completed. See #360</span>
        <a href="#543172" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449326" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#67388" title="object Infer.this.global.ErrorType">ErrorType</a>
      <span class="keyword">else</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#543172" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448928" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">origin</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; at &quot;)" class="string">&quot; at &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543172" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448928" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#540476" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#105625" title="object Infer.this.instantiate">instantiate</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="105629">skipImplicit</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543223">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#543223" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543226">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#543226" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a>  =&gt; <a href="#543226" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148703" title="=&gt; Infer.this.global.Type">resultType</a>
    <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span>                                =&gt; <a href="#543223" title="Infer.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Automatically perform the following conversions on expression types:
   *  A method type becomes the corresponding function type.
   *  A nullary method type becomes its result type.
   *  Implicit parameters are skipped.
   *  This method seems to be performance critical.
   */</span>
  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="105630">normalize</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="499898">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="#499898" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543231">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543234">params</a>, <a title="Infer.this.global.Type" id="543235">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#543231" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a> =&gt;
      <a href="#105630" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543235" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543236">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543239">params</a>, <a title="Infer.this.global.Type" id="543240">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#543240" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105310" title="=&gt; Boolean">isDependent</a> =&gt;
      <a href="../symtab/Definitions.scala.html#106350" title="(formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Infer.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#543239" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#543259" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#105630" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543240" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Infer.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543288">restpe</a><span class="delimiter">)</span> =&gt;
      <a href="#105630" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543288" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Infer.this.global.ExistentialType">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543291">tparams</a>, <a title="Infer.this.global.Type" id="543292">qtpe</a><span class="delimiter">)</span> =&gt;
      <a href="../symtab/Types.scala.html#149074" title="(quantified: List[Infer.this.global.Symbol], underlying: Infer.this.global.Type)Infer.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#543291" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#105630" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543292" title="Infer.this.global.Type">qtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543297">tp1</a> =&gt;
      <a href="#543297" title="Infer.this.global.Type">tp1</a> <span class="comment">// @MAT aliases already handled by subtyping</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.ClassSymbol" id="105631">stdErrorClass</a> = <a href="../symtab/Definitions.scala.html#106036" title="=&gt; Infer.this.global.ModuleClassSymbol">RootClass</a>.<a href="../symtab/Symbols.scala.html#107316" title="(name: Infer.this.global.TypeName)Infer.this.global.ClassSymbol">newErrorClass</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object Infer.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114894" title="=&gt; Infer.this.global.tpnme.NameType">ERROR</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.TermSymbol" id="105633">stdErrorValue</a> = <a href="#105631" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>.<a href="../symtab/Symbols.scala.html#107296" title="(name: Infer.this.global.TermName)Infer.this.global.TermSymbol">newErrorValue</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114894" title="=&gt; Infer.this.global.nme.NameType">ERROR</a><span class="delimiter">)</span>

  <span class="comment">/** The context-dependent inferencer part */</span>
  <span class="keyword">class</span> <a title="class Inferencer extends java.lang.Object with ScalaObject" id="105635">Inferencer</a><a href="#105635" title="ScalaObject" class="delimiter">(</a><a title="Infer.this.Context" id="106605">context</a>: <a href="Contexts.scala.html#105513" title="Infer.this.Context">Context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/* -- Error Messages --------------------------------------------------- */</span>
    <span class="keyword">def</span> <a title="[T &lt;: Infer.this.global.Tree](tree: T)T" id="105950">setError</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Infer.this.global.Tree" id="105952">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="543300">tree</a>: <a href="#105952" title="T">T</a><span class="delimiter">)</span>: <a href="#105952" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.TermName" id="543303">name</a>        = <a href="../symtab/Names.scala.html#66903" title="(s: String)Infer.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&lt;error: &quot;)" class="string">&quot;&lt;error: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543300" title="T">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.ClassSymbol" id="543304">errorClass</a>  = <span title="Infer.this.global.ClassSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106662" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107316" title="(name: Infer.this.global.TypeName)Infer.this.global.ClassSymbol">newErrorClass</a><span class="delimiter">(</span><a href="#543303" title="=&gt; Infer.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#96636" title="=&gt; Infer.this.global.TypeName">toTypeName</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105631" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.TermSymbol" id="543305">errorValue</a>  = <span title="Infer.this.global.TermSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106662" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107296" title="(name: Infer.this.global.TermName)Infer.this.global.TermSymbol">newErrorValue</a><span class="delimiter">(</span><a href="#543303" title="=&gt; Infer.this.global.TermName">name</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105633" title="=&gt; Infer.this.global.TermSymbol">stdErrorValue</a>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Symbol" id="543306">errorSym</a>    = <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Infer.this.global.Tree)Infer.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109031" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#543304" title="=&gt; Infer.this.global.ClassSymbol">errorClass</a> <span class="keyword">else</span> <a href="#543305" title="=&gt; Infer.this.global.TermSymbol">errorValue</a>
      
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#543300" title="T">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span>
        <a href="#543300" title="T">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#543306" title="=&gt; Infer.this.global.Symbol">errorSym</a>

      <a href="#543300" title="T">tree</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="../symtab/Types.scala.html#67388" title="object Infer.this.global.ErrorType">ErrorType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, msg: String)Unit" id="105953">error</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="539698">pos</a>: <a href="../util/Position.scala.html#30599" title="Infer.this.global.Position">Position</a>, <a title="String" id="539699">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106709" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#539698" title="Infer.this.global.Position">pos</a>, <a href="#539699" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree" id="105954">errorTree</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="543552">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="String" id="543553">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Infer.this.global.Tree)Infer.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109032" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#543552" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#543553" title="String">msg</a><span class="delimiter">)</span>
      <a href="#105950" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#543552" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, found: Infer.this.global.Type, req: Infer.this.global.Type)Unit" id="105955">typeError</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="543560">pos</a>: <a href="../util/Position.scala.html#30599" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="543561">found</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543562">req</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#543561" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#543562" title="Infer.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>        
        <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#543560" title="Infer.this.global.Position">pos</a>, <a href="TypeDiagnostics.scala.html#105778" title="(pos: Infer.this.global.Position)String =&gt; java.lang.String">withAddendum</a><span title="(v1: String)java.lang.String" class="delimiter">(</span><a href="#543560" title="Infer.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#105956" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)java.lang.String">typeErrorMsg</a><span class="delimiter">(</span><a href="#543561" title="Infer.this.global.Type">found</a>, <a href="#543562" title="Infer.this.global.Type">req</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36875" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="#105958" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#543561" title="Infer.this.global.Type">found</a>, <a href="#543562" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(found: Infer.this.global.Type, req: Infer.this.global.Type)java.lang.String" id="105956">typeErrorMsg</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539747">found</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539748">req</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="539751">isPossiblyMissingArgs</a> = <span class="delimiter">(</span><a href="#539747" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#105329" title="=&gt; Infer.this.global.Type">resultApprox</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#539747" title="Infer.this.global.Type">found</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105967" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#539747" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#105329" title="=&gt; Infer.this.global.Type">resultApprox</a>, <a href="#539748" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="539752">missingArgsMsg</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#539751" title="=&gt; Boolean">isPossiblyMissingArgs</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012 possible cause: missing arguments for method or constructor&quot;)" class="string">&quot;\n possible cause: missing arguments for method or constructor&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      
      <span title="java.lang.String(&quot;type mismatch&quot;)" class="string">&quot;type mismatch&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105793" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#539747" title="Infer.this.global.Type">found</a>, <a href="#539748" title="Infer.this.global.Type">req</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#539752" title="=&gt; java.lang.String">missingArgsMsg</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree" id="105957">typeErrorTree</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="543585">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="543586">found</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543587">req</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#105955" title="(pos: Infer.this.global.Position, found: Infer.this.global.Type, req: Infer.this.global.Type)Unit">typeError</a><span class="delimiter">(</span><a href="#543585" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#543586" title="Infer.this.global.Type">found</a>, <a href="#543587" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <a href="#105950" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#543585" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit" id="105958">explainTypes</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540748">tp1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="540749">tp2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = 
      <a href="TypeDiagnostics.scala.html#105801" title="(locals: List[Infer.this.global.Symbol], types: Infer.this.global.Type*)(op: =&gt; Unit)Unit">withDisambiguation</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#540748" title="Infer.this.global.Type">tp1</a>, <a href="#540749" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../symtab/Types.scala.html#67668" title="(found: Infer.this.global.Type, required: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#540748" title="Infer.this.global.Type">tp1</a>, <a href="#540749" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/* -- Tests &amp; Checks---------------------------------------------------- */</span>

    <span class="comment">/** Check that &lt;code&gt;sym&lt;/code&gt; is defined and accessible as a member of
     *  tree &lt;code&gt;site&lt;/code&gt; with type &lt;code&gt;pre&lt;/code&gt; in current context.
     *
     * Note: pre is not refchecked -- moreover, refchecking the resulting tree may not refcheck pre,
     *       since pre may not occur in its type (callers should wrap the result in a TypeTreeWithDeferredRefCheck)
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, sym: Infer.this.global.Symbol, pre: Infer.this.global.Type, site: Infer.this.global.Tree)Infer.this.global.Tree" id="105959">checkAccessible</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="543592">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Symbol" id="543593">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="543594">pre</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Tree" id="543595">site</a>: <span title="Infer.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> =
      <span title="Infer.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107337" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#543592" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#543593" title="Infer.this.global.Symbol">sym</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="../symtab/Types.scala.html#67388" title="object Infer.this.global.ErrorType">ErrorType</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="543599">topClass</a> = <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107477" title="=&gt; Infer.this.global.Symbol">toplevelClass</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Infer.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96418" title="=&gt; scala.collection.mutable.HashSet[Infer.this.global.Symbol]">depends</a> <span title="(elem: Infer.this.global.Symbol)scala.collection.mutable.HashSet[Infer.this.global.Symbol]">+=</span> <a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107477" title="=&gt; Infer.this.global.Symbol">toplevelClass</a> 

        <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="543600">sym1</a> = <a href="#543593" title="Infer.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="543648">alt</a> =&gt; <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106719" title="(sym: Infer.this.global.Symbol, pre: Infer.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#543648" title="Infer.this.global.Symbol">alt</a>, <a href="#543594" title="Infer.this.global.Type">pre</a>, <a href="#543595" title="Infer.this.global.Tree">site</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.Super">Super</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// Console.println(&quot;check acc &quot; + (sym, sym1) + &quot;:&quot; + (sym.tpe, sym1.tpe) + &quot; from &quot; + pre);//DEBUG</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#543600" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543593" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96436" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="comment">// don't try to second guess Java; see #4402</span>
          <a href="#543600" title="Infer.this.global.Symbol">sym1</a> = <a href="#543593" title="Infer.this.global.Symbol">sym</a>

        <span title="Infer.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#543600" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#106605" title="Infer.this.Context">context</a><span class="delimiter">)</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#543592" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543594" title="Infer.this.global.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106620" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#106623" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Infer.this.global.Type">thisType</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#543594" title="Infer.this.global.Type">pre</a> <a href="../symtab/Types.scala.html#105379" title="(that: Infer.this.global.Type)Boolean">=:=</a> <a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Infer.this.global.Type">thisType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Inferencer.this.AccessError" class="keyword">new</span> <a href="#549938" title="Inferencer.this.AccessError">AccessError</a><span class="delimiter">(</span><a href="#543592" title="Infer.this.global.Tree">tree</a>, <a href="#543593" title="Infer.this.global.Symbol">sym</a>, <a href="#543594" title="Infer.this.global.Type">pre</a>,
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36748" title="=&gt; scala.tools.nsc.Settings#PhasesSetting">check</a>.<a href="../settings/MutableSettings.scala.html#42161" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#64900" title="object Infer.this.global.analyzer">analyzer</a>.<a href="Contexts.scala.html#105506" title="=&gt; String">lastAccessCheckDetails</a>
            <span class="keyword">else</span>
              <a href="../symtab/TypeDebugging.scala.html#151673" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;because of an internal error (no accessible symbol)&quot;)" class="string">&quot;because of an internal error (no accessible symbol)&quot;</span>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;sym.ownerChain&quot;</span>                <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107403" title="=&gt; List[Infer.this.global.Symbol]">ownerChain</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;underlying(sym)&quot;</span>               <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="Namers.scala.html#105537" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#543593" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pre&quot;</span>                           <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#543594" title="Infer.this.global.Type">pre</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;site&quot;</span>                          <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#543595" title="Infer.this.global.Tree">site</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree&quot;</span>                          <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#543592" title="Infer.this.global.Tree">tree</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;sym.accessBoundary(sym.owner)&quot;</span> <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107416" title="(base: Infer.this.global.Symbol)Infer.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#543593" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;context.owner&quot;</span>                 <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;context.outer.enclClass.owner&quot;</span> <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106620" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#106623" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a>
              <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#543600" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span>
            <a href="#543600" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107434" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// xform java rawtypes into existentials</span>

          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="543830">owntype</a> = <span class="keyword">try</span><span class="delimiter">{</span> 
            <a href="#543594" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#543600" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Infer.this.global.ErrorType.type" id="543832">ex</a>: <a href="../symtab/Types.scala.html#67660" title="Infer.this.global.MalformedType">MalformedType</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#543832" title="Infer.this.global.MalformedType">ex</a>.<span title="()Unit">printStackTrace</span>
              <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="543833">sym2</a> = <a href="Namers.scala.html#105537" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#543600" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543834">itype</a> = <a href="#543594" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#543833" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
              <span title="Inferencer.this.AccessError" class="keyword">new</span> <a href="#549938" title="Inferencer.this.AccessError">AccessError</a><span class="delimiter">(</span><a href="#543592" title="Infer.this.global.Tree">tree</a>, <a href="#543593" title="Infer.this.global.Symbol">sym</a>, <a href="#543594" title="Infer.this.global.Type">pre</a>,
                          <span title="java.lang.String(&quot;\012 because its instance type &quot;)" class="string">&quot;\n because its instance type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543834" title="Infer.this.global.Type">itype</a><span title="(x$1: Any)java.lang.String">+</span>
                          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;malformed type: &quot;)" class="string">&quot;malformed type: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543834" title="Infer.this.global.Type">itype</a>.<span title="()String">toString</span><span title="(x$1: AnyRef)Boolean">==</span><a href="#543832" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#313891" title="=&gt; String">msg</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; is malformed&quot;)" class="string">&quot; is malformed&quot;</span> 
                           <span class="keyword">else</span> <span title="java.lang.String(&quot; contains a &quot;)" class="string">&quot; contains a &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543832" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#313891" title="=&gt; String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#543689" title="()Infer.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#67388" title="object Infer.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#543594" title="Infer.this.global.Type">pre</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67407" title="Infer.this.global.SuperType">SuperType</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <a href="#543830" title="Infer.this.global.Type">owntype</a> = <a href="#543830" title="Infer.this.global.Type">owntype</a>.<a href="../symtab/Types.scala.html#105366" title="(from: Infer.this.global.Type, to: Infer.this.global.Type)Infer.this.global.Type">substSuper</a><span class="delimiter">(</span><a href="#543594" title="Infer.this.global.Type">pre</a>, <a href="#543595" title="Infer.this.global.Tree">site</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Infer.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#543592" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#543600" title="Infer.this.global.Symbol">sym1</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="#543830" title="Infer.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Capturing the overlap between isPlausiblyCompatible and normSubType.
     *  This is a faithful translation of the code which was there, but it
     *  seems likely the methods are intended to be even more similar than
     *  they are: perhaps someone more familiar with the intentional distinctions
     *  can examine the now much smaller concrete implementations below.
     */</span>
<span class="comment">/*
    abstract class CompatibilityChecker {
      def resultTypeCheck(restpe: Type, arg: Type): Boolean
      def argumentCheck(arg: Type, param: Type): Boolean
      def lastChanceCheck(tp: Type, pt: Type): Boolean
      
      final def mtcheck(tp: MethodType, pt: TypeRef): Boolean = {
        val MethodType(params, restpe) = tp
        val TypeRef(pre, sym, args) = pt

        if (sym.isAliasType) apply(tp, pt.normalize)
        else if (sym.isAbstractType) apply(tp, pt.bounds.lo)
        else {
          val len = args.length - 1
          hasLength(params, len) &amp;&amp;
          sym == FunctionClass(len) &amp;&amp; {
            val ps = params.iterator
            val as = args.iterator
            while (ps.hasNext &amp;&amp; as.hasNext) {
              if (!argumentCheck(as.next, ps.next.tpe))
                return false
            }
            ps.isEmpty &amp;&amp; as.hasNext &amp;&amp; {
              val lastArg = as.next
              as.isEmpty &amp;&amp; resultTypeCheck(restpe, lastArg)
            }
          }
        }
      }

      def apply(tp: Type, pt: Type): Boolean = tp match {
        case mt @ MethodType(_, restpe) =&gt;
          if (mt.isImplicit)
            apply(restpe, pt)
          else pt match {
            case tr: TypeRef  =&gt; mtcheck(mt, tr)
            case _            =&gt; lastChanceCheck(tp, pt)
          }
        case NullaryMethodType(restpe)  =&gt; apply(restpe, pt)
        case PolyType(_, restpe)        =&gt; apply(restpe, pt)
        case ExistentialType(_, qtpe)   =&gt; apply(qtpe, pt)
        case _                          =&gt; argumentCheck(tp, pt)
      }
    }
    
    object isPlausiblyCompatible extends CompatibilityChecker {
      def resultTypeCheck(restpe: Type, arg: Type) = isPlausiblyCompatible(restpe, arg)
      def argumentCheck(arg: Type, param: Type)    = isPlausiblySubType(arg, param)
      def lastChanceCheck(tp: Type, pt: Type)      = false
    }
    object normSubType extends CompatibilityChecker {
      def resultTypeCheck(restpe: Type, arg: Type) = normSubType(restpe, arg)
      def argumentCheck(arg: Type, param: Type)    = arg &lt;:&lt; param
      def lastChanceCheck(tp: Type, pt: Type)      = tp &lt;:&lt; pt
      
      override def apply(tp: Type, pt: Type): Boolean = tp match {
        case ExistentialType(_, _)     =&gt; normalize(tp) &lt;:&lt; pt
        case _                         =&gt; super.apply(tp, pt)
      }
    }
*/</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="105960">isPlausiblyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540027">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="540028">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#540027" title="Infer.this.global.Type">tp</a>, <a href="#540028" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="105961">normSubType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539826">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539827">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#539826" title="Infer.this.global.Type">tp</a>, <a href="#539827" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

    @tailrec <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="105962">checkCompatibility</a><span class="delimiter">(</span><a title="Boolean" id="539830">fast</a>: <span title="Boolean">Boolean</span>, <a title="Infer.this.global.Type" id="539831">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539832">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#539831" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="543848">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543851">params</a>, <a title="Infer.this.global.Type" id="543852">restpe</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#543848" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a><span class="delimiter">)</span>
          <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a>, <a href="#543852" title="Infer.this.global.Type">restpe</a>, <a href="#539832" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#539832" title="Infer.this.global.Type">pt</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="543853">tr</a> @ TypeRef<span class="delimiter">(</span><a title="Infer.this.global.Type" id="543857">pre</a>, <a title="Infer.this.global.Symbol" id="543858">sym</a>, <a title="List[Infer.this.global.Type]" id="543859">args</a><span class="delimiter">)</span> =&gt; 

            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#543858" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a>, <a href="#539831" title="Infer.this.global.Type">tp</a>, <a href="#539832" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#543858" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a>, <a href="#539831" title="Infer.this.global.Type">tp</a>, <a href="#539832" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Infer.this.global.Type">lo</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="543860">len</a> = <a href="#543859" title="List[Infer.this.global.Type]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
              <a href="../symtab/Types.scala.html#67575" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#543851" title="List[Infer.this.global.Symbol]">params</a>, <a href="#543860" title="Int">len</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <a href="#543858" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106328" title="(i: Int)Infer.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#543860" title="Int">len</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="543870">ps</a> = <a href="#543851" title="List[Infer.this.global.Symbol]">params</a>
                <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="543871">as</a> = <a href="#543859" title="List[Infer.this.global.Type]">args</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#543870" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#543872" title="()Unit" class="delimiter">{</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105963" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a><span class="delimiter">(</span><a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Infer.this.global.Type">head</span>, <a href="#543870" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
                    <a href="#543870" title="List[Infer.this.global.Symbol]">ps</a> = <a href="#543870" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; List[Infer.this.global.Symbol]">tail</span>
                    <a href="#543871" title="List[Infer.this.global.Type]">as</a> = <a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; List[Infer.this.global.Type]">tail</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#543870" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#543912" title="()Unit" class="delimiter">{</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Infer.this.global.Type">head</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#543870" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
                    <a href="#543870" title="List[Infer.this.global.Symbol]">ps</a> = <a href="#543870" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; List[Infer.this.global.Symbol]">tail</span>
                    <a href="#543871" title="List[Infer.this.global.Type]">as</a> = <a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; List[Infer.this.global.Type]">tail</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
                <a href="#543870" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543923">lastArg</a> = <a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Infer.this.global.Type">head</span>
                  <a href="#543871" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; List[Infer.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a>, <a href="#543852" title="Infer.this.global.Type">restpe</a>, <a href="#543923" title="Infer.this.global.Type">lastArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          
          <span class="keyword">case</span> <span title="Boolean">_</span>            =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#539831" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539832" title="Infer.this.global.Type">pt</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543929">restpe</a><span class="delimiter">)</span>  =&gt; <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a>, <a href="#543929" title="Infer.this.global.Type">restpe</a>, <a href="#539832" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="543932">restpe</a><span class="delimiter">)</span>        =&gt; <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a>, <a href="#543932" title="Infer.this.global.Type">restpe</a>, <a href="#539832" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="543935">qtpe</a><span class="delimiter">)</span>   =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a><span class="delimiter">)</span> <a href="#105962" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a>, <a href="#543935" title="Infer.this.global.Type">qtpe</a>, <a href="#539832" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105630" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#539831" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539832" title="Infer.this.global.Type">pt</a> <span class="comment">// is !fast case needed??</span>
      <span class="keyword">case</span> <span title="Boolean">_</span>                          =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#539830" title="Boolean">fast</a><span class="delimiter">)</span> <a href="#105963" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a><span class="delimiter">(</span><a href="#539831" title="Infer.this.global.Type">tp</a>, <a href="#539832" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#539831" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539832" title="Infer.this.global.Type">pt</a>
    <span class="delimiter">}</span>


    <span class="comment">/** This expresses more cleanly in the negative: there's a linear path
     *  to a final true or false.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean" id="105963">isPlausiblySubType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543877">tp1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543878">tp2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#105964" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isImpossibleSubType</a><span class="delimiter">(</span><a href="#543877" title="Infer.this.global.Type">tp1</a>, <a href="#543878" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean" id="105964">isImpossibleSubType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543881">tp1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543882">tp2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#543881" title="Infer.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Infer.this.global.Type">widen</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="543885">tr1</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="543889">sym1</a>, _<span class="delimiter">)</span> =&gt;
        <span class="comment">// If the lhs is an abstract type, we can't rule out a subtype</span>
        <span class="comment">// relationship because we don't know what it is.</span>
        <span title="=&gt; Boolean">!</span><a href="#543889" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#543882" title="Infer.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Infer.this.global.Type">widen</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="543893">sym2</a>, _<span class="delimiter">)</span> =&gt;
             <a href="#543889" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
             <a href="#543893" title="Infer.this.global.Symbol">sym2</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#543889" title="Infer.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: Infer.this.global.Symbol)Boolean">isSubClass</a> <a href="#543893" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#543889" title="Infer.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107449" title="(that: Infer.this.global.Symbol)Boolean">isNumericSubClass</a> <a href="#543893" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="543898">parents</a>, <a title="Infer.this.global.Scope" id="543899">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#543899" title="Infer.this.global.Scope">decls</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#543885" title="Infer.this.global.TypeRef">tr1</a>.<a href="../symtab/Types.scala.html#105354" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#543899" title="Infer.this.global.Scope">decls</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="105965">isCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543938">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543939">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543941">tp1</a> = <a href="#105630" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543938" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#543941" title="Infer.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105378" title="(that: Infer.this.global.Type)Boolean">weak_&lt;:&lt;</a> <a href="#543939" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#105969" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCoercible</a><span class="delimiter">(</span><a href="#543941" title="Infer.this.global.Type">tp1</a>, <a href="#543939" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tps: List[Infer.this.global.Type], pts: List[Infer.this.global.Type])Boolean" id="105966">isCompatibleArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="543943">tps</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="543944">pts</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><a href="#543943" title="List[Infer.this.global.Type]">tps</a> <span title="(that: scala.collection.GenSeq[Infer.this.global.Type])(p: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Boolean)Boolean">corresponds</span> <a href="#543944" title="List[Infer.this.global.Type]">pts</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#105965" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="105967">isWeaklyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539753">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539754">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#539754" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Infer.this.global.Symbol">UnitClass</a> <span title="(x: Boolean)Boolean">||</span> <span class="comment">// can perform unit coercion</span>
      <a href="#105965" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#539753" title="Infer.this.global.Type">tp</a>, <a href="#539754" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#539753" title="Infer.this.global.Type">tp</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67437" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// can perform implicit () instantiation</span>
      <a href="#539753" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105965" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#539753" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#539754" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="comment">/** Like weakly compatible but don't apply any implicit conversions yet.
     *  Used when comparing the result type of a method with its prototype.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="105968">isConservativelyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543975">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543976">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106691" title="(op: =&gt; Boolean)Boolean">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#105967" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#543975" title="Infer.this.global.Type">tp</a>, <a href="#543976" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** This is overridden in the Typer.infer with some logic, but since
     *  that's the only place in the compiler an Inferencer is ever created,
     *  I suggest this should either be abstract or have the implementation.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="105969">isCoercible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="106599">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="106600">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/* -- Type instantiation------------------------------------------------ */</span>

    <span class="comment">/** Replace any (possibly bounded) wildcard types in type `tp`
     *  by existentially bound variables.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="105970">makeFullyDefined</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543981">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="543983">tparams</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">def</span> <a title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type" id="543984">addTypeParam</a><span class="delimiter">(</span><a title="Infer.this.global.TypeBounds" id="543986">bounds</a>: <a href="../symtab/Types.scala.html#67411" title="Infer.this.global.TypeBounds">TypeBounds</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.TypeSymbol" id="543987">tparam</a> =  
          <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107299" title="(pos: Infer.this.global.Position, name: Infer.this.global.TypeName)Infer.this.global.TypeSymbol">newAbstractType</a><span class="delimiter">(</span><a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="../symtab/Names.scala.html#66906" title="(s: String)Infer.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543983" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Infer.this.global.TypeSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span>
            .<a href="../symtab/Symbols.scala.html#107425" title="(info: Infer.this.global.Type)Infer.this.global.TypeSymbol">setInfo</a><span class="delimiter">(</span><a href="#543986" title="Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
        <a href="#543983" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a> <span title="(x: Infer.this.global.Symbol)tparams.type">+=</span> <a href="#543987" title="Infer.this.global.TypeSymbol">tparam</a>
        <a href="#543987" title="Infer.this.global.TypeSymbol">tparam</a>.<a href="../symtab/Symbols.scala.html#113029" title="=&gt; Infer.this.global.Type">tpe</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543985">tp1</a> = <a href="#543981" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105370" title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)Infer.this.global.Type">map</a> <a href="#544021" title="Infer.this.global.Type" class="delimiter">{</a> 
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67390" title="Infer.this.global.Type">WildcardType</a> =&gt;
          <a href="#543984" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67412" title="object Infer.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#148434" title="=&gt; Infer.this.global.TypeBounds">empty</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">BoundedWildcardType</span><span class="delimiter">(</span><a title="Infer.this.global.TypeBounds" id="544023">bounds</a><span class="delimiter">)</span> =&gt;
          <a href="#543984" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a><span class="delimiter">(</span><a href="#544023" title="Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Infer.this.global.Type" id="544024">t</a> =&gt; <a href="#544024" title="Infer.this.global.Type">t</a>
      <span class="delimiter">}</span>
      <a href="../symtab/Types.scala.html#67482" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#543983" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>, <a href="#543985" title="Infer.this.global.Type">tp1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Return inferred type arguments of polymorphic expression, given 
     *  its type parameters and result type and a prototype &lt;code&gt;pt&lt;/code&gt;.
     *  If no minimal type variables exist that make the
     *  instantiated type a subtype of &lt;code&gt;pt&lt;/code&gt;, return null.
     *
     *  @param tparams ...
     *  @param restpe  ...
     *  @param pt      ...
     *  @return        ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]" id="105971">exprTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="544027">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="544028">restpe</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="544029">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="544032">useWeaklyCompatible</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="544033">tvars</a> = <a href="#544027" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544034">instResTp</a> = <a href="#544028" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#544027" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544033" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#544032" title="Boolean">useWeaklyCompatible</a><span class="delimiter">)</span> <a href="#105967" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#544034" title="Infer.this.global.Type">instResTp</a>, <a href="#544029" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105965" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#544034" title="Infer.this.global.Type">instResTp</a>, <a href="#544029" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="comment">// If the restpe is an implicit method, and the expected type is fully defined</span>
          <span class="comment">// optimize type variables wrt to the implicit formals only; ignore the result type.</span>
          <span class="comment">// See test pos/jesper.scala </span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544081">varianceType</a> = <a href="#544028" title="Infer.this.global.Type">restpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Infer.this.global.MethodType" id="544082">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#544082" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#544029" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> =&gt;
              <a href="../symtab/Types.scala.html#148698" title="(params: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#544082" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148701" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="../symtab/Definitions.scala.html#106075" title="=&gt; Infer.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
              <a href="#544028" title="Infer.this.global.Type">restpe</a>
          <span class="delimiter">}</span>
          <span class="comment">//println(&quot;try to solve &quot;+tvars+&quot; &quot;+tparams)</span>
          <a href="#105628" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span><a href="#544033" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#544027" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544027" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#105684" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#544099" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#544081" title="Infer.this.global.Type">varianceType</a><span class="delimiter">)</span>, 
                      <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#67557" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#544028" title="Infer.this.global.Type">restpe</a>, <a href="#544029" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Null(null)" id="544135">ex</a>: <a href="#105620" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Return inferred proto-type arguments of function, given
    *  its type and value parameters and result type, and a
    *  prototype &lt;code&gt;pt&lt;/code&gt; for the function result.
    *  Type arguments need to be either determined precisely by
    *  the prototype, or they are maximized, if they occur only covariantly
    *  in the value parameter list.
    *  If instantiation of a type parameter fails, 
    *  take WildcardType for the proto-type argument.
    *
    *  @param tparams ...
    *  @param formals ...
    *  @param restype ...
    *  @param pt      ...
    *  @return        ...
    */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, pt: Infer.this.global.Type)List[Infer.this.global.Type]" id="105972">protoTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="544136">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="544137">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="544138">restpe</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>,
                      <a title="Infer.this.global.Type" id="544139">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">/** Map type variable to its instance, or, if `variance' is covariant/contravariant,
       *  to its upper/lower bound */</span>
      <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar, variance: Int)Infer.this.global.Type" id="544141">instantiateToBound</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="544143">tvar</a>: <a href="../symtab/Types.scala.html#67458" title="Infer.this.global.TypeVar">TypeVar</a>, <a title="Int" id="544144">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="544146">hiBounds</a> = <a href="#544143" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449321" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="544148">loBounds</a> = <a href="#544143" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449320" title="=&gt; List[Infer.this.global.Type]">loBounds</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544150">upper</a> = <a href="../symtab/Types.scala.html#67647" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><span class="delimiter">(</span><a href="#544145" title="=&gt; List[Infer.this.global.Type]">hiBounds</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544152">lower</a> = <a href="../symtab/Types.scala.html#67638" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a><span class="delimiter">(</span><a href="#544147" title="=&gt; List[Infer.this.global.Type]">loBounds</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="544153">setInst</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="544161">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <a href="#544143" title="Infer.this.global.TypeVar">tvar</a> <a href="../symtab/Types.scala.html#448944" title="(tp: Infer.this.global.Type)Unit">setInst</a> <a href="#544161" title="Infer.this.global.Type">tp</a>
          <a href="#105615" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a><span class="delimiter">(</span><a href="#544143" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span><span class="comment">//debug</span>
          <a href="#543007" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#544143" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">//Console.println(&quot;instantiate &quot;+tvar+tvar.constr+&quot; variance = &quot;+variance);//DEBUG</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#544143" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> 
          <a href="#543007" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#544143" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#544144" title="Int">variance</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544145" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#544153" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#544149" title="=&gt; Infer.this.global.Type">upper</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#544144" title="Int">variance</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(131072)">CONTRAVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544147" title="=&gt; List[Infer.this.global.Type]">loBounds</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#544153" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#544151" title="=&gt; Infer.this.global.Type">lower</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#544145" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544147" title="=&gt; List[Infer.this.global.Type]">loBounds</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544149" title="=&gt; Infer.this.global.Type">upper</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#544151" title="=&gt; Infer.this.global.Type">lower</a><span class="delimiter">)</span>
          <a href="#544153" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#544149" title="=&gt; Infer.this.global.Type">upper</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Infer.this.global.WildcardType.type" id="544188">ex</a>: <a href="#105620" title="Infer.this.NoInstance">NoInstance</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="544142">tvars</a> = <a href="#544136" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#105968" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isConservativelyCompatible</a><span class="delimiter">(</span><a href="#544138" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#544136" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544142" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>, <a href="#544139" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(_1: List[Infer.this.global.Symbol], _2: List[Infer.this.global.TypeVar])(List[Infer.this.global.Symbol], List[Infer.this.global.TypeVar])" class="delimiter">(</span><a href="#544136" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544142" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Symbol] =&gt; scala.collection.TraversableLike[Infer.this.global.Symbol,List[Infer.this.global.Symbol]], implicit w2: List[Infer.this.global.TypeVar] =&gt; scala.collection.IterableLike[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])(List[Infer.this.global.Symbol], List[Infer.this.global.TypeVar])#Zipped[List[Infer.this.global.Symbol],Infer.this.global.Symbol,List[Infer.this.global.TypeVar],Infer.this.global.TypeVar]">zipped</span> <span title="(f: (Infer.this.global.Symbol, Infer.this.global.TypeVar) =&gt; Infer.this.global.Type)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="544293">tparam</a>, <a title="Infer.this.global.TypeVar" id="544294">tvar</a><span class="delimiter">)</span> =&gt;
          <a href="#544141" title="(tvar: Infer.this.global.TypeVar, variance: Int)Infer.this.global.Type">instantiateToBound</a><span class="delimiter">(</span><a href="#544294" title="Infer.this.global.TypeVar">tvar</a>, <a href="Variances.scala.html#105680" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><span class="delimiter">(</span><a href="#544137" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#544293" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> 
        <a href="#544142" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.WildcardType.type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="544343">tvar</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.AdjustedTypeArgs" id="105973">AdjustedTypeArgs</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">type</span> <a title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]" id="540849">Result</a> = collection.mutable.<span title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]">LinkedHashMap</span><span class="delimiter">[</span>Symbol, Option<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]" id="540850">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="540883">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]">Some</span><span class="delimiter">(</span><a href="#540855" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type])">toLists</a><span class="delimiter">(</span>
        <a href="#540883" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a> <span title="(pf: PartialFunction[(Infer.this.global.Symbol, Option[Infer.this.global.Type]),(Infer.this.global.Symbol, Infer.this.global.Type)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">collect</span> <a href="#544546" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="544549">p</a>, Some<span class="delimiter">(</span><a title="Infer.this.global.Type" id="544551">a</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#544549" title="Infer.this.global.Symbol">p</a>, <a href="#544551" title="Infer.this.global.Type">a</a><span class="delimiter">)</span><span class="delimiter">}</span> <span title="(implicit asPair: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>  <span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">object</span> <a title="object scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Undets" id="540851">Undets</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]" id="544756">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="544758">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">(</span><a href="#540860" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])">toLists</a><span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#544783" title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])" class="delimiter">(</a><a href="#544782" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="544783">ok</a>, <a href="#544782" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="544784">nok</a><span class="delimiter">)</span> = <a href="#544758" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="(f: (Infer.this.global.Symbol, Option[Infer.this.global.Type]) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">map</span><a href="#544804" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="544807">p</a>, <a title="Option[Infer.this.global.Type]" id="544808">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#544807" title="Infer.this.global.Symbol">p</a>, <a href="#544808" title="Option[Infer.this.global.Type]">a</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>.<span title="(p: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; Boolean)(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])">partition</span><span title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]) @unchecked" class="delimiter">(</span><a href="#544885" title="(Infer.this.global.Symbol, Infer.this.global.Type)">_</a>.<span title="=&gt; Infer.this.global.Type">_2</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#544786" title="(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])" class="delimiter">(</a><a href="#544785" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]" id="544786">okArgs</a>, <a href="#544785" title="scala.collection.mutable.Iterable[Infer.this.global.Type]" id="544787">okTparams</a><span class="delimiter">)</span> = <a href="#544783" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">ok</a>.<span title="(implicit asPair: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>
          <span title="(_1: scala.collection.mutable.Iterable[Infer.this.global.Symbol], _2: scala.collection.mutable.Iterable[Infer.this.global.Type], _3: Iterable[Infer.this.global.Symbol])(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol])" class="delimiter">(</span><a href="#544786" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]">okArgs</a>, <a href="#544787" title="scala.collection.mutable.Iterable[Infer.this.global.Type]">okTparams</a>, <a href="#544784" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">nok</a>.<span title="=&gt; Iterable[Infer.this.global.Symbol]">keys</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">object</span> <a title="object scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.AllArgsAndUndets" id="540853">AllArgsAndUndets</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]" id="544956">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="544958">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">(</span><a href="#540867" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])">toLists</a><span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#544984" title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])" class="delimiter">(</a><a href="#544983" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="544984">ok</a>, <a href="#544983" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="544985">nok</a><span class="delimiter">)</span> = <a href="#544958" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="(f: (Infer.this.global.Symbol, Option[Infer.this.global.Type]) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">map</span><a href="#545005" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545008">p</a>, <a title="Option[Infer.this.global.Type]" id="545009">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#545008" title="Infer.this.global.Symbol">p</a>, <a href="#545009" title="Option[Infer.this.global.Type]">a</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>.<span title="(p: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; Boolean)(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])">partition</span><span title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]) @unchecked" class="delimiter">(</span><a href="#545066" title="(Infer.this.global.Symbol, Infer.this.global.Type)">_</a>.<span title="=&gt; Infer.this.global.Type">_2</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#544987" title="(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])" class="delimiter">(</a><a href="#544986" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]" id="544987">okArgs</a>, <a href="#544986" title="scala.collection.mutable.Iterable[Infer.this.global.Type]" id="544988">okTparams</a><span class="delimiter">)</span> = <a href="#544984" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">ok</a>.<span title="(implicit asPair: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>
          <span title="(_1: scala.collection.mutable.Iterable[Infer.this.global.Symbol], _2: scala.collection.mutable.Iterable[Infer.this.global.Type], _3: Iterable[Infer.this.global.Type], _4: Iterable[Infer.this.global.Symbol])(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol])" class="delimiter">(</span><a href="#544987" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]">okArgs</a>, <a href="#544988" title="scala.collection.mutable.Iterable[Infer.this.global.Type]">okTparams</a>, <a href="#544958" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="=&gt; Iterable[Option[Infer.this.global.Type]]">values</span>.<span title="(f: Option[Infer.this.global.Type] =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Option[Infer.this.global.Type]],Infer.this.global.Type,Iterable[Infer.this.global.Type]])Iterable[Infer.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Infer.this.global.Type,Iterable[Infer.this.global.Type]]" class="delimiter">(</span><a href="#545127" title="Option[Infer.this.global.Type]">_</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106087" title="=&gt; Infer.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#544985" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">nok</a>.<span title="=&gt; Iterable[Infer.this.global.Symbol]">keys</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2](pxs: (Iterable[A1], Iterable[A2]))(List[A1], List[A2])" id="540855">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="540858">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="540859">A2</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2])" id="544495">pxs</a>: <span title="(Iterable[A1], Iterable[A2])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2])(List[A1], List[A2])" class="delimiter">(</span><a href="#544495" title="(Iterable[A1], Iterable[A2])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#544495" title="(Iterable[A1], Iterable[A2])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span><span class="delimiter">)</span>
      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2, A3](pxs: (Iterable[A1], Iterable[A2], Iterable[A3]))(List[A1], List[A2], List[A3])" id="540860">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="540864">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="540865">A2</a>, <a title="&gt;: Nothing &lt;: Any" id="540866">A3</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2], Iterable[A3])" id="544444">pxs</a>: <span title="(Iterable[A1], Iterable[A2], Iterable[A3])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A3<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2], _3: List[A3])(List[A1], List[A2], List[A3])" class="delimiter">(</span><a href="#544444" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#544444" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span>, <a href="#544444" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A3]">_3</span>.<span title="=&gt; List[A3]">toList</span><span class="delimiter">)</span>
      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2, A3, A4](pxs: (Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4]))(List[A1], List[A2], List[A3], List[A4])" id="540867">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="540872">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="540873">A2</a>, <a title="&gt;: Nothing &lt;: Any" id="540874">A3</a>, <a title="&gt;: Nothing &lt;: Any" id="540875">A4</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])" id="544378">pxs</a>: <span title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A3<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A4<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2], _3: List[A3], _4: List[A4])(List[A1], List[A2], List[A3], List[A4])" class="delimiter">(</span><a href="#544378" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#544378" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span>, <a href="#544378" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A3]">_3</span>.<span title="=&gt; List[A3]">toList</span>, <a href="#544378" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A4]">_4</span>.<span title="=&gt; List[A4]">toList</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Retract arguments that were inferred to Nothing because inference failed. Correct types for repeated params.
     *
     * We detect Nothing-due-to-failure by only retracting a parameter if either:
     *  - it occurs in an invariant/contravariant position in `restpe`
     *  - `restpe == WildcardType`
     *
     * Retracted parameters are mapped to None. 
     *  TODO: 
     *    - make sure the performance hit of storing these in a map is acceptable (it's going to be a small map in 90% of the cases, I think)
     *    - refactor further up the callstack so that we don't have to do this post-factum adjustment?
     *
     * Rewrite for repeated param types:  Map T* entries to Seq[T].
     *  @return map from tparams to inferred arg, if inference was successful, tparams that map to None are considered left undetermined
     *    type parameters that are inferred as `scala.Nothing' and that are not covariant in &lt;code&gt;restpe&lt;/code&gt; are taken to be undetermined
     */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result" id="105975">adjustTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="540845">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="540846">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="540877">restpe</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>: AdjustedTypeArgs.<span title="Inferencer.this.AdjustedTypeArgs.Result">Result</span>  = <span class="delimiter">{</span>
      @inline <span class="keyword">def</span> <a title="(tparam: Infer.this.global.Symbol, restpe: Infer.this.global.Type)Boolean" id="545155">notCovariantIn</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545156">tparam</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="545157">restpe</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span class="delimiter">(</span><a href="Variances.scala.html#105684" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><span class="delimiter">(</span><a href="#545157" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#545156" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>  <span class="comment">// tparam occurred non-covariantly (in invariant or contravariant position)</span>

      <span title="(_1: List[Infer.this.global.Symbol], _2: List[Infer.this.global.Type])(List[Infer.this.global.Symbol], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#540845" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540846" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Symbol] =&gt; scala.collection.TraversableLike[Infer.this.global.Symbol,List[Infer.this.global.Symbol]], implicit w2: List[Infer.this.global.Type] =&gt; scala.collection.IterableLike[Infer.this.global.Type,List[Infer.this.global.Type]])(List[Infer.this.global.Symbol], List[Infer.this.global.Type])#Zipped[List[Infer.this.global.Symbol],Infer.this.global.Symbol,List[Infer.this.global.Type],Infer.this.global.Type]">zipped</span>.<span title="(f: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Option[Infer.this.global.Type]))(implicit cbf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],(Infer.this.global.Symbol, Option[Infer.this.global.Type]),Inferencer.this.AdjustedTypeArgs.Result])Inferencer.this.AdjustedTypeArgs.Result">map</span><span class="delimiter">{</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545223">tparam</a>, <a title="Infer.this.global.Type" id="545224">targ</a><span class="delimiter">)</span> =&gt;
        <span title="(Infer.this.global.Symbol, Option[Infer.this.global.Type])" class="keyword">if</span> <span class="delimiter">(</span><a href="#545224" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Infer.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
            <span class="delimiter">(</span><a href="#540877" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105311" title="=&gt; Boolean">isWildcard</a> <span title="(x: Boolean)Boolean">||</span> <a href="#545155" title="(tparam: Infer.this.global.Symbol, restpe: Infer.this.global.Type)Boolean">notCovariantIn</a><span class="delimiter">(</span><a href="#545223" title="Infer.this.global.Symbol">tparam</a>, <a href="#540877" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#545223" title="(x: Infer.this.global.Symbol)ArrowAssoc[Infer.this.global.Symbol]">tparam</a> <span title="(y: None.type)(Infer.this.global.Symbol, None.type)">-&gt;</span> <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#545223" title="(x: Infer.this.global.Symbol)ArrowAssoc[Infer.this.global.Symbol]">tparam</a> <span title="(y: Some[Infer.this.global.Type])(Infer.this.global.Symbol, Some[Infer.this.global.Type])">-&gt;</span> <span title="(x: Infer.this.global.Type)Some[Infer.this.global.Type]">Some</span><span class="delimiter">(</span>
            <span title="Infer.this.global.Type" class="keyword">if</span>      <span class="delimiter">(</span><a href="#545224" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106211" title="=&gt; Infer.this.global.Symbol">RepeatedParamClass</a><span class="delimiter">)</span>     <a href="#545224" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105358" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106236" title="=&gt; Infer.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545224" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106213" title="=&gt; Infer.this.global.Symbol">JavaRepeatedParamClass</a><span class="delimiter">)</span> <a href="#545224" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105358" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106253" title="=&gt; Infer.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545224" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> <a href="#545224" title="Infer.this.global.Type">targ</a>  <span class="comment">// this infers Foo.type instead of &quot;object Foo&quot; (see also widenIfNecessary)</span>
            <span class="keyword">else</span> <a href="#545224" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Infer.this.global.Type">widen</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,(Infer.this.global.Symbol, Option[Infer.this.global.Type]),Inferencer.this.AdjustedTypeArgs.Result])scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],(Infer.this.global.Symbol, Option[Infer.this.global.Type]),Inferencer.this.AdjustedTypeArgs.Result]">breakOut</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Return inferred type arguments, given type parameters, formal parameters,
    *  argument types, result type and expected result type.
    *  If this is not possible, throw a &lt;code&gt;NoInstance&lt;/code&gt; exception.
    *  Undetermined type arguments are represented by `definitions.NothingClass.tpe'.
    *  No check that inferred parameters conform to their bounds is made here.
    *
    *  @param   tparams         the type parameters of the method
    *  @param   formals         the value parameter types of the method
    *  @param   restp           the result type of the method
    *  @param   argtpes         the argument types of the application
    *  @param   pt              the expected return type of the application
    *  @return  @see adjustTypeArgs
    *
    *  @throws                  NoInstance
    */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result" id="105976">methTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="545342">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="545343">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="545344">restpe</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, 
                     <a title="List[Infer.this.global.Type]" id="545345">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="545346">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: AdjustedTypeArgs.<span title="Inferencer.this.AdjustedTypeArgs.Result">Result</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="545348">tvars</a> = <a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#545343" title="List[Infer.this.global.Type]">formals</a>, <a href="#545345" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#105620" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;parameter lists differ in length&quot;)" class="string">&quot;parameter lists differ in length&quot;</span><span class="delimiter">)</span>
      
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545349">restpeInst</a> = <a href="#545344" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
      <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151673" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;methTypeArgs&quot;)" class="string">&quot;methTypeArgs&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tparams&quot;</span>     <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;formals&quot;</span>     <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#545343" title="List[Infer.this.global.Type]">formals</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;restpe&quot;</span>      <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#545344" title="Infer.this.global.Type">restpe</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;restpeInst&quot;</span>  <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#545349" title="Infer.this.global.Type">restpeInst</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;argtpes&quot;</span>     <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#545345" title="List[Infer.this.global.Type]">argtpes</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pt&quot;</span>          <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#545346" title="Infer.this.global.Type">pt</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tvars&quot;</span>       <span title="(y: List[Infer.this.global.TypeVar])(java.lang.String, List[Infer.this.global.TypeVar])">-&gt;</span> <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;constraints&quot;</span> <span title="(y: Any)(java.lang.String, Any)">-&gt;</span> <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a>.<span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.TypeConstraint)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeConstraint,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Infer.this.global.TypeConstraint,List[Infer.this.global.TypeConstraint]]" class="delimiter">(</span><a href="#545543" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="comment">// first check if typevars can be fully defined from the expected type.</span>
      <span class="comment">// The return value isn't used so I'm making it obvious that this side</span>
      <span class="comment">// effects, because a function called &quot;isXXX&quot; is not the most obvious</span>
      <span class="comment">// side effecter.</span>
      <a href="#105968" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isConservativelyCompatible</a><span class="delimiter">(</span><a href="#545349" title="Infer.this.global.Type">restpeInst</a>, <a href="#545346" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      
      <span class="comment">// Return value unused with the following explanation:</span>
      <span class="comment">//</span>
      <span class="comment">// Just wait and instantiate from the arguments.  That way,</span>
      <span class="comment">// we can try to apply an implicit conversion afterwards.</span>
      <span class="comment">// This case could happen if restpe is not fully defined, so the</span>
      <span class="comment">// search for an implicit from restpe =&gt; pt fails due to ambiguity.</span>
      <span class="comment">// See #347.  Therefore, the following two lines are commented out.</span>
      <span class="comment">//</span>
      <span class="comment">// throw new DeferredNoInstance(() =&gt;</span>
      <span class="comment">//   &quot;result type &quot; + normalize(restpe) + &quot; is incompatible with expected type &quot; + pt)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="545591">tvar</a> &lt;- <a href="#545348" title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">tvars</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#545591" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#545591" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449326" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a>
 
      <span class="comment">// Then define remaining type variables from argument types.</span>
      <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#545345" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#545343" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.Type] =&gt; scala.collection.IterableLike[Infer.this.global.Type,List[Infer.this.global.Type]])(List[Infer.this.global.Type], List[Infer.this.global.Type])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type],Infer.this.global.Type]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="545649">argtpe</a>, <a title="Infer.this.global.Type" id="545650">formal</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545651">tp1</a> = <a href="#545649" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Infer.this.global.Type">deconst</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545652">pt1</a> = <a href="#545650" title="Infer.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        
        <span class="comment">// Note that isCompatible side-effects: subtype checks involving typevars</span>
        <span class="comment">// are recorded in the typevar's bounds (see TypeConstraint)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105965" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#545651" title="Infer.this.global.Type">tp1</a>, <a href="#545652" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#105621" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="java.lang.String(&quot;argument expression\'s type is not compatible with formal parameter type&quot;)" class="string">&quot;argument expression's type is not compatible with formal parameter type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105793" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#545651" title="Infer.this.global.Type">tp1</a>, <a href="#545652" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="545350">targs</a> = <a href="#105628" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span>
        <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#105680" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><a href="#545701" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#545343" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>, 
        <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#67557" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="delimiter">(</span><a href="#545343" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span> <span title="(that: Int)Int">max</span> <a href="../symtab/Types.scala.html#67557" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><a href="#545345" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Inferencer.this.AdjustedTypeArgs.Result" id="545351">result</a> = <a href="#105975" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">adjustTypeArgs</a><span class="delimiter">(</span><a href="#545342" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545350" title="List[Infer.this.global.Type]">targs</a>, <a href="#545344" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>

      <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151673" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;methTypeArgs result&quot;)" class="string">&quot;methTypeArgs result&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tvars&quot;</span>              <span title="(y: List[Infer.this.global.TypeVar])(java.lang.String, List[Infer.this.global.TypeVar])">-&gt;</span> <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;constraints&quot;</span>        <span title="(y: Any)(java.lang.String, Any)">-&gt;</span> <a href="#545348" title="List[Infer.this.global.TypeVar]">tvars</a>.<span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.TypeConstraint)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeConstraint,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Infer.this.global.TypeConstraint,List[Infer.this.global.TypeConstraint]]" class="delimiter">(</span><a href="#545842" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a><span class="delimiter">)</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;targs&quot;</span>              <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#545350" title="List[Infer.this.global.Type]">targs</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;adjusted type args&quot;</span> <span title="(y: Inferencer.this.AdjustedTypeArgs.Result)(java.lang.String, Inferencer.this.AdjustedTypeArgs.Result)">-&gt;</span> <a href="#545351" title="Inferencer.this.AdjustedTypeArgs.Result">result</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="#545351" title="Inferencer.this.AdjustedTypeArgs.Result">result</a>   
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="105977">followApply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545903">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="#545903" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545906">restp</a><span class="delimiter">)</span> =&gt; 
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545907">restp1</a> = <a href="#105977" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#545906" title="Infer.this.global.Type">restp</a><span class="delimiter">)</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545907" title="Infer.this.global.Type">restp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#545906" title="Infer.this.global.Type">restp</a><span class="delimiter">)</span> <a href="#545903" title="Infer.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#545907" title="Infer.this.global.Type">restp1</a>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="545908">appmeth</a> = <a href="#545903" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105355" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Infer.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#545912" title="Infer.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isPublic</span><span class="delimiter">)</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545908" title="Infer.this.global.Symbol">appmeth</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#545903" title="Infer.this.global.Type">tp</a> 
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#251432" title="(pre: Infer.this.global.Type, alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="#545903" title="Infer.this.global.Type">tp</a>, <a href="#545908" title="Infer.this.global.Symbol">appmeth</a>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, n: Int)Boolean" id="105978">hasExactlyNumParams</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545921">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Int" id="545922">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#545921" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545926">pre</a>, <a title="List[Infer.this.global.Symbol]" id="545927">alts</a><span class="delimiter">)</span> =&gt;
        <a href="#545927" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545934">alt</a> =&gt; <a href="#105978" title="(tp: Infer.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="#545926" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#545934" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#545922" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;      
        <span class="keyword">val</span> <a title="Int" id="545936">len</a> = <a href="#545921" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span>
        <a href="#545936" title="Int">len</a> <span title="(x: Int)Boolean">==</span> <a href="#545922" title="Int">n</a> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Definitions.scala.html#106220" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#545921" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#545936" title="Int">len</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#545922" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Verifies whether the named application is valid. The logic is very
     * similar to the one in NamesDefaults.removeNames.
     *
     * @return a triple (argtpes1, argPos, namesOk) where
     *  - argtpes1 the argument types in named application (assignments to
     *    non-parameter names are treated as assignments, i.e. type Unit)
     *  - argPos a Function1[Int, Int] mapping arguments from their current
     *    to the corresponding position in params
     *  - namesOK is false when there's an invalid use of named arguments
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)" id="105979">checkNames</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="545951">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="545952">params</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Array[Int]" id="545955">argPos</a> = <span title="object Array">Array</span>.<span title="(n: Int)(elem: =&gt; Int)(implicit evidence$9: scala.reflect.ClassManifest[Int])Array[Int]">fill</span><span class="delimiter">(</span><a href="#545951" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span title="=&gt; scala.reflect.AnyValManifest[Int]" class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="545956">positionalAllowed</a>, <a title="Boolean" id="545957">namesOK</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Int" id="545958">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="545959">argtpes1</a> = <a href="#545951" title="List[Infer.this.global.Type]">argtpes</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#546010" title="Infer.this.global.Type" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="546013">name</a>, <a title="Infer.this.global.Type" id="546014">tp</a><span class="delimiter">)</span> =&gt; <span class="comment">// a named argument</span>
          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="546015">res</a> = <a href="#546014" title="Infer.this.global.Type">tp</a>
          <span class="keyword">val</span> <a title="Int" id="546016">pos</a> = <a href="#545952" title="List[Infer.this.global.Symbol]">params</a>.<span title="(p: Infer.this.global.Symbol =&gt; Boolean)Int">indexWhere</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546027">p</a> =&gt; <span class="delimiter">(</span><a href="#546027" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#546013" title="Infer.this.global.Name">name</a> <span title="(x: Boolean)Boolean">||</span> <a href="NamesDefaults.scala.html#105761" title="(sym: Infer.this.global.Symbol)Option[Infer.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#546027" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="(x: Infer.this.global.Name)Some[Infer.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#546013" title="Infer.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#546027" title="Infer.this.global.Symbol">p</a>.<span title="=&gt; Boolean">isSynthetic</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546016" title="Int">pos</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#545956" title="Boolean">positionalAllowed</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// treat assignment as positional argument</span>
              <a href="#545955" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#545958" title="Int">index</a><span class="delimiter">)</span> = <a href="#545958" title="Int">index</a>
              <a href="#546015" title="Infer.this.global.Type">res</a> = <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a>
            <span class="delimiter">}</span> <span class="keyword">else</span>                   <span class="comment">// unknown parameter name</span>
              <a href="#545957" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#545955" title="implicit scala.Predef.intArrayOps : (xs: Array[Int])scala.collection.mutable.ArrayOps[Int]">argPos</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#546016" title="Int">pos</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// parameter specified twice</span>
            <a href="#545957" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#545956" title="Boolean">positionalAllowed</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#545955" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#545958" title="Int">index</a><span class="delimiter">)</span> = <a href="#546016" title="Int">pos</a>
          <span class="delimiter">}</span>
          <a href="#545958" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#546015" title="Infer.this.global.Type">res</a>
        <span class="keyword">case</span> <a title="Infer.this.global.Type" id="546073">tp</a> =&gt; <span class="comment">// a positional argument</span>
          <a href="#545955" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#545958" title="Int">index</a><span class="delimiter">)</span> = <a href="#545958" title="Int">index</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#545956" title="Boolean">positionalAllowed</a><span class="delimiter">)</span>
            <a href="#545957" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// positional after named</span>
          <a href="#545958" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#546073" title="Infer.this.global.Type">tp</a>
      <span class="delimiter">}</span>
      <span title="(_1: List[Infer.this.global.Type], _2: Array[Int], _3: Boolean)(List[Infer.this.global.Type], Array[Int], Boolean)" class="delimiter">(</span><a href="#545959" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#545955" title="Array[Int]">argPos</a>, <a href="#545957" title="Boolean">namesOK</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** don't do a () to (()) conversion for methods whose second parameter
     * is a varargs. This is a fairly kludgey way to address #3224. 
     * We'll probably find a better way to do this by identifying
     * tupled and n-ary methods, but thiws is something for a future major revision.
     */</span>
    <span class="keyword">def</span> <a title="(args: List[AnyRef], params: List[Infer.this.global.Symbol])Boolean" id="105980">isUnitForVarArgs</a><span class="delimiter">(</span><a title="List[AnyRef]" id="546114">args</a>: <span title="List[AnyRef]">List</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="546115">params</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
      <a href="#546114" title="List[AnyRef]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Types.scala.html#67575" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#546115" title="List[Infer.this.global.Symbol]">params</a>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106220" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#546115" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span>

    <span class="comment">/** Is there an instantiation of free type variables &lt;code&gt;undetparams&lt;/code&gt;
     *  such that function type &lt;code&gt;ftpe&lt;/code&gt; is applicable to
     *  &lt;code&gt;argtpes&lt;/code&gt; and its result conform to &lt;code&gt;pt&lt;/code&gt;?
     *
     *  @param undetparams ...
     *  @param ftpe        the type of the function (often a MethodType)
     *  @param argtpes     the argument types; a NamedType(name, tp) for named
     *    arguments. For each NamedType, if `name' does not exist in `ftpe', that
     *    type is set to `Unit', i.e. the corresponding argument is treated as
     *    an assignment expression (@see checkNames).
     *  @param pt          ...
     *  @return            ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean" id="105981">isApplicable</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546118">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="546119">ftpe</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>,
                             <a title="List[Infer.this.global.Type]" id="546120">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="546121">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#546119" title="Infer.this.global.Type">ftpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546125">pre</a>, <a title="List[Infer.this.global.Symbol]" id="546126">alts</a><span class="delimiter">)</span> =&gt;
          <a href="#546126" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546133">alt</a> =&gt; <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546125" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#546133" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546137">tparams</a>, <a title="Infer.this.global.Type" id="546138">qtpe</a><span class="delimiter">)</span> =&gt;
          <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546138" title="Infer.this.global.Type">qtpe</a>, <a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546141">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546142">formals0</a> = <a href="#546141" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">{</span> <a title="Infer.this.global.Symbol" id="546163">param</a> =&gt; 
            <a href="#546163" title="Infer.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="546167">sym</a>, <a href="#546169" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546180">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546167" title="Infer.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107447" title="(that: Infer.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106285" title="=&gt; Infer.this.global.Symbol">CodeClass</a> =&gt; <a href="#546180" title="Infer.this.global.Type">tpe</a>
              <span class="keyword">case</span> <a title="Infer.this.global.Type" id="546182">tpe</a> =&gt; <a href="#546182" title="Infer.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546143">formals</a> = <a href="#105616" title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#546142" title="List[Infer.this.global.Type]">formals0</a>, <a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="546144">tryTupleApply</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
            <span class="comment">// if 1 formal, 1 argtpe (a tuple), otherwise unmodified argtpes0</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546214">tupleArgTpes</a> = <a href="#105617" title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]">actualTypes</a><span class="delimiter">(</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#546231" title="Infer.this.global.Type" class="delimiter">{</a>
                <span class="comment">// no assignment is treated as named argument here</span>
              <span class="keyword">case</span> <span title="Infer.this.global.Type">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="546234">name</a>, <a title="Infer.this.global.Type" id="546235">tp</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a>
              <span class="keyword">case</span> <a title="Infer.this.global.Type" id="546236">tp</a> =&gt; <a href="#546236" title="Infer.this.global.Type">tp</a>
              <span class="delimiter">}</span>, <a href="#546143" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

            <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546214" title="List[Infer.this.global.Type]">tupleArgTpes</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#105980" title="(args: List[AnyRef], params: List[Infer.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546141" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546119" title="Infer.this.global.Type">ftpe</a>, <a href="#546214" title="List[Infer.this.global.Type]">tupleArgTpes</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type])Boolean" id="546145">typesCompatible</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="546266">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="546267">restpe</a> = <a href="#546119" title="Infer.this.global.Type">ftpe</a>.<a href="../symtab/Types.scala.html#105328" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#546266" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#105966" title="(tps: List[Infer.this.global.Type], pts: List[Infer.this.global.Type])Boolean">isCompatibleArgs</a><span class="delimiter">(</span><a href="#546266" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#546143" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105967" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#546267" title="Infer.this.global.Type">restpe</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a href="#105973" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#544756" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Undets</a><a href="#546272" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#546271" title="List[Infer.this.global.Symbol]" id="546272">okparams</a>, <a href="#546271" title="List[Infer.this.global.Type]" id="546273">okargs</a>, <a href="#546271" title="List[Infer.this.global.Symbol]" id="546274">leftUndet</a><span class="delimiter">)</span> = <a href="#105976" title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">methTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546143" title="List[Infer.this.global.Type]">formals</a>, <a href="#546267" title="Infer.this.global.Type">restpe</a>, <a href="#546266" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="comment">// #2665: must use weak conformance, not regular one (follow the monomorphic case above)</span>
                <span class="delimiter">(</span><a href="#105971" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#546274" title="List[Infer.this.global.Symbol]">leftUndet</a>, <a href="#546267" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#546272" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#546273" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>, <a href="#546121" title="Infer.this.global.Type">pt</a>, useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <a href="../symtab/Types.scala.html#67614" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67397" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#546272" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#546273" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean(false)" id="546292">ex</a>: <a href="#105620" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="comment">// very similar logic to doTypedApply in typechecker</span>
          <span class="keyword">val</span> <a title="Int" id="546146">lencmp</a> = <a href="../symtab/Types.scala.html#67574" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546143" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546146" title="Int">lencmp</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#546144" title="=&gt; Boolean">tryTupleApply</a>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546146" title="Int">lencmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#546309" title="Infer.this.global.Type">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67462" title="Infer.this.global.NamedType">NamedType</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// fast track if no named arguments are used</span>
              <a href="#546145" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a><span class="delimiter">(</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// named arguments are used</span>
              <span class="keyword">val</span> <a href="#546311" title="(List[Infer.this.global.Type], Array[Int], Boolean)" class="delimiter">(</a><a href="#546310" title="List[Infer.this.global.Type]" id="546311">argtpes1</a>, <a href="#546310" title="Array[Int]" id="546312">argPos</a>, <a href="#546310" title="Boolean" id="546313">namesOK</a><span class="delimiter">)</span> = <a href="#105979" title="(argtpes: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)">checkNames</a><span title="(List[Infer.this.global.Type], Array[Int], Boolean) @unchecked" class="delimiter">(</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546141" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span>
              <span class="comment">// when using named application, the vararg param has to be specified exactly once</span>
              <span class="delimiter">(</span> <a href="#546313" title="Boolean">namesOK</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#105752" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#546312" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#546143" title="List[Infer.this.global.Type]">formals</a>, <a href="#546141" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="comment">// nb. arguments and names are OK, check if types are compatible</span>
                <a href="#546145" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a><span class="delimiter">(</span><a href="NamesDefaults.scala.html#105746" title="(args: List[Infer.this.global.Type], pos: Int =&gt; Int)(implicit evidence$1: ClassManifest[Infer.this.global.Type])List[Infer.this.global.Type]">reorderArgs</a><a href="Analyzer.scala.html#105486" title="(prefix: scala.reflect.OptManifest[_], clazz: java.lang.Class[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[Infer.this.global.Type]" class="delimiter">(</a><a href="#546311" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#546312" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// not enough arguments, check if applicable using defaults</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="546509">missing</a> = <a href="NamesDefaults.scala.html#105754" title="[T](args: List[T], params: List[Infer.this.global.Symbol], argName: T =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)">missingParams</a><span title="(args: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol], argName: Infer.this.global.Type =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)" class="delimiter">[</span><a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546141" title="List[Infer.this.global.Symbol]">params</a>, <a href="#546527" title="Option[Infer.this.global.Name]" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="Some[Infer.this.global.Name]">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="546530">name</a>, _<span class="delimiter">)</span> =&gt; <span title="(x: Infer.this.global.Name)Some[Infer.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#546530" title="Infer.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[Infer.this.global.Symbol]">_1</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546509" title="List[Infer.this.global.Symbol]">missing</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#546541" title="Infer.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// add defaults as named arguments</span>
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546542">argtpes1</a> = <a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a> <a href="#546543" title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">:::</a> <span class="delimiter">(</span><a href="#546509" title="List[Infer.this.global.Symbol]">missing</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.NamedType)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.NamedType,List[Infer.this.global.NamedType]])List[Infer.this.global.NamedType]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546560">p</a> =&gt; <a href="../symtab/Types.scala.html#455599" title="(name: Infer.this.global.Name, tp: Infer.this.global.Type)Infer.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#546560" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Infer.this.global.Name">name</a>, <a href="#546560" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546119" title="Infer.this.global.Type">ftpe</a>, <a href="#546542" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#546144" title="=&gt; Boolean">tryTupleApply</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546600">restpe</a><span class="delimiter">)</span> =&gt; <span class="comment">// strip nullary method type, which used to be done by the polytype case below</span>
          <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546600" title="Infer.this.global.Type">restpe</a>, <a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546603">tparams</a>, <a title="Infer.this.global.Type" id="546604">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="546605">tparams1</a> = <a href="../symtab/Symbols.scala.html#67330" title="(syms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#546603" title="List[Infer.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
          <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546605" title="List[Infer.this.global.Symbol]">tparams1</a> <a href="#546645" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#546118" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546604" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105364" title="(from: List[Infer.this.global.Symbol], to: List[Infer.this.global.Symbol])Infer.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#546603" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546605" title="List[Infer.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#546120" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546121" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Boolean(true)">ErrorType</a> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Todo: Try to make isApplicable always safe (i.e. not cause TypeErrors).
     */</span>
    <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean" id="105982">isApplicableSafe</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="539884">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="539885">ftpe</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>,
                                              <a title="List[Infer.this.global.Type]" id="539886">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="539887">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="546655">reportAmbiguousErrors</a> = <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106659" title="=&gt; Boolean">reportAmbiguousErrors</a>
      <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106660" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#539884" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#539885" title="Infer.this.global.Type">ftpe</a>, <a href="#539886" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#539887" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="546656">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Infer.this.global.TypeError">TypeError</a> =&gt;
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#539884" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#539885" title="Infer.this.global.Type">ftpe</a>, <a href="#539886" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Boolean(false)" id="546657">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Infer.this.global.TypeError">TypeError</a> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106660" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <a href="#546655" title="Boolean">reportAmbiguousErrors</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Is type &lt;code&gt;ftpe1&lt;/code&gt; strictly more specific than type &lt;code&gt;ftpe2&lt;/code&gt;
     *  when both are alternatives in an overloaded function?
     *  @see SLS (sec:overloading-resolution)
     *
     *  @param ftpe1 ...
     *  @param ftpe2 ...
     *  @return      ...
     */</span>
    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean" id="105983">isAsSpecific</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546658">ftpe1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="546659">ftpe2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#546658" title="Infer.this.global.Type">ftpe1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546663">pre</a>, <a title="List[Infer.this.global.Symbol]" id="546664">alts</a><span class="delimiter">)</span> =&gt;
        <a href="#546664" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546671">alt</a> =&gt; <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546663" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#546671" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="546673">et</a>: <a href="../symtab/Types.scala.html#67447" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
        <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#105341" title="=&gt; Infer.this.global.Type">skolemizeExistential</a>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
        <span class="comment">//et.withTypeVars(isAsSpecific(_, ftpe2)) </span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546679">res</a><span class="delimiter">)</span> =&gt;
        <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546679" title="Infer.this.global.Type">res</a>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="546680">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#546680" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a> =&gt;
        <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546686">params</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546686" title="List[Infer.this.global.Symbol]">params</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="546687">argtpes</a> = <a href="#546686" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#546704" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106220" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#546686" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106220" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#546659" title="Infer.this.global.Type">ftpe2</a>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#546687" title="List[Infer.this.global.Type]">argtpes</a> = <a href="#546687" title="List[Infer.this.global.Type]">argtpes</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="546751">argtpe</a> =&gt; 
            <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106218" title="(tp: Infer.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#546751" title="Infer.this.global.Type">argtpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#546751" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span> <span class="keyword">else</span> <a href="#546751" title="Infer.this.global.Type">argtpe</a><span class="delimiter">)</span>
        <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a>, <a href="#546687" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546790">tparams</a>, NullaryMethodType<span class="delimiter">(</span><a title="Infer.this.global.Type" id="546792">res</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148857" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546790" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546792" title="Infer.this.global.Type">res</a><span class="delimiter">)</span>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546799">tparams</a>, <a title="Infer.this.global.MethodType" id="546800">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546800" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a> =&gt;
        <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148857" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546799" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546800" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148703" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546809">params</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546809" title="List[Infer.this.global.Symbol]">params</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a>, <a href="#546809" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#546833" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="comment">// case NullaryMethodType(res) =&gt;</span>
      <span class="comment">//   isAsSpecific(res, ftpe2)</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Boolean(true)">ErrorType</a> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#546659" title="Infer.this.global.Type">ftpe2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546863">pre</a>, <a title="List[Infer.this.global.Symbol]" id="546864">alts</a><span class="delimiter">)</span> =&gt;
            <a href="#546864" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546871">alt</a> =&gt; <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>, <a href="#546863" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#546871" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Boolean" id="546873">et</a>: <a href="../symtab/Types.scala.html#67447" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
            <a href="#546873" title="Infer.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#149102" title="(op: Infer.this.global.Type =&gt; Boolean)Boolean">withTypeVars</a><span class="delimiter">(</span><a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>, <a href="#546880" title="Infer.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Boolean" id="546881">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Infer.this.global.MethodType">MethodType</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#546881" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">||</span> <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>, <a href="#546881" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148703" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546887">res</a><span class="delimiter">)</span> =&gt;
            <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>, <a href="#546887" title="Infer.this.global.Type">res</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546890">tparams</a>, NullaryMethodType<span class="delimiter">(</span><a title="Infer.this.global.Type" id="546892">res</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>, <a href="../symtab/Types.scala.html#148857" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546890" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546892" title="Infer.this.global.Type">res</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546895">tparams</a>, <a title="Infer.this.global.MethodType" id="546896">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">)</span> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#546896" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">||</span> <a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>, <a href="../symtab/Types.scala.html#148857" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546895" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546896" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148703" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#105984" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#546658" title="Infer.this.global.Type">ftpe1</a>, <a href="#546659" title="Infer.this.global.Type">ftpe2</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean" id="105984">isAsSpecificValueType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546901">tpe1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="546902">tpe2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="546903">undef1</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="546904">undef2</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#546901" title="Infer.this.global.Type">tpe1</a>, <a href="#546902" title="Infer.this.global.Type">tpe2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>PolyType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546930">tparams1</a>, <a title="Infer.this.global.Type" id="546931">rtpe1</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
        <a href="#105984" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#546931" title="Infer.this.global.Type">rtpe1</a>, <a href="#546902" title="Infer.this.global.Type">tpe2</a>, <a href="#546903" title="List[Infer.this.global.Symbol]">undef1</a> <a href="#546932" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#546930" title="List[Infer.this.global.Symbol]">tparams1</a>, <a href="#546904" title="List[Infer.this.global.Symbol]">undef2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, PolyType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546944">tparams2</a>, <a title="Infer.this.global.Type" id="546945">rtpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#105984" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#546901" title="Infer.this.global.Type">tpe1</a>, <a href="#546945" title="Infer.this.global.Type">rtpe2</a>, <a href="#546903" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#546904" title="List[Infer.this.global.Symbol]">undef2</a> <a href="#546946" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#546944" title="List[Infer.this.global.Symbol]">tparams2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="../symtab/Types.scala.html#67482" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#546903" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#546901" title="Infer.this.global.Type">tpe1</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Types.scala.html#67482" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#546904" title="List[Infer.this.global.Symbol]">undef2</a>, <a href="#546902" title="Infer.this.global.Type">tpe2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


<span class="comment">/*
    def isStrictlyMoreSpecific(ftpe1: Type, ftpe2: Type): Boolean =
      ftpe1.isError || isAsSpecific(ftpe1, ftpe2) &amp;&amp; 
      (!isAsSpecific(ftpe2, ftpe1) || 
       !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
       phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
*/</span>
    <span class="comment">/** Is sym1 (or its companion class in case it is a module) a subclass of
     *  sym2 (or its companion class in case it is a module)?
     */</span>
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="105985">isProperSubClassOrObject</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546955">sym1</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="546956">sym2</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#546955" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#546956" title="Infer.this.global.Symbol">sym2</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#546955" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#546955" title="Infer.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: Infer.this.global.Symbol)Boolean">isSubClass</a> <a href="#546956" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#546955" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105985" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#546955" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107483" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a>, <a href="#546956" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#546956" title="Infer.this.global.Symbol">sym2</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105985" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#546955" title="Infer.this.global.Symbol">sym1</a>, <a href="#546956" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107483" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>

    <span class="comment">/** is symbol `sym1` defined in a proper subclass of symbol `sym2`?
     */</span>
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="105986">isInProperSubClassOrObject</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546967">sym1</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="546968">sym2</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
      <a href="#546968" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#105985" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#546967" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#546968" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="105987">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539202">ftpe1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539203">ftpe2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="539204">sym1</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="539205">sym2</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="comment">// ftpe1 / ftpe2 are OverloadedTypes (possibly with one single alternative) if they</span>
      <span class="comment">// denote the type of an &quot;apply&quot; member method (see &quot;followApply&quot;)</span>
      <a href="#539202" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="546975">specificCount</a> = <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#539202" title="Infer.this.global.Type">ftpe1</a>, <a href="#539203" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span> 
                            <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#105983" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#539203" title="Infer.this.global.Type">ftpe2</a>, <a href="#539202" title="Infer.this.global.Type">ftpe1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                 <span class="comment">// todo: move to isAsSpecific test</span>
<span class="comment">//                                 (!ftpe2.isInstanceOf[OverloadedType] || ftpe1.isInstanceOf[OverloadedType]) &amp;&amp;</span>
                                 <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">||</span> <a href="#105988" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">covariantReturnOverride</a><span class="delimiter">(</span><a href="#539202" title="Infer.this.global.Type">ftpe1</a>, <a href="#539203" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="546976">subClassCount</a> = <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#105986" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a><span class="delimiter">(</span><a href="#539204" title="Infer.this.global.Symbol">sym1</a>, <a href="#539205" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span>
                            <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#105986" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a><span class="delimiter">(</span><a href="#539205" title="Infer.this.global.Symbol">sym2</a>, <a href="#539204" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
<span class="comment">//        println(&quot;is more specific? &quot;+sym1+&quot;:&quot;+ftpe1+sym1.locationString+&quot;/&quot;+sym2+&quot;:&quot;+ftpe2+sym2.locationString+&quot;:&quot;+</span>
<span class="comment">//                specificCount+&quot;/&quot;+subClassCount)</span>
        <a href="#546975" title="Int">specificCount</a> <span title="(x: Int)Int">+</span> <a href="#546976" title="Int">subClassCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="comment">/*
      ftpe1.isError || {
        if (isAsSpecific(ftpe1, ftpe2)) 
          (!isAsSpecific(ftpe2, ftpe1) || 
           isProperSubClassOrObject(sym1.owner, sym2.owner) ||
           !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
           phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
        else
          !isAsSpecific(ftpe2, ftpe1) &amp;&amp; 
          isProperSubClassOrObject(sym1.owner, sym2.owner)
      }
*/</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean" id="105988">covariantReturnOverride</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546981">ftpe1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="546982">ftpe2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#546981" title="Infer.this.global.Type">ftpe1</a>, <a href="#546982" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="547006">rtpe1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="547009">rtpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#547006" title="Infer.this.global.Type">rtpe1</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#547009" title="Infer.this.global.Type">rtpe2</a> <span title="(x: Boolean)Boolean">||</span> <a href="#547009" title="Infer.this.global.Type">rtpe2</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106079" title="=&gt; Infer.this.global.Symbol">ObjectClass</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
<span class="comment">/*
    /** Is type `tpe1' a strictly better expression alternative than type `tpe2'?
     */
    def isStrictlyBetterExpr(tpe1: Type, tpe2: Type) = {
      isMethod(tpe2) &amp;&amp; !isMethod(tpe1) ||
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      isStrictlyBetter(tpe1, tpe2)
    }

    /** Is type `tpe1' a strictly better alternative than type `tpe2'?
     *  non-methods are always strictly better than methods
     *  nullary methods are always strictly better than non-nullary
     *  if both are non-nullary methods, then tpe1 is strictly better than tpe2 if
     *   - tpe1 specializes tpe2 and tpe2 does not specialize tpe1
     *   - tpe1 and tpe2 specialize each other and tpe1 has a strictly better resulttype than
     *     tpe2
     */
    def isStrictlyBetter(tpe1: Type, tpe2: Type) = {
      def isNullary(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isNullary(tp.underlying)
        case _ =&gt; tpe.paramSectionCount == 0 || tpe.params.isEmpty
      }
      def isMethod(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isMethod(tp.underlying)
        case MethodType(_, _) | PolyType(_, _) =&gt; true
        case _ =&gt; false
      }
      def hasStrictlyBetterResult = 
        resultIsBetter(tpe1, tpe2, List(), List()) &amp;&amp; !resultIsBetter(tpe2, tpe1, List(), List())
      if (!isMethod(tpe1))
        isMethod(tpe2) || hasStrictlyBetterResult
      
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      is
      
      else if (isNullary(tpe1))
        isMethod(tpe2) &amp;&amp; (!isNullary(tpe2) || hasStrictlyBetterResult)
      else 
        specializes(tpe1, tpe2) &amp;&amp; (!specializes(tpe2, tpe1) || hasStrictlyBetterResult)
    }

*/</span>
    <span class="comment">/** error if arguments not within bounds. */</span>
    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], prefix: String)Unit" id="105989">checkBounds</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="540544">pos</a>: <a href="../util/Position.scala.html#30599" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="540545">pre</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="540546">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, 
                    <a title="List[Infer.this.global.Symbol]" id="540547">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="540548">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="String" id="540549">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="comment">//@M validate variances &amp; bounds of targs wrt variances &amp; bounds of tparams</span>
      <span class="comment">//@M TODO: better place to check this? </span>
      <span class="comment">//@M TODO: errors for getters &amp; setters are reported separately</span>
      <span class="keyword">val</span> <a title="List[String]" id="540552">kindErrors</a> = <a href="#105990" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540548" title="List[Infer.this.global.Type]">targs</a>, <a href="#540545" title="Infer.this.global.Type">pre</a>, <a href="#540546" title="Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>
           
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#540552" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#540544" title="Infer.this.global.Position">pos</a>, 
          <a href="#540549" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;kinds of the type arguments &quot;)" class="string">&quot;kinds of the type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540548" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <span title="java.lang.String(&quot; do not conform to the expected kinds of the type parameters &quot;)" class="string">&quot; do not conform to the expected kinds of the type parameters &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <a href="#540552" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> 
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67614" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#540545" title="Infer.this.global.Type">pre</a>, <a href="#540546" title="Infer.this.global.Symbol">owner</a>, <a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540548" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#540548" title="List[Infer.this.global.Type]">targs</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#540579" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#540586" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107338" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//val bounds = instantiatedBounds(pre, owner, tparams, targs)//DEBUG</span>
          <span class="comment">//println(&quot;bounds = &quot;+bounds+&quot;, targs = &quot;+targs+&quot;, targclasses = &quot;+(targs map (_.getClass))+&quot;, parents = &quot;+(targs map (_.parents)))</span>
          <span class="comment">//println(List.map2(bounds, targs)((bound, targ) =&gt; bound containsType targ))</span>
          <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#540544" title="Infer.this.global.Position">pos</a>, 
                <a href="#540549" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540548" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; do not conform to &quot;)" class="string">&quot; do not conform to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'s type parameter bounds &quot;)" class="string">&quot;'s type parameter bounds &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
                <span class="delimiter">(</span><a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#540606" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107526" title="=&gt; String">defString</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36875" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.TypeBounds]" id="540640">bounds</a> = <a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])List[Infer.this.global.TypeBounds]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="540651">tp</a> =&gt; <a href="#540651" title="Infer.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#540547" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540548" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.TypeBounds])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])" class="delimiter">(</span><a href="#540548" title="List[Infer.this.global.Type]">targs</a>, <a href="#540640" title="List[Infer.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.TypeBounds] =&gt; scala.collection.IterableLike[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.TypeBounds],Infer.this.global.TypeBounds]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540746">targ</a>, <a title="Infer.this.global.TypeBounds" id="540747">bound</a><span class="delimiter">)</span> =&gt; <a href="#105958" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#540747" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Infer.this.global.Type">lo</a>, <a href="#540746" title="Infer.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.TypeBounds])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])" class="delimiter">(</span><a href="#540548" title="List[Infer.this.global.Type]">targs</a>, <a href="#540640" title="List[Infer.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.TypeBounds] =&gt; scala.collection.IterableLike[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.TypeBounds],Infer.this.global.TypeBounds]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540836">targ</a>, <a title="Infer.this.global.TypeBounds" id="540837">bound</a><span class="delimiter">)</span> =&gt; <a href="#105958" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#540836" title="Infer.this.global.Type">targ</a>, <a href="#540837" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; Infer.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    

    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol)List[String]" id="105990">checkKindBounds</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="540553">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="540554">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="540555">pre</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="540556">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">// @M TODO this method is duplicated all over the place (varianceString)</span>
      <span class="keyword">def</span> <a title="(s: Infer.this.global.Symbol)String" id="547016">varStr</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547020">s</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547020" title="Infer.this.global.Symbol">s</a>.<span title="=&gt; Boolean">isCovariant</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547020" title="Infer.this.global.Symbol">s</a>.<span title="=&gt; Boolean">isContravariant</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;                                                

      <span class="keyword">def</span> <a title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String" id="547017">qualify</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547021">a0</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="547022">b0</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547021" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#107516" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#547022" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#107516" title="()String">toString</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span class="delimiter">{</span> 
        <span title="String" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#547021" title="Infer.this.global.Symbol">a0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#547022" title="Infer.this.global.Symbol">b0</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#547021" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#547022" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="547028">a</a> = <a href="#547021" title="Infer.this.global.Symbol">a0</a>; <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="547029">b</a> = <a href="#547022" title="Infer.this.global.Symbol">b0</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#547028" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#547029" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span> <a href="#547030" title="()Unit" class="delimiter">{</a> <a href="#547028" title="Infer.this.global.Symbol">a</a> = <a href="#547028" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>; <a href="#547029" title="Infer.this.global.Symbol">b</a> = <a href="#547029" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">}</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547028" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; (&quot;)" class="string">&quot; (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547028" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a>.<span title="()java.lang.String">trim</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[(Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])]" id="547018">errors</a> = <a href="../symtab/Types.scala.html#67657" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, explainErrors: Boolean)List[(Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])]">checkKindBounds0</a><span class="delimiter">(</span><a href="#540553" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540554" title="List[Infer.this.global.Type]">targs</a>, <a href="#540555" title="Infer.this.global.Type">pre</a>, <a href="#540556" title="Infer.this.global.Symbol">owner</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="547019">errorMessages</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
      <a href="#547018" title="List[(Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])]">errors</a> <span title="(f: (Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]) =&gt; scala.collection.mutable.ListBuffer[String])Unit">foreach</span> <a href="#547066" title="errorMessages.type" class="delimiter">{</a><span class="keyword">case</span> <span title="errorMessages.type" class="delimiter">(</span><a title="Infer.this.global.Type" id="547072">targ</a>, <a title="Infer.this.global.Symbol" id="547073">tparam</a>, <a title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="547074">arityMismatches</a>, <a title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="547075">varianceMismatches</a>, <a title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="547076">stricterBounds</a><span class="delimiter">)</span> =&gt; <a href="#547019" title="scala.collection.mutable.ListBuffer[String]">errorMessages</a> <span title="(x: String)errorMessages.type">+=</span>
        <span class="delimiter">(</span><a href="#547072" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">targ</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot;\'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547073" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'s expected parameters: &quot;)" class="string">&quot;'s expected parameters: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> 
        <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547122">a</a>, <a title="Infer.this.global.Symbol" id="547123">p</a><span class="delimiter">)</span> &lt;- <a href="#547074" title="(f: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],java.lang.String,List[java.lang.String]])List[java.lang.String]">arityMismatches</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#547122" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)java.lang.String">+</span><a href="#547017" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547122" title="Infer.this.global.Symbol">a</a>,<a href="#547123" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72449" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#547122" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="java.lang.String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#547123" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#547017" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547123" title="Infer.this.global.Symbol">p</a>,<a href="#547122" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72450" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#547123" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547189">a</a>, <a title="Infer.this.global.Symbol" id="547190">p</a><span class="delimiter">)</span> &lt;- <a href="#547075" title="(f: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],java.lang.String,List[java.lang.String]])List[java.lang.String]">varianceMismatches</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#547189" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)java.lang.String">+</span><a href="#547017" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547189" title="Infer.this.global.Symbol">a</a>,<a href="#547190" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547016" title="(s: Infer.this.global.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#547189" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#547190" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#547017" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547190" title="Infer.this.global.Symbol">p</a>,<a href="#547189" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is declared &quot;)" class="string">&quot; is declared &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547016" title="(s: Infer.this.global.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#547190" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547254">a</a>, <a title="Infer.this.global.Symbol" id="547255">p</a><span class="delimiter">)</span> &lt;- <a href="#547076" title="(f: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],java.lang.String,List[java.lang.String]])List[java.lang.String]">stricterBounds</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#547254" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)java.lang.String">+</span><a href="#547017" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547254" title="Infer.this.global.Symbol">a</a>,<a href="#547255" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'s bounds &quot;)" class="string">&quot;'s bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547254" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; are stricter than &quot;)" class="string">&quot; are stricter than &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#547255" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#547017" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547255" title="Infer.this.global.Symbol">p</a>,<a href="#547254" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'s declared bounds &quot;)" class="string">&quot;'s declared bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547255" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#547019" title="scala.collection.mutable.ListBuffer[String]">errorMessages</a>.<span title="=&gt; List[String]">toList</span>
    <span class="delimiter">}</span>
    <span class="comment">/** Substitute free type variables `undetparams' of polymorphic argument
     *  expression `tree', given two prototypes `strictPt', and `lenientPt'.
     *  `strictPt' is the first attempt prototype where type parameters
     *  are left unchanged. `lenientPt' is the fall-back prototype where type
     *  parameters are replaced by `WildcardType's. We try to instantiate
     *  first to `strictPt' and then, if this fails, to `lenientPt'. If both
     *  attempts fail, an error is produced.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], strictPt: Infer.this.global.Type, lenientPt: Infer.this.global.Type)Unit" id="105991">inferArgumentInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547290">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547291">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547292">strictPt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="547293">lenientPt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151673" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferArgumentInstance&quot;)" class="string">&quot;inferArgumentInstance&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree&quot;</span>        <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#547290" title="Infer.this.global.Tree">tree</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree.tpe&quot;</span>    <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547290" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;undetparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547291" title="List[Infer.this.global.Symbol]">undetparams</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;strictPt&quot;</span>    <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547292" title="Infer.this.global.Type">strictPt</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;lenientPt&quot;</span>   <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547293" title="Infer.this.global.Type">lenientPt</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="547295">targs</a> = <a href="#105971" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#547291" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547290" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#547292" title="Infer.this.global.Type">strictPt</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#547295" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#547290" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105363" title="(from: List[Infer.this.global.Symbol], to: List[Infer.this.global.Type])Infer.this.global.Type">subst</a><span class="delimiter">(</span><a href="#547291" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547295" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#547292" title="Infer.this.global.Type">strictPt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#547295" title="List[Infer.this.global.Type]">targs</a> = <a href="#105971" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#547291" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547290" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#547293" title="Infer.this.global.Type">lenientPt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#105993" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#547290" title="Infer.this.global.Tree">tree</a>, <a href="#547291" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547295" title="List[Infer.this.global.Type]">targs</a>, <a href="#547293" title="Infer.this.global.Type">lenientPt</a><span class="delimiter">)</span>
      <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[inferArgumentInstance] finished, targs = &quot;)" class="string">&quot;[inferArgumentInstance] finished, targs = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547295" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Infer type arguments `targs` for `tparams` of polymorphic expression in `tree`, given prototype `pt`.
     *
     * Substitute `tparams` to `targs` in `tree`, after adjustment by `adjustTypeArgs`, returning the type parameters that were not determined
     * If passed, infers against specified type `treeTp` instead of `tree.tp`.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, tparams: List[Infer.this.global.Symbol], pt: Infer.this.global.Type, treeTp0: Infer.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Infer.this.global.Symbol]" id="105992">inferExprInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547386">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547387">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547393">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a>, <a title="Infer.this.global.Type" id="547394">treeTp0</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>, <a title="Boolean" id="547395">keepNothings</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>, <a title="Boolean" id="547396">useWeaklyCompatible</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="547397">treeTp</a> = <span title="Infer.this.global.Type" class="keyword">if</span><span class="delimiter">(</span><a href="#547394" title="Infer.this.global.Type">treeTp0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#547386" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="#547394" title="Infer.this.global.Type">treeTp0</a> <span class="comment">// can't refer to tree in default for treeTp0</span>
      <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151673" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferExprInstance&quot;)" class="string">&quot;inferExprInstance&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree&quot;</span>    <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#547386" title="Infer.this.global.Tree">tree</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree.tpe&quot;</span><span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547386" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547387" title="List[Infer.this.global.Symbol]">tparams</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pt&quot;</span>      <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547393" title="Infer.this.global.Type">pt</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="547398">targs</a> = <a href="#105971" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#547387" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#547397" title="Infer.this.global.Type">treeTp</a>, <a href="#547393" title="Infer.this.global.Type">pt</a>, <a href="#547396" title="Boolean">useWeaklyCompatible</a><span class="delimiter">)</span>

      <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#547395" title="Boolean">keepNothings</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#547398" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">//@M: adjustTypeArgs fails if targs==null, neg/t0226</span>
        <a href="#105993" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#547386" title="Infer.this.global.Tree">tree</a>, <a href="#547387" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#547398" title="List[Infer.this.global.Type]">targs</a>, <a href="#547393" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#105973" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#544756" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Undets</a><a href="#547471" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#547470" title="List[Infer.this.global.Symbol]" id="547471">okParams</a>, <a href="#547470" title="List[Infer.this.global.Type]" id="547472">okArgs</a>, <a href="#547470" title="List[Infer.this.global.Symbol]" id="547473">leftUndet</a><span class="delimiter">)</span> = <a href="#105975" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">adjustTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#547387" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#547398" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>
        <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
          <a href="../symtab/TypeDebugging.scala.html#151673" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferExprInstance/AdjustedTypeArgs&quot;)" class="string">&quot;inferExprInstance/AdjustedTypeArgs&quot;</span>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;okParams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547471" title="List[Infer.this.global.Symbol]">okParams</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;okArgs&quot;</span> <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#547472" title="List[Infer.this.global.Type]">okArgs</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;leftUndet&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547473" title="List[Infer.this.global.Symbol]">leftUndet</a>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#105993" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#547386" title="Infer.this.global.Tree">tree</a>, <a href="#547471" title="List[Infer.this.global.Symbol]">okParams</a>, <a href="#547472" title="List[Infer.this.global.Type]">okArgs</a>, <a href="#547393" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#547473" title="List[Infer.this.global.Symbol]">leftUndet</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Substitute free type variables `undetparams' of polymorphic argument
     *  expression &lt;code&gt;tree&lt;/code&gt; to `targs', Error if `targs' is null
     *
     *  @param tree ...
     *  @param undetparams ...
     *  @param targs ...
     *  @param pt ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit" id="105993">substExpr</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547381">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547382">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                          <a title="List[Infer.this.global.Type]" id="547383">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547384">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#547383" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#547381" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#547384" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#547381" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <span title="java.lang.String(&quot;polymorphic expression cannot be instantiated to expected type&quot;)" class="string">&quot;polymorphic expression cannot be instantiated to expected type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
                <a href="TypeDiagnostics.scala.html#105793" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67479" title="(tparams: List[Infer.this.global.Symbol], tpe: Infer.this.global.Type)Infer.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#547382" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#105629" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a><span class="delimiter">(</span><a href="#547381" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#547384" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67832" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#547382" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547383" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162622" title="(tree: Infer.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#547381" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Substitute free type variables &lt;code&gt;undetparams&lt;/code&gt; of application
     *  &lt;code&gt;fn(args)&lt;/code&gt;, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param fn          fn: the function that needs to be instantiated.
     *  @param undetparams the parameters that need to be determined
     *  @param args        the actual arguments supplied in the call.
     *  @param pt          the expected type of the function application
     *  @return            The type parameters that remain uninstantiated, 
     *                     and that thus have not been substituted.
     */</span>
    <span class="keyword">def</span> <a title="(fn: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], args: List[Infer.this.global.Tree], pt0: Infer.this.global.Type)List[Infer.this.global.Symbol]" id="105994">inferMethodInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547546">fn</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547547">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                            <a title="List[Infer.this.global.Tree]" id="547548">args</a>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547549">pt0</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#547546" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Infer.this.global.Symbol]">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="547553">params0</a>, _<span class="delimiter">)</span> =&gt;
        <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
          <a href="../symtab/TypeDebugging.scala.html#151673" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferMethodInstance&quot;)" class="string">&quot;inferMethodInstance&quot;</span>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;fn&quot;</span>          <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#547546" title="Infer.this.global.Tree">fn</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;undetparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547547" title="List[Infer.this.global.Symbol]">undetparams</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;args&quot;</span>        <span title="(y: List[Infer.this.global.Tree])(java.lang.String, List[Infer.this.global.Tree])">-&gt;</span> <a href="#547548" title="List[Infer.this.global.Tree]">args</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pt0&quot;</span>         <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547549" title="Infer.this.global.Type">pt0</a>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>

        <a title="List[Infer.this.global.Symbol]" id="547785" class="keyword">try</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="547629">pt</a>      = <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#547549" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Infer.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#547549" title="Infer.this.global.Type">pt0</a>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="547630">formals</a> = <a href="#105616" title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#547553" title="List[Infer.this.global.Symbol]">params0</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#547661" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#547548" title="List[Infer.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="547631">argtpes</a> = <a href="#105617" title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]">actualTypes</a><span class="delimiter">(</span><a href="#547548" title="List[Infer.this.global.Tree]">args</a> <span title="(f: Infer.this.global.Tree =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Tree],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547705">x</a> =&gt; <a href="../symtab/Types.scala.html#67620" title="(t: Infer.this.global.Type)Infer.this.global.Type">elimAnonymousClass</a><span class="delimiter">(</span><a href="#547705" title="Infer.this.global.Tree">x</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Infer.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#547630" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="547632">restpe</a>  = <a href="#547546" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105328" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#547631" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
          
          <span class="keyword">val</span> <a href="#105973" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#544956" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">AllArgsAndUndets</a><a href="#547634" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#547633" title="List[Infer.this.global.Symbol]" id="547634">okparams</a>, <a href="#547633" title="List[Infer.this.global.Type]" id="547635">okargs</a>, <a href="#547633" title="List[Infer.this.global.Type]" id="547636">allargs</a>, <a href="#547633" title="List[Infer.this.global.Symbol]" id="547637">leftUndet</a><span class="delimiter">)</span> =
            <a href="#105976" title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">methTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#547547" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547630" title="List[Infer.this.global.Type]">formals</a>, <a href="#547632" title="Infer.this.global.Type">restpe</a>, <a href="#547631" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#547629" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            
          <a href="#105989" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#547546" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="../symtab/Types.scala.html#67397" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#547547" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547636" title="List[Infer.this.global.Type]">allargs</a>, <span title="java.lang.String(&quot;inferred &quot;)" class="string">&quot;inferred &quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Infer.this.global.TreeTypeSubstituter" id="547638">treeSubst</a> = <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67832" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#547634" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#547635" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>
          <a href="#547638" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a> <span title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</span> <a href="#547546" title="Infer.this.global.Tree">fn</a> <a href="#547757" title="(x: Infer.this.global.Tree)List[Infer.this.global.Tree]">::</a> <a href="#547548" title="List[Infer.this.global.Tree]">args</a>

          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="547639">result</a> = <a href="#547637" title="List[Infer.this.global.Symbol]">leftUndet</a> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>  =&gt; <span title="object Nil">Nil</span>
            <span class="keyword">case</span> <a title="List[Infer.this.global.Symbol]" id="547763">xs</a>   =&gt;
              <span class="comment">// #3890</span>
              <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="547764">xs1</a> = <a href="#547638" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a>.<a href="../ast/Trees.scala.html#162618" title="=&gt; Infer.this.global.SubstTypeMap">typeSubst</a> <a href="../symtab/Types.scala.html#133283" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a> <a href="#547763" title="List[Infer.this.global.Symbol]">xs</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#547763" title="List[Infer.this.global.Symbol]">xs</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#547764" title="List[Infer.this.global.Symbol]">xs1</a><span class="delimiter">)</span>
                <span title="Infer.this.global.TreeSymSubstTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#67835" title="Infer.this.global.TreeSymSubstTraverser">TreeSymSubstTraverser</a><span class="delimiter">(</span><a href="#547763" title="List[Infer.this.global.Symbol]">xs</a>, <a href="#547764" title="List[Infer.this.global.Symbol]">xs1</a><span class="delimiter">)</span> <span title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</span> <a href="#547546" title="Infer.this.global.Tree">fn</a> <a href="#547781" title="(x: Infer.this.global.Tree)List[Infer.this.global.Tree]">::</a> <a href="#547548" title="List[Infer.this.global.Tree]">args</a>
              
              <a href="#547764" title="List[Infer.this.global.Symbol]">xs1</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#547639" title="List[Infer.this.global.Symbol]">result</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
            <a href="Typers.scala.html#105917" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferMethodInstance, still undetermined: &quot;)" class="string">&quot;inferMethodInstance, still undetermined: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547639" title="List[Infer.this.global.Symbol]">result</a><span class="delimiter">)</span>
            
          <a href="#547639" title="List[Infer.this.global.Symbol]">result</a>
        <span class="delimiter">}</span>
        <span class="keyword">catch</span> <a href="#105622" title="(f: String =&gt; scala.collection.immutable.Nil.type)PartialFunction[Throwable,scala.collection.immutable.Nil.type]">ifNoInstance</a> <a title="PartialFunction[Throwable,scala.collection.immutable.Nil.type]" id="547786" class="delimiter">{</a> <a title="String" id="547790">msg</a> =&gt;
          <a href="#105954" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#547546" title="Infer.this.global.Tree">fn</a>, <span title="java.lang.String(&quot;no type parameters for &quot;)" class="string">&quot;no type parameters for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="TypeDiagnostics.scala.html#105788" title="(tree: Infer.this.global.Tree, msg: String, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a><span class="delimiter">(</span><a href="#547546" title="Infer.this.global.Tree">fn</a>, <span title="java.lang.String(&quot; exist so that it can be applied to arguments &quot;)" class="string">&quot; exist so that it can be applied to arguments &quot;</span>, <a href="#547548" title="List[Infer.this.global.Tree]">args</a> <span title="(f: Infer.this.global.Tree =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Tree],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#548063" title="Infer.this.global.Tree">_</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Infer.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547790" title="String">msg</a>
          <span class="delimiter">)</span>
          <span title="object Nil">Nil</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Type with all top-level occurrences of abstract types replaced by their bounds */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="105995">widen</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548094">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="#548094" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span> <span class="comment">// @M don't normalize here (compiler loops on pos/bug1090.scala )</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="548099">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#548099" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> =&gt; 
        <a href="#105995" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548094" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; Infer.this.global.Type">hi</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="548103">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#548103" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> =&gt; 
        <a href="#105995" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548094" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="548104">rtp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="548107">parents</a>, <a title="Infer.this.global.Scope" id="548108">decls</a><span class="delimiter">)</span> =&gt; 
        <a href="../symtab/Types.scala.html#67471" title="(original: Infer.this.global.RefinedType, parents: List[Infer.this.global.Type], decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#548104" title="Infer.this.global.RefinedType">rtp</a>, <a href="#548107" title="List[Infer.this.global.Type]">parents</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">mapConserve</span> <a href="#105995" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>, <a href="#548108" title="Infer.this.global.Scope">decls</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="548123">underlying</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#105995" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548123" title="Infer.this.global.Type">underlying</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <a href="#548094" title="Infer.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Substitute free type variables &lt;code&gt;undetparams&lt;/code&gt; of type constructor
     *  &lt;code&gt;tree&lt;/code&gt; in pattern, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree        ...
     *  @param undetparams ...
     *  @param pt          ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], pt0: Infer.this.global.Type)Unit" id="105996">inferConstructorInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="548124">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="548125">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="548126">pt0</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548128">pt</a> = <a href="#105995" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548126" title="Infer.this.global.Type">pt0</a><span class="delimiter">)</span>
      <span class="comment">//println(&quot;infer constr inst &quot;+tree+&quot;/&quot;+undetparams+&quot;/&quot;+pt0)</span>
      <span class="keyword">var</span> <a title="Infer.this.global.Type" id="548129">restpe</a> = <a href="#548124" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105331" title="=&gt; Infer.this.global.Type">finalResultType</a>
      <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="548130">tvars</a> = <a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>

      <span class="comment">/** Compute type arguments for undetermined params and substitute them in given tree.
       */</span>
      <span class="keyword">def</span> <a title="=&gt; Any" id="548131">computeArgs</a> =
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="548177">targs</a> = <a href="#105628" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span><a href="#548130" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#105684" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#548189" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#548129" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>, 
                                  <span title="Boolean(true)" class="keyword">true</span>, <a href="../symtab/Types.scala.html#67557" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548129" title="Infer.this.global.Type">restpe</a>, <a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="comment">//          checkBounds(tree.pos, NoPrefix, NoSymbol, undetparams, targs, &quot;inferred &quot;)</span>
<span class="comment">//          no checkBounds here. If we enable it, test bug602 fails.</span>
          <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67832" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548177" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162622" title="(tree: Infer.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#548124" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Infer.this.global.Tree" id="548229">ex</a>: <a href="#105620" title="Infer.this.NoInstance">NoInstance</a> =&gt; 
            <a href="#105954" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#548124" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;constructor of type &quot;)" class="string">&quot;constructor of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548129" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot; cannot be uniquely instantiated to expected type &quot;)" class="string">&quot; cannot be uniquely instantiated to expected type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548128" title="Infer.this.global.Type">pt</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548229" title="Infer.this.NoInstance">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Tree" id="548132">instError</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ici &quot;)" class="string">&quot;ici &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548124" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36875" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#105958" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#548129" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548130" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>, <a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#105954" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#548124" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;constructor cannot be instantiated to expected type&quot;)" class="string">&quot;constructor cannot be instantiated to expected type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                  <a href="TypeDiagnostics.scala.html#105793" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#548129" title="Infer.this.global.Type">restpe</a>, <a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548129" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548130" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#548131" title="=&gt; Any">computeArgs</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer constr &quot;)" class="string">&quot;infer constr &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548124" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548129" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="548247">ptparams</a> = <a href="#106009" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449236" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params = &quot;)" class="string">&quot;free type params = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548247" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548248">ptWithWildcards</a> = <a href="#548128" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548247" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#548247" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.WildcardType.type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="548279">ptparam</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#548130" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548129" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548130" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548248" title="Infer.this.global.Type">ptWithWildcards</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#548131" title="=&gt; Any">computeArgs</a>
          <a href="#548129" title="Infer.this.global.Type">restpe</a> = <a href="#105629" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a><span class="delimiter">(</span><a href="#548124" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new tree = &quot;)" class="string">&quot;new tree = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548124" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548129" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="548353">ptvars</a> = <a href="#548247" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548354">pt1</a> = <a href="#548128" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548247" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#548353" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67558" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#548129" title="Infer.this.global.Type">restpe</a>, <a href="#548354" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#548353" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#105999" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;no instance: &quot;)" class="string">&quot;no instance: &quot;</span><span class="delimiter">)</span>; <a href="#548132" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;not a subtype &quot;)" class="string">&quot;not a subtype &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548129" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548125" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548130" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548248" title="Infer.this.global.Type">ptWithWildcards</a><span class="delimiter">)</span>; <a href="#548132" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;not fully defined: &quot;)" class="string">&quot;not fully defined: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548128" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>; <a href="#548132" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)" id="105997">instBounds</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="548451">tvar</a>: <a href="../symtab/Types.scala.html#67458" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span>: <span title="(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span>Type, Type<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="548453">tparam</a> = <a href="#548451" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448928" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548454">instType</a> = <a href="#548461" title="(tp: Infer.this.global.Type)Infer.this.global.Type">toOrigin</a><span class="delimiter">(</span><a href="#548451" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#548456" title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</a><a href="#548455" title="List[Infer.this.global.Type]" id="548456">loBounds</a>, <a href="#548455" title="List[Infer.this.global.Type]" id="548457">hiBounds</a><span class="delimiter">)</span> =
        <span title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="keyword">if</span> <span class="delimiter">(</span><a href="#548454" title="Infer.this.global.Type">instType</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#548454" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548454" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span>, <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548454" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#548451" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449320" title="=&gt; List[Infer.this.global.Type]">loBounds</a>, <a href="#548451" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449321" title="=&gt; List[Infer.this.global.Type]">hiBounds</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548458">lo</a> = <a href="../symtab/Types.scala.html#67638" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a><span class="delimiter">(</span><a href="#548453" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Infer.this.global.Type">lo</a> <a href="#548508" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">::</a> <a href="#548456" title="List[Infer.this.global.Type]">loBounds</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#106004" title="object Inferencer.this.toOrigin">toOrigin</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548459">hi</a> = <a href="../symtab/Types.scala.html#67647" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><span class="delimiter">(</span><a href="#548453" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; Infer.this.global.Type">hi</a> <a href="#548560" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">::</a> <a href="#548457" title="List[Infer.this.global.Type]">hiBounds</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#106004" title="object Inferencer.this.toOrigin">toOrigin</a><span class="delimiter">)</span>
      <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#548458" title="Infer.this.global.Type">lo</a>, <a href="#548459" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar])Boolean" id="105998">isInstantiatable</a><span class="delimiter">(</span><a title="List[Infer.this.global.TypeVar]" id="548617">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="548620">tvars1</a> = <a href="#548617" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <span class="delimiter">(</span><a href="#548637" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#448963" title="=&gt; Infer.this.global.TypeVar">cloneInternal</a><span class="delimiter">)</span>
      <span class="comment">// Note: right now it's not clear that solving is complete, or how it can be made complete!</span>
      <span class="comment">// So we should come back to this and investigate.</span>
      <a href="../symtab/Types.scala.html#67612" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean)Boolean">solve</a><span class="delimiter">(</span><a href="#548620" title="List[Infer.this.global.TypeVar]">tvars1</a>, <a href="#548620" title="List[Infer.this.global.TypeVar]">tvars1</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.Symbol,List[Infer.this.global.Symbol]])List[Infer.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#548683" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#448928" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="#548620" title="List[Infer.this.global.TypeVar]">tvars1</a> <span title="(f: Infer.this.global.TypeVar =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Int,List[Int]])List[Int]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="548721">x</a> =&gt; <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  
    <span class="delimiter">}</span>

    <span class="comment">// this is quite nasty: it destructively changes the info of the syms of e.g., method type params (see #3692, where the type param T's bounds were set to &gt;: T &lt;: T, so that parts looped)</span>
    <span class="comment">// the changes are rolled back by restoreTypeBounds, but might be unintentially observed in the mean time</span>
    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="105999">instantiateTypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="548429">tvar</a>: <a href="../symtab/Types.scala.html#67458" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="548749">tparam</a> = <a href="#548429" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448928" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#548429" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67395" title="object Infer.this.global.NoType">NoType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#105627" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#548429" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><a href="#548749" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#148449" title="(that: Infer.this.global.Type)Boolean">containsType</a> <a href="#548429" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106714" title="(p: Infer.this.Context =&gt; Boolean)Infer.this.Context">nextEnclosing</a><span class="delimiter">(</span><a href="#548758" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#106611" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.CaseDef">CaseDef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="Contexts.scala.html#106720" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a><span class="delimiter">(</span><a href="#548749" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>
        <a href="#548749" title="Infer.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Infer.this.global.Type)tparam.type">setInfo</a> <a href="#548429" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448937" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449325" title="=&gt; Infer.this.global.Type">inst</a>
        <a href="#548749" title="Infer.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)tparam.type">resetFlag</a> <span title="Long(16L)">DEFERRED</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new alias of &quot;)" class="string">&quot;new alias of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548749" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548749" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#548765" title="(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</a><a href="#548764" title="Infer.this.global.Type" id="548765">lo</a>, <a href="#548764" title="Infer.this.global.Type" id="548766">hi</a><span class="delimiter">)</span> = <a href="#105997" title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)">instBounds</a><span title="(Infer.this.global.Type, Infer.this.global.Type) @unchecked" class="delimiter">(</span><a href="#548429" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548765" title="Infer.this.global.Type">lo</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548766" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#548765" title="Infer.this.global.Type">lo</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548749" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Infer.this.global.Type">lo</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#548749" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; Infer.this.global.Type">hi</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548766" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// bounds were improved</span>
             <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548749" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#548765" title="Infer.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105315" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548749" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#548766" title="Infer.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105315" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// don't create illegal cycles</span>
            <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106714" title="(p: Infer.this.Context =&gt; Boolean)Infer.this.Context">nextEnclosing</a><span class="delimiter">(</span><a href="#548788" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#106611" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.CaseDef">CaseDef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="Contexts.scala.html#106720" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a><span class="delimiter">(</span><a href="#548749" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>
            <a href="#548749" title="Infer.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Infer.this.global.Type)tparam.type">setInfo</a> <a href="../symtab/Types.scala.html#148437" title="(lo: Infer.this.global.Type, hi: Infer.this.global.Type)Infer.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#548765" title="Infer.this.global.Type">lo</a>, <a href="#548766" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new bounds of &quot;)" class="string">&quot;new bounds of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548749" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548749" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;redundant: &quot;)" class="string">&quot;redundant: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548749" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548749" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548765" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548766" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inconsistent: &quot;)" class="string">&quot;inconsistent: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548749" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548765" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548766" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, tp: Infer.this.global.Type, kind: String)Unit" id="106000">checkCheckable</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="548802">pos</a>: <a href="../util/Position.scala.html#30599" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="548803">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="String" id="548804">kind</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp0: Infer.this.global.Type, prefix: String)Unit" id="548806">patternWarning</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548808">tp0</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="String" id="548809">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96433" title="(pos: Infer.this.global.Position, msg: String)Unit">uncheckedWarning</a><span class="delimiter">(</span><a href="#548802" title="Infer.this.global.Position">pos</a>, <a href="#548809" title="String">prefix</a><span title="(x$1: Any)java.lang.String">+</span><a href="#548808" title="Infer.this.global.Type">tp0</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in type &quot;)" class="string">&quot; in type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548804" title="String">kind</a><span title="(x$1: Any)java.lang.String">+</span><a href="#548803" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is unchecked since it is eliminated by erasure&quot;)" class="string">&quot; is unchecked since it is eliminated by erasure&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit" id="548807">check</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548812">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="548813">bound</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="548814">isLocalBinding</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="548815">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
          <a href="#548815" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#548813" title="List[Infer.this.global.Symbol]">bound</a> <span title="(elem: Any)Boolean">contains</span> <a href="#548815" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
           <a href="#548815" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67709" title="object Infer.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; Infer.this.global.tpnme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Infer.this.global.ScopeEntry" id="548821">e</a> = <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Infer.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112955" title="(name: Infer.this.global.Name)Infer.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#548815" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="#548821" title="Infer.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548821" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#548815" title="Infer.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#548821" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107340" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548821" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113137" title="=&gt; Infer.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Infer.this.global.Scope">scope</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#548812" title="Infer.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548833">pre</a>, _<span class="delimiter">)</span> =&gt; 
            <a href="#548807" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548833" title="Infer.this.global.Type">pre</a>, <a href="#548813" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548837">pre</a>, <a title="Infer.this.global.Symbol" id="548838">sym</a>, <a title="List[Infer.this.global.Type]" id="548839">args</a><span class="delimiter">)</span> =&gt; 
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548838" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#548814" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a><span class="delimiter">(</span><a href="#548838" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#548806" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;abstract type &quot;)" class="string">&quot;abstract type &quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548838" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#548807" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a>, <a href="#548813" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548838" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Infer.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#548838" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106085" title="=&gt; Infer.this.global.Symbol">NullClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#548838" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106575" title="=&gt; Infer.this.global.Symbol">AnyValClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#548802" title="Infer.this.global.Position">pos</a>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548812" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; cannot be used in a type pattern or isInstanceOf test&quot;)" class="string">&quot; cannot be used in a type pattern or isInstanceOf test&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="548871">arg</a> &lt;- <a href="#548839" title="(f: Infer.this.global.Type =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548838" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106253" title="=&gt; Infer.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <a href="#548807" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548871" title="Infer.this.global.Type">arg</a>, <a href="#548813" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548871" title="Infer.this.global.Type">arg</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>   <span class="comment">// avoid spurious warnings with higher-kinded types</span>
                <span class="keyword">else</span> <a href="#548871" title="Infer.this.global.Type">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="548880">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#548814" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a><span class="delimiter">(</span><a href="#548880" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
                    ;
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    <a href="#548806" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548871" title="Infer.this.global.Type">arg</a>, <span title="java.lang.String(&quot;non variable type-argument &quot;)" class="string">&quot;non variable type-argument &quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> 
            <span class="delimiter">}</span>
            <a href="#548807" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548837" title="Infer.this.global.Type">pre</a>, <a href="#548813" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="548884">parents</a>, <a title="Infer.this.global.Scope" id="548885">decls</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548885" title="Infer.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112943" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="548905">p</a> &lt;- <a href="#548884" title="(f: Infer.this.global.Type =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#548807" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548905" title="Infer.this.global.Type">p</a>, <a href="#548813" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#548806" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;refinement &quot;)" class="string">&quot;refinement &quot;</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="548909">quantified</a>, <a title="Infer.this.global.Type" id="548910">tp1</a><span class="delimiter">)</span> =&gt;
            <a href="#548807" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548910" title="Infer.this.global.Type">tp1</a>, <a href="#548813" title="List[Infer.this.global.Symbol]">bound</a> <a href="#548911" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#548909" title="List[Infer.this.global.Symbol]">quantified</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67397" title="Unit">NoPrefix</a> =&gt; 
            ;
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt; 
            <a href="#548806" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#548807" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548803" title="Infer.this.global.Type">tp</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
     
    <span class="comment">/** Type intersection of simple type tp1 with general type tp2.
     *  The result eliminates some redundancies.
     */</span>
    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type" id="106001">intersect</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548927">tp1</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="548928">tp2</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#548927" title="Infer.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548928" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span> <a href="#548927" title="Infer.this.global.Type">tp1</a>
      <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#548928" title="Infer.this.global.Type">tp2</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548927" title="Infer.this.global.Type">tp1</a><span class="delimiter">)</span> <a href="#548928" title="Infer.this.global.Type">tp2</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548932">reduced2</a> = <a href="#548928" title="Infer.this.global.Type">tp2</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Infer.this.global.Type" id="548933">rtp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="548936">parents2</a>, <a title="Infer.this.global.Scope" id="548937">decls2</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#67471" title="(original: Infer.this.global.RefinedType, parents: List[Infer.this.global.Type], decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#548933" title="Infer.this.global.RefinedType">rtp</a>, <a href="#548936" title="List[Infer.this.global.Type]">parents2</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)List[Infer.this.global.Type]">filterNot</span> <span class="delimiter">(</span><a href="#548927" title="Infer.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548941" title="Infer.this.global.Type">_</a><span class="delimiter">)</span>, <a href="#548937" title="Infer.this.global.Scope">decls2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
            <a href="#548928" title="Infer.this.global.Type">tp2</a>
        <span class="delimiter">}</span>
        <a href="../symtab/Types.scala.html#67477" title="(tps: List[Infer.this.global.Type])Infer.this.global.Type">intersectionType</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548927" title="Infer.this.global.Type">tp1</a>, <a href="#548932" title="Infer.this.global.Type">reduced2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, pattp: Infer.this.global.Type, pt0: Infer.this.global.Type)Infer.this.global.Type" id="106002">inferTypedPattern</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="548955">pos</a>: <a href="../util/Position.scala.html#30599" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="548956">pattp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="548957">pt0</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548959">pt</a>        = <a href="#105995" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548957" title="Infer.this.global.Type">pt0</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="548960">ptparams</a>  = <a href="#106009" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449236" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#548959" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="548961">tpparams</a>  = <a href="#106009" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449236" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#548956" title="Infer.this.global.Type">pattp</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="548962">ptMatchesPattp</a> = <a href="#548959" title="Infer.this.global.Type">pt</a> <a href="../symtab/Types.scala.html#105376" title="(that: Infer.this.global.Type)Boolean">matchesPattern</a> <a href="#548956" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Infer.this.global.Type">widen</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="548963">pattpMatchesPt</a> = <a href="#548956" title="Infer.this.global.Type">pattp</a> <a href="../symtab/Types.scala.html#105376" title="(that: Infer.this.global.Type)Boolean">matchesPattern</a> <a href="#548959" title="Infer.this.global.Type">pt</a>
      
      <span class="comment">/** If we can absolutely rule out a match we can fail early.
       *  This is the case if the scrutinee has no unresolved type arguments
       *  and is a &quot;final type&quot;, meaning final + invariant in all type parameters.
       */</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548959" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105375" title="=&gt; Boolean">isFinalType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548960" title="List[Infer.this.global.Symbol]">ptparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#548962" title="=&gt; Boolean">ptMatchesPattp</a><span class="delimiter">)</span>
        <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#548955" title="Infer.this.global.Position">pos</a>, <span title="java.lang.String(&quot;scrutinee is incompatible with pattern type&quot;)" class="string">&quot;scrutinee is incompatible with pattern type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105793" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#548956" title="Infer.this.global.Type">pattp</a>, <a href="#548959" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <a href="#106000" title="(pos: Infer.this.global.Position, tp: Infer.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#548955" title="Infer.this.global.Position">pos</a>, <a href="#548956" title="Infer.this.global.Type">pattp</a>, <span title="java.lang.String(&quot;pattern &quot;)" class="string">&quot;pattern &quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548956" title="Infer.this.global.Type">pattp</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548959" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params (1) = &quot;)" class="string">&quot;free type params (1) = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548961" title="List[Infer.this.global.Symbol]">tpparams</a><span class="delimiter">)</span>
          
        <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="548967">tvars</a> = <a href="#548961" title="List[Infer.this.global.Symbol]">tpparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">var</span> <a title="Infer.this.global.Type" id="548968">tp</a>    = <a href="#548956" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548961" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#548967" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#548968" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548959" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105998" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a><span class="delimiter">(</span><a href="#548967" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#548967" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#548961" title="List[Infer.this.global.Symbol]">tpparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <a href="#548968" title="Infer.this.global.Type">tp</a>    = <a href="#548956" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548961" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#548967" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params (2) = &quot;)" class="string">&quot;free type params (2) = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548960" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
          
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="549019">ptvars</a> = <a href="#548960" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549020">pt1</a>    = <a href="#548959" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548960" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#549019" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>  
          
          <span class="comment">// See ticket #2486 for an example of code which would incorrectly</span>
          <span class="comment">// fail if we didn't allow for pattpMatchesPt.</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67558" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#548968" title="Infer.this.global.Type">tp</a>, <a href="#549020" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105998" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a><span class="delimiter">(</span><a href="#548967" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(that: scala.collection.GenTraversableOnce[Infer.this.global.TypeVar])(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">++</span> <a href="#549019" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#548963" title="=&gt; Boolean">pattpMatchesPt</a><span class="delimiter">)</span>
             <a href="#549019" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#105999" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#548955" title="Infer.this.global.Position">pos</a>, <span title="java.lang.String(&quot;pattern type is incompatible with expected type&quot;)" class="string">&quot;pattern type is incompatible with expected type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105793" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#548956" title="Infer.this.global.Type">pattp</a>, <a href="#548959" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#548956" title="Infer.this.global.Type">pattp</a>            
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#548967" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#105999" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
      <span class="delimiter">}</span>
      <span class="comment">/** If the scrutinee has free type parameters but the pattern does not,
       *  we have to flip the arguments so the expected type is treated as more
       *  general when calculating the intersection.  See run/bug2755.scala.
       */</span>
      <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#548961" title="List[Infer.this.global.Symbol]">tpparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548960" title="List[Infer.this.global.Symbol]">ptparams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#106001" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a><span class="delimiter">(</span><a href="#548956" title="Infer.this.global.Type">pattp</a>, <a href="#548959" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#106001" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a><span class="delimiter">(</span><a href="#548959" title="Infer.this.global.Type">pt</a>, <a href="#548956" title="Infer.this.global.Type">pattp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pat: Infer.this.global.Tree, pt: Infer.this.global.Type)Unit" id="106003">inferModulePattern</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549224">pat</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="549225">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#549224" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#549225" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549228">ptparams</a> = <a href="#106009" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449236" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#549225" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params (2) = &quot;)" class="string">&quot;free type params (2) = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549228" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="549229">ptvars</a> = <a href="#549228" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105619" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549230">pt1</a> = <a href="#549225" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#549228" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#549229" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549224" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#549230" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span>
          <a href="#549229" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#105999" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
        <span class="keyword">else</span> 
          <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#549224" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <span title="java.lang.String(&quot;pattern type is incompatible with expected type&quot;)" class="string">&quot;pattern type is incompatible with expected type&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105793" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#549224" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#549225" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.toOrigin" id="106004">toOrigin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67503" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="548461">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548462">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="#548462" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#448916" title="Infer.this.global.Type">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549305">origin</a>, _<span class="delimiter">)</span> =&gt; <a href="#549305" title="Infer.this.global.Type">origin</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt; <a href="../symtab/Types.scala.html#133280" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#548462" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymCollector extends Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]] with ScalaObject" id="106006">SymCollector</a> <a href="#106006" title="ScalaObject" class="keyword">extends</a> <a href="../symtab/Types.scala.html#67507" title="Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]]">TypeCollector</a><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="539461">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549336">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Unit" id="539462">traverse</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549338">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#549338" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="549344">sym</a>, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#539461" title="(sym: Infer.this.global.Symbol)Boolean">includeCondition</a><span class="delimiter">(</span><a href="#549344" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#449233" title="=&gt; List[Infer.this.global.Symbol]">result</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#549344" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#449234" title="(x$1: List[Infer.this.global.Symbol])Unit">result</a> = <a href="#549344" title="Infer.this.global.Symbol">sym</a> <a href="#549346" title="(x: Infer.this.global.Symbol)List[Infer.this.global.Symbol]">::</a> <a href="../symtab/Types.scala.html#449233" title="=&gt; List[Infer.this.global.Symbol]">result</a>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="../symtab/Types.scala.html#133280" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#549338" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.approximateAbstracts" id="106007">approximateAbstracts</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67503" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="549366">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549368">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a> = <a href="#549368" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Infer.this.global.WildcardType.type">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549374">pre</a>, <a title="Infer.this.global.Symbol" id="549375">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#549375" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt; <a href="../symtab/Types.scala.html#133280" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#549368" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** A traverser to collect type parameters referred to in a type
     */</span>
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParamsOfTerms" id="106009">freeTypeParamsOfTerms</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#106006" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="548253">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549392">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#549392" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#549392" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span>
    <span class="delimiter">}</span>

    <span class="comment">/** A traverser to collect type parameters referred to in a type
     */</span>
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParametersNoSkolems" id="106011">freeTypeParametersNoSkolems</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#106006" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="539464">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549395">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#549395" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTypeParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#549395" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.typeRefs" id="106013">typeRefs</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#106006" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="549398">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549400">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>

    <span class="comment">/* -- Overload Resolution ---------------------------------------------- */</span>

<span class="comment">/*
    def checkNotShadowed(pos: Position, pre: Type, best: Symbol, eligible: List[Symbol]) =
      if (!phase.erasedTypes)
        for (alt &lt;- eligible) {
          if (isProperSubClassOrObject(alt.owner, best.owner))
            error(pos,
                  &quot;erroneous reference to overloaded definition,\n&quot;+
                  &quot;most specific definition is: &quot;+best+best.locationString+&quot; of type &quot;+pre.memberType(best)+
                  &quot;,\nyet alternative definition   &quot;+alt+alt.locationString+&quot; of type &quot;+pre.memberType(alt)+
                  &quot;\nis defined in a subclass&quot;)
        }
*/</span>

    <span class="comment">/** Assign &lt;code&gt;tree&lt;/code&gt; the symbol and type of the alternative which
     *  matches prototype &lt;code&gt;pt&lt;/code&gt;, if it exists.
     *  If several alternatives match `pt', take parameterless one.
     *  If no alternative matches `pt', take the parameterless one anyway.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, pt: Infer.this.global.Type)Unit" id="106015">inferExprAlternative</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549402">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="549403">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#549402" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549407">pre</a>, <a title="List[Infer.this.global.Symbol]" id="549408">alts</a><span class="delimiter">)</span> =&gt; <a href="#106017" title="(infer: =&gt; Unit)Unit">tryTwice</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549411">alts0</a>     = <a href="#549408" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549420">alt</a> =&gt; <a href="#105967" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#549407" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549420" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#549403" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Boolean" id="549412">secondTry</a> = <a href="#549411" title="List[Infer.this.global.Symbol]">alts0</a>.<span title="=&gt; Boolean">isEmpty</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549413">alts1</a>     = <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#549412" title="Boolean">secondTry</a><span class="delimiter">)</span> <a href="#549408" title="List[Infer.this.global.Symbol]">alts</a> <span class="keyword">else</span> <a href="#549411" title="List[Infer.this.global.Symbol]">alts0</a>

        <span class="comment">//println(&quot;trying &quot;+alts1+(alts1 map (_.tpe))+(alts1 map (_.locationString))+&quot; for &quot;+pt)</span>
        <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="549414">improves</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549422">sym1</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="549423">sym2</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
          <a href="#549423" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549423" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Infer.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106151" title="=&gt; Infer.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549429">tp1</a> = <a href="#549407" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549422" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549430">tp2</a> = <a href="#549407" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549423" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="#549430" title="Infer.this.global.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67388" title="object Infer.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">||</span>
             <span title="=&gt; Boolean">!</span><a href="Analyzer.scala.html#105486" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#64954" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#105820" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#105967" title="(tp: Infer.this.global.analyzer.global.Type, pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#549430" title="Infer.this.global.Type">tp2</a>, <a href="#549403" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Analyzer.scala.html#105486" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#64954" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#105820" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#105967" title="(tp: Infer.this.global.analyzer.global.Type, pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#549429" title="Infer.this.global.Type">tp1</a>, <a href="#549403" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
             <a href="#105987" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#549429" title="Infer.this.global.Type">tp1</a>, <a href="#549430" title="Infer.this.global.Type">tp2</a>, <a href="#549422" title="Infer.this.global.Symbol">sym1</a>, <a href="#549423" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549415">best</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <a href="#549437" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">/:</a> <a href="#549413" title="List[Infer.this.global.Symbol]">alts1</a><span class="delimiter">)</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549450">best</a>, <a title="Infer.this.global.Symbol" id="549451">alt</a><span class="delimiter">)</span> =&gt;
          <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#549414" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549451" title="Infer.this.global.Symbol">alt</a>, <a href="#549450" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#549451" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#549450" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>
          
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549416">competing</a> = <a href="#549413" title="List[Infer.this.global.Symbol]">alts1</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549456">alt</a> =&gt; <a href="#549415" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#549456" title="Infer.this.global.Symbol">alt</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549414" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549415" title="Infer.this.global.Symbol">best</a>, <a href="#549456" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549415" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#549402" title="Infer.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549474">qual</a>, _<span class="delimiter">)</span> =&gt;
                <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;qual: &quot;)" class="string">&quot;qual: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549474" title="Infer.this.global.Tree">qual</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549474" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with decls &quot;)" class="string">&quot; with decls &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549474" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Infer.this.global.Scope">decls</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549474" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105349" title="=&gt; List[Infer.this.global.Symbol]">members</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549474" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105354" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/Names.scala.html#66903" title="(s: String)Infer.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minus&quot;)" class="string">&quot;$minus&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#105957" title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit" class="delimiter">(</span><a href="#549402" title="Infer.this.global.Tree">tree</a>, <a href="#549402" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#549403" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549416" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549412" title="Boolean">secondTry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#105957" title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit" class="delimiter">(</span><a href="#549402" title="Infer.this.global.Tree">tree</a>, <a href="#549402" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#549403" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549403" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106711" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol, rest: String)Unit">ambiguousError</a><span class="delimiter">(</span><a href="#549402" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#549407" title="Infer.this.global.Type">pre</a>, <a href="#549415" title="Infer.this.global.Symbol">best</a>, <a href="#549416" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>, <span title="java.lang.String(&quot;expected type &quot;)" class="string">&quot;expected type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549403" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <a href="#105950" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span title="Unit" class="delimiter">(</span><a href="#549402" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//          val applicable = alts1 filter (alt =&gt; </span>
<span class="comment">//            global.typer.infer.isWeaklyCompatible(pre.memberType(alt), pt))</span>
<span class="comment">//          checkNotShadowed(tree.pos, pre, best, applicable)</span>
          <a href="#549402" title="Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span><span class="delimiter">(</span><a href="#549415" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>.<span title="(tp: Infer.this.global.Type)tree.type">setType</span><span title="Unit" class="delimiter">(</span><a href="#549407" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549415" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Assign &lt;code&gt;tree&lt;/code&gt; the type of an alternative which is applicable
     *  to &lt;code&gt;argtpes&lt;/code&gt;, and whose result type is compatible with `pt'.
     *  If several applicable alternatives exist, drop the alternatives which use
     *  default arguments, then select the most specialized one.
     *  If no applicable alternative exists, and pt != WildcardType, try again
     *  with pt = WildcardType.
     *  Otherwise, if there is no best alternative, error.
     *
     *  @param argtpes contains the argument types. If an argument is named, as
     *    &quot;a = 3&quot;, the corresponding type is `NamedType(&quot;a&quot;, Int)'. If the name
     *    of some NamedType does not exist in an alternative's parameter names,
     *    the type is replaces by `Unit', i.e. the argument is treated as an
     *    assignment expression.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], argtpes: List[Infer.this.global.Type], pt0: Infer.this.global.Type, varArgsOnly: Boolean)Unit" id="106016">inferMethodAlternative</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="481015">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="481016">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                               <a title="List[Infer.this.global.Type]" id="481017">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="481018">pt0</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="481021">varArgsOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#481015" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549494">pre</a>, <a title="List[Infer.this.global.Symbol]" id="549495">alts</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549496">pt</a> = <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#481018" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Infer.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#481018" title="Infer.this.global.Type">pt0</a>
        <a href="#106017" title="(infer: =&gt; Unit)Unit">tryTwice</a> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer method alt &quot;)" class="string">&quot;infer method alt &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#481015" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with alternatives &quot;)" class="string">&quot; with alternatives &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span class="delimiter">(</span><a href="#549495" title="List[Infer.this.global.Symbol]">alts</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,Any])Any">map</span> <a href="#549494" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, argtpes = &quot;)" class="string">&quot;, argtpes = &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#481017" title="List[Infer.this.global.Type]">argtpes</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#549496" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="549502">allApplicable</a> = <a href="#549495" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549558">alt</a> =&gt;
            <span class="comment">// TODO: this will need to be re-written once we substitute throwing exceptions</span>
            <span class="comment">// with generating error trees. We wrap this applicability in try/catch because of #4457.</span>
            <span class="keyword">try</span> <span class="delimiter">{</span><a href="#105981" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#481016" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#105977" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549494" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549558" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#481017" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#549496" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span><span class="keyword">case</span> <span title="Boolean(false)">_</span>: <a href="../symtab/Types.scala.html#67658" title="Infer.this.global.TypeError">TypeError</a> =&gt; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">}</span><span class="delimiter">)</span>

          <span class="comment">//log(&quot;applicable: &quot;+ (allApplicable map pre.memberType))</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#481021" title="Boolean">varArgsOnly</a><span class="delimiter">)</span>
            <a href="#549502" title="List[Infer.this.global.Symbol]">allApplicable</a> = <a href="#549502" title="List[Infer.this.global.Symbol]">allApplicable</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549564">alt</a> =&gt; <a href="../symtab/Definitions.scala.html#106220" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#549564" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="comment">// if there are multiple, drop those that use a default</span>
          <span class="comment">// (keep those that use vararg / tupling conversion)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549503">applicable</a> =
            <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#549502" title="List[Infer.this.global.Symbol]">allApplicable</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#549502" title="List[Infer.this.global.Symbol]">allApplicable</a>
            <span class="keyword">else</span> <a href="#549502" title="List[Infer.this.global.Symbol]">allApplicable</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549575">alt</a> =&gt; <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="549576">mtypes</a> = <a href="#105977" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549575" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="List[Infer.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="comment">// for functional values, the `apply' method might be overloaded</span>
                <span class="keyword">case</span> <span title="List[Infer.this.global.Type]">OverloadedType</span><span class="delimiter">(</span>_, <a title="List[Infer.this.global.Symbol]" id="549579">alts</a><span class="delimiter">)</span> =&gt; <a href="#549579" title="List[Infer.this.global.Symbol]">alts</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#549596" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="List[Infer.this.global.Type]" id="549624">t</a>                       =&gt; <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#549624" title="Infer.this.global.Type">t</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#549576" title="List[Infer.this.global.Type]">mtypes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="549638">t</a> =&gt;
                <a href="../symtab/Types.scala.html#67574" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#549638" title="Infer.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="#481017" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span>  <span class="comment">// tupling (*)</span>
                <a href="#105978" title="(tp: Infer.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="#549638" title="Infer.this.global.Type">t</a>, <a href="#481017" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>    <span class="comment">// same nb or vararg</span>
              <span class="delimiter">)</span>
              <span class="comment">// (*) more arguments than parameters, but still applicable: tuplig conversion works.</span>
              <span class="comment">//     todo: should not return &quot;false&quot; when paramTypes = (Unit) no argument is given</span>
              <span class="comment">//     (tupling would work)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="549504">improves</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549645">sym1</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="549646">sym2</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
<span class="comment">//            util.trace(&quot;improve &quot;+sym1+sym1.locationString+&quot; on &quot;+sym2+sym2.locationString)(</span>
            <a href="#549646" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549646" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107337" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549646" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Infer.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106151" title="=&gt; Infer.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
            <a href="#105987" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#105977" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549494" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549645" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                                   <a href="#105977" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549494" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549646" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#549645" title="Infer.this.global.Symbol">sym1</a>, <a href="#549646" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549505">best</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <a href="#549652" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">/:</a> <a href="#549503" title="List[Infer.this.global.Symbol]">applicable</a><span class="delimiter">)</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549665">best</a>, <a title="Infer.this.global.Symbol" id="549666">alt</a><span class="delimiter">)</span> =&gt;
            <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#549504" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549666" title="Infer.this.global.Symbol">alt</a>, <a href="#549665" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#549666" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#549665" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549506">competing</a> = <a href="#549503" title="List[Infer.this.global.Symbol]">applicable</a>.<span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549671">alt</a> =&gt; <a href="#549505" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#549671" title="Infer.this.global.Symbol">alt</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549504" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549505" title="Infer.this.global.Symbol">best</a>, <a href="#549671" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549505" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549496" title="Infer.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#105954" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span title="Unit" class="delimiter">(</span><a href="#481015" title="Infer.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#105788" title="(tree: Infer.this.global.Tree, msg: String, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a><span class="delimiter">(</span><a href="#481015" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot; cannot be applied to &quot;)" class="string">&quot; cannot be applied to &quot;</span>, <a href="#481017" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#549496" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#106016" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], argtpes: List[Infer.this.global.Type], pt0: Infer.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#481015" title="Infer.this.global.Tree">tree</a>, <a href="#481016" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#481017" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549506" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#481017" title="List[Infer.this.global.Type]">argtpes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#549690" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#549496" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106711" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol, rest: String)Unit">ambiguousError</a><span class="delimiter">(</span><a href="#481015" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#549494" title="Infer.this.global.Type">pre</a>, <a href="#549505" title="Infer.this.global.Symbol">best</a>, <a href="#549506" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>,
                                     <span title="java.lang.String(&quot;argument types &quot;)" class="string">&quot;argument types &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#481017" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
                                     <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#549496" title="Infer.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67390" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; and expected result type &quot;)" class="string">&quot; and expected result type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549496" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#105950" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#481015" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//            checkNotShadowed(tree.pos, pre, best, applicable)</span>
            <a href="#481015" title="Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span><span class="delimiter">(</span><a href="#549505" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>.<span title="(tp: Infer.this.global.Type)tree.type">setType</span><span title="Unit" class="delimiter">(</span><a href="#549494" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549505" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    <span class="comment">/** Try inference twice, once without views and once with views,
     *  unless views are already disabled.
     *
     *  @param infer ...
     */</span>
    <span class="keyword">def</span> <a title="(infer: =&gt; Unit)Unit" id="106017">tryTwice</a><span class="delimiter">(</span><a title="=&gt; Unit" id="549409">infer</a>: =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106668" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="549702">reportGeneralErrors</a> = <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106662" title="=&gt; Boolean">reportGeneralErrors</a>
        <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106663" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">try</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106691" title="(op: =&gt; Unit)Unit">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#549409" title="=&gt; Unit">infer</a><span class="delimiter">)</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="549706">ex</a>: <a href="../symtab/Symbols.scala.html#67336" title="Infer.this.global.CyclicReference">CyclicReference</a>  =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#549706" title="Infer.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="Unit" id="549707">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Infer.this.global.TypeError">TypeError</a>        =&gt;
            <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106663" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#549702" title="Boolean">reportGeneralErrors</a>
            <a href="#549409" title="=&gt; Unit">infer</a>
        <span class="delimiter">}</span>
        <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106663" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#549702" title="Boolean">reportGeneralErrors</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#549409" title="=&gt; Unit">infer</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Assign &lt;code&gt;tree&lt;/code&gt; the type of unique polymorphic alternative
     *  with &lt;code&gt;nparams&lt;/code&gt; as the number of type parameters, if it exists.
     *  If several or none such polymorphic alternatives exist, error.
     *
     *  @param tree ...
     *  @param nparams ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, argtypes: List[Infer.this.global.Type])Unit" id="106018">inferPolyAlternatives</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549708">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Type]" id="549709">argtypes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> OverloadedType<a href="#549712" title="(Infer.this.global.Type, List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#549711" title="Infer.this.global.Type" id="549712">pre</a>, <a href="#549711" title="List[Infer.this.global.Symbol]" id="549713">alts</a><span class="delimiter">)</span> = <a href="#549708" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549714">sym0</a> = <a href="#549708" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549730">alt</a> =&gt; <a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#549730" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#549709" title="List[Infer.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(msg: String)Unit" id="549715">fail</a><span class="delimiter">(</span><a title="String" id="549733">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#105953" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#549708" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#549733" title="String">msg</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549714" title="Infer.this.global.Symbol">sym0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#549715" title="(msg: String)Unit">fail</a><span class="delimiter">(</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#549713" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#549744" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105786" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#549708" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="TypeDiagnostics.scala.html#105786" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#549708" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span>
      <span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#549717" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</a><a href="#549716" title="Infer.this.global.Symbol" id="549717">resSym</a>, <a href="#549716" title="Infer.this.global.Type" id="549718">resTpe</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549714" title="Infer.this.global.Symbol">sym0</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span>
          <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#549714" title="Infer.this.global.Symbol">sym0</a>, <a href="#549712" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549714" title="Infer.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549754">sym</a> = <a href="#549714" title="Infer.this.global.Symbol">sym0</a> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549757">alt</a> =&gt; <a href="../symtab/Types.scala.html#67614" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#549712" title="Infer.this.global.Type">pre</a>, <a href="#549757" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#549757" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#549709" title="List[Infer.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#549754" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549709" title="List[Infer.this.global.Type]">argtypes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="549768">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#549768" title="Infer.this.global.Type">x</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#549715" title="(msg: String)Unit">fail</a><span class="delimiter">(</span>
              <span title="java.lang.String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549709" title="List[Infer.this.global.Type]">argtypes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
              <span title="java.lang.String(&quot; conform to the bounds of none of the overloaded alternatives of\012 &quot;)" class="string">&quot; conform to the bounds of none of the overloaded alternatives of\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#549714" title="Infer.this.global.Symbol">sym0</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#549714" title="Infer.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Infer.this.global.Type">info</a>
            <span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#549754" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549771">xs</a>      = <a href="#549754" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549772">tparams</a> = <span title="Infer.this.global.AsSeenFromMap" class="keyword">new</span> <a href="../symtab/Types.scala.html#67520" title="Infer.this.global.AsSeenFromMap">AsSeenFromMap</a><span class="delimiter">(</span><a href="#549712" title="Infer.this.global.Type">pre</a>, <a href="#549771" title="List[Infer.this.global.Symbol]">xs</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#133283" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a> <a href="#549771" title="List[Infer.this.global.Symbol]">xs</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="549773">bounds</a>  = <a href="#549772" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#549815" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107422" title="=&gt; Infer.this.global.Type">tpeHK</a><span class="delimiter">)</span> <span class="comment">// see e.g., #1236</span>
            <span class="keyword">val</span> <a title="Infer.this.global.PolyType" id="549774">tpe</a>     = <a href="../symtab/Types.scala.html#148857" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#549772" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="../symtab/Types.scala.html#251432" title="(pre: Infer.this.global.Type, alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#455099" title="(pre: Infer.this.global.Type, targs: List[Infer.this.global.Type])Infer.this.global.AntiPolyType">AntiPolyType</a><span class="delimiter">(</span><a href="#549712" title="Infer.this.global.Type">pre</a>, <a href="#549773" title="List[Infer.this.global.Type]">bounds</a><span class="delimiter">)</span>, <a href="#549771" title="List[Infer.this.global.Symbol]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            
            <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.PolyType)(Infer.this.global.Symbol, Infer.this.global.PolyType)" class="delimiter">(</span><a href="#549754" title="Infer.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Infer.this.global.Type)sym.type">setInfo</a> <a href="#549774" title="Infer.this.global.PolyType">tpe</a>, <a href="#549774" title="Infer.this.global.PolyType">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#549754" title="Infer.this.global.Symbol">sym</a>, <a href="#549712" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549754" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">// Side effects tree with symbol and type</span>
      <a href="#549708" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#549717" title="Infer.this.global.Symbol">resSym</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="#549718" title="Infer.this.global.Type">resTpe</a>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class AccessError extends Infer.this.global.Tree with ScalaObject with Product with Serializable" id="549938">AccessError</a><a href="#549938" title="ScalaObject" class="delimiter">(</a><a title="Infer.this.global.Tree" id="549972">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Symbol" id="549973">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="549974">pre</a>: <a href="../symtab/Types.scala.html#67381" title="Infer.this.global.Type">Type</a>, <a title="String" id="549975">explanation</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Analyzer.scala.html#105486" title="Infer.this.global.Tree">Tree</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Position" id="543685">pos</a> = <a href="#549972" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="543686">hasSymbol</a> = <a href="#549972" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Symbol" id="543687">symbol</a> = <a href="#549972" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(x: Infer.this.global.Symbol)Unit" id="543688">symbol_=</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549888">x</a>: <a href="../symtab/Symbols.scala.html#67320" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#549972" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)Unit">symbol</span> = <a href="#549888" title="Infer.this.global.Symbol">x</a>
      <a href="#105950" title="(tree: Inferencer.this.AccessError)Inferencer.this.AccessError">setError</a><span class="delimiter">(</span><a href="#549938" title="Inferencer.this.AccessError" class="keyword">this</a><span class="delimiter">)</span>
      
      <span class="keyword">def</span> <a title="()Infer.this.global.Tree" id="543689">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549896">realsym</a> = <a href="Namers.scala.html#105537" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#549973" title="=&gt; Infer.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#105954" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#549972" title="=&gt; Infer.this.global.Tree">tree</a>, <a href="#549896" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">realsym</a> <span title="(other: String)java.lang.String">+</span> <a href="#549896" title="Infer.this.global.Symbol">realsym</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; cannot be accessed in &quot;)" class="string">&quot; cannot be accessed in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#549973" title="=&gt; Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107332" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <a href="#106605" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Infer.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#549974" title="=&gt; Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Infer.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#549975" title="=&gt; String">explanation</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>