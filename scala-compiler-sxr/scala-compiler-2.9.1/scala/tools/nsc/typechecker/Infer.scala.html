<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Infer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.util.control.ControlThrowable
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#31716" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> scala.annotation.tailrec

<span class="comment">/** This trait ...
 *
 *  @author Martin Odersky
 *  @version 1.0
 */</span>
<span class="keyword">trait</span> <a title="trait Infer extends java.lang.Object with ScalaObject" id="30108">Infer</a> <span title="ScalaObject" class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#105627" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67699" title="object Infer.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#64965" title="object Infer.this.global.typer">typer</a>.printInference
  <span class="keyword">import</span> <a href="../symtab/TypeDebugging.scala.html#67945" title="object Infer.this.global.typeDebug">typeDebug</a>.ptBlock

<span class="comment">/* -- Type parameter inference utility functions --------------------------- */</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="105756">assertNonCyclic</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="542836">tvar</a>: <a href="../symtab/Types.scala.html#67469" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span> =
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#542836" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#542836" title="Infer.this.global.TypeVar">tvar</a>, <a href="#542836" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448991" title="=&gt; Infer.this.global.Type">origin</a><span class="delimiter">)</span>

  <span class="comment">/** The formal parameter types corresponding to &lt;code&gt;formals&lt;/code&gt;.
   *  If &lt;code&gt;formals&lt;/code&gt; has a repeated last parameter, a list of
   *  (nargs - params.length + 1) copies of its type is returned.
   *  By-name types are replaced with their underlying type.
   *
   *  @param removeByName allows keeping ByName parameters. Used in NamesDefaults.
   *  @param removeRepeated allows keeping repeated parameter (if there's one argument). Used in NamesDefaults.
   */</span>
  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]" id="105757">formalTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="542846">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="542847">nargs</a>: <span title="Int">Int</span>, <a title="Boolean" id="542851">removeByName</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>, <a title="Boolean" id="542852">removeRepeated</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="542853">formals1</a> = <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#542851" title="Boolean">removeByName</a><span class="delimiter">)</span> <a href="#542846" title="List[Infer.this.global.Type]">formals</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">mapConserve</span> <a href="#542860" title="Infer.this.global.Type" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106365" title="=&gt; Infer.this.global.Symbol">ByNameParamClass</a>, <a href="#542865" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="542876">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#542876" title="Infer.this.global.Type">arg</a>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="542877">formal</a> =&gt; <a href="#542877" title="Infer.this.global.Type">formal</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#542846" title="List[Infer.this.global.Type]">formals</a>
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106362" title="(formals: List[Infer.this.global.Type])Boolean">isVarArgTypes</a><span class="delimiter">(</span><a href="#542853" title="List[Infer.this.global.Type]">formals1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#542852" title="Boolean">removeRepeated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#542846" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#542847" title="Int">nargs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="542887">ft</a> = <a href="#542853" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Infer.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span>
      <a href="#542853" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; List[Infer.this.global.Type]">init</span> <a href="#542891" title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">:::</a> <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="542939">i</a> &lt;- <span title="object List">List</span>.<span title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</span><span title="(f: Int =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]" class="delimiter">(</span><a href="#542853" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="#542847" title="Int">nargs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#542887" title="Infer.this.global.Type">ft</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#542853" title="List[Infer.this.global.Type]">formals1</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]" id="105758">actualTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="542974">actuals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="542975">nformals</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#542975" title="Int">nformals</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67586" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#542974" title="List[Infer.this.global.Type]">actuals</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#542974" title="List[Infer.this.global.Type]">actuals</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106477" title="(elems: List[Infer.this.global.Type])Infer.this.global.Type">tupleType</a><span class="delimiter">(</span><a href="#542974" title="List[Infer.this.global.Type]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#542974" title="List[Infer.this.global.Type]">actuals</a>

  <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, actuals: List[Infer.this.global.Tree], nformals: Int)List[Infer.this.global.Tree]" id="105759">actualArgs</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="542990">pos</a>: <a href="../util/Position.scala.html#30588" title="Infer.this.global.Position">Position</a>, <a title="List[Infer.this.global.Tree]" id="542991">actuals</a>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="542992">nformals</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="542994">inRange</a> = <a href="#542992" title="Int">nformals</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67586" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#542991" title="List[Infer.this.global.Tree]">actuals</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#542991" title="List[Infer.this.global.Tree]">actuals</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106457" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span>
    <span title="List[Infer.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#542994" title="Boolean">inRange</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span title="(xs: Infer.this.global.gen.global.Tree*)List[Infer.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Infer.this.global.Position)(tree: Infer.this.global.gen.global.Tree)Infer.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#542990" title="Infer.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object Infer.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105587" title="(elems: List[Infer.this.global.gen.global.Tree])Infer.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#542991" title="List[Infer.this.global.Tree]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#542991" title="List[Infer.this.global.Tree]">actuals</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A fresh type variable with given type parameter as origin.
   *
   *  @param tparam ...
   *  @return       ...
   */</span>
  <span class="keyword">def</span> <a title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar" id="105760">freshVar</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="540373">tparam</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67469" title="Infer.this.global.TypeVar">TypeVar</a> = <a href="../symtab/Types.scala.html#448981" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#540373" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span> 
  
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NoInstance extends java.lang.Throwable with scala.util.control.ControlThrowable with ScalaObject" id="105761">NoInstance</a><a href="#105761" title="ScalaObject" class="delimiter">(</a><a title="String" id="543040">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.Throwable">Throwable</span><span class="delimiter">(</span><a href="#543040" title="String">msg</a><span class="delimiter">)</span> <span class="keyword">with</span> <span title="scala.util.control.ControlThrowable">ControlThrowable</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class DeferredNoInstance extends Infer.this.NoInstance with ScalaObject" id="105762">DeferredNoInstance</a><a href="#105762" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; String" id="543054">getmsg</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#105761" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="543051">getMessage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#543054" title="()String">getmsg</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](f: String =&gt; T)PartialFunction[Throwable,T]" id="105763">ifNoInstance</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="105765">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String =&gt; T" id="543059">f</a>: String =&gt; T<span class="delimiter">)</span>: <span title="PartialFunction[Throwable,T]">PartialFunction</span><span class="delimiter">[</span>Throwable, T<span class="delimiter">]</span> = <a href="#543063" title="T" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="T" id="543064">x</a>: <a href="#105761" title="Infer.this.NoInstance">NoInstance</a>  =&gt; <a href="#543059" title="(v1: String)T">f</a><span class="delimiter">(</span><a href="#543064" title="Infer.this.NoInstance">x</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Map every TypeVar to its constraint.inst field.
   *  throw a NoInstance exception if a NoType or WildcardType is encountered.
   */</span>
  <span class="keyword">object</span> <a title="object Infer.this.instantiate" id="105766">instantiate</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67514" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Infer.this.global.TypeVar]" id="543068">excludedVars</a> = immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Infer.this.global.TypeVar*)scala.collection.immutable.Set[Infer.this.global.TypeVar]" class="delimiter">[</span><a href="../symtab/Types.scala.html#67469" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="543070">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543074">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="#543074" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67401" title="Nothing">WildcardType</a> | BoundedWildcardType<span class="delimiter">(</span>_<span class="delimiter">)</span> | <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a> =&gt;
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#105761" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;undetermined type&quot;)" class="string">&quot;undetermined type&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543078">tv</a> @ <a href="../symtab/Types.scala.html#448979" title="(tv: Infer.this.global.TypeVar)Some[(Infer.this.global.Type, Infer.this.global.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543082">origin</a>, <a title="Infer.this.global.TypeConstraint" id="543083">constr</a><span class="delimiter">)</span> =&gt;
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#543083" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#105762" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="java.lang.String(&quot;no unique instantiation of type variable &quot;)" class="string">&quot;no unique instantiation of type variable &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543082" title="Infer.this.global.Type">origin</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; could be found&quot;)" class="string">&quot; could be found&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#543068" title="(elem: Infer.this.global.TypeVar)Boolean">excludedVars</a><span class="delimiter">(</span><a href="#543078" title="Infer.this.global.TypeVar">tv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#105761" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cyclic instantiation&quot;)" class="string">&quot;cyclic instantiation&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#543068" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit">excludedVars</a> <span title="(elem: Infer.this.global.TypeVar)scala.collection.immutable.Set[Infer.this.global.TypeVar]">+=</span> <a href="#543078" title="Infer.this.global.TypeVar">tv</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543109">res</a> = <a href="#543070" title="(tp: Infer.this.global.Type)Infer.this.global.Type">apply</a><span class="delimiter">(</span><a href="#543083" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
          <a href="#543068" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit">excludedVars</a> <span title="(elem: Infer.this.global.TypeVar)scala.collection.immutable.Set[Infer.this.global.TypeVar]">-=</span> <a href="#543078" title="Infer.this.global.TypeVar">tv</a>
          <a href="#543109" title="Infer.this.global.Type">res</a>
        <span class="delimiter">}</span> 
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#133458" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#543074" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Is type fully defined, i.e. no embedded anytypes or wildcards in it?
   *
   *  @param tp ...
   *  @return   ...
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Boolean" id="105768">isFullyDefined</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543166">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#543166" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67401" title="Boolean(false)">WildcardType</a> | BoundedWildcardType<span class="delimiter">(</span>_<span class="delimiter">)</span> | <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67408" title="Boolean(true)">NoPrefix</a> | ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span> | ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; 
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543174">pre</a>, <a title="Infer.this.global.Symbol" id="543175">sym</a>, <a title="List[Infer.this.global.Type]" id="543176">args</a><span class="delimiter">)</span> =&gt;
      <a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#543174" title="Infer.this.global.Type">pre</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#543176" title="List[Infer.this.global.Type]">args</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543186">pre</a>, <a title="Infer.this.global.Symbol" id="543187">sym</a><span class="delimiter">)</span> =&gt;
      <a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#543186" title="Infer.this.global.Type">pre</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="543190">ts</a>, <a title="Infer.this.global.Scope" id="543191">decls</a><span class="delimiter">)</span> =&gt;
      <a href="#543190" title="List[Infer.this.global.Type]">ts</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#448979" title="Boolean(false)">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543202">origin</a>, <a title="Infer.this.global.TypeConstraint" id="543203">constr</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#543203" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#543070" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#543166" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean(false)" id="543210">ex</a>: <a href="#105761" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>        

  <span class="comment">/** Solve constraint collected in types `tvars`.
   *
   *  @param tvars      All type variables to be instantiated.
   *  @param tparams    The type parameters corresponding to `tvars`
   *  @param variances  The variances of type parameters; need to reverse
   *                    solution direction for all contravariant variables.
   *  @param upper      When `true` search for max solution else min.
   *  @throws NoInstance
   */</span>
  <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]" id="105769">solvedTypes</a><span class="delimiter">(</span><a title="List[Infer.this.global.TypeVar]" id="540539">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="540540">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                  <a title="List[Int]" id="540541">variances</a>: <span title="List[Int]">List</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Boolean" id="540542">upper</a>: <span title="Boolean">Boolean</span>, <a title="Int" id="540543">depth</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67624" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)Boolean">solve</a><span class="delimiter">(</span><a href="#540539" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#540540" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540541" title="List[Int]">variances</a>, <a href="#540542" title="Boolean">upper</a>, <a href="#540543" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
      <span class="comment">// no panic, it's good enough to just guess a solution, we'll find out</span>
      <span class="comment">// later whether it works.  *ZAP* @M danger, Will Robinson! this means</span>
      <span class="comment">// that you should never trust inferred type arguments!</span>
      <span class="comment">//</span>
      <span class="comment">// Need to call checkBounds on the args/typars or type1 on the tree</span>
      <span class="comment">// for the expression that results from type inference see e.g., #2421:</span>
      <span class="comment">// implicit search had been ignoring this caveat</span>
      <span class="comment">// throw new DeferredNoInstance(() =&gt;</span>
      <span class="comment">//   &quot;no solution exists for constraints&quot;+(tvars map boundsString))</span>
    <span class="delimiter">}</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="543235">tvar</a> &lt;- <a href="#540539" title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">tvars</a> ; <span class="keyword">if</span> <a href="#543235" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#543235" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#543235" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448991" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Types.scala.html#67399" title="object Infer.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
        <span class="comment">// this can happen if during solving a cyclic type parameter</span>
        <span class="comment">// such as T &lt;: T gets completed. See #360</span>
        <a href="#543235" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449389" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#67399" title="object Infer.this.global.ErrorType">ErrorType</a>
      <span class="keyword">else</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#543235" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448991" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">origin</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; at &quot;)" class="string">&quot; at &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543235" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448991" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#540539" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#105766" title="object Infer.this.instantiate">instantiate</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="105770">skipImplicit</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543286">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#543286" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543289">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#543289" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a>  =&gt; <a href="#543289" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148767" title="=&gt; Infer.this.global.Type">resultType</a>
    <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span>                                =&gt; <a href="#543286" title="Infer.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Automatically perform the following conversions on expression types:
   *  A method type becomes the corresponding function type.
   *  A nullary method type becomes its result type.
   *  Implicit parameters are skipped.
   *  This method seems to be performance critical.
   */</span>
  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="105771">normalize</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="499961">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="#499961" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543294">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543297">params</a>, <a title="Infer.this.global.Type" id="543298">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#543294" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a> =&gt;
      <a href="#105771" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543298" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543299">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543302">params</a>, <a title="Infer.this.global.Type" id="543303">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#543303" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105451" title="=&gt; Boolean">isDependent</a> =&gt;
      <a href="../symtab/Definitions.scala.html#106491" title="(formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Infer.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#543302" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#543322" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#105771" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543303" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Infer.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543351">restpe</a><span class="delimiter">)</span> =&gt;
      <a href="#105771" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543351" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Infer.this.global.ExistentialType">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543354">tparams</a>, <a title="Infer.this.global.Type" id="543355">qtpe</a><span class="delimiter">)</span> =&gt;
      <a href="../symtab/Types.scala.html#149138" title="(quantified: List[Infer.this.global.Symbol], underlying: Infer.this.global.Type)Infer.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#543354" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#105771" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#543355" title="Infer.this.global.Type">qtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Infer.this.global.Type" id="543360">tp1</a> =&gt;
      <a href="#543360" title="Infer.this.global.Type">tp1</a> <span class="comment">// @MAT aliases already handled by subtyping</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.ClassSymbol" id="105772">stdErrorClass</a> = <a href="../symtab/Definitions.scala.html#106177" title="=&gt; Infer.this.global.ModuleClassSymbol">RootClass</a>.<a href="../symtab/Symbols.scala.html#107457" title="(name: Infer.this.global.TypeName)Infer.this.global.ClassSymbol">newErrorClass</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object Infer.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115034" title="=&gt; Infer.this.global.tpnme.NameType">ERROR</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.TermSymbol" id="105774">stdErrorValue</a> = <a href="#105772" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>.<a href="../symtab/Symbols.scala.html#107437" title="(name: Infer.this.global.TermName)Infer.this.global.TermSymbol">newErrorValue</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115034" title="=&gt; Infer.this.global.nme.NameType">ERROR</a><span class="delimiter">)</span>

  <span class="comment">/** The context-dependent inferencer part */</span>
  <span class="keyword">class</span> <a title="class Inferencer extends java.lang.Object with ScalaObject" id="105776">Inferencer</a><a href="#105776" title="ScalaObject" class="delimiter">(</a><a title="Infer.this.Context" id="106746">context</a>: <a href="Contexts.scala.html#105654" title="Infer.this.Context">Context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/* -- Error Messages --------------------------------------------------- */</span>
    <span class="keyword">def</span> <a title="[T &lt;: Infer.this.global.Tree](tree: T)T" id="106091">setError</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Infer.this.global.Tree" id="106093">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="543363">tree</a>: <a href="#106093" title="T">T</a><span class="delimiter">)</span>: <a href="#106093" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.TermName" id="543366">name</a>        = <a href="../symtab/Names.scala.html#66914" title="(s: String)Infer.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&lt;error: &quot;)" class="string">&quot;&lt;error: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543363" title="T">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.ClassSymbol" id="543367">errorClass</a>  = <span title="Infer.this.global.ClassSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106803" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107457" title="(name: Infer.this.global.TypeName)Infer.this.global.ClassSymbol">newErrorClass</a><span class="delimiter">(</span><a href="#543366" title="=&gt; Infer.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#96657" title="=&gt; Infer.this.global.TypeName">toTypeName</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105772" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.TermSymbol" id="543368">errorValue</a>  = <span title="Infer.this.global.TermSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106803" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107437" title="(name: Infer.this.global.TermName)Infer.this.global.TermSymbol">newErrorValue</a><span class="delimiter">(</span><a href="#543366" title="=&gt; Infer.this.global.TermName">name</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105774" title="=&gt; Infer.this.global.TermSymbol">stdErrorValue</a>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Symbol" id="543369">errorSym</a>    = <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Infer.this.global.Tree)Infer.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109171" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#543367" title="=&gt; Infer.this.global.ClassSymbol">errorClass</a> <span class="keyword">else</span> <a href="#543368" title="=&gt; Infer.this.global.TermSymbol">errorValue</a>
      
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#543363" title="T">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span>
        <a href="#543363" title="T">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#543369" title="=&gt; Infer.this.global.Symbol">errorSym</a>

      <a href="#543363" title="T">tree</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="../symtab/Types.scala.html#67399" title="object Infer.this.global.ErrorType">ErrorType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, msg: String)Unit" id="106094">error</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="539761">pos</a>: <a href="../util/Position.scala.html#30588" title="Infer.this.global.Position">Position</a>, <a title="String" id="539762">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106850" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#539761" title="Infer.this.global.Position">pos</a>, <a href="#539762" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree" id="106095">errorTree</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="543615">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="String" id="543616">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Infer.this.global.Tree)Infer.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109172" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#543615" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#543616" title="String">msg</a><span class="delimiter">)</span>
      <a href="#106091" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#543615" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, found: Infer.this.global.Type, req: Infer.this.global.Type)Unit" id="106096">typeError</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="543623">pos</a>: <a href="../util/Position.scala.html#30588" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="543624">found</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543625">req</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#543624" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#543625" title="Infer.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>        
        <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#543623" title="Infer.this.global.Position">pos</a>, <a href="TypeDiagnostics.scala.html#105919" title="(pos: Infer.this.global.Position)String =&gt; java.lang.String">withAddendum</a><span title="(v1: String)java.lang.String" class="delimiter">(</span><a href="#543623" title="Infer.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#106097" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)java.lang.String">typeErrorMsg</a><span class="delimiter">(</span><a href="#543624" title="Infer.this.global.Type">found</a>, <a href="#543625" title="Infer.this.global.Type">req</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36862" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="#106099" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#543624" title="Infer.this.global.Type">found</a>, <a href="#543625" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(found: Infer.this.global.Type, req: Infer.this.global.Type)java.lang.String" id="106097">typeErrorMsg</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539810">found</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539811">req</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="539814">isPossiblyMissingArgs</a> = <span class="delimiter">(</span><a href="#539810" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#105470" title="=&gt; Infer.this.global.Type">resultApprox</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#539810" title="Infer.this.global.Type">found</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106108" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#539810" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#105470" title="=&gt; Infer.this.global.Type">resultApprox</a>, <a href="#539811" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="539815">missingArgsMsg</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#539814" title="=&gt; Boolean">isPossiblyMissingArgs</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012 possible cause: missing arguments for method or constructor&quot;)" class="string">&quot;\n possible cause: missing arguments for method or constructor&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      
      <span title="java.lang.String(&quot;type mismatch&quot;)" class="string">&quot;type mismatch&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105934" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#539810" title="Infer.this.global.Type">found</a>, <a href="#539811" title="Infer.this.global.Type">req</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#539815" title="=&gt; java.lang.String">missingArgsMsg</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree" id="106098">typeErrorTree</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="543648">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="543649">found</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543650">req</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#106096" title="(pos: Infer.this.global.Position, found: Infer.this.global.Type, req: Infer.this.global.Type)Unit">typeError</a><span class="delimiter">(</span><a href="#543648" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#543649" title="Infer.this.global.Type">found</a>, <a href="#543650" title="Infer.this.global.Type">req</a><span class="delimiter">)</span>
      <a href="#106091" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#543648" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit" id="106099">explainTypes</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540811">tp1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="540812">tp2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = 
      <a href="TypeDiagnostics.scala.html#105942" title="(locals: List[Infer.this.global.Symbol], types: Infer.this.global.Type*)(op: =&gt; Unit)Unit">withDisambiguation</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#540811" title="Infer.this.global.Type">tp1</a>, <a href="#540812" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../symtab/Types.scala.html#67679" title="(found: Infer.this.global.Type, required: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#540811" title="Infer.this.global.Type">tp1</a>, <a href="#540812" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/* -- Tests &amp; Checks---------------------------------------------------- */</span>

    <span class="comment">/** Check that &lt;code&gt;sym&lt;/code&gt; is defined and accessible as a member of
     *  tree &lt;code&gt;site&lt;/code&gt; with type &lt;code&gt;pre&lt;/code&gt; in current context.
     *
     * Note: pre is not refchecked -- moreover, refchecking the resulting tree may not refcheck pre,
     *       since pre may not occur in its type (callers should wrap the result in a TypeTreeWithDeferredRefCheck)
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, sym: Infer.this.global.Symbol, pre: Infer.this.global.Type, site: Infer.this.global.Tree)Infer.this.global.Tree" id="106100">checkAccessible</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="543655">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Symbol" id="543656">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="543657">pre</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Tree" id="543658">site</a>: <span title="Infer.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> =
      <span title="Infer.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107478" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#543655" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#543656" title="Infer.this.global.Symbol">sym</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="../symtab/Types.scala.html#67399" title="object Infer.this.global.ErrorType">ErrorType</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="543662">topClass</a> = <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107618" title="=&gt; Infer.this.global.Symbol">toplevelClass</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Infer.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96439" title="=&gt; scala.collection.mutable.HashSet[Infer.this.global.Symbol]">depends</a> <span title="(elem: Infer.this.global.Symbol)scala.collection.mutable.HashSet[Infer.this.global.Symbol]">+=</span> <a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107618" title="=&gt; Infer.this.global.Symbol">toplevelClass</a> 

        <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="543663">sym1</a> = <a href="#543656" title="Infer.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="543711">alt</a> =&gt; <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106860" title="(sym: Infer.this.global.Symbol, pre: Infer.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#543711" title="Infer.this.global.Symbol">alt</a>, <a href="#543657" title="Infer.this.global.Type">pre</a>, <a href="#543658" title="Infer.this.global.Tree">site</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.Super">Super</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// Console.println(&quot;check acc &quot; + (sym, sym1) + &quot;:&quot; + (sym.tpe, sym1.tpe) + &quot; from &quot; + pre);//DEBUG</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#543663" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543656" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96457" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="comment">// don't try to second guess Java; see #4402</span>
          <a href="#543663" title="Infer.this.global.Symbol">sym1</a> = <a href="#543656" title="Infer.this.global.Symbol">sym</a>

        <span title="Infer.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#543663" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#106746" title="Infer.this.Context">context</a><span class="delimiter">)</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#543655" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543657" title="Infer.this.global.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106761" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#106764" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Infer.this.global.Type">thisType</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#543657" title="Infer.this.global.Type">pre</a> <a href="../symtab/Types.scala.html#105520" title="(that: Infer.this.global.Type)Boolean">=:=</a> <a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Infer.this.global.Type">thisType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Inferencer.this.AccessError" class="keyword">new</span> <a href="#550001" title="Inferencer.this.AccessError">AccessError</a><span class="delimiter">(</span><a href="#543655" title="Infer.this.global.Tree">tree</a>, <a href="#543656" title="Infer.this.global.Symbol">sym</a>, <a href="#543657" title="Infer.this.global.Type">pre</a>,
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36735" title="=&gt; scala.tools.nsc.Settings#PhasesSetting">check</a>.<a href="../settings/MutableSettings.scala.html#42148" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#64911" title="object Infer.this.global.analyzer">analyzer</a>.<a href="Contexts.scala.html#105647" title="=&gt; String">lastAccessCheckDetails</a>
            <span class="keyword">else</span>
              <a href="../symtab/TypeDebugging.scala.html#151737" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;because of an internal error (no accessible symbol)&quot;)" class="string">&quot;because of an internal error (no accessible symbol)&quot;</span>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;sym.ownerChain&quot;</span>                <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107544" title="=&gt; List[Infer.this.global.Symbol]">ownerChain</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;underlying(sym)&quot;</span>               <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="Namers.scala.html#105678" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#543656" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pre&quot;</span>                           <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#543657" title="Infer.this.global.Type">pre</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;site&quot;</span>                          <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#543658" title="Infer.this.global.Tree">site</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree&quot;</span>                          <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#543655" title="Infer.this.global.Tree">tree</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;sym.accessBoundary(sym.owner)&quot;</span> <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107557" title="(base: Infer.this.global.Symbol)Infer.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#543656" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;context.owner&quot;</span>                 <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a>,
                <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;context.outer.enclClass.owner&quot;</span> <span title="(y: Infer.this.global.Symbol)(java.lang.String, Infer.this.global.Symbol)">-&gt;</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106761" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#106764" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a>
              <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#543663" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span>
            <a href="#543663" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107575" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// xform java rawtypes into existentials</span>

          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="543893">owntype</a> = <span class="keyword">try</span><span class="delimiter">{</span> 
            <a href="#543657" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#543663" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Infer.this.global.ErrorType.type" id="543895">ex</a>: <a href="../symtab/Types.scala.html#67671" title="Infer.this.global.MalformedType">MalformedType</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#543895" title="Infer.this.global.MalformedType">ex</a>.<span title="()Unit">printStackTrace</span>
              <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="543896">sym2</a> = <a href="Namers.scala.html#105678" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#543663" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543897">itype</a> = <a href="#543657" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#543896" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
              <span title="Inferencer.this.AccessError" class="keyword">new</span> <a href="#550001" title="Inferencer.this.AccessError">AccessError</a><span class="delimiter">(</span><a href="#543655" title="Infer.this.global.Tree">tree</a>, <a href="#543656" title="Infer.this.global.Symbol">sym</a>, <a href="#543657" title="Infer.this.global.Type">pre</a>,
                          <span title="java.lang.String(&quot;\012 because its instance type &quot;)" class="string">&quot;\n because its instance type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543897" title="Infer.this.global.Type">itype</a><span title="(x$1: Any)java.lang.String">+</span>
                          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;malformed type: &quot;)" class="string">&quot;malformed type: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543897" title="Infer.this.global.Type">itype</a>.<span title="()String">toString</span><span title="(x$1: AnyRef)Boolean">==</span><a href="#543895" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#313955" title="=&gt; String">msg</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; is malformed&quot;)" class="string">&quot; is malformed&quot;</span> 
                           <span class="keyword">else</span> <span title="java.lang.String(&quot; contains a &quot;)" class="string">&quot; contains a &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#543895" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#313955" title="=&gt; String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#543752" title="()Infer.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#67399" title="object Infer.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#543657" title="Infer.this.global.Type">pre</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67418" title="Infer.this.global.SuperType">SuperType</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <a href="#543893" title="Infer.this.global.Type">owntype</a> = <a href="#543893" title="Infer.this.global.Type">owntype</a>.<a href="../symtab/Types.scala.html#105507" title="(from: Infer.this.global.Type, to: Infer.this.global.Type)Infer.this.global.Type">substSuper</a><span class="delimiter">(</span><a href="#543657" title="Infer.this.global.Type">pre</a>, <a href="#543658" title="Infer.this.global.Tree">site</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Infer.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#543655" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#543663" title="Infer.this.global.Symbol">sym1</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="#543893" title="Infer.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Capturing the overlap between isPlausiblyCompatible and normSubType.
     *  This is a faithful translation of the code which was there, but it
     *  seems likely the methods are intended to be even more similar than
     *  they are: perhaps someone more familiar with the intentional distinctions
     *  can examine the now much smaller concrete implementations below.
     */</span>
<span class="comment">/*
    abstract class CompatibilityChecker {
      def resultTypeCheck(restpe: Type, arg: Type): Boolean
      def argumentCheck(arg: Type, param: Type): Boolean
      def lastChanceCheck(tp: Type, pt: Type): Boolean
      
      final def mtcheck(tp: MethodType, pt: TypeRef): Boolean = {
        val MethodType(params, restpe) = tp
        val TypeRef(pre, sym, args) = pt

        if (sym.isAliasType) apply(tp, pt.normalize)
        else if (sym.isAbstractType) apply(tp, pt.bounds.lo)
        else {
          val len = args.length - 1
          hasLength(params, len) &amp;&amp;
          sym == FunctionClass(len) &amp;&amp; {
            val ps = params.iterator
            val as = args.iterator
            while (ps.hasNext &amp;&amp; as.hasNext) {
              if (!argumentCheck(as.next, ps.next.tpe))
                return false
            }
            ps.isEmpty &amp;&amp; as.hasNext &amp;&amp; {
              val lastArg = as.next
              as.isEmpty &amp;&amp; resultTypeCheck(restpe, lastArg)
            }
          }
        }
      }

      def apply(tp: Type, pt: Type): Boolean = tp match {
        case mt @ MethodType(_, restpe) =&gt;
          if (mt.isImplicit)
            apply(restpe, pt)
          else pt match {
            case tr: TypeRef  =&gt; mtcheck(mt, tr)
            case _            =&gt; lastChanceCheck(tp, pt)
          }
        case NullaryMethodType(restpe)  =&gt; apply(restpe, pt)
        case PolyType(_, restpe)        =&gt; apply(restpe, pt)
        case ExistentialType(_, qtpe)   =&gt; apply(qtpe, pt)
        case _                          =&gt; argumentCheck(tp, pt)
      }
    }
    
    object isPlausiblyCompatible extends CompatibilityChecker {
      def resultTypeCheck(restpe: Type, arg: Type) = isPlausiblyCompatible(restpe, arg)
      def argumentCheck(arg: Type, param: Type)    = isPlausiblySubType(arg, param)
      def lastChanceCheck(tp: Type, pt: Type)      = false
    }
    object normSubType extends CompatibilityChecker {
      def resultTypeCheck(restpe: Type, arg: Type) = normSubType(restpe, arg)
      def argumentCheck(arg: Type, param: Type)    = arg &lt;:&lt; param
      def lastChanceCheck(tp: Type, pt: Type)      = tp &lt;:&lt; pt
      
      override def apply(tp: Type, pt: Type): Boolean = tp match {
        case ExistentialType(_, _)     =&gt; normalize(tp) &lt;:&lt; pt
        case _                         =&gt; super.apply(tp, pt)
      }
    }
*/</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="106101">isPlausiblyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540090">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="540091">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#540090" title="Infer.this.global.Type">tp</a>, <a href="#540091" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="106102">normSubType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539889">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539890">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#539889" title="Infer.this.global.Type">tp</a>, <a href="#539890" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

    @tailrec <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="106103">checkCompatibility</a><span class="delimiter">(</span><a title="Boolean" id="539893">fast</a>: <span title="Boolean">Boolean</span>, <a title="Infer.this.global.Type" id="539894">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539895">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#539894" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="543911">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="543914">params</a>, <a title="Infer.this.global.Type" id="543915">restpe</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#543911" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a><span class="delimiter">)</span>
          <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a>, <a href="#543915" title="Infer.this.global.Type">restpe</a>, <a href="#539895" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#539895" title="Infer.this.global.Type">pt</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="543916">tr</a> @ TypeRef<span class="delimiter">(</span><a title="Infer.this.global.Type" id="543920">pre</a>, <a title="Infer.this.global.Symbol" id="543921">sym</a>, <a title="List[Infer.this.global.Type]" id="543922">args</a><span class="delimiter">)</span> =&gt; 

            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#543921" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a>, <a href="#539894" title="Infer.this.global.Type">tp</a>, <a href="#539895" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#543921" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a>, <a href="#539894" title="Infer.this.global.Type">tp</a>, <a href="#539895" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Infer.this.global.Type">lo</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="543923">len</a> = <a href="#543922" title="List[Infer.this.global.Type]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
              <a href="../symtab/Types.scala.html#67586" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#543914" title="List[Infer.this.global.Symbol]">params</a>, <a href="#543923" title="Int">len</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <a href="#543921" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106469" title="(i: Int)Infer.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#543923" title="Int">len</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="543933">ps</a> = <a href="#543914" title="List[Infer.this.global.Symbol]">params</a>
                <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="543934">as</a> = <a href="#543922" title="List[Infer.this.global.Type]">args</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#543933" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#543935" title="()Unit" class="delimiter">{</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106104" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a><span class="delimiter">(</span><a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Infer.this.global.Type">head</span>, <a href="#543933" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
                    <a href="#543933" title="List[Infer.this.global.Symbol]">ps</a> = <a href="#543933" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; List[Infer.this.global.Symbol]">tail</span>
                    <a href="#543934" title="List[Infer.this.global.Type]">as</a> = <a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; List[Infer.this.global.Type]">tail</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#543933" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#543975" title="()Unit" class="delimiter">{</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Infer.this.global.Type">head</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#543933" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
                    <a href="#543933" title="List[Infer.this.global.Symbol]">ps</a> = <a href="#543933" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; List[Infer.this.global.Symbol]">tail</span>
                    <a href="#543934" title="List[Infer.this.global.Type]">as</a> = <a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; List[Infer.this.global.Type]">tail</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
                <a href="#543933" title="List[Infer.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Infer.this.global.Type" id="543986">lastArg</a> = <a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; Infer.this.global.Type">head</span>
                  <a href="#543934" title="List[Infer.this.global.Type]">as</a>.<span title="=&gt; List[Infer.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a>, <a href="#543915" title="Infer.this.global.Type">restpe</a>, <a href="#543986" title="Infer.this.global.Type">lastArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          
          <span class="keyword">case</span> <span title="Boolean">_</span>            =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#539894" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539895" title="Infer.this.global.Type">pt</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543992">restpe</a><span class="delimiter">)</span>  =&gt; <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a>, <a href="#543992" title="Infer.this.global.Type">restpe</a>, <a href="#539895" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="543995">restpe</a><span class="delimiter">)</span>        =&gt; <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a>, <a href="#543995" title="Infer.this.global.Type">restpe</a>, <a href="#539895" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="543998">qtpe</a><span class="delimiter">)</span>   =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a><span class="delimiter">)</span> <a href="#106103" title="(fast: Boolean, tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a>, <a href="#543998" title="Infer.this.global.Type">qtpe</a>, <a href="#539895" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105771" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#539894" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539895" title="Infer.this.global.Type">pt</a> <span class="comment">// is !fast case needed??</span>
      <span class="keyword">case</span> <span title="Boolean">_</span>                          =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#539893" title="Boolean">fast</a><span class="delimiter">)</span> <a href="#106104" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a><span class="delimiter">(</span><a href="#539894" title="Infer.this.global.Type">tp</a>, <a href="#539895" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#539894" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#539895" title="Infer.this.global.Type">pt</a>
    <span class="delimiter">}</span>


    <span class="comment">/** This expresses more cleanly in the negative: there's a linear path
     *  to a final true or false.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean" id="106104">isPlausiblySubType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543940">tp1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543941">tp2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#106105" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isImpossibleSubType</a><span class="delimiter">(</span><a href="#543940" title="Infer.this.global.Type">tp1</a>, <a href="#543941" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean" id="106105">isImpossibleSubType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="543944">tp1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="543945">tp2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#543944" title="Infer.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Infer.this.global.Type">widen</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="543948">tr1</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="543952">sym1</a>, _<span class="delimiter">)</span> =&gt;
        <span class="comment">// If the lhs is an abstract type, we can't rule out a subtype</span>
        <span class="comment">// relationship because we don't know what it is.</span>
        <span title="=&gt; Boolean">!</span><a href="#543952" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#543945" title="Infer.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Infer.this.global.Type">widen</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="543956">sym2</a>, _<span class="delimiter">)</span> =&gt;
             <a href="#543952" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
             <a href="#543956" title="Infer.this.global.Symbol">sym2</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#543952" title="Infer.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: Infer.this.global.Symbol)Boolean">isSubClass</a> <a href="#543956" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#543952" title="Infer.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107590" title="(that: Infer.this.global.Symbol)Boolean">isNumericSubClass</a> <a href="#543956" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="543961">parents</a>, <a title="Infer.this.global.Scope" id="543962">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#543962" title="Infer.this.global.Scope">decls</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#543948" title="Infer.this.global.TypeRef">tr1</a>.<a href="../symtab/Types.scala.html#105495" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#543962" title="Infer.this.global.Scope">decls</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="106106">isCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="544001">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="544002">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544004">tp1</a> = <a href="#105771" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#544001" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#544004" title="Infer.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105519" title="(that: Infer.this.global.Type)Boolean">weak_&lt;:&lt;</a> <a href="#544002" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#106110" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCoercible</a><span class="delimiter">(</span><a href="#544004" title="Infer.this.global.Type">tp1</a>, <a href="#544002" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tps: List[Infer.this.global.Type], pts: List[Infer.this.global.Type])Boolean" id="106107">isCompatibleArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="544006">tps</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="544007">pts</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><a href="#544006" title="List[Infer.this.global.Type]">tps</a> <span title="(that: scala.collection.GenSeq[Infer.this.global.Type])(p: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Boolean)Boolean">corresponds</span> <a href="#544007" title="List[Infer.this.global.Type]">pts</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#106106" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="106108">isWeaklyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539816">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539817">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#539817" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Infer.this.global.Symbol">UnitClass</a> <span title="(x: Boolean)Boolean">||</span> <span class="comment">// can perform unit coercion</span>
      <a href="#106106" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#539816" title="Infer.this.global.Type">tp</a>, <a href="#539817" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#539816" title="Infer.this.global.Type">tp</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67448" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// can perform implicit () instantiation</span>
      <a href="#539816" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106106" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#539816" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#539817" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="comment">/** Like weakly compatible but don't apply any implicit conversions yet.
     *  Used when comparing the result type of a method with its prototype.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="106109">isConservativelyCompatible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="544038">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="544039">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106832" title="(op: =&gt; Boolean)Boolean">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#106108" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#544038" title="Infer.this.global.Type">tp</a>, <a href="#544039" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** This is overridden in the Typer.infer with some logic, but since
     *  that's the only place in the compiler an Inferencer is ever created,
     *  I suggest this should either be abstract or have the implementation.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean" id="106110">isCoercible</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="106740">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="106741">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/* -- Type instantiation------------------------------------------------ */</span>

    <span class="comment">/** Replace any (possibly bounded) wildcard types in type `tp`
     *  by existentially bound variables.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="106111">makeFullyDefined</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="544044">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="544046">tparams</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">def</span> <a title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type" id="544047">addTypeParam</a><span class="delimiter">(</span><a title="Infer.this.global.TypeBounds" id="544049">bounds</a>: <a href="../symtab/Types.scala.html#67422" title="Infer.this.global.TypeBounds">TypeBounds</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.TypeSymbol" id="544050">tparam</a> =  
          <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107440" title="(pos: Infer.this.global.Position, name: Infer.this.global.TypeName)Infer.this.global.TypeSymbol">newAbstractType</a><span class="delimiter">(</span><a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="../symtab/Names.scala.html#66917" title="(s: String)Infer.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#544046" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)Infer.this.global.TypeSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span>
            .<a href="../symtab/Symbols.scala.html#107566" title="(info: Infer.this.global.Type)Infer.this.global.TypeSymbol">setInfo</a><span class="delimiter">(</span><a href="#544049" title="Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
        <a href="#544046" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a> <span title="(x: Infer.this.global.Symbol)tparams.type">+=</span> <a href="#544050" title="Infer.this.global.TypeSymbol">tparam</a>
        <a href="#544050" title="Infer.this.global.TypeSymbol">tparam</a>.<a href="../symtab/Symbols.scala.html#113169" title="=&gt; Infer.this.global.Type">tpe</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544048">tp1</a> = <a href="#544044" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105511" title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)Infer.this.global.Type">map</a> <a href="#544084" title="Infer.this.global.Type" class="delimiter">{</a> 
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67401" title="Infer.this.global.Type">WildcardType</a> =&gt;
          <a href="#544047" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67423" title="object Infer.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#148498" title="=&gt; Infer.this.global.TypeBounds">empty</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">BoundedWildcardType</span><span class="delimiter">(</span><a title="Infer.this.global.TypeBounds" id="544086">bounds</a><span class="delimiter">)</span> =&gt;
          <a href="#544047" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a><span class="delimiter">(</span><a href="#544086" title="Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Infer.this.global.Type" id="544087">t</a> =&gt; <a href="#544087" title="Infer.this.global.Type">t</a>
      <span class="delimiter">}</span>
      <a href="../symtab/Types.scala.html#67493" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#544046" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>, <a href="#544048" title="Infer.this.global.Type">tp1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Return inferred type arguments of polymorphic expression, given 
     *  its type parameters and result type and a prototype &lt;code&gt;pt&lt;/code&gt;.
     *  If no minimal type variables exist that make the
     *  instantiated type a subtype of &lt;code&gt;pt&lt;/code&gt;, return null.
     *
     *  @param tparams ...
     *  @param restpe  ...
     *  @param pt      ...
     *  @return        ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]" id="106112">exprTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="544090">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="544091">restpe</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="544092">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="544095">useWeaklyCompatible</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="544096">tvars</a> = <a href="#544090" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544097">instResTp</a> = <a href="#544091" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#544090" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544096" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#544095" title="Boolean">useWeaklyCompatible</a><span class="delimiter">)</span> <a href="#106108" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#544097" title="Infer.this.global.Type">instResTp</a>, <a href="#544092" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#106106" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#544097" title="Infer.this.global.Type">instResTp</a>, <a href="#544092" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="comment">// If the restpe is an implicit method, and the expected type is fully defined</span>
          <span class="comment">// optimize type variables wrt to the implicit formals only; ignore the result type.</span>
          <span class="comment">// See test pos/jesper.scala </span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544144">varianceType</a> = <a href="#544091" title="Infer.this.global.Type">restpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Infer.this.global.MethodType" id="544145">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#544145" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#544092" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> =&gt;
              <a href="../symtab/Types.scala.html#148762" title="(params: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#544145" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148765" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="../symtab/Definitions.scala.html#106216" title="=&gt; Infer.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
              <a href="#544091" title="Infer.this.global.Type">restpe</a>
          <span class="delimiter">}</span>
          <span class="comment">//println(&quot;try to solve &quot;+tvars+&quot; &quot;+tparams)</span>
          <a href="#105769" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span><a href="#544096" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#544090" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544090" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#105825" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#544162" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#544144" title="Infer.this.global.Type">varianceType</a><span class="delimiter">)</span>, 
                      <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#67568" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#544091" title="Infer.this.global.Type">restpe</a>, <a href="#544092" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Null(null)" id="544198">ex</a>: <a href="#105761" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Return inferred proto-type arguments of function, given
    *  its type and value parameters and result type, and a
    *  prototype &lt;code&gt;pt&lt;/code&gt; for the function result.
    *  Type arguments need to be either determined precisely by
    *  the prototype, or they are maximized, if they occur only covariantly
    *  in the value parameter list.
    *  If instantiation of a type parameter fails, 
    *  take WildcardType for the proto-type argument.
    *
    *  @param tparams ...
    *  @param formals ...
    *  @param restype ...
    *  @param pt      ...
    *  @return        ...
    */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, pt: Infer.this.global.Type)List[Infer.this.global.Type]" id="106113">protoTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="544199">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="544200">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="544201">restpe</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>,
                      <a title="Infer.this.global.Type" id="544202">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">/** Map type variable to its instance, or, if `variance' is covariant/contravariant,
       *  to its upper/lower bound */</span>
      <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar, variance: Int)Infer.this.global.Type" id="544204">instantiateToBound</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="544206">tvar</a>: <a href="../symtab/Types.scala.html#67469" title="Infer.this.global.TypeVar">TypeVar</a>, <a title="Int" id="544207">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="544209">hiBounds</a> = <a href="#544206" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449384" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="544211">loBounds</a> = <a href="#544206" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449383" title="=&gt; List[Infer.this.global.Type]">loBounds</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544213">upper</a> = <a href="../symtab/Types.scala.html#67658" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><span class="delimiter">(</span><a href="#544208" title="=&gt; List[Infer.this.global.Type]">hiBounds</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="544215">lower</a> = <a href="../symtab/Types.scala.html#67649" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a><span class="delimiter">(</span><a href="#544210" title="=&gt; List[Infer.this.global.Type]">loBounds</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="544216">setInst</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="544224">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <a href="#544206" title="Infer.this.global.TypeVar">tvar</a> <a href="../symtab/Types.scala.html#449007" title="(tp: Infer.this.global.Type)Unit">setInst</a> <a href="#544224" title="Infer.this.global.Type">tp</a>
          <a href="#105756" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a><span class="delimiter">(</span><a href="#544206" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span><span class="comment">//debug</span>
          <a href="#543070" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#544206" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">//Console.println(&quot;instantiate &quot;+tvar+tvar.constr+&quot; variance = &quot;+variance);//DEBUG</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#544206" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a><span class="delimiter">)</span> 
          <a href="#543070" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a><span class="delimiter">(</span><a href="#544206" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#544207" title="Int">variance</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544208" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#544216" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#544212" title="=&gt; Infer.this.global.Type">upper</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#544207" title="Int">variance</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(131072)">CONTRAVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544210" title="=&gt; List[Infer.this.global.Type]">loBounds</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#544216" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#544214" title="=&gt; Infer.this.global.Type">lower</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#544208" title="=&gt; List[Infer.this.global.Type]">hiBounds</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544210" title="=&gt; List[Infer.this.global.Type]">loBounds</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#544212" title="=&gt; Infer.this.global.Type">upper</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#544214" title="=&gt; Infer.this.global.Type">lower</a><span class="delimiter">)</span>
          <a href="#544216" title="(tp: Infer.this.global.Type)Infer.this.global.Type">setInst</a><span class="delimiter">(</span><a href="#544212" title="=&gt; Infer.this.global.Type">upper</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Infer.this.global.WildcardType.type" id="544251">ex</a>: <a href="#105761" title="Infer.this.NoInstance">NoInstance</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="544205">tvars</a> = <a href="#544199" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#106109" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isConservativelyCompatible</a><span class="delimiter">(</span><a href="#544201" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#544199" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544205" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>, <a href="#544202" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(_1: List[Infer.this.global.Symbol], _2: List[Infer.this.global.TypeVar])(List[Infer.this.global.Symbol], List[Infer.this.global.TypeVar])" class="delimiter">(</span><a href="#544199" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#544205" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Symbol] =&gt; scala.collection.TraversableLike[Infer.this.global.Symbol,List[Infer.this.global.Symbol]], implicit w2: List[Infer.this.global.TypeVar] =&gt; scala.collection.IterableLike[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])(List[Infer.this.global.Symbol], List[Infer.this.global.TypeVar])#Zipped[List[Infer.this.global.Symbol],Infer.this.global.Symbol,List[Infer.this.global.TypeVar],Infer.this.global.TypeVar]">zipped</span> <span title="(f: (Infer.this.global.Symbol, Infer.this.global.TypeVar) =&gt; Infer.this.global.Type)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="544356">tparam</a>, <a title="Infer.this.global.TypeVar" id="544357">tvar</a><span class="delimiter">)</span> =&gt;
          <a href="#544204" title="(tvar: Infer.this.global.TypeVar, variance: Int)Infer.this.global.Type">instantiateToBound</a><span class="delimiter">(</span><a href="#544357" title="Infer.this.global.TypeVar">tvar</a>, <a href="Variances.scala.html#105821" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><span class="delimiter">(</span><a href="#544200" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#544356" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> 
        <a href="#544205" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.WildcardType.type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="544406">tvar</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.AdjustedTypeArgs" id="106114">AdjustedTypeArgs</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">type</span> <a title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]" id="540912">Result</a> = collection.mutable.<span title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]]">LinkedHashMap</span><span class="delimiter">[</span>Symbol, Option<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]" id="540913">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="540946">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type])]">Some</span><span class="delimiter">(</span><a href="#540918" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type])">toLists</a><span class="delimiter">(</span>
        <a href="#540946" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a> <span title="(pf: PartialFunction[(Infer.this.global.Symbol, Option[Infer.this.global.Type]),(Infer.this.global.Symbol, Infer.this.global.Type)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">collect</span> <a href="#544609" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="544612">p</a>, Some<span class="delimiter">(</span><a title="Infer.this.global.Type" id="544614">a</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#544612" title="Infer.this.global.Symbol">p</a>, <a href="#544614" title="Infer.this.global.Type">a</a><span class="delimiter">)</span><span class="delimiter">}</span> <span title="(implicit asPair: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>  <span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">object</span> <a title="object scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Undets" id="540914">Undets</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]" id="544819">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="544821">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">(</span><a href="#540923" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])">toLists</a><span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#544846" title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])" class="delimiter">(</a><a href="#544845" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="544846">ok</a>, <a href="#544845" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="544847">nok</a><span class="delimiter">)</span> = <a href="#544821" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="(f: (Infer.this.global.Symbol, Option[Infer.this.global.Type]) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">map</span><a href="#544867" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="544870">p</a>, <a title="Option[Infer.this.global.Type]" id="544871">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#544870" title="Infer.this.global.Symbol">p</a>, <a href="#544871" title="Option[Infer.this.global.Type]">a</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>.<span title="(p: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; Boolean)(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])">partition</span><span title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]) @unchecked" class="delimiter">(</span><a href="#544948" title="(Infer.this.global.Symbol, Infer.this.global.Type)">_</a>.<span title="=&gt; Infer.this.global.Type">_2</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#544849" title="(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])" class="delimiter">(</a><a href="#544848" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]" id="544849">okArgs</a>, <a href="#544848" title="scala.collection.mutable.Iterable[Infer.this.global.Type]" id="544850">okTparams</a><span class="delimiter">)</span> = <a href="#544846" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">ok</a>.<span title="(implicit asPair: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>
          <span title="(_1: scala.collection.mutable.Iterable[Infer.this.global.Symbol], _2: scala.collection.mutable.Iterable[Infer.this.global.Type], _3: Iterable[Infer.this.global.Symbol])(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol])" class="delimiter">(</span><a href="#544849" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]">okArgs</a>, <a href="#544850" title="scala.collection.mutable.Iterable[Infer.this.global.Type]">okTparams</a>, <a href="#544847" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">nok</a>.<span title="=&gt; Iterable[Infer.this.global.Symbol]">keys</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">object</span> <a title="object scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.AllArgsAndUndets" id="540916">AllArgsAndUndets</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(m: scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]" id="545019">unapply</a><span class="delimiter">(</span><a title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result" id="545021">m</a>: <span title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">Result</span><span class="delimiter">)</span>: <span title="Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(x: (List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol]))Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Some</span><span class="delimiter">(</span><a href="#540930" title="(pxs: (Iterable[Infer.this.global.Symbol], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol]))(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])">toLists</a><span class="delimiter">{</span>
          <span class="keyword">val</span> <a href="#545047" title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])" class="delimiter">(</a><a href="#545046" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="545047">ok</a>, <a href="#545046" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]" id="545048">nok</a><span class="delimiter">)</span> = <a href="#545021" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="(f: (Infer.this.global.Symbol, Option[Infer.this.global.Type]) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Option[Infer.this.global.Type]],(Infer.this.global.Symbol, Infer.this.global.Type),scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]])scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">map</span><a href="#545068" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">{</a><span class="keyword">case</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545071">p</a>, <a title="Option[Infer.this.global.Type]" id="545072">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#545071" title="Infer.this.global.Symbol">p</a>, <a href="#545072" title="Option[Infer.this.global.Type]">a</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>.<span title="(p: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; Boolean)(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type])">partition</span><span title="(scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type], scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]) @unchecked" class="delimiter">(</span><a href="#545129" title="(Infer.this.global.Symbol, Infer.this.global.Type)">_</a>.<span title="=&gt; Infer.this.global.Type">_2</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#545050" title="(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])" class="delimiter">(</a><a href="#545049" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]" id="545050">okArgs</a>, <a href="#545049" title="scala.collection.mutable.Iterable[Infer.this.global.Type]" id="545051">okTparams</a><span class="delimiter">)</span> = <a href="#545047" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">ok</a>.<span title="(implicit asPair: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Infer.this.global.Type))(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type])">unzip</span>
          <span title="(_1: scala.collection.mutable.Iterable[Infer.this.global.Symbol], _2: scala.collection.mutable.Iterable[Infer.this.global.Type], _3: Iterable[Infer.this.global.Type], _4: Iterable[Infer.this.global.Symbol])(scala.collection.mutable.Iterable[Infer.this.global.Symbol], scala.collection.mutable.Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Type], Iterable[Infer.this.global.Symbol])" class="delimiter">(</span><a href="#545050" title="scala.collection.mutable.Iterable[Infer.this.global.Symbol]">okArgs</a>, <a href="#545051" title="scala.collection.mutable.Iterable[Infer.this.global.Type]">okTparams</a>, <a href="#545021" title="scala.tools.nsc.typechecker.Infer.Inferencer.AdjustedTypeArgs.Result">m</a>.<span title="=&gt; Iterable[Option[Infer.this.global.Type]]">values</span>.<span title="(f: Option[Infer.this.global.Type] =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Option[Infer.this.global.Type]],Infer.this.global.Type,Iterable[Infer.this.global.Type]])Iterable[Infer.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Infer.this.global.Type,Iterable[Infer.this.global.Type]]" class="delimiter">(</span><a href="#545190" title="Option[Infer.this.global.Type]">_</a>.<span title="(default: =&gt; Infer.this.global.Type)Infer.this.global.Type">getOrElse</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106228" title="=&gt; Infer.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#545048" title="scala.collection.mutable.LinkedHashMap[Infer.this.global.Symbol,Infer.this.global.Type]">nok</a>.<span title="=&gt; Iterable[Infer.this.global.Symbol]">keys</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2](pxs: (Iterable[A1], Iterable[A2]))(List[A1], List[A2])" id="540918">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="540921">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="540922">A2</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2])" id="544558">pxs</a>: <span title="(Iterable[A1], Iterable[A2])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2])(List[A1], List[A2])" class="delimiter">(</span><a href="#544558" title="(Iterable[A1], Iterable[A2])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#544558" title="(Iterable[A1], Iterable[A2])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span><span class="delimiter">)</span>
      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2, A3](pxs: (Iterable[A1], Iterable[A2], Iterable[A3]))(List[A1], List[A2], List[A3])" id="540923">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="540927">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="540928">A2</a>, <a title="&gt;: Nothing &lt;: Any" id="540929">A3</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2], Iterable[A3])" id="544507">pxs</a>: <span title="(Iterable[A1], Iterable[A2], Iterable[A3])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A3<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2], _3: List[A3])(List[A1], List[A2], List[A3])" class="delimiter">(</span><a href="#544507" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#544507" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span>, <a href="#544507" title="(Iterable[A1], Iterable[A2], Iterable[A3])">pxs</a>.<span title="=&gt; Iterable[A3]">_3</span>.<span title="=&gt; List[A3]">toList</span><span class="delimiter">)</span>
      @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A1, A2, A3, A4](pxs: (Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4]))(List[A1], List[A2], List[A3], List[A4])" id="540930">toLists</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="540935">A1</a>, <a title="&gt;: Nothing &lt;: Any" id="540936">A2</a>, <a title="&gt;: Nothing &lt;: Any" id="540937">A3</a>, <a title="&gt;: Nothing &lt;: Any" id="540938">A4</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])" id="544441">pxs</a>: <span title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])" class="delimiter">(</span>Iterable<span class="delimiter">[</span>A1<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A2<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A3<span class="delimiter">]</span>, Iterable<span class="delimiter">[</span>A4<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span title="(_1: List[A1], _2: List[A2], _3: List[A3], _4: List[A4])(List[A1], List[A2], List[A3], List[A4])" class="delimiter">(</span><a href="#544441" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A1]">_1</span>.<span title="=&gt; List[A1]">toList</span>, <a href="#544441" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A2]">_2</span>.<span title="=&gt; List[A2]">toList</span>, <a href="#544441" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A3]">_3</span>.<span title="=&gt; List[A3]">toList</span>, <a href="#544441" title="(Iterable[A1], Iterable[A2], Iterable[A3], Iterable[A4])">pxs</a>.<span title="=&gt; Iterable[A4]">_4</span>.<span title="=&gt; List[A4]">toList</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Retract arguments that were inferred to Nothing because inference failed. Correct types for repeated params.
     *
     * We detect Nothing-due-to-failure by only retracting a parameter if either:
     *  - it occurs in an invariant/contravariant position in `restpe`
     *  - `restpe == WildcardType`
     *
     * Retracted parameters are mapped to None. 
     *  TODO: 
     *    - make sure the performance hit of storing these in a map is acceptable (it's going to be a small map in 90% of the cases, I think)
     *    - refactor further up the callstack so that we don't have to do this post-factum adjustment?
     *
     * Rewrite for repeated param types:  Map T* entries to Seq[T].
     *  @return map from tparams to inferred arg, if inference was successful, tparams that map to None are considered left undetermined
     *    type parameters that are inferred as `scala.Nothing' and that are not covariant in &lt;code&gt;restpe&lt;/code&gt; are taken to be undetermined
     */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result" id="106116">adjustTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="540908">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="540909">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="540940">restpe</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>: AdjustedTypeArgs.<span title="Inferencer.this.AdjustedTypeArgs.Result">Result</span>  = <span class="delimiter">{</span>
      @inline <span class="keyword">def</span> <a title="(tparam: Infer.this.global.Symbol, restpe: Infer.this.global.Type)Boolean" id="545218">notCovariantIn</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545219">tparam</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="545220">restpe</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span class="delimiter">(</span><a href="Variances.scala.html#105825" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><span class="delimiter">(</span><a href="#545220" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#545219" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>  <span class="comment">// tparam occurred non-covariantly (in invariant or contravariant position)</span>

      <span title="(_1: List[Infer.this.global.Symbol], _2: List[Infer.this.global.Type])(List[Infer.this.global.Symbol], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#540908" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540909" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Symbol] =&gt; scala.collection.TraversableLike[Infer.this.global.Symbol,List[Infer.this.global.Symbol]], implicit w2: List[Infer.this.global.Type] =&gt; scala.collection.IterableLike[Infer.this.global.Type,List[Infer.this.global.Type]])(List[Infer.this.global.Symbol], List[Infer.this.global.Type])#Zipped[List[Infer.this.global.Symbol],Infer.this.global.Symbol,List[Infer.this.global.Type],Infer.this.global.Type]">zipped</span>.<span title="(f: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; (Infer.this.global.Symbol, Option[Infer.this.global.Type]))(implicit cbf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],(Infer.this.global.Symbol, Option[Infer.this.global.Type]),Inferencer.this.AdjustedTypeArgs.Result])Inferencer.this.AdjustedTypeArgs.Result">map</span><span class="delimiter">{</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545286">tparam</a>, <a title="Infer.this.global.Type" id="545287">targ</a><span class="delimiter">)</span> =&gt;
        <span title="(Infer.this.global.Symbol, Option[Infer.this.global.Type])" class="keyword">if</span> <span class="delimiter">(</span><a href="#545287" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Infer.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
            <span class="delimiter">(</span><a href="#540940" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105452" title="=&gt; Boolean">isWildcard</a> <span title="(x: Boolean)Boolean">||</span> <a href="#545218" title="(tparam: Infer.this.global.Symbol, restpe: Infer.this.global.Type)Boolean">notCovariantIn</a><span class="delimiter">(</span><a href="#545286" title="Infer.this.global.Symbol">tparam</a>, <a href="#540940" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#545286" title="(x: Infer.this.global.Symbol)ArrowAssoc[Infer.this.global.Symbol]">tparam</a> <span title="(y: None.type)(Infer.this.global.Symbol, None.type)">-&gt;</span> <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#545286" title="(x: Infer.this.global.Symbol)ArrowAssoc[Infer.this.global.Symbol]">tparam</a> <span title="(y: Some[Infer.this.global.Type])(Infer.this.global.Symbol, Some[Infer.this.global.Type])">-&gt;</span> <span title="(x: Infer.this.global.Type)Some[Infer.this.global.Type]">Some</span><span class="delimiter">(</span>
            <span title="Infer.this.global.Type" class="keyword">if</span>      <span class="delimiter">(</span><a href="#545287" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106352" title="=&gt; Infer.this.global.Symbol">RepeatedParamClass</a><span class="delimiter">)</span>     <a href="#545287" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105499" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106377" title="=&gt; Infer.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545287" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106354" title="=&gt; Infer.this.global.Symbol">JavaRepeatedParamClass</a><span class="delimiter">)</span> <a href="#545287" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105499" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106394" title="=&gt; Infer.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545287" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> <a href="#545287" title="Infer.this.global.Type">targ</a>  <span class="comment">// this infers Foo.type instead of &quot;object Foo&quot; (see also widenIfNecessary)</span>
            <span class="keyword">else</span> <a href="#545287" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Infer.this.global.Type">widen</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,(Infer.this.global.Symbol, Option[Infer.this.global.Type]),Inferencer.this.AdjustedTypeArgs.Result])scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],(Infer.this.global.Symbol, Option[Infer.this.global.Type]),Inferencer.this.AdjustedTypeArgs.Result]">breakOut</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Return inferred type arguments, given type parameters, formal parameters,
    *  argument types, result type and expected result type.
    *  If this is not possible, throw a &lt;code&gt;NoInstance&lt;/code&gt; exception.
    *  Undetermined type arguments are represented by `definitions.NothingClass.tpe'.
    *  No check that inferred parameters conform to their bounds is made here.
    *
    *  @param   tparams         the type parameters of the method
    *  @param   formals         the value parameter types of the method
    *  @param   restp           the result type of the method
    *  @param   argtpes         the argument types of the application
    *  @param   pt              the expected return type of the application
    *  @return  @see adjustTypeArgs
    *
    *  @throws                  NoInstance
    */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result" id="106117">methTypeArgs</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="545405">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="545406">formals</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="545407">restpe</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, 
                     <a title="List[Infer.this.global.Type]" id="545408">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="545409">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: AdjustedTypeArgs.<span title="Inferencer.this.AdjustedTypeArgs.Result">Result</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="545411">tvars</a> = <a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#545406" title="List[Infer.this.global.Type]">formals</a>, <a href="#545408" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#105761" title="Infer.this.NoInstance">NoInstance</a><span class="delimiter">(</span><span title="java.lang.String(&quot;parameter lists differ in length&quot;)" class="string">&quot;parameter lists differ in length&quot;</span><span class="delimiter">)</span>
      
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545412">restpeInst</a> = <a href="#545407" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
      <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151737" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;methTypeArgs&quot;)" class="string">&quot;methTypeArgs&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tparams&quot;</span>     <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;formals&quot;</span>     <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#545406" title="List[Infer.this.global.Type]">formals</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;restpe&quot;</span>      <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#545407" title="Infer.this.global.Type">restpe</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;restpeInst&quot;</span>  <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#545412" title="Infer.this.global.Type">restpeInst</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;argtpes&quot;</span>     <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#545408" title="List[Infer.this.global.Type]">argtpes</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pt&quot;</span>          <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#545409" title="Infer.this.global.Type">pt</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tvars&quot;</span>       <span title="(y: List[Infer.this.global.TypeVar])(java.lang.String, List[Infer.this.global.TypeVar])">-&gt;</span> <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;constraints&quot;</span> <span title="(y: Any)(java.lang.String, Any)">-&gt;</span> <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a>.<span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.TypeConstraint)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeConstraint,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Infer.this.global.TypeConstraint,List[Infer.this.global.TypeConstraint]]" class="delimiter">(</span><a href="#545606" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="comment">// first check if typevars can be fully defined from the expected type.</span>
      <span class="comment">// The return value isn't used so I'm making it obvious that this side</span>
      <span class="comment">// effects, because a function called &quot;isXXX&quot; is not the most obvious</span>
      <span class="comment">// side effecter.</span>
      <a href="#106109" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isConservativelyCompatible</a><span class="delimiter">(</span><a href="#545412" title="Infer.this.global.Type">restpeInst</a>, <a href="#545409" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      
      <span class="comment">// Return value unused with the following explanation:</span>
      <span class="comment">//</span>
      <span class="comment">// Just wait and instantiate from the arguments.  That way,</span>
      <span class="comment">// we can try to apply an implicit conversion afterwards.</span>
      <span class="comment">// This case could happen if restpe is not fully defined, so the</span>
      <span class="comment">// search for an implicit from restpe =&gt; pt fails due to ambiguity.</span>
      <span class="comment">// See #347.  Therefore, the following two lines are commented out.</span>
      <span class="comment">//</span>
      <span class="comment">// throw new DeferredNoInstance(() =&gt;</span>
      <span class="comment">//   &quot;result type &quot; + normalize(restpe) + &quot; is incompatible with expected type &quot; + pt)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="545654">tvar</a> &lt;- <a href="#545411" title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">tvars</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#545654" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#545654" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449389" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a>
 
      <span class="comment">// Then define remaining type variables from argument types.</span>
      <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#545408" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#545406" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.Type] =&gt; scala.collection.IterableLike[Infer.this.global.Type,List[Infer.this.global.Type]])(List[Infer.this.global.Type], List[Infer.this.global.Type])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type],Infer.this.global.Type]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="545712">argtpe</a>, <a title="Infer.this.global.Type" id="545713">formal</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545714">tp1</a> = <a href="#545712" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Infer.this.global.Type">deconst</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545715">pt1</a> = <a href="#545713" title="Infer.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        
        <span class="comment">// Note that isCompatible side-effects: subtype checks involving typevars</span>
        <span class="comment">// are recorded in the typevar's bounds (see TypeConstraint)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106106" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isCompatible</a><span class="delimiter">(</span><a href="#545714" title="Infer.this.global.Type">tp1</a>, <a href="#545715" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#105762" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="java.lang.String(&quot;argument expression\'s type is not compatible with formal parameter type&quot;)" class="string">&quot;argument expression's type is not compatible with formal parameter type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105934" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#545714" title="Infer.this.global.Type">tp1</a>, <a href="#545715" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="545413">targs</a> = <a href="#105769" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span>
        <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#105821" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><a href="#545764" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#545406" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>, 
        <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#67568" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="delimiter">(</span><a href="#545406" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span> <span title="(that: Int)Int">max</span> <a href="../symtab/Types.scala.html#67568" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><a href="#545408" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Inferencer.this.AdjustedTypeArgs.Result" id="545414">result</a> = <a href="#106116" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">adjustTypeArgs</a><span class="delimiter">(</span><a href="#545405" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#545413" title="List[Infer.this.global.Type]">targs</a>, <a href="#545407" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>

      <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151737" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;methTypeArgs result&quot;)" class="string">&quot;methTypeArgs result&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tvars&quot;</span>              <span title="(y: List[Infer.this.global.TypeVar])(java.lang.String, List[Infer.this.global.TypeVar])">-&gt;</span> <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;constraints&quot;</span>        <span title="(y: Any)(java.lang.String, Any)">-&gt;</span> <a href="#545411" title="List[Infer.this.global.TypeVar]">tvars</a>.<span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.TypeConstraint)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeConstraint,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Infer.this.global.TypeConstraint,List[Infer.this.global.TypeConstraint]]" class="delimiter">(</span><a href="#545905" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a><span class="delimiter">)</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;targs&quot;</span>              <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#545413" title="List[Infer.this.global.Type]">targs</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;adjusted type args&quot;</span> <span title="(y: Inferencer.this.AdjustedTypeArgs.Result)(java.lang.String, Inferencer.this.AdjustedTypeArgs.Result)">-&gt;</span> <a href="#545414" title="Inferencer.this.AdjustedTypeArgs.Result">result</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="#545414" title="Inferencer.this.AdjustedTypeArgs.Result">result</a>   
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="106118">followApply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545966">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="#545966" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545969">restp</a><span class="delimiter">)</span> =&gt; 
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="545970">restp1</a> = <a href="#106118" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#545969" title="Infer.this.global.Type">restp</a><span class="delimiter">)</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545970" title="Infer.this.global.Type">restp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#545969" title="Infer.this.global.Type">restp</a><span class="delimiter">)</span> <a href="#545966" title="Infer.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#545970" title="Infer.this.global.Type">restp1</a>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="545971">appmeth</a> = <a href="#545966" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105496" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Infer.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#545975" title="Infer.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isPublic</span><span class="delimiter">)</span>
        <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#545971" title="Infer.this.global.Symbol">appmeth</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#545966" title="Infer.this.global.Type">tp</a> 
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#251496" title="(pre: Infer.this.global.Type, alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="#545966" title="Infer.this.global.Type">tp</a>, <a href="#545971" title="Infer.this.global.Symbol">appmeth</a>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, n: Int)Boolean" id="106119">hasExactlyNumParams</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545984">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Int" id="545985">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#545984" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="545989">pre</a>, <a title="List[Infer.this.global.Symbol]" id="545990">alts</a><span class="delimiter">)</span> =&gt;
        <a href="#545990" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="545997">alt</a> =&gt; <a href="#106119" title="(tp: Infer.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="#545989" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#545997" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#545985" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;      
        <span class="keyword">val</span> <a title="Int" id="545999">len</a> = <a href="#545984" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span>
        <a href="#545999" title="Int">len</a> <span title="(x: Int)Boolean">==</span> <a href="#545985" title="Int">n</a> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Definitions.scala.html#106361" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#545984" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#545999" title="Int">len</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#545985" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Verifies whether the named application is valid. The logic is very
     * similar to the one in NamesDefaults.removeNames.
     *
     * @return a triple (argtpes1, argPos, namesOk) where
     *  - argtpes1 the argument types in named application (assignments to
     *    non-parameter names are treated as assignments, i.e. type Unit)
     *  - argPos a Function1[Int, Int] mapping arguments from their current
     *    to the corresponding position in params
     *  - namesOK is false when there's an invalid use of named arguments
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)" id="106120">checkNames</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="546014">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="546015">params</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Array[Int]" id="546018">argPos</a> = <span title="object Array">Array</span>.<span title="(n: Int)(elem: =&gt; Int)(implicit evidence$9: scala.reflect.ClassManifest[Int])Array[Int]">fill</span><span class="delimiter">(</span><a href="#546014" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span title="=&gt; scala.reflect.AnyValManifest[Int]" class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="546019">positionalAllowed</a>, <a title="Boolean" id="546020">namesOK</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Int" id="546021">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546022">argtpes1</a> = <a href="#546014" title="List[Infer.this.global.Type]">argtpes</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#546073" title="Infer.this.global.Type" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="546076">name</a>, <a title="Infer.this.global.Type" id="546077">tp</a><span class="delimiter">)</span> =&gt; <span class="comment">// a named argument</span>
          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="546078">res</a> = <a href="#546077" title="Infer.this.global.Type">tp</a>
          <span class="keyword">val</span> <a title="Int" id="546079">pos</a> = <a href="#546015" title="List[Infer.this.global.Symbol]">params</a>.<span title="(p: Infer.this.global.Symbol =&gt; Boolean)Int">indexWhere</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546090">p</a> =&gt; <span class="delimiter">(</span><a href="#546090" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#546076" title="Infer.this.global.Name">name</a> <span title="(x: Boolean)Boolean">||</span> <a href="NamesDefaults.scala.html#105902" title="(sym: Infer.this.global.Symbol)Option[Infer.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#546090" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="(x: Infer.this.global.Name)Some[Infer.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#546076" title="Infer.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#546090" title="Infer.this.global.Symbol">p</a>.<span title="=&gt; Boolean">isSynthetic</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546079" title="Int">pos</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546019" title="Boolean">positionalAllowed</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// treat assignment as positional argument</span>
              <a href="#546018" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#546021" title="Int">index</a><span class="delimiter">)</span> = <a href="#546021" title="Int">index</a>
              <a href="#546078" title="Infer.this.global.Type">res</a> = <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a>
            <span class="delimiter">}</span> <span class="keyword">else</span>                   <span class="comment">// unknown parameter name</span>
              <a href="#546020" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546018" title="implicit scala.Predef.intArrayOps : (xs: Array[Int])scala.collection.mutable.ArrayOps[Int]">argPos</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#546079" title="Int">pos</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// parameter specified twice</span>
            <a href="#546020" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#546019" title="Boolean">positionalAllowed</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#546018" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#546021" title="Int">index</a><span class="delimiter">)</span> = <a href="#546079" title="Int">pos</a>
          <span class="delimiter">}</span>
          <a href="#546021" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#546078" title="Infer.this.global.Type">res</a>
        <span class="keyword">case</span> <a title="Infer.this.global.Type" id="546136">tp</a> =&gt; <span class="comment">// a positional argument</span>
          <a href="#546018" title="(i: Int, x: Int)Unit">argPos</a><span class="delimiter">(</span><a href="#546021" title="Int">index</a><span class="delimiter">)</span> = <a href="#546021" title="Int">index</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#546019" title="Boolean">positionalAllowed</a><span class="delimiter">)</span>
            <a href="#546020" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// positional after named</span>
          <a href="#546021" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="#546136" title="Infer.this.global.Type">tp</a>
      <span class="delimiter">}</span>
      <span title="(_1: List[Infer.this.global.Type], _2: Array[Int], _3: Boolean)(List[Infer.this.global.Type], Array[Int], Boolean)" class="delimiter">(</span><a href="#546022" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#546018" title="Array[Int]">argPos</a>, <a href="#546020" title="Boolean">namesOK</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** don't do a () to (()) conversion for methods whose second parameter
     * is a varargs. This is a fairly kludgey way to address #3224. 
     * We'll probably find a better way to do this by identifying
     * tupled and n-ary methods, but thiws is something for a future major revision.
     */</span>
    <span class="keyword">def</span> <a title="(args: List[AnyRef], params: List[Infer.this.global.Symbol])Boolean" id="106121">isUnitForVarArgs</a><span class="delimiter">(</span><a title="List[AnyRef]" id="546177">args</a>: <span title="List[AnyRef]">List</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="546178">params</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
      <a href="#546177" title="List[AnyRef]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Types.scala.html#67586" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#546178" title="List[Infer.this.global.Symbol]">params</a>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106361" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#546178" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span>

    <span class="comment">/** Is there an instantiation of free type variables &lt;code&gt;undetparams&lt;/code&gt;
     *  such that function type &lt;code&gt;ftpe&lt;/code&gt; is applicable to
     *  &lt;code&gt;argtpes&lt;/code&gt; and its result conform to &lt;code&gt;pt&lt;/code&gt;?
     *
     *  @param undetparams ...
     *  @param ftpe        the type of the function (often a MethodType)
     *  @param argtpes     the argument types; a NamedType(name, tp) for named
     *    arguments. For each NamedType, if `name' does not exist in `ftpe', that
     *    type is set to `Unit', i.e. the corresponding argument is treated as
     *    an assignment expression (@see checkNames).
     *  @param pt          ...
     *  @return            ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean" id="106122">isApplicable</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546181">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="546182">ftpe</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>,
                             <a title="List[Infer.this.global.Type]" id="546183">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="546184">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#546182" title="Infer.this.global.Type">ftpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546188">pre</a>, <a title="List[Infer.this.global.Symbol]" id="546189">alts</a><span class="delimiter">)</span> =&gt;
          <a href="#546189" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546196">alt</a> =&gt; <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546188" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#546196" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546200">tparams</a>, <a title="Infer.this.global.Type" id="546201">qtpe</a><span class="delimiter">)</span> =&gt;
          <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546201" title="Infer.this.global.Type">qtpe</a>, <a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546204">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546205">formals0</a> = <a href="#546204" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">{</span> <a title="Infer.this.global.Symbol" id="546226">param</a> =&gt; 
            <a href="#546226" title="Infer.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="546230">sym</a>, <a href="#546232" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546243">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546230" title="Infer.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107588" title="(that: Infer.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106426" title="=&gt; Infer.this.global.Symbol">CodeClass</a> =&gt; <a href="#546243" title="Infer.this.global.Type">tpe</a>
              <span class="keyword">case</span> <a title="Infer.this.global.Type" id="546245">tpe</a> =&gt; <a href="#546245" title="Infer.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546206">formals</a> = <a href="#105757" title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#546205" title="List[Infer.this.global.Type]">formals0</a>, <a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="546207">tryTupleApply</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
            <span class="comment">// if 1 formal, 1 argtpe (a tuple), otherwise unmodified argtpes0</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546277">tupleArgTpes</a> = <a href="#105758" title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]">actualTypes</a><span class="delimiter">(</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#546294" title="Infer.this.global.Type" class="delimiter">{</a>
                <span class="comment">// no assignment is treated as named argument here</span>
              <span class="keyword">case</span> <span title="Infer.this.global.Type">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="546297">name</a>, <a title="Infer.this.global.Type" id="546298">tp</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a>
              <span class="keyword">case</span> <a title="Infer.this.global.Type" id="546299">tp</a> =&gt; <a href="#546299" title="Infer.this.global.Type">tp</a>
              <span class="delimiter">}</span>, <a href="#546206" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

            <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546277" title="List[Infer.this.global.Type]">tupleArgTpes</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#106121" title="(args: List[AnyRef], params: List[Infer.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546204" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546182" title="Infer.this.global.Type">ftpe</a>, <a href="#546277" title="List[Infer.this.global.Type]">tupleArgTpes</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type])Boolean" id="546208">typesCompatible</a><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="546329">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="546330">restpe</a> = <a href="#546182" title="Infer.this.global.Type">ftpe</a>.<a href="../symtab/Types.scala.html#105469" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#546329" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#106107" title="(tps: List[Infer.this.global.Type], pts: List[Infer.this.global.Type])Boolean">isCompatibleArgs</a><span class="delimiter">(</span><a href="#546329" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#546206" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106108" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#546330" title="Infer.this.global.Type">restpe</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a href="#106114" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#544819" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Undets</a><a href="#546335" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#546334" title="List[Infer.this.global.Symbol]" id="546335">okparams</a>, <a href="#546334" title="List[Infer.this.global.Type]" id="546336">okargs</a>, <a href="#546334" title="List[Infer.this.global.Symbol]" id="546337">leftUndet</a><span class="delimiter">)</span> = <a href="#106117" title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">methTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546206" title="List[Infer.this.global.Type]">formals</a>, <a href="#546330" title="Infer.this.global.Type">restpe</a>, <a href="#546329" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="comment">// #2665: must use weak conformance, not regular one (follow the monomorphic case above)</span>
                <span class="delimiter">(</span><a href="#106112" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#546337" title="List[Infer.this.global.Symbol]">leftUndet</a>, <a href="#546330" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#546335" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#546336" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>, <a href="#546184" title="Infer.this.global.Type">pt</a>, useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <a href="../symtab/Types.scala.html#67625" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67408" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#546335" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#546336" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean(false)" id="546355">ex</a>: <a href="#105761" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="comment">// very similar logic to doTypedApply in typechecker</span>
          <span class="keyword">val</span> <a title="Int" id="546209">lencmp</a> = <a href="../symtab/Types.scala.html#67585" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546206" title="List[Infer.this.global.Type]">formals</a><span class="delimiter">)</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546209" title="Int">lencmp</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#546207" title="=&gt; Boolean">tryTupleApply</a>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546209" title="Int">lencmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#546372" title="Infer.this.global.Type">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67473" title="Infer.this.global.NamedType">NamedType</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// fast track if no named arguments are used</span>
              <a href="#546208" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a><span class="delimiter">(</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// named arguments are used</span>
              <span class="keyword">val</span> <a href="#546374" title="(List[Infer.this.global.Type], Array[Int], Boolean)" class="delimiter">(</a><a href="#546373" title="List[Infer.this.global.Type]" id="546374">argtpes1</a>, <a href="#546373" title="Array[Int]" id="546375">argPos</a>, <a href="#546373" title="Boolean" id="546376">namesOK</a><span class="delimiter">)</span> = <a href="#106120" title="(argtpes: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)">checkNames</a><span title="(List[Infer.this.global.Type], Array[Int], Boolean) @unchecked" class="delimiter">(</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546204" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span>
              <span class="comment">// when using named application, the vararg param has to be specified exactly once</span>
              <span class="delimiter">(</span> <a href="#546376" title="Boolean">namesOK</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#105893" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#546375" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#546206" title="List[Infer.this.global.Type]">formals</a>, <a href="#546204" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="comment">// nb. arguments and names are OK, check if types are compatible</span>
                <a href="#546208" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a><span class="delimiter">(</span><a href="NamesDefaults.scala.html#105887" title="(args: List[Infer.this.global.Type], pos: Int =&gt; Int)(implicit evidence$1: ClassManifest[Infer.this.global.Type])List[Infer.this.global.Type]">reorderArgs</a><a href="Analyzer.scala.html#105627" title="(prefix: scala.reflect.OptManifest[_], clazz: java.lang.Class[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[Infer.this.global.Type]" class="delimiter">(</a><a href="#546374" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#546375" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// not enough arguments, check if applicable using defaults</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="546572">missing</a> = <a href="NamesDefaults.scala.html#105895" title="[T](args: List[T], params: List[Infer.this.global.Symbol], argName: T =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)">missingParams</a><span title="(args: List[Infer.this.global.Type], params: List[Infer.this.global.Symbol], argName: Infer.this.global.Type =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)" class="delimiter">[</span><a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546204" title="List[Infer.this.global.Symbol]">params</a>, <a href="#546590" title="Option[Infer.this.global.Name]" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="Some[Infer.this.global.Name]">NamedType</span><span class="delimiter">(</span><a title="Infer.this.global.Name" id="546593">name</a>, _<span class="delimiter">)</span> =&gt; <span title="(x: Infer.this.global.Name)Some[Infer.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#546593" title="Infer.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[Infer.this.global.Symbol]">_1</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#546572" title="List[Infer.this.global.Symbol]">missing</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#546604" title="Infer.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// add defaults as named arguments</span>
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="546605">argtpes1</a> = <a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a> <a href="#546606" title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">:::</a> <span class="delimiter">(</span><a href="#546572" title="List[Infer.this.global.Symbol]">missing</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.NamedType)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.NamedType,List[Infer.this.global.NamedType]])List[Infer.this.global.NamedType]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546623">p</a> =&gt; <a href="../symtab/Types.scala.html#455662" title="(name: Infer.this.global.Name, tp: Infer.this.global.Type)Infer.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#546623" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Infer.this.global.Name">name</a>, <a href="#546623" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546182" title="Infer.this.global.Type">ftpe</a>, <a href="#546605" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#546207" title="=&gt; Boolean">tryTupleApply</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546663">restpe</a><span class="delimiter">)</span> =&gt; <span class="comment">// strip nullary method type, which used to be done by the polytype case below</span>
          <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546663" title="Infer.this.global.Type">restpe</a>, <a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546666">tparams</a>, <a title="Infer.this.global.Type" id="546667">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="546668">tparams1</a> = <a href="../symtab/Symbols.scala.html#67341" title="(syms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#546666" title="List[Infer.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
          <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#546668" title="List[Infer.this.global.Symbol]">tparams1</a> <a href="#546708" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#546181" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#546667" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105505" title="(from: List[Infer.this.global.Symbol], to: List[Infer.this.global.Symbol])Infer.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#546666" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546668" title="List[Infer.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#546183" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#546184" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Boolean(true)">ErrorType</a> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Todo: Try to make isApplicable always safe (i.e. not cause TypeErrors).
     */</span>
    <span class="keyword">private</span><span class="delimiter">[</span>typechecker<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean" id="106123">isApplicableSafe</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="539947">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="539948">ftpe</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>,
                                              <a title="List[Infer.this.global.Type]" id="539949">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="539950">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="546718">reportAmbiguousErrors</a> = <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106800" title="=&gt; Boolean">reportAmbiguousErrors</a>
      <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106801" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#539947" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#539948" title="Infer.this.global.Type">ftpe</a>, <a href="#539949" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#539950" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="546719">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Infer.this.global.TypeError">TypeError</a> =&gt;
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#539947" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#539948" title="Infer.this.global.Type">ftpe</a>, <a href="#539949" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Boolean(false)" id="546720">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Infer.this.global.TypeError">TypeError</a> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106801" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <a href="#546718" title="Boolean">reportAmbiguousErrors</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Is type &lt;code&gt;ftpe1&lt;/code&gt; strictly more specific than type &lt;code&gt;ftpe2&lt;/code&gt;
     *  when both are alternatives in an overloaded function?
     *  @see SLS (sec:overloading-resolution)
     *
     *  @param ftpe1 ...
     *  @param ftpe2 ...
     *  @return      ...
     */</span>
    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean" id="106124">isAsSpecific</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546721">ftpe1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="546722">ftpe2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#546721" title="Infer.this.global.Type">ftpe1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546726">pre</a>, <a title="List[Infer.this.global.Symbol]" id="546727">alts</a><span class="delimiter">)</span> =&gt;
        <a href="#546727" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546734">alt</a> =&gt; <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546726" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#546734" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="546736">et</a>: <a href="../symtab/Types.scala.html#67458" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
        <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#105482" title="=&gt; Infer.this.global.Type">skolemizeExistential</a>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
        <span class="comment">//et.withTypeVars(isAsSpecific(_, ftpe2)) </span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546742">res</a><span class="delimiter">)</span> =&gt;
        <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546742" title="Infer.this.global.Type">res</a>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="546743">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Infer.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#546743" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a> =&gt;
        <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546749">params</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546749" title="List[Infer.this.global.Symbol]">params</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="546750">argtpes</a> = <a href="#546749" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#546767" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106361" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#546749" title="List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106361" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#546722" title="Infer.this.global.Type">ftpe2</a>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#546750" title="List[Infer.this.global.Type]">argtpes</a> = <a href="#546750" title="List[Infer.this.global.Type]">argtpes</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="546814">argtpe</a> =&gt; 
            <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106359" title="(tp: Infer.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#546814" title="Infer.this.global.Type">argtpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#546814" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span> <span class="keyword">else</span> <a href="#546814" title="Infer.this.global.Type">argtpe</a><span class="delimiter">)</span>
        <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a>, <a href="#546750" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546853">tparams</a>, NullaryMethodType<span class="delimiter">(</span><a title="Infer.this.global.Type" id="546855">res</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148921" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546853" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546855" title="Infer.this.global.Type">res</a><span class="delimiter">)</span>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546862">tparams</a>, <a title="Infer.this.global.MethodType" id="546863">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546863" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a> =&gt;
        <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148921" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546862" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546863" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148767" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546872">params</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546872" title="List[Infer.this.global.Symbol]">params</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a>, <a href="#546872" title="List[Infer.this.global.Symbol]">params</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#546896" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="comment">// case NullaryMethodType(res) =&gt;</span>
      <span class="comment">//   isAsSpecific(res, ftpe2)</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Boolean(true)">ErrorType</a> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#546722" title="Infer.this.global.Type">ftpe2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546926">pre</a>, <a title="List[Infer.this.global.Symbol]" id="546927">alts</a><span class="delimiter">)</span> =&gt;
            <a href="#546927" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="546934">alt</a> =&gt; <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>, <a href="#546926" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#546934" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Boolean" id="546936">et</a>: <a href="../symtab/Types.scala.html#67458" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
            <a href="#546936" title="Infer.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#149166" title="(op: Infer.this.global.Type =&gt; Boolean)Boolean">withTypeVars</a><span class="delimiter">(</span><a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>, <a href="#546943" title="Infer.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Boolean" id="546944">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Infer.this.global.MethodType">MethodType</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#546944" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">||</span> <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>, <a href="#546944" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148767" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546950">res</a><span class="delimiter">)</span> =&gt;
            <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>, <a href="#546950" title="Infer.this.global.Type">res</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546953">tparams</a>, NullaryMethodType<span class="delimiter">(</span><a title="Infer.this.global.Type" id="546955">res</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>, <a href="../symtab/Types.scala.html#148921" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546953" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546955" title="Infer.this.global.Type">res</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546958">tparams</a>, <a title="Infer.this.global.MethodType" id="546959">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Infer.this.global.MethodType">MethodType</a><span class="delimiter">)</span> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#546959" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">||</span> <a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>, <a href="../symtab/Types.scala.html#148921" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#546958" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#546959" title="Infer.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148767" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#106125" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#546721" title="Infer.this.global.Type">ftpe1</a>, <a href="#546722" title="Infer.this.global.Type">ftpe2</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean" id="106125">isAsSpecificValueType</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="546964">tpe1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="546965">tpe2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="546966">undef1</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Symbol]" id="546967">undef2</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#546964" title="Infer.this.global.Type">tpe1</a>, <a href="#546965" title="Infer.this.global.Type">tpe2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>PolyType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="546993">tparams1</a>, <a title="Infer.this.global.Type" id="546994">rtpe1</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
        <a href="#106125" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#546994" title="Infer.this.global.Type">rtpe1</a>, <a href="#546965" title="Infer.this.global.Type">tpe2</a>, <a href="#546966" title="List[Infer.this.global.Symbol]">undef1</a> <a href="#546995" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#546993" title="List[Infer.this.global.Symbol]">tparams1</a>, <a href="#546967" title="List[Infer.this.global.Symbol]">undef2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, PolyType<span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="547007">tparams2</a>, <a title="Infer.this.global.Type" id="547008">rtpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#106125" title="(tpe1: Infer.this.global.Type, tpe2: Infer.this.global.Type, undef1: List[Infer.this.global.Symbol], undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a><span class="delimiter">(</span><a href="#546964" title="Infer.this.global.Type">tpe1</a>, <a href="#547008" title="Infer.this.global.Type">rtpe2</a>, <a href="#546966" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#546967" title="List[Infer.this.global.Symbol]">undef2</a> <a href="#547009" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#547007" title="List[Infer.this.global.Symbol]">tparams2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="../symtab/Types.scala.html#67493" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#546966" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#546964" title="Infer.this.global.Type">tpe1</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Types.scala.html#67493" title="(tparams: List[Infer.this.global.Symbol], tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#546967" title="List[Infer.this.global.Symbol]">undef2</a>, <a href="#546965" title="Infer.this.global.Type">tpe2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


<span class="comment">/*
    def isStrictlyMoreSpecific(ftpe1: Type, ftpe2: Type): Boolean =
      ftpe1.isError || isAsSpecific(ftpe1, ftpe2) &amp;&amp; 
      (!isAsSpecific(ftpe2, ftpe1) || 
       !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
       phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
*/</span>
    <span class="comment">/** Is sym1 (or its companion class in case it is a module) a subclass of
     *  sym2 (or its companion class in case it is a module)?
     */</span>
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="106126">isProperSubClassOrObject</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547018">sym1</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="547019">sym2</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#547018" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#547019" title="Infer.this.global.Symbol">sym2</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#547018" title="Infer.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#547018" title="Infer.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: Infer.this.global.Symbol)Boolean">isSubClass</a> <a href="#547019" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#547018" title="Infer.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106126" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#547018" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107624" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a>, <a href="#547019" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#547019" title="Infer.this.global.Symbol">sym2</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106126" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#547018" title="Infer.this.global.Symbol">sym1</a>, <a href="#547019" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107624" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>

    <span class="comment">/** is symbol `sym1` defined in a proper subclass of symbol `sym2`?
     */</span>
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="106127">isInProperSubClassOrObject</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547030">sym1</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="547031">sym2</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
      <a href="#547031" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#106126" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a><span class="delimiter">(</span><a href="#547030" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#547031" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="106128">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="539265">ftpe1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="539266">ftpe2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="539267">sym1</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="539268">sym2</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="comment">// ftpe1 / ftpe2 are OverloadedTypes (possibly with one single alternative) if they</span>
      <span class="comment">// denote the type of an &quot;apply&quot; member method (see &quot;followApply&quot;)</span>
      <a href="#539265" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="547038">specificCount</a> = <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#539265" title="Infer.this.global.Type">ftpe1</a>, <a href="#539266" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span> 
                            <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#106124" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span class="delimiter">(</span><a href="#539266" title="Infer.this.global.Type">ftpe2</a>, <a href="#539265" title="Infer.this.global.Type">ftpe1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                 <span class="comment">// todo: move to isAsSpecific test</span>
<span class="comment">//                                 (!ftpe2.isInstanceOf[OverloadedType] || ftpe1.isInstanceOf[OverloadedType]) &amp;&amp;</span>
                                 <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">||</span> <a href="#106129" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean">covariantReturnOverride</a><span class="delimiter">(</span><a href="#539265" title="Infer.this.global.Type">ftpe1</a>, <a href="#539266" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="547039">subClassCount</a> = <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#106127" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a><span class="delimiter">(</span><a href="#539267" title="Infer.this.global.Symbol">sym1</a>, <a href="#539268" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span>
                            <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#106127" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a><span class="delimiter">(</span><a href="#539268" title="Infer.this.global.Symbol">sym2</a>, <a href="#539267" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
<span class="comment">//        println(&quot;is more specific? &quot;+sym1+&quot;:&quot;+ftpe1+sym1.locationString+&quot;/&quot;+sym2+&quot;:&quot;+ftpe2+sym2.locationString+&quot;:&quot;+</span>
<span class="comment">//                specificCount+&quot;/&quot;+subClassCount)</span>
        <a href="#547038" title="Int">specificCount</a> <span title="(x: Int)Int">+</span> <a href="#547039" title="Int">subClassCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="comment">/*
      ftpe1.isError || {
        if (isAsSpecific(ftpe1, ftpe2)) 
          (!isAsSpecific(ftpe2, ftpe1) || 
           isProperSubClassOrObject(sym1.owner, sym2.owner) ||
           !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
           phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
        else
          !isAsSpecific(ftpe2, ftpe1) &amp;&amp; 
          isProperSubClassOrObject(sym1.owner, sym2.owner)
      }
*/</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type)Boolean" id="106129">covariantReturnOverride</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="547044">ftpe1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="547045">ftpe2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#547044" title="Infer.this.global.Type">ftpe1</a>, <a href="#547045" title="Infer.this.global.Type">ftpe2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="547069">rtpe1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="547072">rtpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#547069" title="Infer.this.global.Type">rtpe1</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#547072" title="Infer.this.global.Type">rtpe2</a> <span title="(x: Boolean)Boolean">||</span> <a href="#547072" title="Infer.this.global.Type">rtpe2</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106220" title="=&gt; Infer.this.global.Symbol">ObjectClass</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
<span class="comment">/*
    /** Is type `tpe1' a strictly better expression alternative than type `tpe2'?
     */
    def isStrictlyBetterExpr(tpe1: Type, tpe2: Type) = {
      isMethod(tpe2) &amp;&amp; !isMethod(tpe1) ||
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      isStrictlyBetter(tpe1, tpe2)
    }

    /** Is type `tpe1' a strictly better alternative than type `tpe2'?
     *  non-methods are always strictly better than methods
     *  nullary methods are always strictly better than non-nullary
     *  if both are non-nullary methods, then tpe1 is strictly better than tpe2 if
     *   - tpe1 specializes tpe2 and tpe2 does not specialize tpe1
     *   - tpe1 and tpe2 specialize each other and tpe1 has a strictly better resulttype than
     *     tpe2
     */
    def isStrictlyBetter(tpe1: Type, tpe2: Type) = {
      def isNullary(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isNullary(tp.underlying)
        case _ =&gt; tpe.paramSectionCount == 0 || tpe.params.isEmpty
      }
      def isMethod(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isMethod(tp.underlying)
        case MethodType(_, _) | PolyType(_, _) =&gt; true
        case _ =&gt; false
      }
      def hasStrictlyBetterResult = 
        resultIsBetter(tpe1, tpe2, List(), List()) &amp;&amp; !resultIsBetter(tpe2, tpe1, List(), List())
      if (!isMethod(tpe1))
        isMethod(tpe2) || hasStrictlyBetterResult
      
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      is
      
      else if (isNullary(tpe1))
        isMethod(tpe2) &amp;&amp; (!isNullary(tpe2) || hasStrictlyBetterResult)
      else 
        specializes(tpe1, tpe2) &amp;&amp; (!specializes(tpe2, tpe1) || hasStrictlyBetterResult)
    }

*/</span>
    <span class="comment">/** error if arguments not within bounds. */</span>
    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], prefix: String)Unit" id="106130">checkBounds</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="540607">pos</a>: <a href="../util/Position.scala.html#30588" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="540608">pre</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="540609">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, 
                    <a title="List[Infer.this.global.Symbol]" id="540610">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="540611">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="String" id="540612">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="comment">//@M validate variances &amp; bounds of targs wrt variances &amp; bounds of tparams</span>
      <span class="comment">//@M TODO: better place to check this? </span>
      <span class="comment">//@M TODO: errors for getters &amp; setters are reported separately</span>
      <span class="keyword">val</span> <a title="List[String]" id="540615">kindErrors</a> = <a href="#106131" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540611" title="List[Infer.this.global.Type]">targs</a>, <a href="#540608" title="Infer.this.global.Type">pre</a>, <a href="#540609" title="Infer.this.global.Symbol">owner</a><span class="delimiter">)</span>
           
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#540615" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#540607" title="Infer.this.global.Position">pos</a>, 
          <a href="#540612" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;kinds of the type arguments &quot;)" class="string">&quot;kinds of the type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540611" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <span title="java.lang.String(&quot; do not conform to the expected kinds of the type parameters &quot;)" class="string">&quot; do not conform to the expected kinds of the type parameters &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <a href="#540615" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> 
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67625" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#540608" title="Infer.this.global.Type">pre</a>, <a href="#540609" title="Infer.this.global.Symbol">owner</a>, <a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540611" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#540611" title="List[Infer.this.global.Type]">targs</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#540642" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#540649" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107479" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//val bounds = instantiatedBounds(pre, owner, tparams, targs)//DEBUG</span>
          <span class="comment">//println(&quot;bounds = &quot;+bounds+&quot;, targs = &quot;+targs+&quot;, targclasses = &quot;+(targs map (_.getClass))+&quot;, parents = &quot;+(targs map (_.parents)))</span>
          <span class="comment">//println(List.map2(bounds, targs)((bound, targ) =&gt; bound containsType targ))</span>
          <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#540607" title="Infer.this.global.Position">pos</a>, 
                <a href="#540612" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540611" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; do not conform to &quot;)" class="string">&quot; do not conform to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'s type parameter bounds &quot;)" class="string">&quot;'s type parameter bounds &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
                <span class="delimiter">(</span><a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#540669" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107667" title="=&gt; String">defString</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36862" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.TypeBounds]" id="540703">bounds</a> = <a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])List[Infer.this.global.TypeBounds]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="540714">tp</a> =&gt; <a href="#540714" title="Infer.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#540610" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540611" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.TypeBounds])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])" class="delimiter">(</span><a href="#540611" title="List[Infer.this.global.Type]">targs</a>, <a href="#540703" title="List[Infer.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.TypeBounds] =&gt; scala.collection.IterableLike[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.TypeBounds],Infer.this.global.TypeBounds]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540809">targ</a>, <a title="Infer.this.global.TypeBounds" id="540810">bound</a><span class="delimiter">)</span> =&gt; <a href="#106099" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#540810" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Infer.this.global.Type">lo</a>, <a href="#540809" title="Infer.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.TypeBounds])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])" class="delimiter">(</span><a href="#540611" title="List[Infer.this.global.Type]">targs</a>, <a href="#540703" title="List[Infer.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Infer.this.global.Type] =&gt; scala.collection.TraversableLike[Infer.this.global.Type,List[Infer.this.global.Type]], implicit w2: List[Infer.this.global.TypeBounds] =&gt; scala.collection.IterableLike[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds]])(List[Infer.this.global.Type], List[Infer.this.global.TypeBounds])#Zipped[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.TypeBounds],Infer.this.global.TypeBounds]">zipped</span> <span title="(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="540899">targ</a>, <a title="Infer.this.global.TypeBounds" id="540900">bound</a><span class="delimiter">)</span> =&gt; <a href="#106099" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#540899" title="Infer.this.global.Type">targ</a>, <a href="#540900" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; Infer.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    

    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol)List[String]" id="106131">checkKindBounds</a><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="540616">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Infer.this.global.Type]" id="540617">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="540618">pre</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="540619">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">// @M TODO this method is duplicated all over the place (varianceString)</span>
      <span class="keyword">def</span> <a title="(s: Infer.this.global.Symbol)String" id="547079">varStr</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547083">s</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547083" title="Infer.this.global.Symbol">s</a>.<span title="=&gt; Boolean">isCovariant</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547083" title="Infer.this.global.Symbol">s</a>.<span title="=&gt; Boolean">isContravariant</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;                                                

      <span class="keyword">def</span> <a title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String" id="547080">qualify</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547084">a0</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="547085">b0</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547084" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#107657" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#547085" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#107657" title="()String">toString</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span class="delimiter">{</span> 
        <span title="String" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#547084" title="Infer.this.global.Symbol">a0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#547085" title="Infer.this.global.Symbol">b0</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#547084" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#547085" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="547091">a</a> = <a href="#547084" title="Infer.this.global.Symbol">a0</a>; <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="547092">b</a> = <a href="#547085" title="Infer.this.global.Symbol">b0</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#547091" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#547092" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span> <a href="#547093" title="()Unit" class="delimiter">{</a> <a href="#547091" title="Infer.this.global.Symbol">a</a> = <a href="#547091" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>; <a href="#547092" title="Infer.this.global.Symbol">b</a> = <a href="#547092" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">}</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#547091" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; (&quot;)" class="string">&quot; (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547091" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a>.<span title="()java.lang.String">trim</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[(Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])]" id="547081">errors</a> = <a href="../symtab/Types.scala.html#67668" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, explainErrors: Boolean)List[(Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])]">checkKindBounds0</a><span class="delimiter">(</span><a href="#540616" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#540617" title="List[Infer.this.global.Type]">targs</a>, <a href="#540618" title="Infer.this.global.Type">pre</a>, <a href="#540619" title="Infer.this.global.Symbol">owner</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="547082">errorMessages</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
      <a href="#547081" title="List[(Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])]">errors</a> <span title="(f: (Infer.this.global.Type, Infer.this.global.Symbol, List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]) =&gt; scala.collection.mutable.ListBuffer[String])Unit">foreach</span> <a href="#547129" title="errorMessages.type" class="delimiter">{</a><span class="keyword">case</span> <span title="errorMessages.type" class="delimiter">(</span><a title="Infer.this.global.Type" id="547135">targ</a>, <a title="Infer.this.global.Symbol" id="547136">tparam</a>, <a title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="547137">arityMismatches</a>, <a title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="547138">varianceMismatches</a>, <a title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="547139">stricterBounds</a><span class="delimiter">)</span> =&gt; <a href="#547082" title="scala.collection.mutable.ListBuffer[String]">errorMessages</a> <span title="(x: String)errorMessages.type">+=</span>
        <span class="delimiter">(</span><a href="#547135" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">targ</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot;\'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547136" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'s expected parameters: &quot;)" class="string">&quot;'s expected parameters: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> 
        <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547185">a</a>, <a title="Infer.this.global.Symbol" id="547186">p</a><span class="delimiter">)</span> &lt;- <a href="#547137" title="(f: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],java.lang.String,List[java.lang.String]])List[java.lang.String]">arityMismatches</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#547185" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)java.lang.String">+</span><a href="#547080" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547185" title="Infer.this.global.Symbol">a</a>,<a href="#547186" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72460" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#547185" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="java.lang.String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#547186" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#547080" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547186" title="Infer.this.global.Symbol">p</a>,<a href="#547185" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72461" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#547186" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547252">a</a>, <a title="Infer.this.global.Symbol" id="547253">p</a><span class="delimiter">)</span> &lt;- <a href="#547138" title="(f: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],java.lang.String,List[java.lang.String]])List[java.lang.String]">varianceMismatches</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#547252" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)java.lang.String">+</span><a href="#547080" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547252" title="Infer.this.global.Symbol">a</a>,<a href="#547253" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547079" title="(s: Infer.this.global.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#547252" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#547253" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#547080" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547253" title="Infer.this.global.Symbol">p</a>,<a href="#547252" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is declared &quot;)" class="string">&quot; is declared &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547079" title="(s: Infer.this.global.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#547253" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="547317">a</a>, <a title="Infer.this.global.Symbol" id="547318">p</a><span class="delimiter">)</span> &lt;- <a href="#547139" title="(f: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],java.lang.String,List[java.lang.String]])List[java.lang.String]">stricterBounds</a><span class="delimiter">)</span>
          <span class="keyword">yield</span> <a href="#547317" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)java.lang.String">+</span><a href="#547080" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547317" title="Infer.this.global.Symbol">a</a>,<a href="#547318" title="Infer.this.global.Symbol">p</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'s bounds &quot;)" class="string">&quot;'s bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547317" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; are stricter than &quot;)" class="string">&quot; are stricter than &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#547318" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#547080" title="(a0: Infer.this.global.Symbol, b0: Infer.this.global.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#547318" title="Infer.this.global.Symbol">p</a>,<a href="#547317" title="Infer.this.global.Symbol">a</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'s declared bounds &quot;)" class="string">&quot;'s declared bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#547318" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#547082" title="scala.collection.mutable.ListBuffer[String]">errorMessages</a>.<span title="=&gt; List[String]">toList</span>
    <span class="delimiter">}</span>
    <span class="comment">/** Substitute free type variables `undetparams' of polymorphic argument
     *  expression `tree', given two prototypes `strictPt', and `lenientPt'.
     *  `strictPt' is the first attempt prototype where type parameters
     *  are left unchanged. `lenientPt' is the fall-back prototype where type
     *  parameters are replaced by `WildcardType's. We try to instantiate
     *  first to `strictPt' and then, if this fails, to `lenientPt'. If both
     *  attempts fail, an error is produced.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], strictPt: Infer.this.global.Type, lenientPt: Infer.this.global.Type)Unit" id="106132">inferArgumentInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547353">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547354">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547355">strictPt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="547356">lenientPt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151737" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferArgumentInstance&quot;)" class="string">&quot;inferArgumentInstance&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree&quot;</span>        <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#547353" title="Infer.this.global.Tree">tree</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree.tpe&quot;</span>    <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547353" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;undetparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547354" title="List[Infer.this.global.Symbol]">undetparams</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;strictPt&quot;</span>    <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547355" title="Infer.this.global.Type">strictPt</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;lenientPt&quot;</span>   <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547356" title="Infer.this.global.Type">lenientPt</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="547358">targs</a> = <a href="#106112" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#547354" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547353" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#547355" title="Infer.this.global.Type">strictPt</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#547358" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#547353" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105504" title="(from: List[Infer.this.global.Symbol], to: List[Infer.this.global.Type])Infer.this.global.Type">subst</a><span class="delimiter">(</span><a href="#547354" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547358" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#547355" title="Infer.this.global.Type">strictPt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#547358" title="List[Infer.this.global.Type]">targs</a> = <a href="#106112" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#547354" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547353" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#547356" title="Infer.this.global.Type">lenientPt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#106134" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#547353" title="Infer.this.global.Tree">tree</a>, <a href="#547354" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547358" title="List[Infer.this.global.Type]">targs</a>, <a href="#547356" title="Infer.this.global.Type">lenientPt</a><span class="delimiter">)</span>
      <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[inferArgumentInstance] finished, targs = &quot;)" class="string">&quot;[inferArgumentInstance] finished, targs = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547358" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Infer type arguments `targs` for `tparams` of polymorphic expression in `tree`, given prototype `pt`.
     *
     * Substitute `tparams` to `targs` in `tree`, after adjustment by `adjustTypeArgs`, returning the type parameters that were not determined
     * If passed, infers against specified type `treeTp` instead of `tree.tp`.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, tparams: List[Infer.this.global.Symbol], pt: Infer.this.global.Type, treeTp0: Infer.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Infer.this.global.Symbol]" id="106133">inferExprInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547449">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547450">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547456">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a>, <a title="Infer.this.global.Type" id="547457">treeTp0</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>, <a title="Boolean" id="547458">keepNothings</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>, <a title="Boolean" id="547459">useWeaklyCompatible</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="547460">treeTp</a> = <span title="Infer.this.global.Type" class="keyword">if</span><span class="delimiter">(</span><a href="#547457" title="Infer.this.global.Type">treeTp0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#547449" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="#547457" title="Infer.this.global.Type">treeTp0</a> <span class="comment">// can't refer to tree in default for treeTp0</span>
      <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../symtab/TypeDebugging.scala.html#151737" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferExprInstance&quot;)" class="string">&quot;inferExprInstance&quot;</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree&quot;</span>    <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#547449" title="Infer.this.global.Tree">tree</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tree.tpe&quot;</span><span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547449" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;tparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547450" title="List[Infer.this.global.Symbol]">tparams</a>,
          <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pt&quot;</span>      <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547456" title="Infer.this.global.Type">pt</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="547461">targs</a> = <a href="#106112" title="(tparams: List[Infer.this.global.Symbol], restpe: Infer.this.global.Type, pt: Infer.this.global.Type, useWeaklyCompatible: Boolean)List[Infer.this.global.Type]">exprTypeArgs</a><span class="delimiter">(</span><a href="#547450" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#547460" title="Infer.this.global.Type">treeTp</a>, <a href="#547456" title="Infer.this.global.Type">pt</a>, <a href="#547459" title="Boolean">useWeaklyCompatible</a><span class="delimiter">)</span>

      <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#547458" title="Boolean">keepNothings</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#547461" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">//@M: adjustTypeArgs fails if targs==null, neg/t0226</span>
        <a href="#106134" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#547449" title="Infer.this.global.Tree">tree</a>, <a href="#547450" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#547461" title="List[Infer.this.global.Type]">targs</a>, <a href="#547456" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#106114" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#544819" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">Undets</a><a href="#547534" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#547533" title="List[Infer.this.global.Symbol]" id="547534">okParams</a>, <a href="#547533" title="List[Infer.this.global.Type]" id="547535">okArgs</a>, <a href="#547533" title="List[Infer.this.global.Symbol]" id="547536">leftUndet</a><span class="delimiter">)</span> = <a href="#106116" title="(tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], restpe: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">adjustTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#547450" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#547461" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>
        <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
          <a href="../symtab/TypeDebugging.scala.html#151737" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferExprInstance/AdjustedTypeArgs&quot;)" class="string">&quot;inferExprInstance/AdjustedTypeArgs&quot;</span>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;okParams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547534" title="List[Infer.this.global.Symbol]">okParams</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;okArgs&quot;</span> <span title="(y: List[Infer.this.global.Type])(java.lang.String, List[Infer.this.global.Type])">-&gt;</span> <a href="#547535" title="List[Infer.this.global.Type]">okArgs</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;leftUndet&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547536" title="List[Infer.this.global.Symbol]">leftUndet</a>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#106134" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit">substExpr</a><span class="delimiter">(</span><a href="#547449" title="Infer.this.global.Tree">tree</a>, <a href="#547534" title="List[Infer.this.global.Symbol]">okParams</a>, <a href="#547535" title="List[Infer.this.global.Type]">okArgs</a>, <a href="#547456" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#547536" title="List[Infer.this.global.Symbol]">leftUndet</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Substitute free type variables `undetparams' of polymorphic argument
     *  expression &lt;code&gt;tree&lt;/code&gt; to `targs', Error if `targs' is null
     *
     *  @param tree ...
     *  @param undetparams ...
     *  @param targs ...
     *  @param pt ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], pt: Infer.this.global.Type)Unit" id="106134">substExpr</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547444">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547445">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                          <a title="List[Infer.this.global.Type]" id="547446">targs</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547447">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#547446" title="List[Infer.this.global.Type]">targs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#547444" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#547447" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#547444" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <span title="java.lang.String(&quot;polymorphic expression cannot be instantiated to expected type&quot;)" class="string">&quot;polymorphic expression cannot be instantiated to expected type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
                <a href="TypeDiagnostics.scala.html#105934" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67490" title="(tparams: List[Infer.this.global.Symbol], tpe: Infer.this.global.Type)Infer.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#547445" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#105770" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a><span class="delimiter">(</span><a href="#547444" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#547447" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67843" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#547445" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547446" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162686" title="(tree: Infer.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#547444" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Substitute free type variables &lt;code&gt;undetparams&lt;/code&gt; of application
     *  &lt;code&gt;fn(args)&lt;/code&gt;, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param fn          fn: the function that needs to be instantiated.
     *  @param undetparams the parameters that need to be determined
     *  @param args        the actual arguments supplied in the call.
     *  @param pt          the expected type of the function application
     *  @return            The type parameters that remain uninstantiated, 
     *                     and that thus have not been substituted.
     */</span>
    <span class="keyword">def</span> <a title="(fn: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], args: List[Infer.this.global.Tree], pt0: Infer.this.global.Type)List[Infer.this.global.Symbol]" id="106135">inferMethodInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547609">fn</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="547610">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                            <a title="List[Infer.this.global.Tree]" id="547611">args</a>: <span title="List[Infer.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="547612">pt0</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#547609" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Infer.this.global.Symbol]">MethodType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="547616">params0</a>, _<span class="delimiter">)</span> =&gt;
        <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
          <a href="../symtab/TypeDebugging.scala.html#151737" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferMethodInstance&quot;)" class="string">&quot;inferMethodInstance&quot;</span>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;fn&quot;</span>          <span title="(y: Infer.this.global.Tree)(java.lang.String, Infer.this.global.Tree)">-&gt;</span> <a href="#547609" title="Infer.this.global.Tree">fn</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;undetparams&quot;</span> <span title="(y: List[Infer.this.global.Symbol])(java.lang.String, List[Infer.this.global.Symbol])">-&gt;</span> <a href="#547610" title="List[Infer.this.global.Symbol]">undetparams</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;args&quot;</span>        <span title="(y: List[Infer.this.global.Tree])(java.lang.String, List[Infer.this.global.Tree])">-&gt;</span> <a href="#547611" title="List[Infer.this.global.Tree]">args</a>,
            <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;pt0&quot;</span>         <span title="(y: Infer.this.global.Type)(java.lang.String, Infer.this.global.Type)">-&gt;</span> <a href="#547612" title="Infer.this.global.Type">pt0</a>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>

        <a title="List[Infer.this.global.Symbol]" id="547848" class="keyword">try</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="547692">pt</a>      = <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#547612" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Infer.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#547612" title="Infer.this.global.Type">pt0</a>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="547693">formals</a> = <a href="#105757" title="(formals: List[Infer.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Infer.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#547616" title="List[Infer.this.global.Symbol]">params0</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#547724" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#547611" title="List[Infer.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="547694">argtpes</a> = <a href="#105758" title="(actuals: List[Infer.this.global.Type], nformals: Int)List[Infer.this.global.Type]">actualTypes</a><span class="delimiter">(</span><a href="#547611" title="List[Infer.this.global.Tree]">args</a> <span title="(f: Infer.this.global.Tree =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Tree],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Tree" id="547768">x</a> =&gt; <a href="../symtab/Types.scala.html#67631" title="(t: Infer.this.global.Type)Infer.this.global.Type">elimAnonymousClass</a><span class="delimiter">(</span><a href="#547768" title="Infer.this.global.Tree">x</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Infer.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#547693" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="547695">restpe</a>  = <a href="#547609" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105469" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#547694" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span>
          
          <span class="keyword">val</span> <a href="#106114" title="object Inferencer.this.AdjustedTypeArgs">AdjustedTypeArgs</a>.<a href="#545019" title="(m: Inferencer.this.AdjustedTypeArgs.Result)Some[(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])]">AllArgsAndUndets</a><a href="#547697" title="(List[Infer.this.global.Symbol], List[Infer.this.global.Type], List[Infer.this.global.Type], List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#547696" title="List[Infer.this.global.Symbol]" id="547697">okparams</a>, <a href="#547696" title="List[Infer.this.global.Type]" id="547698">okargs</a>, <a href="#547696" title="List[Infer.this.global.Type]" id="547699">allargs</a>, <a href="#547696" title="List[Infer.this.global.Symbol]" id="547700">leftUndet</a><span class="delimiter">)</span> =
            <a href="#106117" title="(tparams: List[Infer.this.global.Symbol], formals: List[Infer.this.global.Type], restpe: Infer.this.global.Type, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)Inferencer.this.AdjustedTypeArgs.Result">methTypeArgs</a><span title="Inferencer.this.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#547610" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547693" title="List[Infer.this.global.Type]">formals</a>, <a href="#547695" title="Infer.this.global.Type">restpe</a>, <a href="#547694" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#547692" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            
          <a href="#106130" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#547609" title="Infer.this.global.Tree">fn</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="../symtab/Types.scala.html#67408" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#547610" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#547699" title="List[Infer.this.global.Type]">allargs</a>, <span title="java.lang.String(&quot;inferred &quot;)" class="string">&quot;inferred &quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Infer.this.global.TreeTypeSubstituter" id="547701">treeSubst</a> = <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67843" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#547697" title="List[Infer.this.global.Symbol]">okparams</a>, <a href="#547698" title="List[Infer.this.global.Type]">okargs</a><span class="delimiter">)</span>
          <a href="#547701" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a> <span title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</span> <a href="#547609" title="Infer.this.global.Tree">fn</a> <a href="#547820" title="(x: Infer.this.global.Tree)List[Infer.this.global.Tree]">::</a> <a href="#547611" title="List[Infer.this.global.Tree]">args</a>

          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="547702">result</a> = <a href="#547700" title="List[Infer.this.global.Symbol]">leftUndet</a> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>  =&gt; <span title="object Nil">Nil</span>
            <span class="keyword">case</span> <a title="List[Infer.this.global.Symbol]" id="547826">xs</a>   =&gt;
              <span class="comment">// #3890</span>
              <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="547827">xs1</a> = <a href="#547701" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a>.<a href="../ast/Trees.scala.html#162682" title="=&gt; Infer.this.global.SubstTypeMap">typeSubst</a> <a href="../symtab/Types.scala.html#133461" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a> <a href="#547826" title="List[Infer.this.global.Symbol]">xs</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#547826" title="List[Infer.this.global.Symbol]">xs</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#547827" title="List[Infer.this.global.Symbol]">xs1</a><span class="delimiter">)</span>
                <span title="Infer.this.global.TreeSymSubstTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#67846" title="Infer.this.global.TreeSymSubstTraverser">TreeSymSubstTraverser</a><span class="delimiter">(</span><a href="#547826" title="List[Infer.this.global.Symbol]">xs</a>, <a href="#547827" title="List[Infer.this.global.Symbol]">xs1</a><span class="delimiter">)</span> <span title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</span> <a href="#547609" title="Infer.this.global.Tree">fn</a> <a href="#547844" title="(x: Infer.this.global.Tree)List[Infer.this.global.Tree]">::</a> <a href="#547611" title="List[Infer.this.global.Tree]">args</a>
              
              <a href="#547827" title="List[Infer.this.global.Symbol]">xs1</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#547702" title="List[Infer.this.global.Symbol]">result</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
            <a href="Typers.scala.html#106058" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferMethodInstance, still undetermined: &quot;)" class="string">&quot;inferMethodInstance, still undetermined: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547702" title="List[Infer.this.global.Symbol]">result</a><span class="delimiter">)</span>
            
          <a href="#547702" title="List[Infer.this.global.Symbol]">result</a>
        <span class="delimiter">}</span>
        <span class="keyword">catch</span> <a href="#105763" title="(f: String =&gt; scala.collection.immutable.Nil.type)PartialFunction[Throwable,scala.collection.immutable.Nil.type]">ifNoInstance</a> <a title="PartialFunction[Throwable,scala.collection.immutable.Nil.type]" id="547849" class="delimiter">{</a> <a title="String" id="547853">msg</a> =&gt;
          <a href="#106095" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#547609" title="Infer.this.global.Tree">fn</a>, <span title="java.lang.String(&quot;no type parameters for &quot;)" class="string">&quot;no type parameters for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="TypeDiagnostics.scala.html#105929" title="(tree: Infer.this.global.Tree, msg: String, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a><span class="delimiter">(</span><a href="#547609" title="Infer.this.global.Tree">fn</a>, <span title="java.lang.String(&quot; exist so that it can be applied to arguments &quot;)" class="string">&quot; exist so that it can be applied to arguments &quot;</span>, <a href="#547611" title="List[Infer.this.global.Tree]">args</a> <span title="(f: Infer.this.global.Tree =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Tree],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#548126" title="Infer.this.global.Tree">_</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Infer.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#547853" title="String">msg</a>
          <span class="delimiter">)</span>
          <span title="object Nil">Nil</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Type with all top-level occurrences of abstract types replaced by their bounds */</span>
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="106136">widen</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548157">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="#548157" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span> <span class="comment">// @M don't normalize here (compiler loops on pos/bug1090.scala )</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="548162">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#548162" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> =&gt; 
        <a href="#106136" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548157" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; Infer.this.global.Type">hi</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="548166">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#548166" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> =&gt; 
        <a href="#106136" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548157" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Infer.this.global.Type" id="548167">rtp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="548170">parents</a>, <a title="Infer.this.global.Scope" id="548171">decls</a><span class="delimiter">)</span> =&gt; 
        <a href="../symtab/Types.scala.html#67482" title="(original: Infer.this.global.RefinedType, parents: List[Infer.this.global.Type], decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#548167" title="Infer.this.global.RefinedType">rtp</a>, <a href="#548170" title="List[Infer.this.global.Type]">parents</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">mapConserve</span> <a href="#106136" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>, <a href="#548171" title="Infer.this.global.Scope">decls</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Type" id="548186">underlying</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#106136" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548186" title="Infer.this.global.Type">underlying</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
        <a href="#548157" title="Infer.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Substitute free type variables &lt;code&gt;undetparams&lt;/code&gt; of type constructor
     *  &lt;code&gt;tree&lt;/code&gt; in pattern, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree        ...
     *  @param undetparams ...
     *  @param pt          ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], pt0: Infer.this.global.Type)Unit" id="106137">inferConstructorInstance</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="548187">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="548188">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="548189">pt0</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548191">pt</a> = <a href="#106136" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#548189" title="Infer.this.global.Type">pt0</a><span class="delimiter">)</span>
      <span class="comment">//println(&quot;infer constr inst &quot;+tree+&quot;/&quot;+undetparams+&quot;/&quot;+pt0)</span>
      <span class="keyword">var</span> <a title="Infer.this.global.Type" id="548192">restpe</a> = <a href="#548187" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105472" title="=&gt; Infer.this.global.Type">finalResultType</a>
      <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="548193">tvars</a> = <a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>

      <span class="comment">/** Compute type arguments for undetermined params and substitute them in given tree.
       */</span>
      <span class="keyword">def</span> <a title="=&gt; Any" id="548194">computeArgs</a> =
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="548240">targs</a> = <a href="#105769" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Infer.this.global.Type]">solvedTypes</a><span class="delimiter">(</span><a href="#548193" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#105825" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#548252" title="Infer.this.global.Symbol" class="delimiter">(</a><a href="#548192" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>, 
                                  <span title="Boolean(true)" class="keyword">true</span>, <a href="../symtab/Types.scala.html#67568" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548192" title="Infer.this.global.Type">restpe</a>, <a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="comment">//          checkBounds(tree.pos, NoPrefix, NoSymbol, undetparams, targs, &quot;inferred &quot;)</span>
<span class="comment">//          no checkBounds here. If we enable it, test bug602 fails.</span>
          <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67843" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548240" title="List[Infer.this.global.Type]">targs</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162686" title="(tree: Infer.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#548187" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Infer.this.global.Tree" id="548292">ex</a>: <a href="#105761" title="Infer.this.NoInstance">NoInstance</a> =&gt; 
            <a href="#106095" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#548187" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;constructor of type &quot;)" class="string">&quot;constructor of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548192" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot; cannot be uniquely instantiated to expected type &quot;)" class="string">&quot; cannot be uniquely instantiated to expected type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548191" title="Infer.this.global.Type">pt</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548292" title="Infer.this.NoInstance">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Tree" id="548195">instError</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ici &quot;)" class="string">&quot;ici &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548187" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36862" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#106099" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#548192" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548193" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>, <a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#106095" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#548187" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;constructor cannot be instantiated to expected type&quot;)" class="string">&quot;constructor cannot be instantiated to expected type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                  <a href="TypeDiagnostics.scala.html#105934" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#548192" title="Infer.this.global.Type">restpe</a>, <a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548192" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548193" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#548194" title="=&gt; Any">computeArgs</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer constr &quot;)" class="string">&quot;infer constr &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548187" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548192" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="548310">ptparams</a> = <a href="#106150" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449299" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params = &quot;)" class="string">&quot;free type params = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548310" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548311">ptWithWildcards</a> = <a href="#548191" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548310" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#548310" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.WildcardType.type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="548342">ptparam</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#548193" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548192" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548193" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548311" title="Infer.this.global.Type">ptWithWildcards</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#548194" title="=&gt; Any">computeArgs</a>
          <a href="#548192" title="Infer.this.global.Type">restpe</a> = <a href="#105770" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a><span class="delimiter">(</span><a href="#548187" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Infer.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new tree = &quot;)" class="string">&quot;new tree = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548187" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548192" title="Infer.this.global.Type">restpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="548416">ptvars</a> = <a href="#548310" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548417">pt1</a> = <a href="#548191" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548310" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#548416" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67569" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#548192" title="Infer.this.global.Type">restpe</a>, <a href="#548417" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#548416" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#106140" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;no instance: &quot;)" class="string">&quot;no instance: &quot;</span><span class="delimiter">)</span>; <a href="#548195" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;not a subtype &quot;)" class="string">&quot;not a subtype &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548192" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#548188" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#548193" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548311" title="Infer.this.global.Type">ptWithWildcards</a><span class="delimiter">)</span>; <a href="#548195" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;not fully defined: &quot;)" class="string">&quot;not fully defined: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548191" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>; <a href="#548195" title="=&gt; Infer.this.global.Tree">instError</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)" id="106138">instBounds</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="548514">tvar</a>: <a href="../symtab/Types.scala.html#67469" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span>: <span title="(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span>Type, Type<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="548516">tparam</a> = <a href="#548514" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448991" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548517">instType</a> = <a href="#548524" title="(tp: Infer.this.global.Type)Infer.this.global.Type">toOrigin</a><span class="delimiter">(</span><a href="#548514" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#548519" title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</a><a href="#548518" title="List[Infer.this.global.Type]" id="548519">loBounds</a>, <a href="#548518" title="List[Infer.this.global.Type]" id="548520">hiBounds</a><span class="delimiter">)</span> =
        <span title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="keyword">if</span> <span class="delimiter">(</span><a href="#548517" title="Infer.this.global.Type">instType</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#548517" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548517" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span>, <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548517" title="Infer.this.global.Type">instType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="(_1: List[Infer.this.global.Type], _2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="delimiter">(</span><a href="#548514" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449383" title="=&gt; List[Infer.this.global.Type]">loBounds</a>, <a href="#548514" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449384" title="=&gt; List[Infer.this.global.Type]">hiBounds</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548521">lo</a> = <a href="../symtab/Types.scala.html#67649" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a><span class="delimiter">(</span><a href="#548516" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Infer.this.global.Type">lo</a> <a href="#548571" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">::</a> <a href="#548519" title="List[Infer.this.global.Type]">loBounds</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#106145" title="object Inferencer.this.toOrigin">toOrigin</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548522">hi</a> = <a href="../symtab/Types.scala.html#67658" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><span class="delimiter">(</span><a href="#548516" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; Infer.this.global.Type">hi</a> <a href="#548623" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">::</a> <a href="#548520" title="List[Infer.this.global.Type]">hiBounds</a> <span title="(f: Infer.this.global.Type =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Type],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <a href="#106145" title="object Inferencer.this.toOrigin">toOrigin</a><span class="delimiter">)</span>
      <span title="(_1: Infer.this.global.Type, _2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</span><a href="#548521" title="Infer.this.global.Type">lo</a>, <a href="#548522" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar])Boolean" id="106139">isInstantiatable</a><span class="delimiter">(</span><a title="List[Infer.this.global.TypeVar]" id="548680">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="548683">tvars1</a> = <a href="#548680" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <span class="delimiter">(</span><a href="#548700" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#449026" title="=&gt; Infer.this.global.TypeVar">cloneInternal</a><span class="delimiter">)</span>
      <span class="comment">// Note: right now it's not clear that solving is complete, or how it can be made complete!</span>
      <span class="comment">// So we should come back to this and investigate.</span>
      <a href="../symtab/Types.scala.html#67623" title="(tvars: List[Infer.this.global.TypeVar], tparams: List[Infer.this.global.Symbol], variances: List[Int], upper: Boolean)Boolean">solve</a><span class="delimiter">(</span><a href="#548683" title="List[Infer.this.global.TypeVar]">tvars1</a>, <a href="#548683" title="List[Infer.this.global.TypeVar]">tvars1</a> <span title="(f: Infer.this.global.TypeVar =&gt; Infer.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.Symbol,List[Infer.this.global.Symbol]])List[Infer.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#548746" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#448991" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="#548683" title="List[Infer.this.global.TypeVar]">tvars1</a> <span title="(f: Infer.this.global.TypeVar =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Int,List[Int]])List[Int]">map</span> <span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="548784">x</a> =&gt; <span title="Int(65536)">COVARIANT</span><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  
    <span class="delimiter">}</span>

    <span class="comment">// this is quite nasty: it destructively changes the info of the syms of e.g., method type params (see #3692, where the type param T's bounds were set to &gt;: T &lt;: T, so that parts looped)</span>
    <span class="comment">// the changes are rolled back by restoreTypeBounds, but might be unintentially observed in the mean time</span>
    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="106140">instantiateTypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.TypeVar" id="548492">tvar</a>: <a href="../symtab/Types.scala.html#67469" title="Infer.this.global.TypeVar">TypeVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="548812">tparam</a> = <a href="#548492" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#448991" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#548492" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67406" title="object Infer.this.global.NoType">NoType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#105768" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#548492" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#148513" title="(that: Infer.this.global.Type)Boolean">containsType</a> <a href="#548492" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106855" title="(p: Infer.this.Context =&gt; Boolean)Infer.this.Context">nextEnclosing</a><span class="delimiter">(</span><a href="#548821" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#106752" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.CaseDef">CaseDef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="Contexts.scala.html#106861" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a><span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>
        <a href="#548812" title="Infer.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: Infer.this.global.Type)tparam.type">setInfo</a> <a href="#548492" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#449000" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#449388" title="=&gt; Infer.this.global.Type">inst</a>
        <a href="#548812" title="Infer.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)tparam.type">resetFlag</a> <span title="Long(16L)">DEFERRED</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new alias of &quot;)" class="string">&quot;new alias of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548812" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548812" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#548828" title="(Infer.this.global.Type, Infer.this.global.Type)" class="delimiter">(</a><a href="#548827" title="Infer.this.global.Type" id="548828">lo</a>, <a href="#548827" title="Infer.this.global.Type" id="548829">hi</a><span class="delimiter">)</span> = <a href="#106138" title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)">instBounds</a><span title="(Infer.this.global.Type, Infer.this.global.Type) @unchecked" class="delimiter">(</span><a href="#548492" title="Infer.this.global.TypeVar">tvar</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548828" title="Infer.this.global.Type">lo</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548829" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#548828" title="Infer.this.global.Type">lo</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548812" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Infer.this.global.Type">lo</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; Infer.this.global.Type">hi</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548829" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// bounds were improved</span>
             <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548812" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#548828" title="Infer.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105456" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548812" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#548829" title="Infer.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105456" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// don't create illegal cycles</span>
            <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106855" title="(p: Infer.this.Context =&gt; Boolean)Infer.this.Context">nextEnclosing</a><span class="delimiter">(</span><a href="#548851" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#106752" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Infer.this.global.CaseDef">CaseDef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="Contexts.scala.html#106861" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a><span class="delimiter">(</span><a href="#548812" title="Infer.this.global.Symbol">tparam</a><span class="delimiter">)</span>
            <a href="#548812" title="Infer.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: Infer.this.global.Type)tparam.type">setInfo</a> <a href="../symtab/Types.scala.html#148501" title="(lo: Infer.this.global.Type, hi: Infer.this.global.Type)Infer.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#548828" title="Infer.this.global.Type">lo</a>, <a href="#548829" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new bounds of &quot;)" class="string">&quot;new bounds of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548812" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#548812" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;redundant: &quot;)" class="string">&quot;redundant: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548812" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548812" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548828" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548829" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inconsistent: &quot;)" class="string">&quot;inconsistent: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548812" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548828" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548829" title="Infer.this.global.Type">hi</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, tp: Infer.this.global.Type, kind: String)Unit" id="106141">checkCheckable</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="548865">pos</a>: <a href="../util/Position.scala.html#30588" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="548866">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="String" id="548867">kind</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp0: Infer.this.global.Type, prefix: String)Unit" id="548869">patternWarning</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548871">tp0</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="String" id="548872">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96454" title="(pos: Infer.this.global.Position, msg: String)Unit">uncheckedWarning</a><span class="delimiter">(</span><a href="#548865" title="Infer.this.global.Position">pos</a>, <a href="#548872" title="String">prefix</a><span title="(x$1: Any)java.lang.String">+</span><a href="#548871" title="Infer.this.global.Type">tp0</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in type &quot;)" class="string">&quot; in type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548867" title="String">kind</a><span title="(x$1: Any)java.lang.String">+</span><a href="#548866" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is unchecked since it is eliminated by erasure&quot;)" class="string">&quot; is unchecked since it is eliminated by erasure&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit" id="548870">check</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548875">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="548876">bound</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="548877">isLocalBinding</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="548878">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
          <a href="#548878" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#548876" title="List[Infer.this.global.Symbol]">bound</a> <span title="(elem: Any)Boolean">contains</span> <a href="#548878" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
           <a href="#548878" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Infer.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67720" title="object Infer.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; Infer.this.global.tpnme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Infer.this.global.ScopeEntry" id="548884">e</a> = <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Infer.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113095" title="(name: Infer.this.global.Name)Infer.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#548878" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Infer.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="#548884" title="Infer.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548884" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#548878" title="Infer.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#548884" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107481" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#548884" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113277" title="=&gt; Infer.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Infer.this.global.Scope">scope</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#548875" title="Infer.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548896">pre</a>, _<span class="delimiter">)</span> =&gt; 
            <a href="#548870" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548896" title="Infer.this.global.Type">pre</a>, <a href="#548876" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548900">pre</a>, <a title="Infer.this.global.Symbol" id="548901">sym</a>, <a title="List[Infer.this.global.Type]" id="548902">args</a><span class="delimiter">)</span> =&gt; 
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548901" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#548877" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a><span class="delimiter">(</span><a href="#548901" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#548869" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548875" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;abstract type &quot;)" class="string">&quot;abstract type &quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548901" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#548870" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548875" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a>, <a href="#548876" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548901" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Infer.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#548901" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106226" title="=&gt; Infer.this.global.Symbol">NullClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#548901" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106716" title="=&gt; Infer.this.global.Symbol">AnyValClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#548865" title="Infer.this.global.Position">pos</a>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#548875" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; cannot be used in a type pattern or isInstanceOf test&quot;)" class="string">&quot; cannot be used in a type pattern or isInstanceOf test&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="548934">arg</a> &lt;- <a href="#548902" title="(f: Infer.this.global.Type =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548901" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106394" title="=&gt; Infer.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <a href="#548870" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548934" title="Infer.this.global.Type">arg</a>, <a href="#548876" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548934" title="Infer.this.global.Type">arg</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>   <span class="comment">// avoid spurious warnings with higher-kinded types</span>
                <span class="keyword">else</span> <a href="#548934" title="Infer.this.global.Type">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="548943">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#548877" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a><span class="delimiter">(</span><a href="#548943" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
                    ;
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    <a href="#548869" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548934" title="Infer.this.global.Type">arg</a>, <span title="java.lang.String(&quot;non variable type-argument &quot;)" class="string">&quot;non variable type-argument &quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> 
            <span class="delimiter">}</span>
            <a href="#548870" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548900" title="Infer.this.global.Type">pre</a>, <a href="#548876" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="548947">parents</a>, <a title="Infer.this.global.Scope" id="548948">decls</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548948" title="Infer.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113083" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="keyword">for</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="548968">p</a> &lt;- <a href="#548947" title="(f: Infer.this.global.Type =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#548870" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548968" title="Infer.this.global.Type">p</a>, <a href="#548876" title="List[Infer.this.global.Symbol]">bound</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#548869" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548875" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;refinement &quot;)" class="string">&quot;refinement &quot;</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Infer.this.global.Symbol]" id="548972">quantified</a>, <a title="Infer.this.global.Type" id="548973">tp1</a><span class="delimiter">)</span> =&gt;
            <a href="#548870" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548973" title="Infer.this.global.Type">tp1</a>, <a href="#548876" title="List[Infer.this.global.Symbol]">bound</a> <a href="#548974" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">:::</a> <a href="#548972" title="List[Infer.this.global.Symbol]">quantified</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67408" title="Unit">NoPrefix</a> =&gt; 
            ;
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt; 
            <a href="#548869" title="(tp0: Infer.this.global.Type, prefix: String)Unit">patternWarning</a><span class="delimiter">(</span><a href="#548875" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#548870" title="(tp: Infer.this.global.Type, bound: List[Infer.this.global.Symbol])Unit">check</a><span class="delimiter">(</span><a href="#548866" title="Infer.this.global.Type">tp</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
     
    <span class="comment">/** Type intersection of simple type tp1 with general type tp2.
     *  The result eliminates some redundancies.
     */</span>
    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type" id="106142">intersect</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548990">tp1</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="548991">tp2</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#548990" title="Infer.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548991" title="Infer.this.global.Type">tp2</a><span class="delimiter">)</span> <a href="#548990" title="Infer.this.global.Type">tp1</a>
      <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#548991" title="Infer.this.global.Type">tp2</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548990" title="Infer.this.global.Type">tp1</a><span class="delimiter">)</span> <a href="#548991" title="Infer.this.global.Type">tp2</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="548995">reduced2</a> = <a href="#548991" title="Infer.this.global.Type">tp2</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Infer.this.global.Type" id="548996">rtp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Infer.this.global.Type]" id="548999">parents2</a>, <a title="Infer.this.global.Scope" id="549000">decls2</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#67482" title="(original: Infer.this.global.RefinedType, parents: List[Infer.this.global.Type], decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#548996" title="Infer.this.global.RefinedType">rtp</a>, <a href="#548999" title="List[Infer.this.global.Type]">parents2</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)List[Infer.this.global.Type]">filterNot</span> <span class="delimiter">(</span><a href="#548990" title="Infer.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#549004" title="Infer.this.global.Type">_</a><span class="delimiter">)</span>, <a href="#549000" title="Infer.this.global.Scope">decls2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt;
            <a href="#548991" title="Infer.this.global.Type">tp2</a>
        <span class="delimiter">}</span>
        <a href="../symtab/Types.scala.html#67488" title="(tps: List[Infer.this.global.Type])Infer.this.global.Type">intersectionType</a><span class="delimiter">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548990" title="Infer.this.global.Type">tp1</a>, <a href="#548995" title="Infer.this.global.Type">reduced2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Infer.this.global.Position, pattp: Infer.this.global.Type, pt0: Infer.this.global.Type)Infer.this.global.Type" id="106143">inferTypedPattern</a><span class="delimiter">(</span><a title="Infer.this.global.Position" id="549018">pos</a>: <a href="../util/Position.scala.html#30588" title="Infer.this.global.Position">Position</a>, <a title="Infer.this.global.Type" id="549019">pattp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="549020">pt0</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549022">pt</a>        = <a href="#106136" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a><span class="delimiter">(</span><a href="#549020" title="Infer.this.global.Type">pt0</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549023">ptparams</a>  = <a href="#106150" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449299" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#549022" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549024">tpparams</a>  = <a href="#106150" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449299" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#549019" title="Infer.this.global.Type">pattp</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="549025">ptMatchesPattp</a> = <a href="#549022" title="Infer.this.global.Type">pt</a> <a href="../symtab/Types.scala.html#105517" title="(that: Infer.this.global.Type)Boolean">matchesPattern</a> <a href="#549019" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Infer.this.global.Type">widen</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="549026">pattpMatchesPt</a> = <a href="#549019" title="Infer.this.global.Type">pattp</a> <a href="../symtab/Types.scala.html#105517" title="(that: Infer.this.global.Type)Boolean">matchesPattern</a> <a href="#549022" title="Infer.this.global.Type">pt</a>
      
      <span class="comment">/** If we can absolutely rule out a match we can fail early.
       *  This is the case if the scrutinee has no unresolved type arguments
       *  and is a &quot;final type&quot;, meaning final + invariant in all type parameters.
       */</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549022" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105516" title="=&gt; Boolean">isFinalType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#549023" title="List[Infer.this.global.Symbol]">ptparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#549025" title="=&gt; Boolean">ptMatchesPattp</a><span class="delimiter">)</span>
        <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#549018" title="Infer.this.global.Position">pos</a>, <span title="java.lang.String(&quot;scrutinee is incompatible with pattern type&quot;)" class="string">&quot;scrutinee is incompatible with pattern type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105934" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#549019" title="Infer.this.global.Type">pattp</a>, <a href="#549022" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <a href="#106141" title="(pos: Infer.this.global.Position, tp: Infer.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#549018" title="Infer.this.global.Position">pos</a>, <a href="#549019" title="Infer.this.global.Type">pattp</a>, <span title="java.lang.String(&quot;pattern &quot;)" class="string">&quot;pattern &quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549019" title="Infer.this.global.Type">pattp</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#549022" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params (1) = &quot;)" class="string">&quot;free type params (1) = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549024" title="List[Infer.this.global.Symbol]">tpparams</a><span class="delimiter">)</span>
          
        <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="549030">tvars</a> = <a href="#549024" title="List[Infer.this.global.Symbol]">tpparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">var</span> <a title="Infer.this.global.Type" id="549031">tp</a>    = <a href="#549019" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#549024" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#549030" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#549031" title="Infer.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#549022" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106139" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a><span class="delimiter">(</span><a href="#549030" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#549030" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#549024" title="List[Infer.this.global.Symbol]">tpparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <a href="#549031" title="Infer.this.global.Type">tp</a>    = <a href="#549019" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#549024" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#549030" title="List[Infer.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params (2) = &quot;)" class="string">&quot;free type params (2) = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549023" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
          
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="549082">ptvars</a> = <a href="#549023" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549083">pt1</a>    = <a href="#549022" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#549023" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#549082" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>  
          
          <span class="comment">// See ticket #2486 for an example of code which would incorrectly</span>
          <span class="comment">// fail if we didn't allow for pattpMatchesPt.</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67569" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#549031" title="Infer.this.global.Type">tp</a>, <a href="#549083" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106139" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a><span class="delimiter">(</span><a href="#549030" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(that: scala.collection.GenTraversableOnce[Infer.this.global.TypeVar])(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.TypeVar],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">++</span> <a href="#549082" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#549026" title="=&gt; Boolean">pattpMatchesPt</a><span class="delimiter">)</span>
             <a href="#549082" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#106140" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#549018" title="Infer.this.global.Position">pos</a>, <span title="java.lang.String(&quot;pattern type is incompatible with expected type&quot;)" class="string">&quot;pattern type is incompatible with expected type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105934" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#549019" title="Infer.this.global.Type">pattp</a>, <a href="#549022" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#549019" title="Infer.this.global.Type">pattp</a>            
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#549030" title="List[Infer.this.global.TypeVar]">tvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#106140" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
      <span class="delimiter">}</span>
      <span class="comment">/** If the scrutinee has free type parameters but the pattern does not,
       *  we have to flip the arguments so the expected type is treated as more
       *  general when calculating the intersection.  See run/bug2755.scala.
       */</span>
      <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#549024" title="List[Infer.this.global.Symbol]">tpparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#549023" title="List[Infer.this.global.Symbol]">ptparams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#106142" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a><span class="delimiter">(</span><a href="#549019" title="Infer.this.global.Type">pattp</a>, <a href="#549022" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#106142" title="(tp1: Infer.this.global.Type, tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a><span class="delimiter">(</span><a href="#549022" title="Infer.this.global.Type">pt</a>, <a href="#549019" title="Infer.this.global.Type">pattp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pat: Infer.this.global.Tree, pt: Infer.this.global.Type)Unit" id="106144">inferModulePattern</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549287">pat</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="549288">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#549287" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#549288" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549291">ptparams</a> = <a href="#106150" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#449299" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#549288" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;free type params (2) = &quot;)" class="string">&quot;free type params (2) = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549291" title="List[Infer.this.global.Symbol]">ptparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="549292">ptvars</a> = <a href="#549291" title="List[Infer.this.global.Symbol]">ptparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.TypeVar,List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">map</span> <a href="#105760" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549293">pt1</a> = <a href="#549288" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Infer.this.global.Symbol], actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#549291" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#549292" title="List[Infer.this.global.TypeVar]">ptvars</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549287" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Infer.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#549293" title="Infer.this.global.Type">pt1</a><span class="delimiter">)</span>
          <a href="#549292" title="List[Infer.this.global.TypeVar]">ptvars</a> <span title="(f: Infer.this.global.TypeVar =&gt; Unit)Unit">foreach</span> <a href="#106140" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
        <span class="keyword">else</span> 
          <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#549287" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <span title="java.lang.String(&quot;pattern type is incompatible with expected type&quot;)" class="string">&quot;pattern type is incompatible with expected type&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105934" title="(found: Infer.this.global.Type, req: Infer.this.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#549287" title="Infer.this.global.Tree">pat</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>, <a href="#549288" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.toOrigin" id="106145">toOrigin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67514" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="548524">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="548525">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="#548525" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#448979" title="Infer.this.global.Type">TypeVar</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549368">origin</a>, _<span class="delimiter">)</span> =&gt; <a href="#549368" title="Infer.this.global.Type">origin</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt; <a href="../symtab/Types.scala.html#133458" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#548525" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymCollector extends Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]] with ScalaObject" id="106147">SymCollector</a> <a href="#106147" title="ScalaObject" class="keyword">extends</a> <a href="../symtab/Types.scala.html#67518" title="Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]]">TypeCollector</a><span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="539524">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549399">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span>

      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Unit" id="539525">traverse</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549401">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#549401" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Infer.this.global.Symbol" id="549407">sym</a>, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#539524" title="(sym: Infer.this.global.Symbol)Boolean">includeCondition</a><span class="delimiter">(</span><a href="#549407" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#449296" title="=&gt; List[Infer.this.global.Symbol]">result</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#549407" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#449297" title="(x$1: List[Infer.this.global.Symbol])Unit">result</a> = <a href="#549407" title="Infer.this.global.Symbol">sym</a> <a href="#549409" title="(x: Infer.this.global.Symbol)List[Infer.this.global.Symbol]">::</a> <a href="../symtab/Types.scala.html#449296" title="=&gt; List[Infer.this.global.Symbol]">result</a>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="../symtab/Types.scala.html#133458" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#549401" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.approximateAbstracts" id="106148">approximateAbstracts</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67514" title="Infer.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="549429">apply</a><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549431">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a> = <a href="#549431" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Infer.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Infer.this.global.WildcardType.type">TypeRef</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549437">pre</a>, <a title="Infer.this.global.Symbol" id="549438">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#549438" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a>
        <span class="keyword">case</span> <span title="Infer.this.global.Type">_</span> =&gt; <a href="../symtab/Types.scala.html#133458" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#549431" title="Infer.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** A traverser to collect type parameters referred to in a type
     */</span>
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParamsOfTerms" id="106150">freeTypeParamsOfTerms</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#106147" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="548316">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549455">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#549455" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#549455" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span>
    <span class="delimiter">}</span>

    <span class="comment">/** A traverser to collect type parameters referred to in a type
     */</span>
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParametersNoSkolems" id="106152">freeTypeParametersNoSkolems</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#106147" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="539527">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549458">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#549458" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTypeParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#549458" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object Inferencer.this.typeRefs" id="106154">typeRefs</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#106147" title="Inferencer.this.SymCollector">SymCollector</a> <span class="delimiter">{</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="549461">includeCondition</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549463">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>

    <span class="comment">/* -- Overload Resolution ---------------------------------------------- */</span>

<span class="comment">/*
    def checkNotShadowed(pos: Position, pre: Type, best: Symbol, eligible: List[Symbol]) =
      if (!phase.erasedTypes)
        for (alt &lt;- eligible) {
          if (isProperSubClassOrObject(alt.owner, best.owner))
            error(pos,
                  &quot;erroneous reference to overloaded definition,\n&quot;+
                  &quot;most specific definition is: &quot;+best+best.locationString+&quot; of type &quot;+pre.memberType(best)+
                  &quot;,\nyet alternative definition   &quot;+alt+alt.locationString+&quot; of type &quot;+pre.memberType(alt)+
                  &quot;\nis defined in a subclass&quot;)
        }
*/</span>

    <span class="comment">/** Assign &lt;code&gt;tree&lt;/code&gt; the symbol and type of the alternative which
     *  matches prototype &lt;code&gt;pt&lt;/code&gt;, if it exists.
     *  If several alternatives match `pt', take parameterless one.
     *  If no alternative matches `pt', take the parameterless one anyway.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, pt: Infer.this.global.Type)Unit" id="106156">inferExprAlternative</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549465">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Type" id="549466">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#549465" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549470">pre</a>, <a title="List[Infer.this.global.Symbol]" id="549471">alts</a><span class="delimiter">)</span> =&gt; <a href="#106158" title="(infer: =&gt; Unit)Unit">tryTwice</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549474">alts0</a>     = <a href="#549471" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549483">alt</a> =&gt; <a href="#106108" title="(tp: Infer.this.global.Type, pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#549470" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549483" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span>, <a href="#549466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Boolean" id="549475">secondTry</a> = <a href="#549474" title="List[Infer.this.global.Symbol]">alts0</a>.<span title="=&gt; Boolean">isEmpty</span>
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549476">alts1</a>     = <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#549475" title="Boolean">secondTry</a><span class="delimiter">)</span> <a href="#549471" title="List[Infer.this.global.Symbol]">alts</a> <span class="keyword">else</span> <a href="#549474" title="List[Infer.this.global.Symbol]">alts0</a>

        <span class="comment">//println(&quot;trying &quot;+alts1+(alts1 map (_.tpe))+(alts1 map (_.locationString))+&quot; for &quot;+pt)</span>
        <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="549477">improves</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549485">sym1</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="549486">sym2</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
          <a href="#549486" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549486" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Infer.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106292" title="=&gt; Infer.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549492">tp1</a> = <a href="#549470" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549485" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549493">tp2</a> = <a href="#549470" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549486" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="#549493" title="Infer.this.global.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67399" title="object Infer.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">||</span>
             <span title="=&gt; Boolean">!</span><a href="Analyzer.scala.html#105627" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#64965" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#105961" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#106108" title="(tp: Infer.this.global.analyzer.global.Type, pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#549493" title="Infer.this.global.Type">tp2</a>, <a href="#549466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Analyzer.scala.html#105627" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#64965" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#105961" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#106108" title="(tp: Infer.this.global.analyzer.global.Type, pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a><span class="delimiter">(</span><a href="#549492" title="Infer.this.global.Type">tp1</a>, <a href="#549466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
             <a href="#106128" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#549492" title="Infer.this.global.Type">tp1</a>, <a href="#549493" title="Infer.this.global.Type">tp2</a>, <a href="#549485" title="Infer.this.global.Symbol">sym1</a>, <a href="#549486" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549478">best</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <a href="#549500" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">/:</a> <a href="#549476" title="List[Infer.this.global.Symbol]">alts1</a><span class="delimiter">)</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549513">best</a>, <a title="Infer.this.global.Symbol" id="549514">alt</a><span class="delimiter">)</span> =&gt;
          <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#549477" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549514" title="Infer.this.global.Symbol">alt</a>, <a href="#549513" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#549514" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#549513" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>
          
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549479">competing</a> = <a href="#549476" title="List[Infer.this.global.Symbol]">alts1</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549519">alt</a> =&gt; <a href="#549478" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#549519" title="Infer.this.global.Symbol">alt</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549477" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549478" title="Infer.this.global.Symbol">best</a>, <a href="#549519" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549478" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#549465" title="Infer.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549537">qual</a>, _<span class="delimiter">)</span> =&gt;
                <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;qual: &quot;)" class="string">&quot;qual: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549537" title="Infer.this.global.Tree">qual</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549537" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with decls &quot;)" class="string">&quot; with decls &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549537" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Infer.this.global.Scope">decls</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549537" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105490" title="=&gt; List[Infer.this.global.Symbol]">members</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549537" title="Infer.this.global.Tree">qual</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105495" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/Names.scala.html#66914" title="(s: String)Infer.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$minus&quot;)" class="string">&quot;$minus&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#106098" title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit" class="delimiter">(</span><a href="#549465" title="Infer.this.global.Tree">tree</a>, <a href="#549465" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#549466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549479" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549475" title="Boolean">secondTry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#106098" title="(tree: Infer.this.global.Tree, found: Infer.this.global.Type, req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit" class="delimiter">(</span><a href="#549465" title="Infer.this.global.Tree">tree</a>, <a href="#549465" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#549466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549466" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106852" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol, rest: String)Unit">ambiguousError</a><span class="delimiter">(</span><a href="#549465" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#549470" title="Infer.this.global.Type">pre</a>, <a href="#549478" title="Infer.this.global.Symbol">best</a>, <a href="#549479" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>, <span title="java.lang.String(&quot;expected type &quot;)" class="string">&quot;expected type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549466" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>
            <a href="#106091" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span title="Unit" class="delimiter">(</span><a href="#549465" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//          val applicable = alts1 filter (alt =&gt; </span>
<span class="comment">//            global.typer.infer.isWeaklyCompatible(pre.memberType(alt), pt))</span>
<span class="comment">//          checkNotShadowed(tree.pos, pre, best, applicable)</span>
          <a href="#549465" title="Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span><span class="delimiter">(</span><a href="#549478" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>.<span title="(tp: Infer.this.global.Type)tree.type">setType</span><span title="Unit" class="delimiter">(</span><a href="#549470" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549478" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Assign &lt;code&gt;tree&lt;/code&gt; the type of an alternative which is applicable
     *  to &lt;code&gt;argtpes&lt;/code&gt;, and whose result type is compatible with `pt'.
     *  If several applicable alternatives exist, drop the alternatives which use
     *  default arguments, then select the most specialized one.
     *  If no applicable alternative exists, and pt != WildcardType, try again
     *  with pt = WildcardType.
     *  Otherwise, if there is no best alternative, error.
     *
     *  @param argtpes contains the argument types. If an argument is named, as
     *    &quot;a = 3&quot;, the corresponding type is `NamedType(&quot;a&quot;, Int)'. If the name
     *    of some NamedType does not exist in an alternative's parameter names,
     *    the type is replaces by `Unit', i.e. the argument is treated as an
     *    assignment expression.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], argtpes: List[Infer.this.global.Type], pt0: Infer.this.global.Type, varArgsOnly: Boolean)Unit" id="106157">inferMethodAlternative</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="481078">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Symbol]" id="481079">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                               <a title="List[Infer.this.global.Type]" id="481080">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Infer.this.global.Type" id="481081">pt0</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="481084">varArgsOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#481078" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">OverloadedType</span><span class="delimiter">(</span><a title="Infer.this.global.Type" id="549557">pre</a>, <a title="List[Infer.this.global.Symbol]" id="549558">alts</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="549559">pt</a> = <span title="Infer.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#481081" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Infer.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Infer.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#481081" title="Infer.this.global.Type">pt0</a>
        <a href="#106158" title="(infer: =&gt; Unit)Unit">tryTwice</a> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer method alt &quot;)" class="string">&quot;infer method alt &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#481078" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with alternatives &quot;)" class="string">&quot; with alternatives &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span class="delimiter">(</span><a href="#549558" title="List[Infer.this.global.Symbol]">alts</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,Any])Any">map</span> <a href="#549557" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, argtpes = &quot;)" class="string">&quot;, argtpes = &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#481080" title="List[Infer.this.global.Type]">argtpes</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#549559" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="549565">allApplicable</a> = <a href="#549558" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549621">alt</a> =&gt;
            <span class="comment">// TODO: this will need to be re-written once we substitute throwing exceptions</span>
            <span class="comment">// with generating error trees. We wrap this applicability in try/catch because of #4457.</span>
            <span class="keyword">try</span> <span class="delimiter">{</span><a href="#106122" title="(undetparams: List[Infer.this.global.Symbol], ftpe: Infer.this.global.Type, argtpes0: List[Infer.this.global.Type], pt: Infer.this.global.Type)Boolean">isApplicable</a><span class="delimiter">(</span><a href="#481079" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#106118" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549557" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549621" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#481080" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#549559" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span><span class="keyword">case</span> <span title="Boolean(false)">_</span>: <a href="../symtab/Types.scala.html#67669" title="Infer.this.global.TypeError">TypeError</a> =&gt; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">}</span><span class="delimiter">)</span>

          <span class="comment">//log(&quot;applicable: &quot;+ (allApplicable map pre.memberType))</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#481084" title="Boolean">varArgsOnly</a><span class="delimiter">)</span>
            <a href="#549565" title="List[Infer.this.global.Symbol]">allApplicable</a> = <a href="#549565" title="List[Infer.this.global.Symbol]">allApplicable</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549627">alt</a> =&gt; <a href="../symtab/Definitions.scala.html#106361" title="(params: List[Infer.this.global.Symbol])Boolean">isVarArgsList</a><span class="delimiter">(</span><a href="#549627" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Infer.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="comment">// if there are multiple, drop those that use a default</span>
          <span class="comment">// (keep those that use vararg / tupling conversion)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549566">applicable</a> =
            <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#549565" title="List[Infer.this.global.Symbol]">allApplicable</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#549565" title="List[Infer.this.global.Symbol]">allApplicable</a>
            <span class="keyword">else</span> <a href="#549565" title="List[Infer.this.global.Symbol]">allApplicable</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549638">alt</a> =&gt; <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="549639">mtypes</a> = <a href="#106118" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549638" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="List[Infer.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="comment">// for functional values, the `apply' method might be overloaded</span>
                <span class="keyword">case</span> <span title="List[Infer.this.global.Type]">OverloadedType</span><span class="delimiter">(</span>_, <a title="List[Infer.this.global.Symbol]" id="549642">alts</a><span class="delimiter">)</span> =&gt; <a href="#549642" title="List[Infer.this.global.Symbol]">alts</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#549659" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Infer.this.global.Type">tpe</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="List[Infer.this.global.Type]" id="549687">t</a>                       =&gt; <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span><span class="delimiter">(</span><a href="#549687" title="Infer.this.global.Type">t</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#549639" title="List[Infer.this.global.Type]">mtypes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="549701">t</a> =&gt;
                <a href="../symtab/Types.scala.html#67585" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#549701" title="Infer.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="#481080" title="List[Infer.this.global.Type]">argtpes</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span>  <span class="comment">// tupling (*)</span>
                <a href="#106119" title="(tp: Infer.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="#549701" title="Infer.this.global.Type">t</a>, <a href="#481080" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>    <span class="comment">// same nb or vararg</span>
              <span class="delimiter">)</span>
              <span class="comment">// (*) more arguments than parameters, but still applicable: tuplig conversion works.</span>
              <span class="comment">//     todo: should not return &quot;false&quot; when paramTypes = (Unit) no argument is given</span>
              <span class="comment">//     (tupling would work)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean" id="549567">improves</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549708">sym1</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="549709">sym2</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
<span class="comment">//            util.trace(&quot;improve &quot;+sym1+sym1.locationString+&quot; on &quot;+sym2+sym2.locationString)(</span>
            <a href="#549709" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549709" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107478" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549709" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Infer.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106292" title="=&gt; Infer.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
            <a href="#106128" title="(ftpe1: Infer.this.global.Type, ftpe2: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#106118" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549557" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549708" title="Infer.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                                   <a href="#106118" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#549557" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549709" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#549708" title="Infer.this.global.Symbol">sym1</a>, <a href="#549709" title="Infer.this.global.Symbol">sym2</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549568">best</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <a href="#549715" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">/:</a> <a href="#549566" title="List[Infer.this.global.Symbol]">applicable</a><span class="delimiter">)</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549728">best</a>, <a title="Infer.this.global.Symbol" id="549729">alt</a><span class="delimiter">)</span> =&gt;
            <span title="Infer.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#549567" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549729" title="Infer.this.global.Symbol">alt</a>, <a href="#549728" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#549729" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#549728" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549569">competing</a> = <a href="#549566" title="List[Infer.this.global.Symbol]">applicable</a>.<span title="(p: Infer.this.global.Symbol =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549734">alt</a> =&gt; <a href="#549568" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#549734" title="Infer.this.global.Symbol">alt</a> <span title="(x: Boolean)Boolean">||</span> <a href="#549567" title="(sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol)Boolean">improves</a><span class="delimiter">(</span><a href="#549568" title="Infer.this.global.Symbol">best</a>, <a href="#549734" title="Infer.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549568" title="Infer.this.global.Symbol">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549559" title="Infer.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#106095" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span title="Unit" class="delimiter">(</span><a href="#481078" title="Infer.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#105929" title="(tree: Infer.this.global.Tree, msg: String, argtpes: List[Infer.this.global.Type], pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a><span class="delimiter">(</span><a href="#481078" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot; cannot be applied to &quot;)" class="string">&quot; cannot be applied to &quot;</span>, <a href="#481080" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#549559" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#106157" title="(tree: Infer.this.global.Tree, undetparams: List[Infer.this.global.Symbol], argtpes: List[Infer.this.global.Type], pt0: Infer.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#481078" title="Infer.this.global.Tree">tree</a>, <a href="#481079" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#481080" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549569" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#481080" title="List[Infer.this.global.Type]">argtpes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#549753" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#549559" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106852" title="(pos: Infer.this.global.Position, pre: Infer.this.global.Type, sym1: Infer.this.global.Symbol, sym2: Infer.this.global.Symbol, rest: String)Unit">ambiguousError</a><span class="delimiter">(</span><a href="#481078" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#549557" title="Infer.this.global.Type">pre</a>, <a href="#549568" title="Infer.this.global.Symbol">best</a>, <a href="#549569" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>,
                                     <span title="java.lang.String(&quot;argument types &quot;)" class="string">&quot;argument types &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#481080" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
                                     <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#549559" title="Infer.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67401" title="object Infer.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; and expected result type &quot;)" class="string">&quot; and expected result type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549559" title="Infer.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#106091" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#481078" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//            checkNotShadowed(tree.pos, pre, best, applicable)</span>
            <a href="#481078" title="Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span><span class="delimiter">(</span><a href="#549568" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span>.<span title="(tp: Infer.this.global.Type)tree.type">setType</span><span title="Unit" class="delimiter">(</span><a href="#549557" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549568" title="Infer.this.global.Symbol">best</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    <span class="comment">/** Try inference twice, once without views and once with views,
     *  unless views are already disabled.
     *
     *  @param infer ...
     */</span>
    <span class="keyword">def</span> <a title="(infer: =&gt; Unit)Unit" id="106158">tryTwice</a><span class="delimiter">(</span><a title="=&gt; Unit" id="549472">infer</a>: =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106809" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="549765">reportGeneralErrors</a> = <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106803" title="=&gt; Boolean">reportGeneralErrors</a>
        <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106804" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">try</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106832" title="(op: =&gt; Unit)Unit">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#549472" title="=&gt; Unit">infer</a><span class="delimiter">)</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="549769">ex</a>: <a href="../symtab/Symbols.scala.html#67347" title="Infer.this.global.CyclicReference">CyclicReference</a>  =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#549769" title="Infer.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="Unit" id="549770">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Infer.this.global.TypeError">TypeError</a>        =&gt;
            <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106804" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#549765" title="Boolean">reportGeneralErrors</a>
            <a href="#549472" title="=&gt; Unit">infer</a>
        <span class="delimiter">}</span>
        <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106804" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#549765" title="Boolean">reportGeneralErrors</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#549472" title="=&gt; Unit">infer</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Assign &lt;code&gt;tree&lt;/code&gt; the type of unique polymorphic alternative
     *  with &lt;code&gt;nparams&lt;/code&gt; as the number of type parameters, if it exists.
     *  If several or none such polymorphic alternatives exist, error.
     *
     *  @param tree ...
     *  @param nparams ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree, argtypes: List[Infer.this.global.Type])Unit" id="106159">inferPolyAlternatives</a><span class="delimiter">(</span><a title="Infer.this.global.Tree" id="549771">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="List[Infer.this.global.Type]" id="549772">argtypes</a>: <span title="List[Infer.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> OverloadedType<a href="#549775" title="(Infer.this.global.Type, List[Infer.this.global.Symbol])" class="delimiter">(</a><a href="#549774" title="Infer.this.global.Type" id="549775">pre</a>, <a href="#549774" title="List[Infer.this.global.Symbol]" id="549776">alts</a><span class="delimiter">)</span> = <a href="#549771" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Type">tpe</span>
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549777">sym0</a> = <a href="#549771" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549793">alt</a> =&gt; <a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#549793" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#549772" title="List[Infer.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(msg: String)Unit" id="549778">fail</a><span class="delimiter">(</span><a title="String" id="549796">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#106094" title="(pos: Infer.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#549771" title="Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>, <a href="#549796" title="String">msg</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549777" title="Infer.this.global.Symbol">sym0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#549778" title="(msg: String)Unit">fail</a><span class="delimiter">(</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#549776" title="List[Infer.this.global.Symbol]">alts</a> <span title="(p: Infer.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#549807" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105927" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#549771" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="TypeDiagnostics.scala.html#105927" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#549771" title="Infer.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span>
      <span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#549780" title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</a><a href="#549779" title="Infer.this.global.Symbol" id="549780">resSym</a>, <a href="#549779" title="Infer.this.global.Type" id="549781">resTpe</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#549777" title="Infer.this.global.Symbol">sym0</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span>
          <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#549777" title="Infer.this.global.Symbol">sym0</a>, <a href="#549775" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549777" title="Infer.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549817">sym</a> = <a href="#549777" title="Infer.this.global.Symbol">sym0</a> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Infer.this.global.Symbol =&gt; Boolean)Infer.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549820">alt</a> =&gt; <a href="../symtab/Types.scala.html#67625" title="(pre: Infer.this.global.Type, owner: Infer.this.global.Symbol, tparams: List[Infer.this.global.Symbol], targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#549775" title="Infer.this.global.Type">pre</a>, <a href="#549820" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#549820" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#549772" title="List[Infer.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#549817" title="Infer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Infer.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#549772" title="List[Infer.this.global.Type]">argtypes</a> <span title="(p: Infer.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Infer.this.global.Type" id="549831">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#549831" title="Infer.this.global.Type">x</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#549778" title="(msg: String)Unit">fail</a><span class="delimiter">(</span>
              <span title="java.lang.String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549772" title="List[Infer.this.global.Type]">argtypes</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> 
              <span title="java.lang.String(&quot; conform to the bounds of none of the overloaded alternatives of\012 &quot;)" class="string">&quot; conform to the bounds of none of the overloaded alternatives of\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#549777" title="Infer.this.global.Symbol">sym0</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#549777" title="Infer.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Infer.this.global.Type">info</a>
            <span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="(Infer.this.global.Symbol, Infer.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#549817" title="Infer.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549834">xs</a>      = <a href="#549817" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="549835">tparams</a> = <span title="Infer.this.global.AsSeenFromMap" class="keyword">new</span> <a href="../symtab/Types.scala.html#67531" title="Infer.this.global.AsSeenFromMap">AsSeenFromMap</a><span class="delimiter">(</span><a href="#549775" title="Infer.this.global.Type">pre</a>, <a href="#549834" title="List[Infer.this.global.Symbol]">xs</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Infer.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#133461" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a> <a href="#549834" title="List[Infer.this.global.Symbol]">xs</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="549836">bounds</a>  = <a href="#549835" title="List[Infer.this.global.Symbol]">tparams</a> <span title="(f: Infer.this.global.Symbol =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Infer.this.global.Symbol],Infer.this.global.Type,List[Infer.this.global.Type]])List[Infer.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#549878" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107563" title="=&gt; Infer.this.global.Type">tpeHK</a><span class="delimiter">)</span> <span class="comment">// see e.g., #1236</span>
            <span class="keyword">val</span> <a title="Infer.this.global.PolyType" id="549837">tpe</a>     = <a href="../symtab/Types.scala.html#148921" title="(typeParams: List[Infer.this.global.Symbol], resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#549835" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="../symtab/Types.scala.html#251496" title="(pre: Infer.this.global.Type, alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#455162" title="(pre: Infer.this.global.Type, targs: List[Infer.this.global.Type])Infer.this.global.AntiPolyType">AntiPolyType</a><span class="delimiter">(</span><a href="#549775" title="Infer.this.global.Type">pre</a>, <a href="#549836" title="List[Infer.this.global.Type]">bounds</a><span class="delimiter">)</span>, <a href="#549834" title="List[Infer.this.global.Symbol]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            
            <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.PolyType)(Infer.this.global.Symbol, Infer.this.global.PolyType)" class="delimiter">(</span><a href="#549817" title="Infer.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: Infer.this.global.Type)sym.type">setInfo</a> <a href="#549837" title="Infer.this.global.PolyType">tpe</a>, <a href="#549837" title="Infer.this.global.PolyType">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="(_1: Infer.this.global.Symbol, _2: Infer.this.global.Type)(Infer.this.global.Symbol, Infer.this.global.Type)" class="delimiter">(</span><a href="#549817" title="Infer.this.global.Symbol">sym</a>, <a href="#549775" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#549817" title="Infer.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">// Side effects tree with symbol and type</span>
      <a href="#549771" title="Infer.this.global.Tree">tree</a> <span title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</span> <a href="#549780" title="Infer.this.global.Symbol">resSym</a> <span title="(tp: Infer.this.global.Type)tree.type">setType</span> <a href="#549781" title="Infer.this.global.Type">resTpe</a>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class AccessError extends Infer.this.global.Tree with ScalaObject with Product with Serializable" id="550001">AccessError</a><a href="#550001" title="ScalaObject" class="delimiter">(</a><a title="Infer.this.global.Tree" id="550035">tree</a>: <span title="Infer.this.global.Tree">Tree</span>, <a title="Infer.this.global.Symbol" id="550036">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="550037">pre</a>: <a href="../symtab/Types.scala.html#67392" title="Infer.this.global.Type">Type</a>, <a title="String" id="550038">explanation</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Analyzer.scala.html#105627" title="Infer.this.global.Tree">Tree</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Position" id="543748">pos</a> = <a href="#550035" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Position">pos</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="543749">hasSymbol</a> = <a href="#550035" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Symbol" id="543750">symbol</a> = <a href="#550035" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="=&gt; Infer.this.global.Symbol">symbol</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(x: Infer.this.global.Symbol)Unit" id="543751">symbol_=</a><span class="delimiter">(</span><a title="Infer.this.global.Symbol" id="549951">x</a>: <a href="../symtab/Symbols.scala.html#67331" title="Infer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#550035" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="(sym: Infer.this.global.Symbol)Unit">symbol</span> = <a href="#549951" title="Infer.this.global.Symbol">x</a>
      <a href="#106091" title="(tree: Inferencer.this.AccessError)Inferencer.this.AccessError">setError</a><span class="delimiter">(</span><a href="#550001" title="Inferencer.this.AccessError" class="keyword">this</a><span class="delimiter">)</span>
      
      <span class="keyword">def</span> <a title="()Infer.this.global.Tree" id="543752">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Infer.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="549959">realsym</a> = <a href="Namers.scala.html#105678" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#550036" title="=&gt; Infer.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#106095" title="(tree: Infer.this.global.Tree, msg: String)Infer.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#550035" title="=&gt; Infer.this.global.Tree">tree</a>, <a href="#549959" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">realsym</a> <span title="(other: String)java.lang.String">+</span> <a href="#549959" title="Infer.this.global.Symbol">realsym</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; cannot be accessed in &quot;)" class="string">&quot; cannot be accessed in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#550036" title="=&gt; Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107473" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <a href="#106746" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Infer.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#550037" title="=&gt; Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Infer.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#550038" title="=&gt; String">explanation</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>