<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Typers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="comment">// Added: Sat Oct 7 16:08:21 2006</span>
<span class="comment">//todo: use inherited type info also for vars and values</span>

<span class="comment">// Added: Thu Apr 12 18:23:58 2007</span>
<span class="comment">//todo: disallow C#D in superclass</span>
<span class="comment">//todo: treat :::= correctly</span>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.util.BatchSourceFile
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> util.Statistics
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#30936" title="object scala.tools.nsc.util.Statistics">Statistics</a>._
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#31727" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>
 
<span class="comment">// Suggestion check whether we can do without priming scopes with symbols of outer scopes,</span>
<span class="comment">// like the IDE does. </span>
<span class="comment">/** This trait provides methods to assign types to trees.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */</span>
<span class="keyword">trait</span> <a title="trait Typers extends java.lang.Object with scala.tools.nsc.typechecker.Modes with ScalaObject" id="29468">Typers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Modes.scala.html#29507" title="scala.tools.nsc.typechecker.Modes">Modes</a> <span class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#105486" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67688" title="object Typers.this.global.definitions">definitions</a>._

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, mode: Int)Int" id="105596">forArgMode</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574741">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="574742">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152974" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#574741" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#574742" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8)">SCCmode</span>
    <span class="keyword">else</span> <a href="#574742" title="Int">mode</a>

  <span class="comment">// namer calls typer.computeType(rhs) on DefDef / ValDef when tpt is empty. the result</span>
  <span class="comment">// is cached here and re-used in typedDefDef / typedValDef</span>
  <span class="comment">// Also used to cache imports type-checked by namer.</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" id="105597">transformed</a> = <span title="()scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">HashMap</span><span class="delimiter">[</span>Tree, Tree<span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="105599">shortenImports</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="()Unit" id="105601">resetTyper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">//println(&quot;resetTyper called&quot;)</span>
    <a href="Contexts.scala.html#105512" title="()Unit">resetContexts</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Namers.scala.html#105529" title="()Unit">resetNamer</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Implicits.scala.html#105654" title="()Unit">resetImplicits</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#105597" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="SyntheticMethods.scala.html#105704" title="()Unit">resetSynthetics</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Typers.this.UnTyper" id="105602">UnTyper</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../ast/Trees.scala.html#67826" title="Typers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Unit" id="554280">traverse</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="554281">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#554281" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#554281" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#554281" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#554281" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#162606" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#554281" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> 
<span class="comment">/* needed for experimental version where eraly types can be type arguments
  class EarlyMap(clazz: Symbol) extends TypeMap {
    def apply(tp: Type): Type = tp match {
      case TypeRef(NoPrefix, sym, List()) if (sym hasFlag PRESUPER) =&gt;
        TypeRef(ThisType(clazz), sym, List())
      case _ =&gt;
        mapOver(tp)
    }
  }
*/</span>

  <span class="keyword">def</span> <a title="(context: Typers.this.Context)Typers.this.Typer" id="105604">newTyper</a><span class="delimiter">(</span><a title="Typers.this.Context" id="314466">context</a>: <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="#105608" title="Typers.this.Typer">Typer</a> = <span title="Typers.this.NormalTyper" class="keyword">new</span> <a href="#105605" title="Typers.this.NormalTyper">NormalTyper</a><span class="delimiter">(</span><a href="#314466" title="Typers.this.Context">context</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NormalTyper extends Typers.this.Typer with ScalaObject" id="105605">NormalTyper</a><a href="#105605" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="574754">context</a> : <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#105608" title="Typers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#574754" title="Typers.this.Context">context</a><span class="delimiter">)</span>

  <span class="comment">// A transient flag to mark members of anonymous classes</span>
  <span class="comment">// that are turned private by typedBlock</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long(274877906944L)" id="105606">SYNTHETIC_PRIVATE</a> = <span title="Long(274877906944L)">TRANS_FLAG</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Typer extends java.lang.Object with Typers.this.TyperDiagnostics with ScalaObject" id="105608">Typer</a><a href="#105608" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="112801">context0</a>: <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypeDiagnostics.scala.html#105804" title="Typers.this.TyperDiagnostics">TyperDiagnostics</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#112801" title="Typers.this.Context">context0</a>.unit
    <span class="keyword">import</span> <a href="../symtab/TypeDebugging.scala.html#67934" title="object Typers.this.global.typeDebug">typeDebug</a>.<span class="delimiter">{</span> ptTree, ptBlock, ptLine <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Typers.this.Inferencer" id="105820">infer</a> = <a href="#105946" title="Typers.this.Inferencer" class="keyword">new</a> <a href="Infer.scala.html#105635" title="anonymous class $anon extends Typers.this.Inferencer" id="105946">Inferencer</a><span class="delimiter">(</span><a href="#112801" title="Typers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, pt: Typers.this.global.Type)Boolean" id="106023">isCoercible</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="106024">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="106025">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../symtab/Types.scala.html#67372" title="object Typers.this.global.undoLog">undoLog</a> <a href="../symtab/Types.scala.html#106742" title="(block: =&gt; Boolean)Boolean">undo</a> <span class="delimiter">{</span> <span class="comment">// #3281</span>
        <a href="#106024" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#106025" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#112801" title="Typers.this.Context">context0</a>.<a href="Contexts.scala.html#106668" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// this condition prevents chains of views</span>
        <a href="#105823" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#106024" title="Typers.this.global.Type">tp</a>, <a href="#106025" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

    <span class="comment">/** Find implicit arguments and pass them to given tree.
     */</span>
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Tree" id="105822">applyImplicitArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574762">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#574762" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.ApplyToImplicitArgs">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="574766">params</a>, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" id="574767">argResultsBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">ListBuffer</span><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="574768">argBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree" id="574769">mkPositionalArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574774">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="574775">paramName</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#574774" title="Typers.this.global.Tree">argTree</a>
        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg" id="574770">mkNamedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574776">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="574777">paramName</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#574776" title="Typers.this.global.Tree">argTree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#67811" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#574777" title="Typers.this.global.Name">paramName</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a href="#574776" title="Typers.this.global.Tree">argTree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree" id="574771">mkArg</a>: <span class="delimiter">(</span>Tree, Name<span class="delimiter">)</span> =&gt; Tree = <a href="#574769" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree">mkPositionalArg</a>

        <span class="keyword">def</span> <a title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String" id="574772">errorMessage</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="574805">paramName</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Type" id="574806">paramTp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#574806" title="Typers.this.global.Type">paramTp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Implicits.scala.html#542488" title="String">ImplicitNotFoundMsg</a><span class="delimiter">(</span><a title="Typers.this.ImplicitNotFoundMsg.Message" id="574812">msg</a><span class="delimiter">)</span> =&gt; <a href="#574812" title="Typers.this.ImplicitNotFoundMsg.Message">msg</a>.<a href="Implicits.scala.html#542505" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">format</a><span class="delimiter">(</span><a href="#574805" title="Typers.this.global.Name">paramName</a>, <a href="#574806" title="Typers.this.global.Type">paramTp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="java.lang.String">_</span> =&gt;
              <span title="java.lang.String(&quot;could not find implicit value for &quot;)" class="string">&quot;could not find implicit value for &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                 <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#574805" title="Typers.this.global.Name">paramName</a> <a href="../symtab/Names.scala.html#96606" title="(name: String)Boolean">startsWith</a> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115510" title="=&gt; java.lang.String">EVIDENCE_PARAM_PREFIX</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;evidence parameter of type &quot;)" class="string">&quot;evidence parameter of type &quot;</span>
                  <span class="keyword">else</span> <span title="java.lang.String(&quot;parameter &quot;)" class="string">&quot;parameter &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#574805" title="Typers.this.global.Name">paramName</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><a href="#574806" title="Typers.this.global.Type">paramTp</a>  
          <span class="delimiter">}</span>

        <span class="comment">// DEPMETTODO: instantiate type vars that depend on earlier implicit args (see adapt (4.1))</span>
        <span class="comment">//</span>
        <span class="comment">// apply the substitutions (undet type param -&gt; type) that were determined</span>
        <span class="comment">// by implicit resolution of implicit arguments on the left of this argument</span>
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="574847">param</a> &lt;- <a href="#574766" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Type" id="574848">paramTp</a> = <a href="#574847" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.SearchResult" id="574869">ar</a> &lt;- <a href="#574767" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span>
            <a href="#574848" title="Typers.this.global.Type">paramTp</a> = <a href="#574848" title="Typers.this.global.Type">paramTp</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#574869" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314512" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#162613" title="=&gt; List[Typers.this.global.Symbol]">from</a>, <a href="#574869" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314512" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#162615" title="=&gt; List[Typers.this.global.Type]">to</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="574849">res</a> = <a href="Implicits.scala.html#105642" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#574762" title="Typers.this.global.Tree">fun</a>, <a href="#574848" title="Typers.this.global.Type">paramTp</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <a href="#574767" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">argResultsBuff</a> <span title="(x: Typers.this.SearchResult)argResultsBuff.type">+=</span> <a href="#574849" title="Typers.this.SearchResult">res</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#574849" title="Typers.this.SearchResult">res</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Implicits.scala.html#105658" title="=&gt; Typers.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#574768" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a> <span title="(x: Typers.this.global.Tree)argBuff.type">+=</span> <a href="#574771" title="(v1: Typers.this.global.Tree, v2: Typers.this.global.Name)Typers.this.global.Tree">mkArg</a><span class="delimiter">(</span><a href="#574849" title="Typers.this.SearchResult">res</a>.<a href="Implicits.scala.html#314510" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#574847" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#574771" title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree">mkArg</a> = <a href="#574770" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg">mkNamedArg</a> <span class="comment">// don't pass the default argument (if any) here, but start emitting named arguments for the following args</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#574847" title="Typers.this.global.Symbol">param</a>.<span title="=&gt; Boolean">hasDefault</span><span class="delimiter">)</span>
              <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106709" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#574762" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#574772" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">errorMessage</a><span class="delimiter">(</span><a href="#574847" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a>, <a href="#574847" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="comment">/* else {
             TODO: alternative (to expose implicit search failure more) --&gt; 
             resolve argument, do type inference, keep emitting positional args, infer type params based on default value for arg
             for (ar &lt;- argResultsBuff) ar.subst traverse defaultVal
             val targs = exprTypeArgs(context.undetparams, defaultVal.tpe, paramTp)
             substExpr(tree, tparams, targs, pt)
            }*/</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="574773">args</a> = <a href="#574768" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.SearchResult" id="574945">ar</a> &lt;- <a href="#574767" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#574945" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314512" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#162622" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#574762" title="Typers.this.global.Tree">fun</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574968">arg</a> &lt;- <a href="#574773" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <a href="#574945" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314512" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#162622" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#574968" title="Typers.this.global.Tree">arg</a>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#67820" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="#574762" title="Typers.this.global.Tree">fun</a>, <a href="#574773" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyToImplicitArgs">setPos</span> <a href="#574762" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Typers.this.global.Tree">ErrorType</a> =&gt;
        <a href="#574762" title="Typers.this.global.Tree">fun</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Infer an implicit conversion (``view'') between two types.
     *  @param tree             The tree which needs to be converted.
     *  @param from             The source type of the conversion
     *  @param to               The target type of the conversion
     *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
     *                          False iff we search for a view to find out
     *                          whether one type is coercible to another.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree" id="105823">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="106758">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="106759">from</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="106760">to</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="106761">reportAmbiguous</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer view from &quot;)" class="string">&quot;infer view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106759" title="Typers.this.global.Type">from</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106760" title="Typers.this.global.Type">to</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="keyword">else</span> <a href="#106759" title="Typers.this.global.Type">from</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <span class="keyword">def</span> <a title="(from: Typers.this.global.Type)Typers.this.global.Tree" id="574990">wrapImplicit</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="574992">from</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="574993">result</a> = <a href="Implicits.scala.html#105642" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#106758" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/Definitions.scala.html#106350" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#574992" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>, <a href="#106760" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>, <a href="#106761" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#574993" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#314512" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../ast/Trees.scala.html#67833" title="=&gt; Typers.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span> <a href="#574993" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#314512" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#162622" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#106758" title="Typers.this.global.Tree">tree</a>
            <a href="#574993" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#314510" title="=&gt; Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="574991">result</a> = <a href="#574990" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="#106759" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#574991" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#574991" title="Typers.this.global.Tree">result</a>
          <span class="keyword">else</span> <a href="#574990" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106224" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>.<a href="../symtab/Symbols.scala.html#107436" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#106759" title="Typers.this.global.Type">from</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> <a href="#105820" title="=&gt; Typers.this.Inferencer">infer</a>._

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.Namer" id="105826">namerCache</a>: <a href="Namers.scala.html#105530" title="Typers.this.Namer">Namer</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Namer" id="105828">namer</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#105826" title="=&gt; Typers.this.Namer">namerCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#105826" title="=&gt; Typers.this.Namer">namerCache</a>.<a href="Namers.scala.html#527499" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
        <a href="#105826" title="(x$1: Typers.this.Namer)Unit">namerCache</a> = <a href="Namers.scala.html#105524" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <a href="#105826" title="=&gt; Typers.this.Namer">namerCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Typers.this.Context" id="105830">context</a> = <a href="#112801" title="Typers.this.Context">context0</a>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="105832">context1</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>

    <span class="comment">/** Check that &lt;code&gt;tree&lt;/code&gt; is a stable expression.
     *
     *  @param tree ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105833">checkStable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="555033">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152969" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#555033" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#555033" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span>
        <a href="#555033" title="Typers.this.global.Tree">tree</a>, 
        <span title="java.lang.String(&quot;stable identifier required, but &quot;)" class="string">&quot;stable identifier required, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555033" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; found.&quot;)" class="string">&quot; found.&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105834" title="(tree: Typers.this.global.Tree)Boolean">isStableExceptVolatile</a><span class="delimiter">(</span><a href="#555033" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575043">tpe</a> = <a href="#555033" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575047">rtpe</a><span class="delimiter">)</span> =&gt; <a href="#575047" title="Typers.this.global.Type">rtpe</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Type" id="575048">t</a> =&gt; <a href="#575048" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span>
          <span title="java.lang.String(&quot;\012 Note that &quot;)" class="string">&quot;\n Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555033" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not stable because its type, &quot;)" class="string">&quot; is not stable because its type, &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555033" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, is volatile.&quot;)" class="string">&quot;, is volatile.&quot;</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Would tree be a stable (i.e. a pure expression) if the type
     *  of its symbol was not volatile?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="105834">isStableExceptVolatile</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575026">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575034">savedTpe</a> = <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>
        <span class="keyword">val</span> <a title="Long" id="575035">savedSTABLE</a> = <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107414" title="(mask: Long)Long">getFlag</a> <span title="Long(4194304L)">STABLE</span>
        <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
        <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(4194304L)">STABLE</span>
        <span class="keyword">val</span> <a title="Boolean" id="575036">result</a> = <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152969" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#575026" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#575034" title="Typers.this.global.Type">savedTpe</a>
        <a href="#575026" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <a href="#575035" title="Long">savedSTABLE</a>
        <a href="#575036" title="Boolean">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check that `tpt' refers to a non-refinement class type */</span>
    <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit" id="105835">checkClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575049">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Boolean" id="575050">existentialOK</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="575051">stablePrefix</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Unit" id="575053">check</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575054">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#575054" title="Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575058">pre</a>, <a title="Typers.this.global.Symbol" id="575059">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575059" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575059" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isRefinementClass</span> =&gt; 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575051" title="Boolean">stablePrefix</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575058" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575049" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575058" title="Typers.this.global.Type">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not a stable prefix&quot;)" class="string">&quot; is not a stable prefix&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Unit">ErrorType</a> =&gt; ;
        <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575068">restpe</a><span class="delimiter">)</span> =&gt; <a href="#575053" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575068" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575071">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575050" title="Boolean">existentialOK</a> =&gt; <a href="#575053" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575071" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575075">underlying</a>, _<span class="delimiter">)</span> =&gt; <a href="#575053" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575075" title="Typers.this.global.Type">underlying</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="575076">t</a> =&gt; <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575049" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;class type required but &quot;)" class="string">&quot;class type required but &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575076" title="Typers.this.global.Type">t</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#575053" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575049" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check that type &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     *
     *  @param pos ...
     *  @param tp  ...
     *  @return    &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     */</span>
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean" id="105836">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="551599">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="551600">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="575077">checkNotLocked</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575078">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <a href="#575078" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; sym.type">initialize</a>
        <a href="#575078" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107318" title="=&gt; Boolean">lockOK</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span><a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#551599" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cyclic aliasing or subtyping involving &quot;)" class="string">&quot;cyclic aliasing or subtyping involving &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575078" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#551600" title="Typers.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575082">pre</a>, <a title="Typers.this.global.Symbol" id="575083">sym</a>, <a title="List[Typers.this.global.Type]" id="575084">args</a><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#575077" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#575083" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
            <span title="=&gt; Boolean">!</span><a href="#575083" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107321" title="=&gt; Boolean">isNonClassType</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#105837" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551599" title="Typers.this.global.Position">pos</a>, <a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#575082" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#575083" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#575084" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span>, <a href="#575083" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>   <span class="comment">// @M! info for a type ref to a type parameter now returns a polytype</span>
            <span class="comment">// @M was: checkNonCyclic(pos, pre.memberInfo(sym).subst(sym.typeParams, args), sym)</span>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575092">pre</a>, <a title="Typers.this.global.Symbol" id="575093">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#575077" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#575093" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
<span class="comment">/*
        case TypeBounds(lo, hi) =&gt;
          var ok = true
          for (t &lt;- lo) ok = ok &amp; checkNonCyclic(pos, t)
          ok
*/</span>
        <span class="keyword">case</span> <a title="Boolean" id="575094">st</a>: <a href="../symtab/Types.scala.html#67383" title="Typers.this.global.SubType">SubType</a> =&gt;
          <a href="#105836" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551599" title="Typers.this.global.Position">pos</a>, <a href="#575094" title="Typers.this.global.SubType">st</a>.<a href="../symtab/Types.scala.html#148192" title="=&gt; Typers.this.global.Type">supertype</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Boolean" id="575099">ct</a>: <a href="../symtab/Types.scala.html#67415" title="Typers.this.global.CompoundType">CompoundType</a> =&gt;
          <a href="#575099" title="Typers.this.global.CompoundType">ct</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="575112">x</a> =&gt; <a href="#105836" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551599" title="Typers.this.global.Position">pos</a>, <a href="#575112" title="Typers.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean" id="105837">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="551592">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="551593">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Symbol" id="551594">lockedSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#551594" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../symtab/Symbols.scala.html#107319" title="(handler: =&gt; Unit)Unit">lock</a> <span class="delimiter">{</span>
        <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#313894" title="(msg: String)Typers.this.global.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic reference involving &quot;)" class="string">&quot;illegal cyclic reference involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#551594" title="Typers.this.global.Symbol">lockedSym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#105836" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551592" title="Typers.this.global.Position">pos</a>, <a href="#551593" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#551594" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../symtab/Symbols.scala.html#107320" title="()Unit">unlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="105838">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="551589">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105836" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551589" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#551589" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#551589" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit" id="105839">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="551584">defn</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="551585">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105837" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551584" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#551585" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#551584" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#551585" title="Typers.this.global.Tree">tpt</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a>
        <a href="#551584" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit" id="105840">checkParamsConvertible</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="575140">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="575141">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#575141" title="Typers.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="575145">formals</a>, <a title="Typers.this.global.Type" id="575146">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="comment">/*
          if (formals.exists(_.typeSymbol == ByNameParamClass) &amp;&amp; formals.length != 1)
            error(pos, &quot;methods with `=&gt;'-parameter can be converted to function values only if they take no other parameters&quot;)
          if (formals exists (isRepeatedParamType(_)))
            error(pos, &quot;methods with `*'-parameters cannot be converted to function values&quot;);
          */</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575146" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105310" title="=&gt; Boolean">isDependent</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575140" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;method with dependent type &quot;)" class="string">&quot;method with dependent type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575141" title="Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; cannot be converted to function value&quot;)" class="string">&quot; cannot be converted to function value&quot;</span><span class="delimiter">)</span>
          <a href="#105840" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#575140" title="Typers.this.global.Position">pos</a>, <a href="#575146" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, mode: Int)Unit" id="105841">checkStarPatOK</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="575147">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a>, <a title="Int" id="575148">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575148" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4096)">STARmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575147" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;star patterns must correspond with varargs parameters&quot;)" class="string">&quot;star patterns must correspond with varargs parameters&quot;</span><span class="delimiter">)</span>

    <span class="comment">/** Check that type of given tree does not contain local or private
     *  components.
     */</span>
    <span class="keyword">object</span> <a title="object Typer.this.checkNoEscaping" id="105842">checkNoEscaping</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67503" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="575166">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Scope" id="575169">scope</a>: <a href="../symtab/Scopes.scala.html#67680" title="Typers.this.global.Scope">Scope</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Typers.this.global.Symbol]" id="575172">hiddenSymbols</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = _

      <span class="comment">/** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to private
       *  components unless itself is wrapped in something private
       *  (&lt;code&gt;owner&lt;/code&gt; tells where the type occurs).
       *
       *  @param owner ...
       *  @param tree  ...
       *  @return      ...
       */</span>
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, tree: T)T" id="575174">privates</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="575176">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575189">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="T" id="575190">tree</a>: <a href="#575176" title="T">T</a><span class="delimiter">)</span>: <a href="#575176" title="T">T</a> =
        <a href="#575180" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#575189" title="Typers.this.global.Symbol">owner</a>, <a href="../symtab/Scopes.scala.html#67682" title="object Typers.this.global.EmptyScope">EmptyScope</a>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#575190" title="T">tree</a><span class="delimiter">)</span>

      <span class="comment">/** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to entities
       *  defined in scope &lt;code&gt;scope&lt;/code&gt;.
       *
       *  @param scope ...
       *  @param pt    ...
       *  @param tree  ...
       *  @return      ...
       */</span>
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="575177">locals</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="575179">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Scope" id="575219">scope</a>: <a href="../symtab/Scopes.scala.html#67680" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="575220">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="T" id="575221">tree</a>: <a href="#575179" title="T">T</a><span class="delimiter">)</span>: <a href="#575179" title="T">T</a> =
        <a href="#575180" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#575219" title="Typers.this.global.Scope">scope</a>, <a href="#575220" title="Typers.this.global.Type">pt</a>, <a href="#575221" title="T">tree</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="575180">check</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="575182">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575194">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Scope" id="575195">scope</a>: <a href="../symtab/Scopes.scala.html#67680" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="575196">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="T" id="575197">tree</a>: <a href="#575182" title="T">T</a><span class="delimiter">)</span>: <a href="#575182" title="T">T</a> = <span class="delimiter">{</span>
        <span class="keyword">this</span>.<a href="#575166" title="(x$1: Typers.this.global.Symbol)Unit">owner</a> = <a href="#575194" title="Typers.this.global.Symbol">owner</a>
        <span class="keyword">this</span>.<a href="#575169" title="(x$1: Typers.this.global.Scope)Unit">scope</a> = <a href="#575195" title="Typers.this.global.Scope">scope</a>
        <a href="#575172" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575235">tp1</a> = <a href="#575184" title="(t: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#575197" title="T">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#575197" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#575235" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#575260" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107338" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Infer.scala.html#105950" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#575197" title="T">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#575196" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#575197" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#575196" title="Typers.this.global.Type">pt</a> <span class="comment">//todo: eliminate</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575235" title="Typers.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107346" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span class="comment">// todo: eliminate</span>
          <a href="#575180" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#575194" title="Typers.this.global.Symbol">owner</a>, <a href="#575195" title="Typers.this.global.Scope">scope</a>, <a href="#575196" title="Typers.this.global.Type">pt</a>, <a href="#575197" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#575235" title="Typers.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107441" title="=&gt; Typers.this.global.Type">classBound</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575194" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#575197" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#105910" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">reverse</span>, <a href="#575235" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// privates</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575284">badSymbol</a> = <a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575197" title="T">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#575284" title="Typers.this.global.Symbol">badSymbol</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;private &quot;)" class="string">&quot;private &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#575284" title="Typers.this.global.Symbol">badSymbol</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; escapes its defining scope as part of type &quot;)" class="string">&quot; escapes its defining scope as part of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575197" title="T">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#105950" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#575197" title="T">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#575197" title="T">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="575183">addHidden</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575289">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(elem: Any)Boolean">contains</span> <a href="#575289" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#575172" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#575289" title="Typers.this.global.Symbol">sym</a> <a href="#575292" title="(x: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">::</a> <a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="575184">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575243">t</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="575298">checkNoEscape</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575299">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575299" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575299" title="Typers.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="575300">o</a> = <a href="#575166" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#575300" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575300" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575300" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107483" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#575300" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107389" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575300" title="Typers.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#575300" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107277" title="=&gt; Typers.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#107406" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#575300" title="Typers.this.global.Symbol">o</a> = <a href="#575300" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575300" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">||</span> <a href="#575300" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107483" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>
              <a href="#575183" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#575299" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107340" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="575332">e</a> = <a href="#575169" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112955" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#575299" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Boolean" id="575333">found</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#575333" title="Boolean">found</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#575332" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575332" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113137" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575169" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#575335" title="Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#575332" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575299" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#575333" title="Boolean">found</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#575183" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#575299" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#575332" title="Typers.this.global.ScopeEntry">e</a> = <a href="#575169" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112956" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#575332" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../symtab/Types.scala.html#133280" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span>
          <a href="#575243" title="Typers.this.global.Type">t</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="575377">sym</a>, <a title="List[Typers.this.global.Type]" id="575378">args</a><span class="delimiter">)</span> =&gt; 
              <a href="#575298" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#575377" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575377" title="Typers.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                  <a href="#575377" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#575377" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#575378" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#575172" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#575172" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">tail</span>
                <a href="#575243" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#575243" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">SingleType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="575391">sym</a><span class="delimiter">)</span> =&gt; 
              <a href="#575298" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#575391" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#575243" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
              <a href="#575243" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(vparamss: List[List[Typers.this.global.ValDef]])Unit" id="105844">reenterValueParams</a><span class="delimiter">(</span><a title="List[List[Typers.this.global.ValDef]]" id="575392">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="575413">vparams</a> &lt;- <a href="#575392" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="575433">vparam</a> &lt;- <a href="#575413" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span>
          <a href="#575433" title="Typers.this.global.ValDef">vparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#575433" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]" id="105845">reenterTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.TypeDef]" id="553426">tparams</a>: <span title="List[Typers.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="575473">tparam</a> &lt;- <a href="#553426" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TypeDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#575473" title="Typers.this.global.TypeDef">tparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#575473" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <a href="#575473" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107498" title="=&gt; Typers.this.global.Symbol">deSkolemize</a> 
      <span class="delimiter">}</span> 

    <span class="comment">/** The qualifying class
     *  of a this or super with prefix &lt;code&gt;qual&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol" id="105846">qualifyingClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="550569">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="550570">qual</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a>, <a title="Boolean" id="550571">packageOK</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> =
      <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107403" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575519">o</a> =&gt; <a href="#550570" title="Typers.this.global.Name">qual</a>.<a href="../symtab/Names.scala.html#96573" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">||</span> <a href="#575519" title="Typers.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575519" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#550570" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575526">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#550571" title="Boolean">packageOK</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#575526" title="Typers.this.global.Symbol">c</a>.<span title="=&gt; Boolean">isPackageClass</span> =&gt;
          <a href="#575526" title="Typers.this.global.Symbol">c</a>
        <span class="keyword">case</span> <span title="Typers.this.global.NoSymbol.type">_</span> =&gt; 
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
            <a href="#550569" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, 
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#550570" title="Typers.this.global.Name">qual</a>.<a href="../symtab/Names.scala.html#96573" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#550569" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; can be used only in a class, object, or template&quot;)" class="string">&quot; can be used only in a class, object, or template&quot;</span>
            <span class="keyword">else</span> <a href="#550570" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">qual</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not an enclosing class&quot;)" class="string">&quot; is not an enclosing class&quot;</span><span class="delimiter">)</span>
          <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="delimiter">}</span>

    <span class="comment">/** The typer for an expression, depending on where we are. If we are before a superclass 
     *  call, this is a typer over a constructor context; otherwise it is the current typer.
     */</span>  
    <span class="keyword">def</span> <a title="(inConstr: Boolean)Typers.this.Typer" id="105847">constrTyperIf</a><span class="delimiter">(</span><a title="Boolean" id="554975">inConstr</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#105608" title="Typers.this.Typer">Typer</a> =  
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#554975" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
        <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106704" title="=&gt; Typers.this.Context">makeConstructorContext</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#105608" title="Typers.this.Typer" class="keyword">this</a>

    <span class="comment">/** The typer for a label definition. If this is part of a template we
     *  first have to enter the label definition.
     */</span>
    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer" id="105848">labelTyper</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="575534">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <a href="#105608" title="Typers.this.Typer">Typer</a> = 
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#575534" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// labeldef is part of template</span>
        <span class="keyword">val</span> <a title="Typers.this.Typer" id="575541">typer1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#575534" title="Typers.this.global.LabelDef">ldef</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#575541" title="Typers.this.Typer">typer1</a>.<a href="#105891" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#575534" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>
        <a href="#575541" title="Typers.this.Typer">typer1</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#105608" title="Typers.this.Typer" class="keyword">this</a>

    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="105849">xtypes</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Is symbol defined and not stale?
     */</span>
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="105851">reallyExists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="540948">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105852" title="(sym: Typers.this.global.Symbol)Boolean">isStale</a><span class="delimiter">(</span><a href="#540948" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#540948" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
      <a href="#540948" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a>
    <span class="delimiter">}</span>

    <span class="comment">/** A symbol is stale if it is toplevel, to be loaded from a classfile, and
     *  the classfile is produced from a sourcefile which is compiled in the current run.
     */</span>
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="105852">isStale</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="540951">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#540951" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107429" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>loaders.<a href="../symtab/SymbolLoaders.scala.html#104592" title="Typers.this.global.loaders.ClassfileLoader">ClassfileLoader</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#540951" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107429" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../symtab/Types.scala.html#105395" title="(sym: Typers.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#540951" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#540951" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107502" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72347" title="=&gt; scala.collection.mutable.HashSet[String]">compiledFiles</a> <span title="(elem: String)Boolean">contains</span> <a href="#540951" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107502" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>.<a href="../io/AbstractFile.scala.html#96453" title="=&gt; String">path</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Does the context of tree &lt;code&gt;tree&lt;/code&gt; require a stable type?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean" id="105853">isStableContext</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575555">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="575556">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="575557">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =  
      <a href="#105857" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575555" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575556" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
      <span class="delimiter">(</span><span title="Boolean(false)">xtypes</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#575557" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">||</span>
       <span class="delimiter">(</span><a href="#575556" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575555" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107390" title="=&gt; Boolean">isConstant</a> <span title="(x: Boolean)Boolean">||</span>
       <a href="#575557" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575557" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#575555" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#575557" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
       <a href="#575557" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isRefinementClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#575555" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#575557" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Make symbol accessible. This means:
     *  If symbol refers to package object, insert `.package` as second to last selector.
     *  (exception for some symbols in scala package which are dealiased immediately)
     *  Call checkAccessible, which sets tree's attributes.
     *  Also note that checkAccessible looks up sym on pre without checking that pre is well-formed 
     *  (illegal type applications in pre will be skipped -- that's why typedSelect wraps the resulting tree in a TreeWithDeferredChecks)
     *  @return modified tree and new prefix type
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)" id="105854">makeAccessible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575585">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="575586">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="575587">pre</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="575588">site</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span>Tree, Type<span class="delimiter">)</span> =
      <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#105855" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#575586" title="Typers.this.global.Symbol">sym</a>, <a href="#575587" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575587" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106046" title="=&gt; Typers.this.global.Symbol">ScalaPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575586" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// short cut some aliases. It seems that without that pattern matching</span>
          <span class="comment">// fails to notice exhaustiveness and to generate good code when</span>
          <span class="comment">// List extractors are mixed with :: patterns. See Test5 in lists.scala.</span>
          <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" id="575618">dealias</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575619">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <span title="(_1: Typers.this.global.gen.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="575624">t</a> = <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105427" title="(sym: Typers.this.global.gen.global.Symbol)Typers.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#575619" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> ; <a href="#575624" title="Typers.this.global.gen.global.Tree">t</a>.<span title="(pos: Typers.this.global.gen.global.Position)t.type">setPos</span><span class="delimiter">(</span><a href="#575585" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> ; <a href="#575624" title="Typers.this.global.gen.global.Tree">t</a> <span class="delimiter">}</span>, <a href="#575619" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#575586" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#67713" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#114888" title="=&gt; Typers.this.global.nme.NameType">List</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#575618" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106242" title="=&gt; Typers.this.global.Symbol">ListModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#67713" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#114890" title="=&gt; Typers.this.global.nme.NameType">Seq</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#575618" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106248" title="=&gt; Typers.this.global.Symbol">SeqModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#67713" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#115298" title="=&gt; Typers.this.global.nme.NameType">Nil</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#575618" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106246" title="=&gt; Typers.this.global.Symbol">NilModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="575611">qual</a> = <a href="#105927" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a> <span class="delimiter">{</span> <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#575585" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97205" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#575585" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Ident">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115213" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575662">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575662" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115213" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575685">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575685" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115213" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="575612">tree1</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">atPos</a><span class="delimiter">(</span><a href="#575585" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#575585" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="575711">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575611" title="Typers.this.global.Tree">qual</a>, <a href="#575711" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Name" id="575732">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575611" title="Typers.this.global.Tree">qual</a>, <a href="#575732" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="575751">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.TypeName)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#575611" title="Typers.this.global.Tree">qual</a>, <a href="#575751" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#105959" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#575612" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#575586" title="Typers.this.global.Symbol">sym</a>, <a href="#575611" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#575611" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#575611" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#105959" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#575585" title="Typers.this.global.Tree">tree</a>, <a href="#575586" title="Typers.this.global.Symbol">sym</a>, <a href="#575587" title="Typers.this.global.Type">pre</a>, <a href="#575588" title="Typers.this.global.Tree">site</a><span class="delimiter">)</span>, <a href="#575587" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Is `sym` defined in package object of package `pkg`?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean" id="105855">isInPackageObject</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575590">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="575591">pkg</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
      <a href="#575591" title="Typers.this.global.Symbol">pkg</a>.<span title="=&gt; Boolean">isPackageClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#575590" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="575602">sym</a> =&gt;
          <span title="=&gt; Boolean">!</span><a href="#575602" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackage</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="#575602" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107350" title="=&gt; Boolean">isPackageObjectClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
            <a href="#575602" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575591" title="Typers.this.global.Symbol">pkg</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#575591" title="Typers.this.global.Symbol">pkg</a>.<a href="../symtab/Symbols.scala.html#107397" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              <span class="comment">// need to be careful here to not get a cyclic reference during bootstrap</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575609">pkgobj</a> = <a href="#575591" title="Typers.this.global.Symbol">pkg</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115213" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
              <a href="#575609" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../symtab/Symbols.scala.html#107397" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#575609" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#575602" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(elem: Any)Boolean">contains</span> <a href="#575602" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Post-process an identifier or selection node, performing the following:
     *  1. Check that non-function pattern expressions are stable
     *  2. Check that packages and static modules are not used as values
     *  3. Turn tree type into stable type if possible and required by context.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105856">stabilize</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575790">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="575791">pre</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Int" id="575792">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="575793">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isOverloaded</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105586" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#575792" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#106015" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a>, <a href="#575793" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575795">sym</a> = <a href="#575790" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#575790" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575792" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109030" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575795" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="#105833" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a>, <a href="#575795" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not a value&quot;)" class="string">&quot; is not a value&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575792" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(65)">|</span> QUALmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575795" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (2)</span>
        <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a>, <a href="#575795" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not a value&quot;)" class="string">&quot; is not a value&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575795" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107373" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575791" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106215" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#105853" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#575790" title="Typers.this.global.Tree">tree</a>, <a href="#575792" title="Int">mode</a>, <a href="#575793" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#575795" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575795" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#575790" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67468" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#575791" title="Typers.this.global.Type">pre</a>, <a href="#575795" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#575790" title="Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="105857">isNarrowable</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575560">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#575560" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">TypeRef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575841">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#105857" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575841" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575845">tpe1</a>, _<span class="delimiter">)</span> =&gt; <a href="#105857" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575845" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575848">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#105857" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575848" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575850">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#105857" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575850" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a>
    <span class="delimiter">}</span> 

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105858">stabilizeFun</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575851">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="575852">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="575853">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575855">sym</a> = <a href="#575851" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575856">pre</a> = <a href="#575851" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575861">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="#575861" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">case</span> <span title="Typers.this.global.NoPrefix.type">_</span> =&gt; <a href="../symtab/Types.scala.html#67397" title="object Typers.this.global.NoPrefix">NoPrefix</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575851" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67437" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575856" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575855" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#105853" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#575851" title="Typers.this.global.Tree">tree</a>, <a href="#575852" title="Int">mode</a>, <a href="#575853" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#575855" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#575851" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148698" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67468" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#575856" title="Typers.this.global.Type">pre</a>, <a href="#575855" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#575851" title="Typers.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The member with given name of given qualifier tree */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol" id="105859">member</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575875">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="575876">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Boolean" id="575879">callSiteWithinClass</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575881">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107406" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a> <a href="#575881" title="Typers.this.global.Symbol">clazz</a>
      <span class="keyword">val</span> <a title="Boolean" id="575880">includeLocals</a> = <a href="#575875" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)">ThisType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575883">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575879" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#575883" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>                =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(true)">SuperType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575886">clazz</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575879" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#575886" title="Typers.this.global.Type">clazz</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean">_</span>                                                            =&gt; <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#575880" title="Boolean">includeLocals</a><span class="delimiter">)</span> <a href="#575875" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105354" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a> <a href="#575876" title="Typers.this.global.Name">name</a>
      <span class="keyword">else</span> <a href="#575875" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105357" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonLocalMember</a> <a href="#575876" title="Typers.this.global.Name">name</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[T](op: Typers.this.Typer =&gt; T, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any" id="105860">silent</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="558916">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="558910">op</a>: Typer =&gt; T,
                  <a title="Boolean" id="558914">reportAmbiguousErrors</a>: <span title="Boolean">Boolean</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106659" title="=&gt; Boolean">reportAmbiguousErrors</a>,
                  <a title="Typers.this.global.Tree" id="558917">newtree</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>: <span title="Any">Any</span> <span class="comment">/* in fact, TypeError or T */</span> = <span class="delimiter">{</span> 
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="575888">rawTypeStart</a> = <a href="../util/Statistics.scala.html#67153" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67208" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="575889">findMemberStart</a> = <a href="../util/Statistics.scala.html#67153" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67210" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="575890">subtypeStart</a> = <a href="../util/Statistics.scala.html#67153" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67212" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="575891">failedSilentStart</a> = <a href="../util/Statistics.scala.html#67155" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67242" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106662" title="=&gt; Boolean">reportGeneralErrors</a> <span title="(x: Boolean)Boolean">||</span>  
            <a href="#558914" title="Boolean">reportAmbiguousErrors</a> <span title="(x: Boolean)Boolean">!=</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106659" title="=&gt; Boolean">reportAmbiguousErrors</a> <span title="(x: Boolean)Boolean">||</span> 
            <a href="#558917" title="Typers.this.global.Tree">newtree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
          <span class="keyword">val</span> <a title="Typers.this.Context" id="575900">context1</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106702" title="(reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.Context">makeSilent</a><span class="delimiter">(</span><a href="#558914" title="Boolean">reportAmbiguousErrors</a>, <a href="#558917" title="Typers.this.global.Tree">newtree</a><span class="delimiter">)</span> 
          <a href="#575900" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#575900" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106678" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106677" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#575900" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106645" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106644" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span class="keyword">val</span> <a title="Typers.this.Typer" id="575901">typer1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#575900" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="T" id="575902">result</a> = <a href="#558910" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#575901" title="Typers.this.Typer">typer1</a><span class="delimiter">)</span>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#575900" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106678" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#575900" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106677" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106645" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#575900" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106644" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <a href="#575902" title="T">result</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#558910" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#105608" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="575912">ex</a>: <a href="../symtab/Symbols.scala.html#67336" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#575912" title="Typers.this.global.CyclicReference">ex</a>
        <span class="keyword">case</span> <a title="Typers.this.global.TypeError" id="575913">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="../util/Statistics.scala.html#67154" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67208" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a>, <a href="#575888" title="scala.tools.nsc.util.Statistics.IntPair">rawTypeStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67154" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67210" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a>, <a href="#575889" title="scala.tools.nsc.util.Statistics.IntPair">findMemberStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67154" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67212" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a>, <a href="#575890" title="scala.tools.nsc.util.Statistics.IntPair">subtypeStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67156" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67242" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a>, <a href="#575891" title="scala.tools.nsc.util.Statistics.LongPair">failedSilentStart</a><span class="delimiter">)</span>
          <a href="#575913" title="Typers.this.global.TypeError">ex</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Utility method: Try op1 on tree. If that gives an error try op2 instead.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)(op1: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)(op2: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="105863">tryBoth</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575914">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="575915">op1</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="575916">op2</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#575915" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op1</a><span class="delimiter">(</span><a href="#575923" title="Typers.this.Typer">_</a>, <a href="#575914" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="575931">result1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; 
          <a href="#575931" title="Typers.this.global.Tree">result1</a>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="575932">ex1</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#575916" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op2</a><span class="delimiter">(</span><a href="#575938" title="Typers.this.Typer">_</a>, <a href="../ast/Trees.scala.html#67849" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#575914" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="575951">result2</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
<span class="comment">//              println(&quot;snd succeeded: &quot;+result2)</span>
              <a href="#575951" title="Typers.this.global.Tree">result2</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="575952">ex2</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="TypeDiagnostics.scala.html#105814" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#575914" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#575932" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#575914" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Perform the following adaptations of expression, pattern or type `tree' wrt to 
     *  given mode `mode' and given prototype `pt':
     *  (-1) For expressions with annotated types, let AnnotationCheckers decide what to do
     *  (0) Convert expressions with constant types to literals (unless in interactive/scaladoc mode)
     *  (1) Resolve overloading, unless mode contains FUNmode 
     *  (2) Apply parameterless functions
     *  (3) Apply polymorphic types to fresh instances of their type parameters and
     *      store these instances in context.undetparams, 
     *      unless followed by explicit type application.
     *  (4) Do the following to unapplied methods used as values:
     *  (4.1) If the method has only implicit parameters pass implicit arguments
     *  (4.2) otherwise, if `pt' is a function type and method is not a constructor,
     *        convert to function by eta-expansion,
     *  (4.3) otherwise, if the method is nullary with a result type compatible to `pt'
     *        and it is not a constructor, apply it to ()
     *  otherwise issue an error
     *  (5) Convert constructors in a pattern as follows:
     *  (5.1) If constructor refers to a case class factory, set tree's type to the unique
     *        instance of its primary constructor that is a subtype of the expected type.
     *  (5.2) If constructor refers to an extractor, convert to application of
     *        unapply or unapplySeq method.
     *
     *  (6) Convert all other types to TypeTree nodes.
     *  (7) When in TYPEmode but not FUNmode or HKmode, check that types are fully parameterized
     *      (7.1) In HKmode, higher-kinded types are allowed, but they must have the expected kind-arity
     *  (8) When in both EXPRmode and FUNmode, add apply method calls to values of object type.
     *  (9) If there are undetermined type variables and not POLYmode, infer expression instance
     *  Then, if tree's type is not a subtype of expected type, try the following adaptations:
     *  (10) If the expected type is Byte, Short or Char, and the expression
     *      is an integer fitting in the range of that type, convert it to that type. 
     *  (11) Widen numeric literals to their expected type, if necessary
     *  (12) When in mode EXPRmode, convert E to { E; () } if expected type is scala.Unit.
     *  (13) When in mode EXPRmode, apply AnnotationChecker conversion if expected type is annotated.
     *  (14) When in mode EXPRmode, apply a view
     *  If all this fails, error
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree" id="105864">adapt</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="501253">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="501254">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="501255">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="501258">original</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="575958">atp</a> @ AnnotatedType<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../symtab/AnnotationCheckers.scala.html#67764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; <span class="comment">// (-1)</span>
        <a href="../symtab/AnnotationCheckers.scala.html#67765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Literal" id="575968">ct</a> @ ConstantType<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="575970">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#105584" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a>, TYPEmode <span title="Int(20)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#575968" title="Typers.this.global.ConstantType">ct</a> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64994" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64993" title="=&gt; Boolean">forInteractive</a> =&gt; <span class="comment">// (0)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575976">sym</a> = <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575976" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575976" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107363" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="java.lang.String" id="575981">msg</a> = <a href="#575976" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107516" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#575976" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is deprecated: &quot;)" class="string">&quot; is deprecated: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#575976" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107365" title="=&gt; Option[String]">deprecationMessage</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96432" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#575981" title="java.lang.String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162488" title="(tree: Typers.this.global.Tree, value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#575970" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575995">pre</a>, <a title="List[Typers.this.global.Symbol]" id="575996">alts</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105586" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span> =&gt; <span class="comment">// (1)</span>
        <a href="Infer.scala.html#106015" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575998">restpe</a><span class="delimiter">)</span> =&gt; <span class="comment">// (2)</span>
        <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#575998" title="Typers.this.global.Type">restpe</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106224" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, <a href="#576004" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="576026">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>   =&gt; <span class="comment">// (2)</span>
        <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#576026" title="Typers.this.global.Type">arg</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576036">tr</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="576040">sym</a>, _<span class="delimiter">)</span> 
      <span class="keyword">if</span> <a href="#576040" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576036" title="Typers.this.global.TypeRef">tr</a>.<a href="../symtab/Types.scala.html#133415" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67447" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
        <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#576036" title="Typers.this.global.TypeRef">tr</a>.<a href="../symtab/Types.scala.html#133415" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105340" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576058">et</a> @ ExistentialType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
        <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#576058" title="Typers.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#149096" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="576084">tparams</a>, <a title="Typers.this.global.Type" id="576085">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#105584" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a>, TAPPmode | PATTERNmode <span title="Int(16514)">|</span> HKmode<span class="delimiter">)</span> =&gt; <span class="comment">// (3)</span>
        <span class="comment">// assert((mode &amp; HKmode) == 0) //@M a PolyType in HKmode represents an anonymous type function,</span>
        <span class="comment">// we're in HKmode since a higher-kinded type is expected --&gt; hence, don't implicitly apply it to type params!</span>
        <span class="comment">// ticket #2197 triggered turning the assert into a guard</span>
        <span class="comment">// I guess this assert wasn't violated before because type aliases weren't expanded as eagerly</span>
        <span class="comment">//  (the only way to get a PolyType for an anonymous type function is by normalisation, which applies eta-expansion)</span>
          <span class="comment">// -- are we sure we want to expand aliases this early?</span>
          <span class="comment">// -- what caused this change in behaviour??</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="576094">tparams1</a> = <a href="../symtab/Symbols.scala.html#67330" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#576084" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576095">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109031" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#501253" title="Typers.this.global.Tree">tree</a> 
                    <span class="keyword">else</span> <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#576094" title="List[Typers.this.global.Symbol]">tparams1</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeTree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="576168">tparam</a> =&gt; 
                      <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#576168" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107422" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeApply">setPos</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span class="comment">//@M/tcpolyinfer: changed tparam.tpe to tparam.tpeHK</span>
        <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">++=</span> <a href="#576094" title="List[Typers.this.global.Symbol]">tparams1</a>
        <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576095" title="Typers.this.global.Tree">tree1</a> <span title="(tp: Typers.this.global.Type)tree1.type">setType</span> <a href="#576085" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105364" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#576084" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#576094" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576273">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Typers.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#576273" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt; <span class="comment">// (4.1)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// (9) -- should revisit dropped condition `(mode &amp; POLYmode) == 0`</span>
                                             <span class="comment">// dropped so that type args of implicit method are inferred even if polymorphic expressions are allowed</span>
                                             <span class="comment">// needed for implicits in 2.8 collection library -- maybe once #3346 is fixed, we can reinstate the condition?</span>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> =
            <a href="Infer.scala.html#105992" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106687" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#501255" title="Typers.this.global.Type">pt</a>,
                    <span class="comment">// approximate types that depend on arguments since dependency on implicit argument is like dependency on type parameter</span>
                    <span title="Typers.this.global.Type" class="keyword">if</span><span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36832" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#576273" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148718" title="=&gt; Typers.this.global.MethodType">approximate</a> <span class="keyword">else</span> <a href="#576273" title="Typers.this.global.MethodType">mt</a>,
                    <span class="comment">// if we are looking for a manifest, instantiate type to Nothing anyway,</span>
                    <span class="comment">// as we would get ambiguity errors otherwise. Example</span>
                    <span class="comment">// Looking for a manifest of Nil: This has many potential types,</span>
                    <span class="comment">// so we need to instantiate to minimal type List[Nothing].</span>
                    keepNothings = <span title="Boolean(false)" class="keyword">false</span>, <span class="comment">// retract Nothing's that indicate failure, ambiguities in manifests are dealt with in manifestOfType</span>
                    useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="comment">// #3808</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.Typer" id="576291">typer1</a> = <a href="#105847" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152974" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#501258" title="Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#501255" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <a href="#576291" title="Typers.this.Typer">typer1</a>.<a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="576315">tpr</a> =&gt; <a href="#576315" title="Typers.this.Typer">tpr</a>.<a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576315" title="Typers.this.Typer">tpr</a>.<a href="#105822" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576323">result</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; <a href="#576323" title="Typers.this.global.Tree">result</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576324">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt; 
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fallback on implicits: &quot;)" class="string">&quot;fallback on implicits: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../ast/Trees.scala.html#67849" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576325">tree1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67849" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#576325" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../symtab/AnnotationCheckers.scala.html#67763" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#576325" title="Typers.this.global.Tree">tree1</a>, <a href="#576325" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576325" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#576325" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576325" title="Typers.this.global.Tree">tree1</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <a href="#576291" title="Typers.this.Typer">typer1</a>.<a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576291" title="Typers.this.Typer">typer1</a>.<a href="#105822" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576344">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Typers.this.global.MethodType">MethodType</a>
      <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="Modes.scala.html#105587" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576363">meth</a> = <a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// a partial named application is a block (see comment in EtaExpansion)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="576369">tree1</a><span class="delimiter">)</span> =&gt; <a href="#576369" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#576363" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106352" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (4.2)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;eta-expanding &quot;)" class="string">&quot;eta-expanding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#105840" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576371">tree0</a> = <a href="EtaExpansion.scala.html#105690" title="(unit: Typers.this.global.CompilationUnit, tree: Typers.this.global.Tree)Typers.this.global.Tree">etaExpand</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="comment">// println(&quot;eta &quot;+tree+&quot; ---&gt; &quot;+tree0+&quot;:&quot;+tree0.tpe+&quot; undet: &quot;+context.undetparams+ &quot; mode: &quot;+Integer.toHexString(mode))</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576363" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// #2624: need to infer type arguments for eta expansion of a polymorphic method</span>
            <span class="comment">// context.undetparams contains clones of meth.typeParams (fresh ones were generated in etaExpand)</span>
            <span class="comment">// need to run typer on tree0, since etaExpansion sets the tpe's of its subtrees to null</span>
            <span class="comment">// can't type with the expected type, as we can't recreate the setup in (3) without calling typed</span>
            <span class="comment">// (note that (3) does not call typed to do the polymorphic type instantiation --</span>
            <span class="comment">//  it is called after the tree has been typed with a polymorphic expected result type)</span>
            <a href="#105865" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576371" title="Typers.this.global.Tree">tree0</a>, <a href="#501254" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576371" title="Typers.this.global.Tree">tree0</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#576363" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576344" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148701" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (4.3)</span>
          <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106668" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;missing arguments for &quot;)" class="string">&quot;missing arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576363" title="Typers.this.global.Symbol">meth</a><span title="(x$1: Any)java.lang.String">+</span><a href="#576363" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span>
                    <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#576363" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
                     <span class="keyword">else</span> <span title="java.lang.String(&quot;;\012follow this method with `_\' if you want to treat it as a partially applied function&quot;)" class="string">&quot;;\nfollow this method with `_' if you want to treat it as a partially applied function&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="576412">applyPossible</a> = <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Symbol" id="576413">applyMeth</a> = <a href="#105859" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#105869" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(128)">TAPPmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
            <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576413" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../symtab/Symbols.scala.html#107451" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#576439" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">else</span> 
            <a href="#576413" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../symtab/Symbols.scala.html#107451" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="#576447" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105332" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109031" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105586" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#501253" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105585" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96436" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (7) </span>
            <span class="comment">// @M When not typing a higher-kinded type ((mode &amp; HKmode) == 0) </span>
            <span class="comment">// or raw type (tree.symbol.isJavaDefined &amp;&amp; context.unit.isJava), types must be of kind *, </span>
            <span class="comment">// and thus parameterized types must be applied to their type arguments</span>
            <span class="comment">// @M TODO: why do kind-* tree's have symbols, while higher-kinded ones don't?</span>
            <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; takes type parameters&quot;)" class="string">&quot; takes type parameters&quot;</span><span class="delimiter">)</span>
            <a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span> <span class="comment">// (7.1) @M: check kind-arity </span>
                    <span class="comment">// @M: removed check for tree.hasSymbol and replace tree.symbol by tree.tpe.symbol (TypeTree's must also be checked here, and they don't directly have a symbol)</span>
                     <span class="delimiter">(</span><a href="Modes.scala.html#105585" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                    <span class="comment">// @M: don't check tree.tpe.symbol.typeParams. check tree.tpe.typeParams!!! </span>
                    <span class="comment">// (e.g., m[Int] --&gt; tree.tpe.symbol.typeParams.length == 1, tree.tpe.typeParams.length == 0!)</span>
                    <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: AnyRef)Boolean">==</span><a href="../symtab/Definitions.scala.html#106075" title="=&gt; Typers.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">||</span> 
                       <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: AnyRef)Boolean">==</span><a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">||</span> 
                       <a href="#501255" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a> <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// Check that the actual kind arity (tree.symbol.typeParams.length) conforms to the expected</span>
              <span class="comment">// kind-arity (pt.typeParams.length). Full checks are done in checkKindBounds in Infer.</span>
              <span class="comment">// Note that we treat Any and Nothing as kind-polymorphic. </span>
              <span class="comment">// We can't perform this check when typing type arguments to an overloaded method before the overload is resolved </span>
              <span class="comment">// (or in the case of an error type) -- this is indicated by pt == WildcardType (see case TypeApply in typed1).</span>
              <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; takes &quot;)" class="string">&quot; takes &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72449" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="java.lang.String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span>
                              <span title="java.lang.String(&quot;, expected: &quot;)" class="string">&quot;, expected: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72450" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span> <span class="comment">// (6)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeTree</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#501253" title="Typers.this.global.Tree">tree</a>
            <span class="keyword">case</span> <span title="Typers.this.global.TypeTree">_</span> =&gt; <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (5)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576509">extractor</a> = <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107451" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="576511">sym</a> =&gt; <a href="#105851" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="Unapplies.scala.html#105716" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#576511" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576509" title="Typers.this.global.Symbol">extractor</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#501253" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#576509" title="Typers.this.global.Symbol">extractor</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576519">unapply</a> = <a href="Unapplies.scala.html#105716" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#576509" title="Typers.this.global.Symbol">extractor</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576520">clazz</a> = <a href="Unapplies.scala.html#105717" title="(extractor: Typers.this.global.Symbol)Typers.this.global.Symbol">unapplyParameterType</a><span class="delimiter">(</span><a href="#576519" title="Typers.this.global.Symbol">unapply</a><span class="delimiter">)</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576519" title="Typers.this.global.Symbol">unapply</a>.<span title="=&gt; Boolean">isCase</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576520" title="Typers.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isCase</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#576520" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107472" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#576542" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isCase</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// convert synthetic unapply of case class to case class constructor</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="576543">prefix</a> = <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105323" title="=&gt; Typers.this.global.Type">prefix</a>
              <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="576544">tree1</a> = <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#576520" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107456" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105359" title="(pre: Typers.this.global.Type, clazz: Typers.this.global.Symbol)Typers.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#576543" title="Typers.this.global.Type">prefix</a>, <a href="#576520" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  .<a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              
              <a href="Infer.scala.html#105996" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], pt0: Typers.this.global.Type)Unit">inferConstructorInstance</a><span class="delimiter">(</span><a href="#576544" title="Typers.this.global.TypeTree">tree1</a>, <a href="#576520" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="#576544" title="Typers.this.global.TypeTree">tree1</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#501253" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;)" class="string">&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105582" title="(mode: Int, required: Int)Boolean">inAllModes</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a>, EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                   <span title="=&gt; Boolean">!</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67437" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                   <span title="=&gt; Boolean">!</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67450" title="Typers.this.global.OverloadedType">OverloadedType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                   <a href="#576412" title="=&gt; Boolean">applyPossible</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105585" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@M</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576559">qual</a> = <a href="#105869" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576562">id</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="576566">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#576562" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span> <a href="#576562" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a>
                        <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#576562" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> 
                          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106718" title="(clazz: Typers.this.global.Symbol)Typers.this.Context">enclosingSubClassContext</a><span class="delimiter">(</span><a href="#576562" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="Contexts.scala.html#106647" title="=&gt; Typers.this.global.Type">prefix</a>
                        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67397" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="#105856" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#576562" title="Typers.this.global.Ident">id</a>, <a href="#576566" title="Typers.this.global.Type">pre</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576576">sel</a> @ Select<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576581">qualqual</a>, _<span class="delimiter">)</span> =&gt; 
              <a href="#105856" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#576576" title="Typers.this.global.Select">sel</a>, <a href="#576581" title="Typers.this.global.Tree">qualqual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576586">other</a> =&gt; 
              <a href="#576586" title="Typers.this.global.Tree">other</a>
          <span class="delimiter">}</span>
          <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#576559" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105587" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (9)</span>
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105585" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@M</span>
          <a href="#105865" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#501253" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105588" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#501254" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#106003" title="(pat: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferModulePattern</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67558" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="Infer.scala.html#549366" title="(tp: Typers.this.global.Type)Typers.this.global.Type">approximateAbstracts</a><span class="delimiter">(</span><a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.constfold.global.Tree" id="576619">tree1</a> = <a href="ConstantFolder.scala.html#106805" title="(tree: Typers.this.global.constfold.global.Tree, pt: Typers.this.global.constfold.global.Type)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="comment">// (10) (11)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576619" title="Typers.this.global.constfold.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.constfold.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.constfold.global.Type)Boolean">&lt;:&lt;</a> <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576619" title="Typers.this.global.constfold.global.Tree">tree1</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <a href="#501258" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501254" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="576652">sym</a>, _<span class="delimiter">)</span> =&gt;
                  <span class="comment">// note: was if (pt.typeSymbol == UnitClass) but this leads to a potentially</span>
                  <span class="comment">// infinite expansion if pt is constant type ()</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#576652" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106075" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (12) </span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36915" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnValueDiscard</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;discarded non-Unit value&quot;)" class="string">&quot;discarded non-Unit value&quot;</span><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105486" title="(value: Any)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106571" title="(sym: Typers.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#576652" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Types.scala.html#67633" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36917" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNumericWiden</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;implicit numeric widening&quot;)" class="string">&quot;implicit numeric widening&quot;</span><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;to&quot;)" class="string">&quot;to&quot;</span><a href="Analyzer.scala.html#105486" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">+</a><a href="#576652" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Nothing">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../symtab/AnnotationCheckers.scala.html#67764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; <span class="comment">// (13)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../symtab/AnnotationCheckers.scala.html#67765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Nothing" class="keyword">return</span> <a href="#105865" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106668" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="comment">// (14); the condition prevents chains of views </span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferring view from &quot;)" class="string">&quot;inferring view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576766">coercion</a> = <a href="#105823" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501255" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="comment">// convert forward views of delegate types into closures wrapped around</span>
                <span class="comment">// the delegate's apply method (the &quot;Invoke&quot; method, which was translated into apply)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64992" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576766" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106370" title="(delegateType: Typers.this.global.Type, functionType: Typers.this.global.Type)Boolean">isCorrespondingDelegate</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576776">meth</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105354" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                    <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;replacing forward delegate view with: &quot;)" class="string">&quot;replacing forward delegate view with: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#576776" title="Typers.this.global.Symbol">meth</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#576776" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#576776" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#576766" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferred view from &quot;)" class="string">&quot;inferred view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501255" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576766" title="Typers.this.global.Tree">coercion</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576766" title="Typers.this.global.Tree">coercion</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106703" title="(reportAmbiguousErrors: Boolean)Typers.this.Context">makeImplicit</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106659" title="=&gt; Boolean">reportAmbiguousErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>
                    <span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../ast/Trees.scala.html#67821" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#576766" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyImplicitView">setPos</span> <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;error tree = &quot;)" class="string">&quot;error tree = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36875" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#105958" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#105957" title="(tree: Typers.this.global.Tree, found: Typers.this.global.Type, req: Typers.this.global.Type)Typers.this.global.Tree">typeErrorTree</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501255" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576832">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt; 
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105398" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// Ignore type errors raised in later phases that are due to mismatching types with existential skolems</span>
                  <span class="comment">// We have lift crashing in 2.9 with an adapt failure in the pattern matcher.</span>
                  <span class="comment">// Here's my hypothsis why this happens. The pattern matcher defines a variable of type</span>
                  <span class="comment">//</span>
                  <span class="comment">//   val x: T = expr</span>
                  <span class="comment">// </span>
                  <span class="comment">// where T is the type of expr, but T contains existential skolems ts.</span>
                  <span class="comment">// In that case, this value definition does not typecheck. </span>
                  <span class="comment">// The value definition</span>
                  <span class="comment">// </span>
                  <span class="comment">//   val x: T forSome { ts } = expr</span>
                  <span class="comment">// </span>
                  <span class="comment">// would typecheck. Or one can simply leave out the type of the `val':</span>
                  <span class="comment">//</span>
                  <span class="comment">//   val x = expr</span>
                  <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;recovering from existential Skolem type error in tree \012&quot;)" class="string">&quot;recovering from existential Skolem type error in tree \n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012with type &quot;)" class="string">&quot;\nwith type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501253" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 expected type = &quot;)" class="string">&quot;\n expected type = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501255" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 context = &quot;)" class="string">&quot;\n context = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501253" title="Typers.this.global.Tree">tree</a>, <a href="#501254" title="Int">mode</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105398" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>, <a href="#501255" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105398" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="576859">_</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> 
                  <span title="Nothing" class="keyword">throw</span> <a href="#576832" title="Typers.this.global.TypeError">ex</a> 
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105865">instantiate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576378">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="576379">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="576380">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="Infer.scala.html#105992" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#576378" title="Typers.this.global.Tree">tree</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106687" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#576380" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576378" title="Typers.this.global.Tree">tree</a>, <a href="#576379" title="Int">mode</a>, <a href="#576380" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree" id="105866">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576423">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="576424">searchTemplate</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Type" id="576887">qtpe</a> = <a href="#576423" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">qual</a>.<a href="../ast/Trees.scala.html#109030" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#576423" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#576423" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">||</span> <a href="#576423" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#576887" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#576887" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106085" title="=&gt; Typers.this.global.Symbol">NullClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576887" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576887" title="Typers.this.global.Type">qtpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span title="=&gt; Boolean">!</span><a href="#576423" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../ast/Trees.scala.html#67821" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// don't chain views</span>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106668" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// don't try to adapt a top-level type that's the subject of an implicit search</span>
                                      <span class="comment">// this happens because, if isView, typedImplicit tries to apply the &quot;current&quot; implicit value to </span>
                                      <span class="comment">// a value that needs to be coerced, so we check whether the implicit value has an `apply` method</span>
                                     <span class="comment">// (if we allow this, we get divergence, e.g., starting at `conforms` during ant quick.bin) </span>
                                     <span class="comment">// note: implicit arguments are still inferred (this kind of &quot;chaining&quot; is allowed)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#576887" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67447" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#576887" title="Typers.this.global.Type">qtpe</a> = <a href="#576887" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105340" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#576423" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="comment">// open the existential</span>
          <a href="#576423" title="Typers.this.global.Tree">qual</a> <span title="(tp: Typers.this.global.Type)qual.type">setType</span> <a href="#576887" title="Typers.this.global.Type">qtpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576911">coercion</a> = <a href="#105823" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#576423" title="Typers.this.global.Tree">qual</a>, <a href="#576423" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#576424" title="Typers.this.global.Type">searchTemplate</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576911" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <a href="#105927" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyImplicitView)Typers.this.global.ApplyImplicitView">atPos</a><span class="delimiter">(</span><a href="#576423" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../ast/Trees.scala.html#67821" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#576911" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#576423" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#576423" title="Typers.this.global.Tree">qual</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#576423" title="Typers.this.global.Tree">qual</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Try to apply an implicit conversion to `qual' to that it contains
     *  a method `name` which can be applied to arguments `args' with expected type `pt'.
     *  If `pt' is defined, there is a fallback to try again with pt = ?.
     *  This helps avoiding propagating result information too far and solves
     *  #1756.
     *  If no conversion is found, return `qual' unchanged.
     * 
     */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree" id="105867">adaptToArguments</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576946">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="576947">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="576948">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="576949">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(restpe: Typers.this.global.Type)Typers.this.global.Tree" id="576951">doAdapt</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="576952">restpe</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span class="comment">//util.trace(&quot;adaptToArgs &quot;+qual+&quot;, name = &quot;+name+&quot;, argtpes = &quot;+(args map (_.tpe))+&quot;, pt = &quot;+pt+&quot; = &quot;)</span>
        <a href="#105866" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#576946" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#538821" title="(name: Typers.this.global.Name, argtpes: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">HasMethodMatching</a><span class="delimiter">(</span><a href="#576947" title="Typers.this.global.Name">name</a>, <a href="#576948" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#576972" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#576952" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576949" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="577009">_</a> =&gt; <a href="#576951" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#576949" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="577015">result</a>: <span title="Typers.this.global.Tree">Tree</span> <span class="keyword">if</span> <a href="#577015" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#576946" title="Typers.this.global.Tree">qual</a> =&gt; 
            <a href="#577015" title="Typers.this.global.Tree">result</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt; 
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fallback on implicits in adaptToArguments: &quot;)" class="string">&quot;fallback on implicits in adaptToArguments: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576946" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576947" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#576951" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> 
        <a href="#576951" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#576949" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Try o apply an implicit conversion to `qual' to that it contains
     *  a method `name`. If that's ambiguous try taking arguments into account using `adaptToArguments`.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree" id="105868">adaptToMemberWithArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577023">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="577024">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="577025">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a>, <a title="Int" id="577026">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#105866" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#577024" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#538763" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#577025" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="577028">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
        <span class="comment">// this happens if implicits are ambiguous; try again with more context info.</span>
        <span class="comment">// println(&quot;last ditch effort: &quot;+qual+&quot; . &quot;+name) </span>
        <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577031">tree1</a>, <a title="List[Typers.this.global.Tree]" id="577032">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#577031" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#577023" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#577032" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt; <span class="comment">// try handling the arguments</span>
            <span class="comment">// println(&quot;typing args: &quot;+args)</span>
            <a href="#105860" title="(op: Typers.this.Typer =&gt; List[Typers.this.global.Tree], reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#577038" title="Typers.this.Typer">_</a>.<a href="#105901" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#577032" title="List[Typers.this.global.Tree]">args</a>, <a href="#577026" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="577307">args</a>: <span title="List[_]">List</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
                <a href="#105867" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#577024" title="Typers.this.global.Tree">qual</a>, <a href="#577025" title="Typers.this.global.Name">name</a>, <a href="#577307" title="List[_]">args</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[Typers.this.global.Tree]" class="delimiter">[</span><span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <span title="Nothing" class="keyword">throw</span> <a href="#577028" title="Typers.this.global.TypeError">ex</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
            <span class="comment">// println(&quot;not in an apply: &quot;+context.tree+&quot;/&quot;+tree)</span>
            <span title="Nothing" class="keyword">throw</span> <a href="#577028" title="Typers.this.global.TypeError">ex</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Try to apply an implicit conversion to `qual' to that it contains a
     *  member `name` of arbitrary type.
     *  If no conversion is found, return `qual' unchanged.
     */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="105869">adaptToName</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576414">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="576415">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#105859" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#576414" title="Typers.this.global.Tree">qual</a>, <a href="#576415" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#576414" title="Typers.this.global.Tree">qual</a>
      <span class="keyword">else</span> <a href="#105866" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#576414" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#538763" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#576415" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree" id="105870">typePrimaryConstrBody</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577309">clazz</a> : <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Tree" id="577310">cbody</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Symbol]" id="577311">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Symbol]" id="577312">enclTparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[List[Typers.this.global.ValDef]]" id="577313">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">// XXX: see about using the class's symbol....</span>
      <a href="#577312" title="List[Typers.this.global.Symbol]">enclTparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577334">sym</a> =&gt; <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#577334" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527547" title="(owner: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]])List[List[Typers.this.global.Symbol]]">enterValueParams</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#577313" title="List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
      <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#577310" title="Typers.this.global.Tree">cbody</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Unit" id="105871">validateNoCaseAncestor</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577352">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577368">ancestor</a> &lt;- <a href="#577352" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107472" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">find</span> <span class="delimiter">(</span><a href="#577363" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isCase</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96432" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#577352" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <span class="delimiter">(</span> 
            <span class="string">&quot;case class `%s' has case ancestor `%s'.  Case-to-case inheritance has potentially &quot;</span>+
            <span class="string">&quot;dangerous bugs which are unlikely to be fixed.  You are strongly encouraged to &quot;</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span>
            <span class="string">&quot;instead use extractors to pattern match on non-leaf nodes.&quot;</span>
          <span class="delimiter">)</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#577352" title="Typers.this.global.Symbol">clazz</a>, <a href="#577368" title="Typers.this.global.Symbol">ancestor</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]" id="105872">parentTypes</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="553108">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = 
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#553108" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="577380">clazz</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>

        <span class="comment">// Normalize supertype and mixins so that supertype is always a class, not a trait.</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="577381">supertpt</a> = <a href="#105936" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#553108" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="577382">firstParent</a> = <a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="keyword">var</span> <a title="List[Typers.this.global.Tree]" id="577383">mixins</a> = <a href="#553108" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; List[Typers.this.global.Tree]">tail</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#105931" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a>
        <span class="comment">// If first parent is a trait, make it first mixin and add its superclass as first parent </span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; Typers.this.global.Symbol">initialize</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#577387" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="577460">supertpt1</a> = <a href="#105931" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#577381" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577460" title="Typers.this.global.Tree">supertpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#577383" title="List[Typers.this.global.Tree]">mixins</a> = <a href="#577460" title="Typers.this.global.Tree">supertpt1</a> <a href="#577465" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#577383" title="List[Typers.this.global.Tree]">mixins</a>
            <a href="#577381" title="Typers.this.global.Tree">supertpt</a> = <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#577460" title="Typers.this.global.Tree">supertpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Determine </span>
        <span class="comment">//  - supertparams: Missing type parameters from supertype</span>
        <span class="comment">//  - supertpe: Given supertype, polymorphic in supertparams</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="577384">supertparams</a> = <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="keyword">else</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="577385">supertpe</a> = <a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#577385" title="Typers.this.global.Type">supertpe</a> = <a href="../symtab/Types.scala.html#148857" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#577385" title="Typers.this.global.Type">supertpe</a>, <a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#577505" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// A method to replace a super reference by a New in a supercall</span>
        <span class="keyword">def</span> <a title="(scall: Typers.this.global.Tree)Typers.this.global.Tree" id="577386">transformSuperCall</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577533">scall</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">(</span><a href="#577533" title="Typers.this.global.Tree">scall</a>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577536">fn</a>, <a title="List[Typers.this.global.Tree]" id="577537">args</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162482" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#577533" title="Typers.this.global.Tree">scall</a>, <a href="#577386" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#577536" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>, <a href="#577537" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#577560" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$15.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162486" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
              <a href="#577533" title="Typers.this.global.Tree">scall</a>, 
              <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.New)Typers.this.global.New">atPos</a><span class="delimiter">(</span><a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#577385" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span> <a href="#577385" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span>,
              <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152976" title="(stats: List[Typers.this.global.treeInfo.trees.Tree])Typers.this.global.treeInfo.trees.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#553108" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[Unit]" id="577627">constr</a> @ DefDef<span class="delimiter">(</span>_, _, _, <a title="List[List[Typers.this.global.ValDef]]" id="577650">vparamss</a>, _, <a title="Typers.this.global.Block" id="577651">cbody</a> @ Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="577656">cstats</a>, <a title="Typers.this.global.Tree" id="577657">cunit</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="comment">// Convert constructor body to block in environment and typecheck it</span>
            <span class="keyword">val</span> <a href="#577659" title="(List[Typers.this.global.Tree], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#577658" title="List[Typers.this.global.Tree]" id="577659">preSuperStats</a>, <a href="#577658" title="List[Typers.this.global.Tree]" id="577660">rest</a><span class="delimiter">)</span> = <a href="#577656" title="List[Typers.this.global.Tree]">cstats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)(List[Typers.this.global.Tree], List[Typers.this.global.Tree])">span</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152973" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSuperConstrCall</a><span class="delimiter">(</span><a href="#577674" title="Typers.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="#577662" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#577661" title="Typers.this.global.Tree" id="577662">scall</a>, <a href="#577661" title="List[Typers.this.global.Tree]" id="577663">upToSuperStats</a><span class="delimiter">)</span> = 
              <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">if</span> <span class="delimiter">(</span><a href="#577660" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(_1: Typers.this.global.EmptyTree.type, _2: List[Typers.this.global.Tree])(Typers.this.global.EmptyTree.type, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#577659" title="List[Typers.this.global.Tree]">preSuperStats</a><span class="delimiter">)</span> 
              <span class="keyword">else</span> <span title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#577660" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Typers.this.global.Tree">head</span>, <a href="#577659" title="List[Typers.this.global.Tree]">preSuperStats</a> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="#577660" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="577664">cstats1</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#577663" title="List[Typers.this.global.Tree]">upToSuperStats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#577768" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$19.type">duplicate</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Block" id="577665">cbody1</a> = <a href="#577662" title="Typers.this.global.Tree">scall</a> <span title="Typers.this.global.Block" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Block">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162464" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#577651" title="Typers.this.global.Block">cbody</a>, <a href="#577664" title="List[Typers.this.global.Tree]">cstats1</a>.<span title="=&gt; List[Typers.this.global.Tree]">init</span>, 
                           <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#577657" title="Typers.this.global.Tree">cunit</a>.<span title="=&gt; cunit.type">duplicate</span> 
                           <span class="keyword">else</span> <a href="#577386" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#577662" title="Typers.this.global.Tree">scall</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Block">_</span> =&gt;
                <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162464" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#577651" title="Typers.this.global.Block">cbody</a>, <a href="#577664" title="List[Typers.this.global.Tree]">cstats1</a>, <a href="#577657" title="Typers.this.global.Tree">cunit</a>.<span title="=&gt; cunit.type">duplicate</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.Context" id="577666">outercontext</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106620" title="=&gt; Typers.this.Context">outer</a> 
            <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#577380" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="577667">cscope</a> = <a href="#577666" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#577627" title="Typers.this.global.DefDef">constr</a>, <a href="#577666" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="577668">cbody2</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#577667" title="Typers.this.Context">cscope</a><span class="delimiter">)</span> <span class="comment">// called both during completion AND typing.</span>
                .<a href="#105870" title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree">typePrimaryConstrBody</a><span class="delimiter">(</span><a href="#577380" title="Typers.this.global.Symbol">clazz</a>,  
                  <a href="#577665" title="Typers.this.global.Block">cbody1</a>, <a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="#577380" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107437" title="=&gt; List[Typers.this.global.Symbol]">unsafeTypeParams</a>, <a href="#577650" title="List[List[Typers.this.global.ValDef]]">vparamss</a> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Typers.this.global.ValDef]],List[Typers.this.global.ValDef],List[List[Typers.this.global.ValDef]]])List[List[Typers.this.global.ValDef]]">map</span> <span class="delimiter">(</span><a href="#577842" title="List[Typers.this.global.ValDef]">_</a>.<span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.ValDef,List[Typers.this.global.ValDef]]" class="delimiter">(</span><a href="#577859" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; x$21.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#577662" title="Typers.this.global.Tree">scall</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.treeInfo.trees.Tree" id="577930">sarg</a> = <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153003" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">firstArgument</a><span class="delimiter">(</span><a href="#577662" title="Typers.this.global.Tree">scall</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#577930" title="Typers.this.global.treeInfo.trees.Tree">sarg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#577385" title="Typers.this.global.Type">supertpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#577382" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span> 
                  <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577930" title="Typers.this.global.treeInfo.trees.Tree">sarg</a>.<span title="=&gt; Typers.this.global.treeInfo.trees.Position">pos</span>, <a href="#577382" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">firstParent</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is a trait; does not take constructor arguments&quot;)" class="string">&quot; is a trait; does not take constructor arguments&quot;</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#577381" title="Typers.this.global.Tree">supertpt</a> = <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#577668" title="Typers.this.global.Tree">cbody2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.treeInfo.trees.ValDef])(List[Typers.this.global.Tree], List[Typers.this.global.treeInfo.trees.ValDef])" class="delimiter">(</span><a href="#577664" title="List[Typers.this.global.Tree]">cstats1</a>, <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152978" title="(stats: List[Typers.this.global.treeInfo.trees.Tree])List[Typers.this.global.treeInfo.trees.ValDef]">preSuperFields</a><span class="delimiter">(</span><a href="#553108" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.treeInfo.trees.ValDef] =&gt; scala.collection.IterableLike[Typers.this.global.treeInfo.trees.ValDef,List[Typers.this.global.treeInfo.trees.ValDef]])(List[Typers.this.global.Tree], List[Typers.this.global.treeInfo.trees.ValDef])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.treeInfo.trees.ValDef],Typers.this.global.treeInfo.trees.ValDef]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.treeInfo.trees.ValDef) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">{</span>
              <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578014">ldef</a>, <a title="Typers.this.global.treeInfo.trees.ValDef" id="578015">gdef</a><span class="delimiter">)</span> =&gt; <a href="#578015" title="Typers.this.global.treeInfo.trees.ValDef">gdef</a>.<span title="=&gt; Typers.this.global.treeInfo.trees.Tree">tpt</span>.<span title="(t: Typers.this.global.treeInfo.trees.Type)Unit">tpe</span> = <a href="#578014" title="Typers.this.global.Tree">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577384" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577381" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
<span class="comment">/* experimental: early types as type arguments
        val hasEarlyTypes = templ.body exists (treeInfo.isEarlyTypeDef)
        val earlyMap = new EarlyMap(clazz)
        List.mapConserve(supertpt :: mixins){ tpt =&gt; 
          val tpt1 = checkNoEscaping.privates(clazz, tpt)
          if (hasEarlyTypes) tpt1 else tpt1 setType earlyMap(tpt1.tpe)
        }
*/</span>

        <span class="comment">//Console.println(&quot;parents(&quot;+clazz&quot;) = &quot;+supertpt :: mixins);//DEBUG</span>
        <a href="#577381" title="Typers.this.global.Tree">supertpt</a> <a href="#578059" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#577383" title="List[Typers.this.global.Tree]">mixins</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578069">tpt</a> =&gt; <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575174" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#577380" title="Typers.this.global.Symbol">clazz</a>, <a href="#578069" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="List[Typers.this.global.TypeTree]" id="578076">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#553108" title="Typers.this.global.Template">templ</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <a href="TypeDiagnostics.scala.html#105814" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#553108" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#578076" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** &lt;p&gt;Check that&lt;/p&gt;
     *  &lt;ul&gt;
     *    &lt;li&gt;all parents are class types,&lt;/li&gt;
     *    &lt;li&gt;first parent class is not a mixin; following classes are mixins,&lt;/li&gt;
     *    &lt;li&gt;final classes are not inherited,&lt;/li&gt;
     *    &lt;li&gt;
     *      sealed classes are only inherited by classes which are
     *      nested within definition of base class, or that occur within same
     *      statement sequence,
     *    &lt;/li&gt;
     *    &lt;li&gt;self-type of current class is a subtype of self-type of each parent class.&lt;/li&gt;
     *    &lt;li&gt;no two parents define same symbol.&lt;/li&gt;
     *  &lt;/ul&gt;
     */</span>
    <span class="keyword">def</span> <a title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit" id="105873">validateParentClasses</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="578087">parents</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="578088">selfType</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit" id="578090">validateParentClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578091">parent</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="578092">superclazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578093">psym</a> = <a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; Typers.this.global.Symbol">initialize</a>
          <a href="#105835" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#578091" title="Typers.this.global.Tree">parent</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578093" title="Typers.this.global.Symbol">psym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#578092" title="Typers.this.global.Symbol">superclazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578093" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="578099">ps</a> = <a href="#578093" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578099" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578092" title="Typers.this.global.Symbol">superclazz</a>.<a href="../symtab/Symbols.scala.html#107448" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#578099" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance; super&quot;)" class="string">&quot;illegal inheritance; super&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578092" title="Typers.this.global.Symbol">superclazz</a><span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 is not a subclass of the super&quot;)" class="string">&quot;\n is not a subclass of the super&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578099" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 of the mixin &quot;)" class="string">&quot;\n of the mixin &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#578093" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#578093" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; needs to be a trait to be mixed in&quot;)" class="string">&quot; needs to be a trait to be mixed in&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578093" title="Typers.this.global.Symbol">psym</a>.<span title="=&gt; Boolean">isFinal</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance from final &quot;)" class="string">&quot;illegal inheritance from final &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578093" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578093" title="Typers.this.global.Symbol">psym</a>.<span title="=&gt; Boolean">isSealed</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// AnyVal is sealed, but we have to let the value classes through manually</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96402" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96500" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#578093" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107502" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Definitions.scala.html#106520" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#578093" title="Typers.this.global.Symbol">psym</a> <span title="(sym: Typers.this.global.Symbol)Unit">addChild</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="keyword">else</span>
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance from sealed &quot;)" class="string">&quot;illegal inheritance from sealed &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578093" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#578088" title="Typers.this.global.Type">selfType</a> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105319" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
              <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>     
              <span title="=&gt; Boolean">!</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isSynthetic</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>   <span class="comment">// don't check synthetic concrete classes for virtuals (part of DEVIRTUALIZE)</span>
              <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36836" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noSelfCheck</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>  <span class="comment">// setting to suppress this very check</span>
              <span title="=&gt; Boolean">!</span><a href="#578088" title="Typers.this.global.Type">selfType</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
              <span title="=&gt; Boolean">!</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <span class="delimiter">{</span> 
            <span class="comment">//Console.println(context.owner);//DEBUG</span>
            <span class="comment">//Console.println(context.owner.unsafeTypeParams);//DEBUG</span>
            <span class="comment">//Console.println(List.fromArray(context.owner.info.closure));//DEBUG</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance;\012 self-type &quot;)" class="string">&quot;illegal inheritance;\n self-type &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#578088" title="Typers.this.global.Type">selfType</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not conform to &quot;)" class="string">&quot; does not conform to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578091" title="Typers.this.global.Tree">parent</a> <span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;\'s selftype &quot;)" class="string">&quot;'s selftype &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105319" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36875" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#105958" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#578088" title="Typers.this.global.Type">selfType</a>, <a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105319" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578087" title="List[Typers.this.global.Tree]">parents</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578130">p</a> =&gt; <a href="#578130" title="Typers.this.global.Tree">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#578091" title="Typers.this.global.Tree">parent</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578130" title="Typers.this.global.Tree">p</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#578093" title="Typers.this.global.Symbol">psym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578093" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107337" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578091" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#578093" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is inherited twice&quot;)" class="string">&quot; is inherited twice&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578087" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578087" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578162">p</a> &lt;- <a href="#578087" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#578090" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit">validateParentClass</a><span class="delimiter">(</span><a href="#578162" title="Typers.this.global.Tree">p</a>, <a href="#578087" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

<span class="comment">/*
      if (settings.Xshowcls.value != &quot;&quot; &amp;&amp;
          settings.Xshowcls.value == context.owner.fullName)
        println(&quot;INFO &quot;+context.owner+
                &quot;, baseclasses = &quot;+(context.owner.info.baseClasses map (_.fullName))+
                &quot;, lin = &quot;+(context.owner.info.baseClasses map (context.owner.thisType.baseType)))
*/</span> 
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(classinfo: Typers.this.global.ClassInfoType)Unit" id="105874">checkFinitary</a><span class="delimiter">(</span><a title="Typers.this.global.ClassInfoType" id="578165">classinfo</a>: <a href="../symtab/Types.scala.html#67420" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578167">clazz</a> = <a href="#578165" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148609" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="578189">tparam</a> &lt;- <a href="#578167" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107438" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#578165" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148623" title="(tparam: Typers.this.global.Symbol)Set[Typers.this.global.Symbol]">expansiveRefs</a><span class="delimiter">(</span><a href="#578189" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Symbol)Boolean">contains</span> <a href="#578189" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578189" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;class graph is not finitary because type parameter &quot;)" class="string">&quot;class graph is not finitary because type parameter &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578189" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is expansively recursive&quot;)" class="string">&quot; is expansively recursive&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ClassInfoType" id="578201">newinfo</a> = <a href="../symtab/Types.scala.html#148601" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="#578165" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148605" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#578224" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#578189" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, 
            <a href="#578165" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148607" title="=&gt; Typers.this.global.Scope">decls</a>, 
            <a href="#578167" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <a href="#578167" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)clazz.type">setInfo</a> <span class="delimiter">{</span>
            <a href="#578167" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.PolyType">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="578271">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#148857" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#578271" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#578201" title="Typers.this.global.ClassInfoType">newinfo</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.ClassInfoType">_</span> =&gt; <a href="#578201" title="Typers.this.global.ClassInfoType">newinfo</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param cdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree" id="105875">typedClassDef</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="578281">cdef</a>: <span title="Typers.this.global.ClassDef">ClassDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
<span class="comment">//      attributes(cdef)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578283">clazz</a> = <a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="578284">typedMods</a> = <a href="#105883" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#578283" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#105845" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="578285">tparams1</a> = <a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <span class="delimiter">(</span><a href="#105889" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578286">impl1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106697" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#578283" title="Typers.this.global.Symbol">clazz</a>, <a href="../symtab/Scopes.scala.html#112939" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="#105882" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#105872" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578287">impl2</a> = <a href="#105877" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">typerAddSyntheticMethods</a><span class="delimiter">(</span><a href="#578286" title="Typers.this.global.Template">impl1</a>, <a href="#578283" title="Typers.this.global.Symbol">clazz</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#578283" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106111" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#578283" title="Typers.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#107447" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106111" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="TypeDiagnostics.scala.html#105772" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionWarning</a><span class="delimiter">(</span><a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>,
          <span class="string">&quot;subclassing Classfile does not\n&quot;</span>+
          <span class="string">&quot;make your annotation visible at runtime.  If that is what\n&quot;</span><span title="java.lang.String(&quot;subclassing Classfile does not\012make your annotation visible at runtime.  If that is what\012you want, you must write the annotation class in Java.&quot;)">+</span> 
          <span class="string">&quot;you want, you must write the annotation class in Java.&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578345">ann</a> &lt;- <a href="#578283" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107274" title="(cls: Typers.this.global.Symbol)Option[Typers.this.global.AnnotationInfo]">getAnnotation</a><span title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit" class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106467" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578346">m</a> = <a href="Namers.scala.html#105538" title="(clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionModuleOf</a><span class="delimiter">(</span><a href="#578283" title="Typers.this.global.Symbol">clazz</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578346" title="Typers.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#578346" title="Typers.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; Typers.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#107272" title="(annot: Typers.this.global.AnnotationInfo)Unit">addAnnotation</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#578345" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; Typers.this.global.Type">atp</a>, <a href="#578345" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133315" title="=&gt; List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162454" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], impl: Typers.this.global.Template)Typers.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#578281" title="Typers.this.global.ClassDef">cdef</a>, <a href="#578284" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#578281" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#578285" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#578287" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span>
        .<span title="(tp: Typers.this.global.Type)Typers.this.global.ClassDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
 
    <span class="comment">/**
     *  @param mdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree" id="105876">typedModuleDef</a><span class="delimiter">(</span><a title="Typers.this.global.ModuleDef" id="578384">mdef</a>: <span title="Typers.this.global.ModuleDef">ModuleDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">//Console.println(&quot;sourcefile of &quot; + mdef.symbol + &quot;=&quot; + mdef.symbol.sourceFile)</span>
<span class="comment">//      attributes(mdef)</span>
      <span class="comment">// initialize all constructors of the linked class: the type completer (Namer.methodSig)</span>
      <span class="comment">// might add default getters to this object. example: &quot;object T; class T(x: Int = 1)&quot;</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578386">linkedClass</a> = <a href="Namers.scala.html#105539" title="(module: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionClassOf</a><span class="delimiter">(</span><a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578386" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="578423">c</a> &lt;- <a href="#578386" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">alternatives</a><span class="delimiter">)</span>
          <a href="#578423" title="Typers.this.global.Symbol">c</a>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; c.type">initialize</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578387">clazz</a> = <a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; Typers.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree] =&gt; List[Typers.this.global.Tree]" id="578388">maybeAddSerializable</a> = <span class="delimiter">(</span>l: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#578386" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#578386" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../symtab/Symbols.scala.html#107362" title="=&gt; Boolean">isSerializable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#578387" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107362" title="=&gt; Boolean">isSerializable</a><span class="delimiter">)</span> <a href="#578430" title="List[Typers.this.global.Tree]">l</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#578387" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107444" title="()Unit">makeSerializable</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#578430" title="List[Typers.this.global.Tree]">l</a> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106205" title="=&gt; Typers.this.global.Symbol">SerializableClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="578389">typedMods</a> = <a href="#105883" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#578387" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578390">impl1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106697" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#578387" title="Typers.this.global.Symbol">clazz</a>, <a href="../symtab/Scopes.scala.html#112939" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="#105882" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#578388" title="(v1: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">maybeAddSerializable</a><span class="delimiter">(</span><a href="#105872" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578391">impl2</a> = <a href="#105877" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">typerAddSyntheticMethods</a><span class="delimiter">(</span><a href="#578390" title="Typers.this.global.Template">impl1</a>, <a href="#578387" title="Typers.this.global.Symbol">clazz</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162456" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, impl: Typers.this.global.Template)Typers.this.global.ModuleDef">ModuleDef</a><span class="delimiter">(</span><a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>, <a href="#578389" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#578384" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#578391" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ModuleDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>
    <span class="comment">/** In order to override this in the TreeCheckers Typer so synthetics aren't re-added
     *  all the time, it is exposed here the module/class typing methods go through it.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template" id="105877">typerAddSyntheticMethods</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="568820">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="Typers.this.global.Symbol" id="568821">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.Context" id="568822">context</a>: <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <a href="SyntheticMethods.scala.html#105705" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">addSyntheticMethods</a><span class="delimiter">(</span><a href="#568820" title="Typers.this.global.Template">templ</a>, <a href="#568821" title="Typers.this.global.Symbol">clazz</a>, <a href="#568822" title="Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param stat ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="105878">addGetterSetter</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578506">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#578506" title="Typers.this.global.Tree">stat</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="578517">mods</a>, <a title="Typers.this.global.TermName" id="578518">name</a>, <a title="Typers.this.global.Tree" id="578519">tpt</a>, <a title="Typers.this.global.Tree" id="578520">rhs</a><span class="delimiter">)</span> 
        <span class="comment">// PRIVATE | LOCAL are fields generated for primary constructor arguments</span>
        <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#578517" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isPrivateLocal</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578506" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107383" title="=&gt; Boolean">isModuleVar</a> =&gt;
        <span class="keyword">val</span> <a title="Boolean" id="578521">isDeferred</a> = <a href="#578517" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isDeferred</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578522">value</a> = <a href="#578506" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="578523">allAnnots</a> = <a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578521" title="Boolean">isDeferred</a><span class="delimiter">)</span>
          <span class="comment">// keepClean: by default annotations go to the field, except if the field is</span>
          <span class="comment">// generated for a class parameter (PARAMACCESSOR).</span>
          <a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107271" title="(annots: List[Typers.this.global.AnnotationInfoBase])value.type">setAnnotations</a><span class="delimiter">(</span><a href="#105879" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578523" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#106133" title="=&gt; Typers.this.global.Symbol">FieldTargetClass</a>, keepClean = <span title="=&gt; Boolean">!</span><a href="#578517" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578524">getter</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#578521" title="Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#578522" title="Typers.this.global.Symbol">value</a> <span class="keyword">else</span> <a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#578524" title="Typers.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#578506" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578524" title="Typers.this.global.Symbol">getter</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> 
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578524" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#578524" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">getter</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is defined twice&quot;)" class="string">&quot; is defined twice&quot;</span><span class="delimiter">)</span>

        <a href="#578524" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107271" title="(annots: List[Typers.this.global.AnnotationInfoBase])getter.type">setAnnotations</a><span class="delimiter">(</span><a href="#105879" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578523" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#106135" title="=&gt; Typers.this.global.Symbol">GetterTargetClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#578522" title="Typers.this.global.Symbol">value</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span> <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#578506" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="578617">vdef</a> = <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162457" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#578506" title="Typers.this.global.Tree">stat</a>, <a href="#578517" title="Typers.this.global.Modifiers">mods</a> <span title="(flag: Long)Typers.this.global.Modifiers">|</span> <span title="Long(4L)">PRIVATE</span> <span title="(flag: Long)Typers.this.global.Modifiers">|</span> <span title="Long(524288L)">LOCAL</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115617" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#578518" title="Typers.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#578519" title="Typers.this.global.Tree">tpt</a>, <a href="#578520" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="578618">getterDef</a>: <span title="Typers.this.global.DefDef">DefDef</span> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.DefDef)Typers.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#578617" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#578521" title="Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="578636">r</a> = <a href="../ast/Trees.scala.html#67790" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#578524" title="Typers.this.global.Symbol">getter</a>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
              <a href="#578636" title="Typers.this.global.DefDef">r</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TypeTree" class="delimiter">[</span><a href="../ast/Trees.scala.html#67804" title="Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">]</span>.<a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#578519" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <span class="comment">// keep type tree of original abstract field</span>
              <a href="#578636" title="Typers.this.global.DefDef">r</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="578659">rhs</a> = <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105442" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#578522" title="Typers.this.global.Symbol">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="578660">r</a> = <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.DefDef)Typers.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#578524" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../ast/Trees.scala.html#67790" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#578524" title="Typers.this.global.Symbol">getter</a>, <a href="#578659" title="Typers.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.DefDef" class="delimiter">[</span><span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">]</span>
              <a href="#578660" title="Typers.this.global.DefDef">r</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(pos: Typers.this.global.Position)r.tpt.type">setPos</span><span class="delimiter">(</span><a href="#578519" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span>
              <a href="#578660" title="Typers.this.global.DefDef">r</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575174" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#578524" title="Typers.this.global.Symbol">getter</a>, <a href="#578618" title="Typers.this.global.DefDef">getterDef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef" id="578619">setterDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="578725">setter</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Boolean" id="578727">isBean</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Typers.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
            <a href="#578725" title="Typers.this.global.Symbol">setter</a> <a href="../symtab/Symbols.scala.html#107271" title="(annots: List[Typers.this.global.AnnotationInfoBase])setter.type">setAnnotations</a> <a href="#105879" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578523" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#578727" title="Boolean">isBean</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106141" title="=&gt; Typers.this.global.Symbol">BeanSetterTargetClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106137" title="=&gt; Typers.this.global.Symbol">SetterTargetClass</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable" id="578728">defTree</a> =
              <span title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#578517" title="Typers.this.global.Modifiers">mods</a> <span title="(flag: Long)Boolean">hasFlag</span> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#578725" title="Typers.this.global.Symbol">setter</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(8589934592L)">OVERLOADED</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
              <span class="keyword">else</span> <a href="Analyzer.scala.html#105486" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#578522" title="Typers.this.global.Symbol">value</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67802" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#578725" title="Typers.this.global.Symbol">setter</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Typers.this.global.Symbol]">head</span>.<span title="=&gt; Typers.this.global.Symbol">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
            
            
            <a href="#105923" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#578617" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67790" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#578725" title="Typers.this.global.Symbol">setter</a>, <a href="#578728" title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable">defTree</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.DefDef" class="delimiter">[</span><span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">]</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]" id="578620">gs</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">ListBuffer</span><span class="delimiter">[</span>DefDef<span class="delimiter">]</span>
          <a href="#578620" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="(elems: Typers.this.global.DefDef*)Unit">append</span><span class="delimiter">(</span><a href="#578618" title="Typers.this.global.DefDef">getterDef</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578517" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isMutable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578810">setter</a> = <a href="#578524" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107495" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#578620" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="(elems: Typers.this.global.DefDef*)Unit">append</span><span class="delimiter">(</span><a href="#578619" title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef">setterDef</a><span class="delimiter">(</span><a href="#578810" title="Typers.this.global.Symbol">setter</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64992" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106461" title="=&gt; Typers.this.global.Symbol">BeanPropertyAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
              <a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106463" title="=&gt; Typers.this.global.Symbol">BooleanBeanPropertyAttr</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="578817">nameSuffix</a> = <a href="#578518" title="Typers.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#96583" title="()String">toString</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; String">capitalize</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="578818">beanGetterName</a> =
              <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106463" title="=&gt; Typers.this.global.Symbol">BooleanBeanPropertyAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;get&quot;)" class="string">&quot;get&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
              <a href="#578817" title="String">nameSuffix</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578819">beanGetter</a> = <a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">beanGetterName</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578819" title="Typers.this.global.Symbol">beanGetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// the namer decides wether to generate these symbols or not. at that point, we don't</span>
              <span class="comment">// have symbolic information yet, so we only look for annotations named &quot;BeanProperty&quot;.</span>
              <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578506" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;implementation limitation: the BeanProperty annotation cannot be used in a type alias or renamed import&quot;)" class="string">&quot;implementation limitation: the BeanProperty annotation cannot be used in a type alias or renamed import&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#578819" title="Typers.this.global.Symbol">beanGetter</a>.<a href="../symtab/Symbols.scala.html#107271" title="(annots: List[Typers.this.global.AnnotationInfoBase])beanGetter.type">setAnnotations</a><span class="delimiter">(</span><a href="#105879" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578523" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#106139" title="=&gt; Typers.this.global.Symbol">BeanGetterTargetClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578517" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isMutable</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578819" title="Typers.this.global.Symbol">beanGetter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="java.lang.String" id="578839">beanSetterName</a> = <span title="java.lang.String(&quot;set&quot;)" class="string">&quot;set&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#578817" title="String">nameSuffix</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578840">beanSetter</a> = <a href="#578522" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">beanSetterName</a><span class="delimiter">)</span>
              <span class="comment">// unlike for the beanGetter, the beanSetter body is generated here. see comment in Namers.</span>
              <a href="#578620" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="(elems: Typers.this.global.DefDef*)Unit">append</span><span class="delimiter">(</span><a href="#578619" title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef">setterDef</a><span class="delimiter">(</span><a href="#578840" title="Typers.this.global.Symbol">beanSetter</a>, isBean = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#578517" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <a href="#578620" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="=&gt; List[Typers.this.global.DefDef]">toList</span> <span class="keyword">else</span> <a href="#578617" title="Typers.this.global.ValDef">vdef</a> <a href="#578846" title="(x: Typers.this.global.ValOrDefDef with Serializable)List[Typers.this.global.ValOrDefDef with Serializable]">::</a> <a href="#578620" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="=&gt; List[Typers.this.global.DefDef]">toList</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="578868">dd</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="578871">comment</a>, <a title="Typers.this.global.Tree" id="578872">defn</a><span class="delimiter">)</span> =&gt;
        <a href="#105878" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a><span class="delimiter">(</span><a href="#578872" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.DocDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.DocDef,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578892">stat</a> =&gt; <a href="../ast/Trees.scala.html#146331" title="(comment: Typers.this.global.DocComment, definition: Typers.this.global.Tree)Typers.this.global.DocDef">DocDef</a><span class="delimiter">(</span><a href="#578871" title="Typers.this.global.DocComment">comment</a>, <a href="#578892" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.DocDef">setPos</span> <a href="#578868" title="Typers.this.global.DocDef">dd</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578930">annot</a>, <a title="Typers.this.global.Tree" id="578931">defn</a><span class="delimiter">)</span> =&gt;
        <a href="#105878" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a><span class="delimiter">(</span><a href="#578931" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Annotated)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Annotated,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578951">stat</a> =&gt; <a href="Analyzer.scala.html#105486" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><span class="delimiter">(</span><a href="#578930" title="Typers.this.global.Tree">annot</a>, <a href="#578951" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">_</span> =&gt;
        <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#578506" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The annotations amongst `annots` that should go on a member of class
     * `memberClass` (field, getter, setter, beanGetter, beanSetter, param)
     * If 'keepClean' is true, annotations without any meta-annotation are kept
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]" id="105879">memberAnnots</a><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="578526">annots</a>: <span title="List[Typers.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="578527">memberClass</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Boolean" id="578531">keepClean</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean" id="578532">hasMatching</a><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="578534">metaAnnots</a>: <span title="List[Typers.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, <a title="=&gt; Boolean" id="578535">orElse</a>: =&gt; Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="comment">// either one of the meta-annotations matches the `memberClass`</span>
        <a href="#578534" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>.<span title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#578542" title="Typers.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#578527" title="Typers.this.global.Symbol">memberClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <span class="comment">// else, if there is no `target` meta-annotation at all, use the default case</span>
        <span class="delimiter">(</span><a href="#578534" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>.<span title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578554">ann</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578555">annClass</a> = <a href="#578554" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
          <a href="#578555" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106133" title="=&gt; Typers.this.global.Symbol">FieldTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578555" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106135" title="=&gt; Typers.this.global.Symbol">GetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#578555" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106137" title="=&gt; Typers.this.global.Symbol">SetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578555" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106139" title="=&gt; Typers.this.global.Symbol">BeanGetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#578555" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106141" title="=&gt; Typers.this.global.Symbol">BeanSetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578555" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106143" title="=&gt; Typers.this.global.Symbol">ParamTargetClass</a>
        <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578535" title="=&gt; Boolean">orElse</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// there was no meta-annotation on `ann`. Look if the class annotations of</span>
      <span class="comment">// `ann` has a `target` annotation, otherwise put `ann` only on fields.</span>
      <span class="keyword">def</span> <a title="(ann: Typers.this.global.AnnotationInfo)Boolean" id="578533">noMetaAnnot</a><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578580">ann</a>: <a href="../symtab/AnnotationInfos.scala.html#67743" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#578532" title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean">hasMatching</a><span class="delimiter">(</span><a href="#578580" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>, <a href="#578531" title="Boolean">keepClean</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#578526" title="List[Typers.this.global.AnnotationInfo]">annots</a>.<span title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)List[Typers.this.global.AnnotationInfo]">filter</span><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578585">ann</a> =&gt; <a href="#578585" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; Typers.this.global.Type">atp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="comment">// the annotation type has meta-annotations, e.g. @(foo @getter)</span>
        <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="578589">metaAnnots</a>, _, _<span class="delimiter">)</span> =&gt;
          <a href="#578532" title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean">hasMatching</a><span class="delimiter">(</span><a href="#578589" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>, <a href="#578533" title="(ann: Typers.this.global.AnnotationInfo)Boolean">noMetaAnnot</a><span class="delimiter">(</span><a href="#578585" title="Typers.this.global.AnnotationInfo">ann</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// there are no meta-annotations, e.g. @foo</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <a href="#578533" title="(ann: Typers.this.global.AnnotationInfo)Boolean">noMetaAnnot</a><span class="delimiter">(</span><a href="#578585" title="Typers.this.global.AnnotationInfo">ann</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit" id="105880">enterSyms</a><span class="delimiter">(</span><a title="Typers.this.Context" id="578990">txt</a>: <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a>, <a title="List[Typers.this.global.Tree]" id="578991">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.Context" id="578994">txt0</a> = <a href="#578990" title="Typers.this.Context">txt</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579014">tree</a> &lt;- <a href="#578991" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span> <a href="#578994" title="Typers.this.Context">txt0</a> = <a href="#105881" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#578994" title="Typers.this.Context">txt0</a>, <a href="#579014" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context" id="105881">enterSym</a><span class="delimiter">(</span><a title="Typers.this.Context" id="537256">txt</a>: <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Tree" id="537257">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a> =
      <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><a href="#537256" title="Typers.this.Context">txt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527535" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#537257" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="Namers.scala.html#105524" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#537256" title="Typers.this.Context">txt</a><span class="delimiter">)</span>.<a href="Namers.scala.html#527535" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#537257" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="comment">/**
     *  @param templ    ...
     *  @param parents1 ...
     *    &lt;li&gt; &lt;!-- 2 --&gt;
     *      Check that inner classes do not inherit from Annotation
     *    &lt;/li&gt;
     *  @return         ...
     */</span>
    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template" id="105882">typedTemplate</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="578325">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="List[Typers.this.global.Tree]" id="578326">parents1</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579018">clazz</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="579019">annots</a> = <a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#578325" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#578325" title="Typers.this.global.Template">templ</a> <span title="(sym: Typers.this.global.Symbol)templ.type">setSymbol</span> <a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107283" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#578325" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="579020">self1</a> = <a href="#578325" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.ValDef">self</span> <span title="Typers.this.global.ValDef" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="579039">vd</a> @ ValDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="579046">mods</a>, <a title="Typers.this.global.TermName" id="579047">name</a>, <a title="Typers.this.global.Tree" id="579048">tpt</a>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="579049">tpt1</a> = 
            <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575174" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.TypeTree)Typers.this.global.TypeTree">privates</a><span class="delimiter">(</span>
              <a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107457" title="=&gt; Typers.this.global.Symbol">thisSym</a>, 
              <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162489" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#579048" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#579048" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span> <a href="#579039" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162457" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#579039" title="Typers.this.global.ValDef">vd</a>, <a href="#579046" title="Typers.this.global.Modifiers">mods</a>, <a href="#579047" title="Typers.this.global.TermName">name</a>, <a href="#579049" title="Typers.this.global.TypeTree">tpt1</a>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>
<span class="comment">// was: </span>
<span class="comment">//          val tpt1 = checkNoEscaping.privates(clazz.thisSym, typedType(tpt))</span>
<span class="comment">//          treeCopy.ValDef(vd, mods, name, tpt1, EmptyTree) setType NoType</span>
<span class="comment">// but this leads to cycles for existential self types ==&gt; #2545</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#579020" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.TermName">name</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#579020" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="579021">selfType</a> =
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107346" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> 
          <a href="../symtab/Types.scala.html#67476" title="(tps: List[Typers.this.global.Type], owner: Typers.this.global.Symbol)Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a>, <a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107458" title="=&gt; Typers.this.global.Type">typeOfThis</a>
      <span class="comment">// the following is necessary for templates generated later</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Scopes.scala.html#67682" title="object Typers.this.global.EmptyScope">EmptyScope</a><span class="delimiter">)</span>
      <a href="#105880" title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106620" title="=&gt; Typers.this.Context">outer</a>.<a href="Contexts.scala.html#106697" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#578325" title="Typers.this.global.Template">templ</a>, <a href="#579018" title="Typers.this.global.Symbol">clazz</a>, <a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#578325" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
      <a href="#105873" title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit">validateParentClasses</a><span class="delimiter">(</span><a href="#578326" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#579021" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isCase</span><span class="delimiter">)</span>
        <a href="#105871" title="(clazz: Typers.this.global.Symbol)Unit">validateNoCaseAncestor</a><span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a> <a href="../symtab/Definitions.scala.html#106111" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span>
        <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;inner classes cannot be classfile annotations&quot;)" class="string">&quot;inner classes cannot be classfile annotations&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Typers.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="comment">// @S: prevent crash for duplicated type members</span>
        <a href="#105874" title="(classinfo: Typers.this.global.ClassInfoType)Unit">checkFinitary</a><span class="delimiter">(</span><a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Typers.this.global.Type">resultType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.ClassInfoType" class="delimiter">[</span><a href="../symtab/Types.scala.html#67420" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="579022">body</a> = 
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67993" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> 
          <a href="#578325" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">flatMap</span> <a href="#105878" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a>
        <span class="keyword">else</span> <a href="#578325" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span> 
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="579023">body1</a> = <a href="#105899" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#579022" title="List[Typers.this.global.Tree]">body</a>, <a href="#578325" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162463" title="(tree: Typers.this.global.Tree, parents: List[Typers.this.global.Tree], self: Typers.this.global.ValDef, body: List[Typers.this.global.Tree])Typers.this.global.Template">Template</a><span class="delimiter">(</span><a href="#578325" title="Typers.this.global.Template">templ</a>, <a href="#578326" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#579020" title="Typers.this.global.ValDef">self1</a>, <a href="#579023" title="List[Typers.this.global.Tree]">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Template">setType</span> <a href="#579018" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Remove definition annotations from modifiers (they have been saved
     *  into the symbol's ``annotations'' in the type completer / namer)
     */</span>
    <span class="keyword">def</span> <a title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers" id="105883">removeAnnotations</a><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="578288">mods</a>: <span title="Typers.this.global.Modifiers">Modifiers</span><span class="delimiter">)</span>: <span title="Typers.this.global.Modifiers">Modifiers</span> =
      <a href="#578288" title="Typers.this.global.Modifiers">mods</a>.<a title="Long" id="579175">copy</a><span class="delimiter">(</span>annotations = <a title="scala.collection.immutable.Nil.type" id="579172">Nil</a><span class="delimiter">)</span>

    <span class="comment">/**
     *  @param vdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef" id="105884">typedValDef</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="400681">vdef</a>: <span title="Typers.this.global.ValDef">ValDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.ValDef">ValDef</span> = <span class="delimiter">{</span>
<span class="comment">//      attributes(vdef)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579176">sym</a> = <a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.Typer" id="579177">typer1</a> = <a href="#105847" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="579178">typedMods</a> = <a href="#105883" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="579179">annots</a> = <a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="579180">tpt1</a> = <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575174" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>, <a href="#579177" title="Typers.this.Typer">typer1</a>.<a href="#105931" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105839" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>, <a href="#579180" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67688" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106489" title="=&gt; Typers.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMutable</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;values cannot be volatile&quot;)" class="string">&quot;values cannot be volatile&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isFinal</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;final vars cannot be volatile&quot;)" class="string">&quot;final vars cannot be volatile&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="579181">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107323" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;local variables must be initialized&quot;)" class="string">&quot;local variables must be initialized&quot;</span><span class="delimiter">)</span>
          <a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="579200">tpt2</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasDefault</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// When typechecking default parameter, replace all type parameters in the expected type by Wildcard.</span>
            <span class="comment">// This allows defining &quot;def foo[T](a: T = 1)&quot;</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579201">tparams</a> =
              <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
              <span class="keyword">else</span> <a href="#579176" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="Typers.this.global.SubstTypeMap" id="579202">subst</a> = <a href="#579206" title="Typers.this.global.SubstTypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67524" title="anonymous class $anon extends Typers.this.global.SubstTypeMap" id="579206">SubstTypeMap</a><span class="delimiter">(</span><a href="#579201" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#579201" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579236">_</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean" id="579208">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579209">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="579210">sym1</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#579209" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSkolem</span><span class="delimiter">)</span> <a href="#579208" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#579209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107498" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, <a href="#579210" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#579210" title="Typers.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isSkolem</span><span class="delimiter">)</span> <a href="#579208" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#579209" title="Typers.this.global.Symbol">sym</a>, <a href="#579210" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107498" title="=&gt; Typers.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#579206" title="Typers.this.global.SubstTypeMap" class="keyword">super</a><span class="delimiter">[</span>SubstTypeMap<span class="delimiter">]</span>.<a href="../symtab/Types.scala.html#167380" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#579209" title="Typers.this.global.Symbol">sym</a>, <a href="#579210" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span> 
            <span class="delimiter">}</span>
            <span class="comment">// allow defaults on by-name parameters</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579176" title="Typers.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(65536L)">BYNAMEPARAM</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579180" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a> <span class="comment">// during erasure tpt1 is Function0</span>
              <span class="keyword">else</span> <a href="../symtab/Types.scala.html#167383" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#579180" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105326" title="(n: Int)Typers.this.global.Type">typeArgs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#167383" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#579180" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#579180" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#579177" title="Typers.this.Typer">typer1</a>.<a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106700" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>, <a href="#579176" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105938" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#579200" title="Typers.this.global.Type">tpt2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162457" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#400681" title="Typers.this.global.ValDef">vdef</a>, <a href="#579178" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#400681" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#579180" title="Typers.this.global.Tree">tpt1</a>, <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#579181" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Enter all aliases of local parameter accessors.
     *
     *  @param clazz    ...
     *  @param vparamss ...
     *  @param rhs      ...
     */</span>
    <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit" id="105885">computeParamAliases</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579322">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[List[Typers.this.global.ValDef]]" id="579323">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Typers.this.global.Tree" id="579324">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;computing param aliases for &quot;)" class="string">&quot;computing param aliases for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579322" title="Typers.this.global.Symbol">clazz</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579322" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107456" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579324" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span class="keyword">def</span> <a title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="579326">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579334">call</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#579334" title="Typers.this.global.Tree">call</a> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579337">fn</a>, <a title="List[Typers.this.global.Tree]" id="579338">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="#579340" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#579339" title="Typers.this.global.Tree" id="579340">superConstr</a>, <a href="#579339" title="List[Typers.this.global.Tree]" id="579341">args1</a><span class="delimiter">)</span> = <a href="#579326" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#579337" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579342">params</a> = <a href="#579337" title="Typers.this.global.Tree">fn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Typers.this.global.Symbol]">params</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="579343">args2</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#579342" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106218" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#579342" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#579338" title="List[Typers.this.global.Tree]">args</a>
                      <span class="keyword">else</span> <a href="#579338" title="List[Typers.this.global.Tree]">args</a>.<span title="(n: Int)List[Typers.this.global.Tree]">take</span><span class="delimiter">(</span><a href="#579342" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#579343" title="List[Typers.this.global.Tree]">args2</a>, <a href="#579342" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;mismatch &quot;)" class="string">&quot;mismatch &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579322" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#579342" title="List[Typers.this.global.Symbol]">params</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span> <span class="delimiter">(</span><a href="#579430" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579343" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span><span class="comment">//debug </span>
          <span title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#579340" title="Typers.this.global.Tree">superConstr</a>, <a href="#579341" title="List[Typers.this.global.Tree]">args1</a> <a href="#579462" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#579343" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="579476">stats</a>, <a title="Typers.this.global.Tree" id="579477">expr</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#579476" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
          <a href="#579326" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span class="delimiter">(</span><a href="#579476" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Typers.this.global.Tree">last</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Nothing])">_</span> =&gt;
          <span title="(_1: Typers.this.global.Tree, _2: List[Nothing])(Typers.this.global.Tree, List[Nothing])" class="delimiter">(</span><a href="#579334" title="Typers.this.global.Tree">call</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a href="#579328" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#579327" title="Typers.this.global.Tree" id="579328">superConstr</a>, <a href="#579327" title="List[Typers.this.global.Tree]" id="579329">superArgs</a><span class="delimiter">)</span> = <a href="#579326" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#579324" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#579328" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="comment">//debug</span>
      
      <span class="comment">// an object cannot be allowed to pass a reference to itself to a superconstructor</span>
      <span class="comment">// because of initialization issues; bug #473</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579522">arg</a> &lt;- <a href="#579329" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">superArgs</a> ; <a title="Typers.this.global.Tree" id="579609">tree</a> &lt;- <a href="../ast/Trees.scala.html#109034" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579610">sym</a> = <a href="#579609" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579610" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#579610" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[Typers.this.global.Symbol]">baseClasses</a> <span title="(elem: Any)Boolean">contains</span> <a href="#579322" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579610" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579609" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;)" class="string">&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;</span><span class="delimiter">)</span>
          <a href="#579609" title="Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="579618">qual</a><span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579609" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;super constructor arguments cannot reference unconstructed `this`&quot;)" class="string">&quot;super constructor arguments cannot reference unconstructed `this`&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579328" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107378" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579620">superClazz</a> = <a href="#579328" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#579620" title="Typers.this.global.Symbol">superClazz</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579622">superParamAccessors</a> = <a href="#579620" title="Typers.this.global.Symbol">superClazz</a>.<a href="../symtab/Symbols.scala.html#107461" title="=&gt; List[Typers.this.global.Symbol]">constrParamAccessors</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#579622" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#579329" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(_1: List[Typers.this.global.Symbol], _2: List[Typers.this.global.Tree])(List[Typers.this.global.Symbol], List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#579622" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#579329" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Symbol] =&gt; scala.collection.TraversableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]], implicit w2: List[Typers.this.global.Tree] =&gt; scala.collection.IterableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]])(List[Typers.this.global.Symbol], List[Typers.this.global.Tree])#Zipped[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Tree],Typers.this.global.Tree]">zipped</span> <span title="(f: (Typers.this.global.Symbol, Typers.this.global.Tree) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Unit,Any])Any">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579681">superAcc</a>, <a title="Typers.this.global.Tree" id="579682">superArg</a><span class="delimiter">)</span> =&gt;
              <a href="#579682" title="Typers.this.global.Tree">superArg</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Any">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="579686">name</a><span class="delimiter">)</span> =&gt;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#579323" title="List[List[Typers.this.global.ValDef]]">vparamss</a>.<span title="(p: List[Typers.this.global.ValDef] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#579693" title="List[Typers.this.global.ValDef]">_</a>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#579700" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#579682" title="Typers.this.global.Tree">superArg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="579706">alias</a> = <a href="#579681" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; superAcc.type">initialize</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Typers.this.global.Symbol">alias</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579706" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                      <a href="#579706" title="Typers.this.global.Symbol">alias</a> = <a href="#579681" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#579681" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579706" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                        <a href="#579620" title="Typers.this.global.Symbol">superClazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105355" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#579706" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#579706" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                      <a href="#579706" title="Typers.this.global.Symbol">alias</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
                    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#579706" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="579730">ownAcc</a> = <a href="#579322" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#579686" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107452" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#579737" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#579730" title="Typers.this.global.Symbol">ownAcc</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579730" title="Typers.this.global.Symbol">ownAcc</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
                        <a href="#579730" title="Typers.this.global.Symbol">ownAcc</a> = <a href="#579730" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Typers.this.global.Symbol">accessed</a>
                      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#579730" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../symtab/Symbols.scala.html#107323" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579706" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Typers.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107323" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579730" title="Typers.this.global.Symbol">ownAcc</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has alias &quot;)" class="string">&quot; has alias &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579706" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579706" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a><span class="delimiter">)</span> <span class="comment">//debug</span>
                        <a href="#579730" title="Typers.this.global.Symbol">ownAcc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TermSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67321" title="Typers.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../symtab/Symbols.scala.html#152401" title="(alias: Typers.this.global.Symbol)Typers.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#579706" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                      <span class="delimiter">}</span>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
      
    <span class="comment">/** Check if a method is defined in such a way that it can be called.
      * A method cannot be called if it is a non-private member of a structural type
      * and if its parameter's types are not one of
      * - this.type
      * - a type member of the structural type
      * - an abstract type declared outside of the structural type. */</span>
    <span class="keyword">def</span> <a title="(meth: Typers.this.global.Symbol)Unit" id="105886">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579783">meth</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107393" title="=&gt; Boolean">isStructuralRefinement</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; List[Typers.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#579783" title="Typers.this.global.Symbol">meth</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">||</span> <a href="#579783" title="Typers.this.global.Symbol">meth</a>.<span title="=&gt; Boolean">hasAccessBoundary</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="579786">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.MethodType" id="579787">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#579787" title="Typers.this.global.MethodType">mt</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="579789">res</a><span class="delimiter">)</span> =&gt; <a href="#579789" title="Typers.this.global.Type">res</a>
 <span class="comment">// TODO_NMT: drop NullaryMethodType from resultType?</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Type" id="579790">pt</a>: <a href="../symtab/Types.scala.html#67444" title="Typers.this.global.PolyType">PolyType</a> =&gt; <a href="#579790" title="Typers.this.global.PolyType">pt</a>.<a href="../symtab/Types.scala.html#148862" title="=&gt; Typers.this.global.Type">resultType</a>
          <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="579815">paramType</a> &lt;- <a href="#579786" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105335" title="(f: Typers.this.global.Type =&gt; Unit)Unit">paramTypes</a><span class="delimiter">)</span>  <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579815" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#579815" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107406" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579815" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#579815" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107406" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#579783" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579815" title="Typers.this.global.Type">paramType</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67399" title="Typers.this.global.ThisType">ThisType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579815" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579783" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(useCase: Typers.this.global.UseCase)Unit" id="105887">typedUseCase</a><span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="579822">useCase</a>: <a href="../ast/DocComments.scala.html#67927" title="Typers.this.global.UseCase">UseCase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(str: String)Typers.this.global.syntaxAnalyzer.Parser" id="579824">stringParser</a><span class="delimiter">(</span><a title="String" id="579828">str</a>: <span title="String">String</span><span class="delimiter">)</span>: syntaxAnalyzer.<a href="../ast/parser/Parsers.scala.html#96009" title="Typers.this.global.syntaxAnalyzer.Parser">Parser</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.BatchSourceFile" id="579829">file</a> = <a href="#579831" title="scala.tools.nsc.util.BatchSourceFile" class="keyword">new</a> <a href="../util/SourceFile.scala.html#30812" title="anonymous class $anon extends scala.tools.nsc.util.BatchSourceFile" id="579831">BatchSourceFile</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96402" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96500" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="#579828" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString">str</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)scala.tools.nsc.util.Position" id="579833">positionInUltimateSource</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="579834">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="#579834" title="Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97203" title="(source: scala.tools.nsc.util.SourceFile, shift: Int)scala.tools.nsc.util.Position">withSource</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96402" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#579822" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130344" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97193" title="=&gt; Int">start</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.CompilationUnit" id="579830">unit</a> = <span title="Typers.this.global.CompilationUnit" class="keyword">new</span> <a href="../CompilationUnits.scala.html#67942" title="Typers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">(</span><a href="#579829" title="scala.tools.nsc.util.BatchSourceFile">file</a><span class="delimiter">)</span>
        <a href="../ast/parser/Parsers.scala.html#171666" title="(unit: Typers.this.global.syntaxAnalyzer.global.CompilationUnit)Typers.this.global.syntaxAnalyzer.UnitParser" class="keyword">new</a> <a href="../Global.scala.html#64898" title="object Typers.this.global.syntaxAnalyzer">syntaxAnalyzer</a>.<a href="../ast/parser/Parsers.scala.html#96001" title="Typers.this.global.syntaxAnalyzer.UnitParser">UnitParser</a><span class="delimiter">(</span><a href="#579830" title="Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.syntaxAnalyzer.global.Tree]" id="579825">trees</a> = <a href="#579824" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#579822" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130342" title="=&gt; String">body</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#169218" title="=&gt; List[Typers.this.global.syntaxAnalyzer.global.Tree]">nonLocalDefOrDcl</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579826">enclClass</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Any" id="579827">defineAlias</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="579861">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112953" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#579861" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/DocComments.scala.html#67922" title="(vble: String, site: Typers.this.global.Symbol)Option[String]">lookupVariable</a><span class="delimiter">(</span><a href="#579861" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96583" title="()String">toString</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#579826" title="Typers.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Any">Some</span><span class="delimiter">(</span><a title="String" id="579873">repl</a><span class="delimiter">)</span> =&gt;
              <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#579879" title="Typers.this.Typer">_</a>.<a href="#105936" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#579824" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#579873" title="String">repl</a><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#169183" title="()Typers.this.global.syntaxAnalyzer.global.Tree">typ</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Symbol" id="579887">tpt</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.TypeSymbol" id="579888">alias</a> = <a href="#579826" title="Typers.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#107297" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="#579822" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130344" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#579861" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96578" title="=&gt; Typers.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579889">tparams</a> = <a href="../symtab/Symbols.scala.html#67333" title="(syms: List[Typers.this.global.Symbol], owner: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#579887" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#579888" title="Typers.this.global.TypeSymbol">alias</a><span class="delimiter">)</span>
                  <a href="#579888" title="Typers.this.global.TypeSymbol">alias</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)alias.type">setInfo</a> <a href="../symtab/Types.scala.html#67481" title="(tps: List[Typers.this.global.Symbol], body: Typers.this.global.Type)Typers.this.global.Type">typeFun</a><span class="delimiter">(</span><a href="#579889" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#579887" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#579889" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#579954" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#579888" title="Typers.this.global.TypeSymbol">alias</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="580019">tree</a> &lt;- <a href="#579825" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">trees</a>; <a title="Typers.this.global.Tree" id="580105">t</a> &lt;- <a href="../ast/Trees.scala.html#109034" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">tree</a><span class="delimiter">)</span>
        <a href="#580105" title="Typers.this.global.Tree">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="580109">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#580109" title="Typers.this.global.Name">name</a> <a href="../symtab/Names.scala.html#96605" title="(char: Char)Boolean">startsWith</a> <span title="Char(\'$\')" class="char">'$'</span> =&gt; <a href="#579827" title="(name: Typers.this.global.Name)Any">defineAlias</a><span title="Unit" class="delimiter">(</span><a href="#580109" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#579822" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130351" title="(x$1: List[Typers.this.global.Symbol])Unit">aliases</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112957" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
      <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527528" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#579825" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a><span class="delimiter">)</span>
      <a href="#105899" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#579825" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a>, <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#579822" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130348" title="(x$1: List[Typers.this.global.Symbol])Unit">defined</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112957" title="=&gt; List[Typers.this.global.Symbol]">toList</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#579822" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130350" title="=&gt; List[Typers.this.global.Symbol]">aliases</a> <span title="(elem: Any)Boolean">contains</span> <a href="#580128" title="Typers.this.global.Symbol">_</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#579822" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130347" title="=&gt; List[Typers.this.global.Symbol]">defined</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580153">sym</a> =&gt; <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;defined use cases: %s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#580153" title="Typers.this.global.Symbol">sym</a>, <a href="#580153" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param ddef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef" id="105888">typedDefDef</a><span class="delimiter">(</span><a title="Typers.this.global.DefDef" id="580161">ddef</a>: <span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="580163">meth</a> = <a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
   
      <a href="#105845" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <a href="#105844" title="(vparamss: List[List[Typers.this.global.ValDef]])Unit">reenterValueParams</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span><span class="delimiter">)</span>

      <span class="comment">// for `val` and `var` parameter, look at `target` meta-annotation</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107378" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="580193">vparams</a> &lt;- <a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</span>; <a title="Typers.this.global.ValDef" id="580213">vd</a> &lt;- <a href="#580193" title="(f: Typers.this.global.ValDef =&gt; Any)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#580213" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="580214">sym</a> = <a href="#580213" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
            <a href="#580214" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107271" title="(annots: List[Typers.this.global.AnnotationInfoBase])sym.type">setAnnotations</a><span class="delimiter">(</span><a href="#105879" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#580214" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>, <a href="../symtab/Definitions.scala.html#106143" title="=&gt; Typers.this.global.Symbol">ParamTargetClass</a>, keepClean = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="580164">tparams1</a> = <a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <a href="#105889" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="List[List[Typers.this.global.ValDef]]" id="580165">vparamss1</a> = <a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])List[List[Typers.this.global.ValDef]]">mapConserve</span> <span class="delimiter">(</span><a href="#580240" title="List[Typers.this.global.ValDef]">_</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <a href="#105884" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
      
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="580166">annots</a> = <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="580269">vparams1</a> &lt;- <a href="#580165" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="580295">vparam1</a> &lt;- <a href="#580269" title="List[Typers.this.global.ValDef]">vparams1</a> <span title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106218" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#580295" title="Typers.this.global.ValDef">vparam1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580295" title="Typers.this.global.ValDef">vparam1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;*-parameter must come last&quot;)" class="string">&quot;*-parameter must come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="580167">tpt1</a> = <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575174" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#580163" title="Typers.this.global.Symbol">meth</a>, <a href="#105931" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36832" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="580330">vparams</a> &lt;- <a href="#580165" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="580350">vparam</a> &lt;- <a href="#580330" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575177" title="(scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: Typers.this.global.Tree)Typers.this.global.Tree">locals</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#580350" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span>; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575177" title="(scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: Typers.this.global.Tree)Typers.this.global.Tree">locals</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#580167" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#105839" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>, <a href="#580167" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(tp: Typers.this.global.Type)ddef.tpt.type">setType</span><span class="delimiter">(</span><a href="#580167" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="580168">typedMods</a> = <a href="#105883" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="580169">rhs1</a> = 
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.TermName">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">hasStaticFlag</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// need this to make it possible to generate static ctors</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107378" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span>
               <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">||</span>
               <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107348" title="=&gt; Boolean">isAnonOrRefinementClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;constructor definition not allowed here&quot;)" class="string">&quot;constructor definition not allowed here&quot;</span><span class="delimiter">)</span>
          <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#105938" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <span title="Int(1)">EXPRmode</span>, <a href="#580167" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107378" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107332" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67993" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#105885" title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit">computeParamAliases</a><span class="delimiter">(</span><a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#580165" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#580169" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580167" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106653" title="=&gt; Boolean">returnsSeen</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580169" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a><span class="delimiter">)</span>
        <a href="#580169" title="Typers.this.global.Tree">rhs1</a> = <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#580169" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="580418">ps</a> =&gt; <a href="#580418" title="List[Typers.this.global.Symbol]">ps</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#580425" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106218" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#580418" title="List[Typers.this.global.Symbol]">ps</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;a parameter section with a `*\'-parameter is not allowed to have default arguments&quot;)" class="string">&quot;a parameter section with a `*'-parameter is not allowed to have default arguments&quot;</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="580431">allParams</a> = <a href="#580163" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Symbol] =&gt; scala.collection.TraversableOnce[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">flatten</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580489">p</a> &lt;- <a href="#580431" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">allParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="NamesDefaults.scala.html#105761" title="(sym: Typers.this.global.Symbol)Option[Typers.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#580489" title="Typers.this.global.Symbol">p</a><span class="delimiter">)</span>.<span title="(f: Typers.this.global.Name =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="580495">n</a> =&gt; <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580431" title="List[Typers.this.global.Symbol]">allParams</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580502">p1</a> =&gt; <a href="#580502" title="Typers.this.global.Symbol">p1</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#580495" title="Typers.this.global.Name">n</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#580489" title="Typers.this.global.Symbol">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#580502" title="Typers.this.global.Symbol">p1</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="NamesDefaults.scala.html#105761" title="(sym: Typers.this.global.Symbol)Option[Typers.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#580502" title="Typers.this.global.Symbol">p1</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="(x: Typers.this.global.Name)Some[Typers.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#580495" title="Typers.this.global.Name">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580489" title="Typers.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;deprecated parameter name &quot;)" class="string">&quot;deprecated parameter name &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#580495" title="Typers.this.global.Name">n</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has to be distinct from any other parameter name (deprecated or not).&quot;)" class="string">&quot; has to be distinct from any other parameter name (deprecated or not).&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#105886" title="(meth: Typers.this.global.Symbol)Unit">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a href="#580163" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162458" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], vparamss: List[List[Typers.this.global.ValDef]], tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#580161" title="Typers.this.global.DefDef">ddef</a>, <a href="#580168" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#580161" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580164" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#580165" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#580167" title="Typers.this.global.Tree">tpt1</a>, <a href="#580169" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.DefDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="105889">typedTypeDef</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="578301">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Typers.this.Typer" id="580539">typeDefTyper</a> = <span class="delimiter">{</span>
        <span title="Typers.this.Typer" class="keyword">if</span><span class="delimiter">(</span><a href="#578301" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#105608" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>
        <span class="keyword">else</span> <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#578301" title="Typers.this.global.TypeDef">tdef</a>, <a href="#578301" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#580539" title="=&gt; Typers.this.Typer">typeDefTyper</a>.<a href="#105890" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef0</a><span class="delimiter">(</span><a href="#578301" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// call typedTypeDef instead</span>
    <span class="comment">// a TypeDef with type parameters must always be type checked in a new scope</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="105890">typedTypeDef0</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="580542">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> = <span class="delimiter">{</span>
      <a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <a href="#105845" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="580544">tparams1</a> = <a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <span class="delimiter">{</span><a href="#105889" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#580556" title="Typers.this.global.TypeDef">_</a><span class="delimiter">)</span><span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="580545">typedMods</a> = <a href="#105883" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="580546">annots</a> = <a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="comment">// @specialized should not be pickled when compiling with -no-specialize</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36668" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72361" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107275" title="(cls: Typers.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67688" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106149" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
        <a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107498" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>.<a href="../symtab/Symbols.scala.html#107275" title="(cls: Typers.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67688" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106149" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580547">rhs1</a> = <a href="#105842" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575174" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#105931" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105838" title="(sym: Typers.this.global.Symbol)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> 
        <a href="#580547" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="580580">lo1</a>, <a title="Typers.this.global.Type" id="580581">hi1</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#580580" title="Typers.this.global.Type">lo1</a> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#580581" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;lower bound &quot;)" class="string">&quot;lower bound &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#580580" title="Typers.this.global.Type">lo1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not conform to upper bound &quot;)" class="string">&quot; does not conform to upper bound &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#580581" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162459" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], rhs: Typers.this.global.Tree)Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">(</span><a href="#580542" title="Typers.this.global.TypeDef">tdef</a>, <a href="#580545" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#580542" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#580544" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#580547" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Unit" id="105891">enterLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575544">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#575544" title="Typers.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="580596">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580596" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#580596" title="Typers.this.global.LabelDef">ldef</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527523" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
              <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107286" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#580596" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#580596" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148698" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef" id="105892">typedLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="580629">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.LabelDef">LabelDef</span> = <span class="delimiter">{</span>
      <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115607" title="(name: Typers.this.global.Name)Boolean">isLoopHeaderLabel</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="580637">restpe</a> = <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580638">rhs1</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <a href="#580637" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="580666">param</a> =&gt; <a href="#580666" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#580666" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162460" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>, <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#580638" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#580637" title="Typers.this.global.Type">restpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="580681">initpe</a> = <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580682">rhs1</a> = <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="580683">restpe</a> = <a href="#580682" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#580683" title="Typers.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#580681" title="Typers.this.global.Type">initpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// stable result, no need to check again</span>
          <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="580706">param</a> =&gt; <a href="#580706" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#580706" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162460" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>, <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#580682" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#580683" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112952" title="(sym: Typers.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="580710">sym2</a> = <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527523" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
            <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107286" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148698" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#580683" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580711">rhs2</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67849" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>, <a href="#580683" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
          <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="580745">param</a> =&gt; <a href="#580745" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#580745" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162460" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#580629" title="Typers.this.global.LabelDef">ldef</a>, <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580629" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#580711" title="Typers.this.global.Tree">rhs2</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.LabelDef">setSymbol</span> <a href="#580710" title="Typers.this.global.Symbol">sym2</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#580683" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param block ...
     *  @param mode  ...
     *  @param pt    ...
     *  @return      ...
     */</span>
    <span class="keyword">def</span> <a title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block" id="105893">typedBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Block" id="580752">block</a>: <span title="Typers.this.global.Block">Block</span>, <a title="Int" id="580753">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="580754">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Block">Block</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="580756">syntheticPrivates</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527528" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#580752" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="580778">stat</a> &lt;- <a href="#580752" title="Typers.this.global.Block">block</a>.<span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">stats</span><span class="delimiter">)</span> <a href="#105891" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#580778" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64799" title="(period: Typers.this.global.Period)Int">phaseId</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64801" title="=&gt; Typers.this.global.Period">currentPeriod</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// This is very tricky stuff, because we are navigating</span>
          <span class="comment">// the Skylla and Charybdis of anonymous classes and what to return</span>
          <span class="comment">// from them here. On the one hand, we cannot admit</span>
          <span class="comment">// every non-private member of an anonymous class as a part of</span>
          <span class="comment">// the structural type of the enclosing block. This runs afoul of</span>
          <span class="comment">// the restriction that a structural type may not refer to an enclosing</span>
          <span class="comment">// type parameter or abstract types (which in turn is necessitated</span>
          <span class="comment">// by what can be done in Java reflection. On the other hand,</span>
          <span class="comment">// making every term member private conflicts with private escape checking</span>
          <span class="comment">// see ticket #3174 for an example.</span>
          <span class="comment">// The cleanest way forward is if we would find a way to suppress</span>
          <span class="comment">// structural type checking for these members and maybe defer </span>
          <span class="comment">// type errors to the places where members are called. But that would</span>
          <span class="comment">// be a big refactoring and also a  big departure from existing code.</span>
          <span class="comment">// The probably safest fix for 2.8 is to keep members of an anonymous</span>
          <span class="comment">// class that are not mentioned in a parent type private (as before)</span>
          <span class="comment">// but to disable escape checking for code that's in the same anonymous class.</span>
          <span class="comment">// That's what's done here. </span>
          <span class="comment">// We really should go back and think hard whether we find a better</span>
          <span class="comment">// way to address the problem of escaping idents on the one hand and well-formed</span>
          <span class="comment">// structural types on the other.</span>
          <a href="#580752" title="Typers.this.global.Block">block</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Unit" id="580785">block</a> @ Block<span class="delimiter">(</span><a href="#580791" title="(x: List[Typers.this.global.Tree])Some[List[Typers.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="580802">classDef</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Typers.this.global.Apply" id="580817">newInst</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="comment">// The block is an anonymous class definitions/instantiation pair</span>
              <span class="comment">//   -&gt; members that are hidden by the type of the block are made private</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="580827">visibleMembers</a> = <a href="#580754" title="Typers.this.global.Type">pt</a> <span title="List[Typers.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67390" title="List[Typers.this.global.Symbol]">WildcardType</a> =&gt; <a href="#580802" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">BoundedWildcardType</span><span class="delimiter">(</span>TypeBounds<span class="delimiter">(</span><a title="Typers.this.global.Type" id="580833">lo</a>, <a title="Typers.this.global.Type" id="580834">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#580833" title="Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105349" title="=&gt; List[Typers.this.global.Symbol]">members</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">_</span> =&gt; <a href="#580754" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105349" title="=&gt; List[Typers.this.global.Symbol]">members</a>
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580865">member</a> &lt;- <a href="#580802" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">toList</a>
                   <span class="keyword">if</span> <a href="#580865" title="Typers.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; List[Typers.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#580865" title="Typers.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#580865" title="Typers.this.global.Symbol">member</a>.<span title="=&gt; Boolean">hasAccessBoundary</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#580827" title="List[Typers.this.global.Symbol]">visibleMembers</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="580850">visible</a> =&gt;
                        <a href="#580850" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                        <a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#580850" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105365" title="(from: Typers.this.global.Symbol, to: Typers.this.global.Type)Typers.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#580850" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="../symtab/Types.scala.html#148190" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">ThisType</a><span class="delimiter">(</span><a href="#580802" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span><span class="delimiter">)</span>
              <span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)member.type">resetFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
                <a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)member.type">resetFlag</a><span class="delimiter">(</span><span title="Long(524288L)">LOCAL</span><span class="delimiter">)</span>
                <a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)member.type">setFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(274877906948L)">|</span> SYNTHETIC_PRIVATE<span class="delimiter">)</span>
                <a href="#580756" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <span title="(x: Typers.this.global.Symbol)syntheticPrivates.type">+=</span> <a href="#580865" title="Typers.this.global.Symbol">member</a>
                <a href="#580865" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107278" title="(sym: Typers.this.global.Symbol)Unit">privateWithin</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="580757">stats1</a> = <a href="#105899" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#580752" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580758">expr1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580752" title="Typers.this.global.Block">block</a>.<span title="=&gt; Typers.this.global.Tree">expr</span>, <a href="#580753" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span class="delimiter">(</span>FUNmode <span title="Int(80)">|</span> QUALmode<span class="delimiter">)</span>, <a href="#580754" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162464" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#580752" title="Typers.this.global.Block">block</a>, <a href="#580757" title="List[Typers.this.global.Tree]">stats1</a>, <a href="#580758" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.Block">setType</span><span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152969" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#580752" title="Typers.this.global.Block">block</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#580758" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="#580758" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <span class="comment">// enable escaping privates checking from the outside and recycle</span>
        <span class="comment">// transient flag</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580916">sym</a> &lt;- <a href="#580756" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">syntheticPrivates</a><span class="delimiter">)</span> <a href="#580916" title="Typers.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)sym.type">resetFlag</a> <span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
 
    <span class="comment">/**
     *  @param cdef   ...
     *  @param pattpe ...
     *  @param pt     ...
     *  @return       ...
     */</span>
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef" id="105894">typedCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="580921">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="580922">pattpe</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="580923">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> = <span class="delimiter">{</span>
      <span class="comment">// verify no _* except in last position      </span>
      <span class="keyword">for</span> <span class="delimiter">(</span>Apply<span class="delimiter">(</span>_, <a title="List[Typers.this.global.Tree]" id="581020">xs</a><span class="delimiter">)</span> &lt;- <a href="#580921" title="Typers.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#109036" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a> ; <a title="Typers.this.global.Tree" id="581032">x</a> &lt;- <a href="#581020" title="List[Typers.this.global.Tree]">xs</a> <span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span> ; <span class="keyword">if</span> <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a> <a href="../ast/TreeInfo.scala.html#153001" title="(x: Typers.this.global.treeInfo.trees.Tree)Boolean">isStar</a> <a href="#581032" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581032" title="Typers.this.global.Tree">x</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;_* may only come last&quot;)" class="string">&quot;_* may only come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580925">pat1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105929" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">(</span><a href="#580921" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#580922" title="Typers.this.global.Type">pattpe</a><span class="delimiter">)</span>
      <span class="comment">// When case classes have more than two parameter lists, the pattern ends</span>
      <span class="comment">// up typed as a method.  We only pattern match on the first parameter</span>
      <span class="comment">// list, so substitute the final result type of the method, i.e. the type</span>
      <span class="comment">// of the case class.</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#580925" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105332" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#580925" title="Typers.this.global.Tree">pat1</a> <span title="(tp: Typers.this.global.Type)pat1.type">setType</span> <a href="#580925" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105331" title="=&gt; Typers.this.global.Type">finalResultType</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64993" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Bind" id="581145">bind</a> @ Bind<span class="delimiter">(</span><a title="Typers.this.global.Name" id="581150">name</a>, _<span class="delimiter">)</span> &lt;- <a href="#580921" title="Typers.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#109036" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#581150" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96577" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581145" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581145" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> 
            <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527534" title="(sym: Typers.this.global.Symbol)Unit">enterIfNotThere</a><span class="delimiter">(</span><a href="#581145" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
        
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580926">guard1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#580921" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>
                         <span class="keyword">else</span> <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580921" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="../symtab/Definitions.scala.html#106593" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="580927">body1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580921" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#580923" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106677" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#580927" title="Typers.this.global.Tree">body1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106721" title="(tp: Typers.this.global.Type)Typers.this.global.Type">restoreTypeBounds</a><span class="delimiter">(</span><a href="#580927" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#580923" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#580927" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#580923" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#580927" title="Typers.this.global.Tree">body1</a> =
            <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span>
              <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.TypeApply)Typers.this.global.TypeApply">atPos</a><span class="delimiter">(</span><a href="#580927" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#580927" title="Typers.this.global.Tree">body1</a>, <a href="../symtab/Definitions.scala.html#106392" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#580923" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// @M no need for pt.normalize here, is done in erasure</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
<span class="comment">//    body1 = checkNoEscaping.locals(context.scope, pt, body1)</span>
      <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162465" title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#580921" title="Typers.this.global.CaseDef">cdef</a>, <a href="#580925" title="Typers.this.global.Tree">pat1</a>, <a href="#580926" title="Typers.this.global.Tree">guard1</a>, <a href="#580927" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.CaseDef">setType</span> <a href="#580927" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]" id="105895">typedCases</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="533588">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.CaseDef]" id="533589">cases</a>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="533590">pattp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="533591">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span> =
      <a href="#533589" title="List[Typers.this.global.CaseDef]">cases</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)List[Typers.this.global.CaseDef]">mapConserve</span> <span class="delimiter">{</span> <a title="Typers.this.global.CaseDef" id="581243">cdef</a> =&gt;
        <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#581243" title="Typers.this.global.CaseDef">cdef</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105894" title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef">typedCase</a><span class="delimiter">(</span><a href="#581243" title="Typers.this.global.CaseDef">cdef</a>, <a href="#533590" title="Typers.this.global.Type">pattp</a>, <a href="#533591" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param fun  ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105896">typedFunction</a><span class="delimiter">(</span><a title="Typers.this.global.Function" id="581245">fun</a>: <span title="Typers.this.global.Function">Function</span>, <a title="Int" id="581246">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="581247">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="581249">numVparams</a> = <a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="=&gt; Int">length</span>
      <span class="keyword">val</span> <a title="Boolean" id="581250">codeExpected</a> = <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64992" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#581247" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107447" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106285" title="=&gt; Typers.this.global.Symbol">CodeClass</a><span class="delimiter">)</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#581249" title="Int">numVparams</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../symtab/Definitions.scala.html#67688" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106320" title="=&gt; Int">MaxFunctionArity</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>, <span title="java.lang.String(&quot;implementation restricts functions to &quot;)" class="string">&quot;implementation restricts functions to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/Definitions.scala.html#67688" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106320" title="=&gt; Int">MaxFunctionArity</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; parameters&quot;)" class="string">&quot; parameters&quot;</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" id="581251">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="581261">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span>Symbol, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =
        <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106352" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#581261" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">||</span> 
             <a href="#581261" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106155" title="=&gt; Typers.this.global.Symbol">PartialFunctionClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
             <a href="#581249" title="Int">numVparams</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Match">Match</span><span class="delimiter">]</span><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// see bug901 for a reason why next conditions are needed</span>
            <span class="delimiter">(</span><a href="#581261" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span title="(x: Int)Boolean">==</span> <a href="#581249" title="Int">numVparams</a>
             <span title="(x: Boolean)Boolean">||</span> 
             <a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#581287" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span><a href="#581261" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#581261" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; List[Typers.this.global.Type]">init</span>, <a href="#581261" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">last</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.WildcardType.type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.WildcardType.type)" class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106328" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#581249" title="Int">numVparams</a><span class="delimiter">)</span>, <a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.NoType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.NoType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="581320">x</a> =&gt; <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#581253" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="#581252" title="Typers.this.global.Symbol" id="581253">clazz</a>, <a href="#581252" title="List[Typers.this.global.Type]" id="581254">argpts</a>, <a href="#581252" title="Typers.this.global.Type" id="581255">respt</a><span class="delimiter">)</span> = <a href="#581251" title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)">decompose</a><span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type) @unchecked" class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#581250" title="Boolean">codeExpected</a><span class="delimiter">)</span> <a href="#581247" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">head</span> <span class="keyword">else</span> <a href="#581247" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#581254" title="List[Typers.this.global.Type]">argpts</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><a href="#581249" title="Int">numVparams</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>, <span title="java.lang.String(&quot;wrong number of parameters; expected = &quot;)" class="string">&quot;wrong number of parameters; expected = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#581254" title="List[Typers.this.global.Type]">argpts</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="581372">vparamSyms</a> = <span title="(_1: List[Typers.this.global.ValDef], _2: List[Typers.this.global.Type])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])" class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>, <a href="#581254" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.ValDef] =&gt; scala.collection.TraversableLike[Typers.this.global.ValDef,List[Typers.this.global.ValDef]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</span> <span title="(f: (Typers.this.global.ValDef, Typers.this.global.Type) =&gt; Typers.this.global.Symbol)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="581435">vparam</a>, <a title="Typers.this.global.Type" id="581436">argpt</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = 
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#581436" title="Typers.this.global.Type">argpt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#581436" title="Typers.this.global.Type">argpt</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#581245" title="Typers.this.global.Function">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="EtaExpansion.scala.html#537805" title="Unit">etaExpansion</a><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="581441">vparams</a>, <a title="Typers.this.global.Tree" id="581442">fn</a>, <a title="List[Typers.this.global.Tree]" id="581443">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#581250" title="Boolean">codeExpected</a> =&gt;
                    <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#581449" title="Typers.this.Typer">_</a>.<a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581442" title="Typers.this.global.Tree">fn</a>, <a href="Modes.scala.html#105580" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#581246" title="Int">mode</a><span class="delimiter">)</span>, <a href="#581247" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <a title="Unit" id="581457">fn1</a>: <span title="Typers.this.global.Tree">Tree</span> <span class="keyword">if</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
                        <span class="comment">// if context,undetparams is not empty, the function was polymorphic, </span>
                        <span class="comment">// so we need the missing arguments to infer its type. See #871</span>
                        <span class="comment">//println(&quot;typing eta &quot;+fun+&quot;:&quot;+fn1.tpe+&quot;/&quot;+context.undetparams)</span>
                        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="581459">ftpe</a> = <a href="Infer.scala.html#105630" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#581457" title="Typers.this.global.Tree">fn1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105358" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../symtab/Definitions.scala.html#106328" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#581249" title="Int">numVparams</a><span class="delimiter">)</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106352" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#581459" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#581459" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                          <span title="Nothing" class="keyword">return</span> <a href="#105896" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>, <a href="#581246" title="Int">mode</a>, <a href="#581459" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span>
                      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
                <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="TypeDiagnostics.scala.html#105785" title="(fun: Typers.this.global.Tree, vparam: Typers.this.global.ValDef, pt: Typers.this.global.Type)java.lang.String">missingParameterTypeMsg</a><span class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>, <a href="#581435" title="Typers.this.global.ValDef">vparam</a>, <a href="#581247" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a>
              <span class="delimiter">}</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97188" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span> <span title="(pos: Typers.this.global.Position)vparam.tpt.type">setPos</span> <a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
          <a href="#105881" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>, <a href="#581435" title="Typers.this.global.ValDef">vparam</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106674" title="=&gt; Boolean">retyping</a><span class="delimiter">)</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#581435" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="581373">vparams</a> = <a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <span class="delimiter">(</span><a href="#105884" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
<span class="comment">//        for (vparam &lt;- vparams) {</span>
<span class="comment">//          checkNoEscaping.locals(context.scope, WildcardType, vparam.tpt); ()</span>
<span class="comment">//        }</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="581374">body</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#581255" title="Typers.this.global.Type">respt</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="581375">formals</a> = <a href="#581372" title="List[Typers.this.global.Symbol]">vparamSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#581547" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="581376">restpe</a> = <a href="#105911" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#581374" title="Typers.this.global.Tree">body</a>, <a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Typers.this.global.Type">deconst</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="581377">funtpe</a> = <a href="../symtab/Types.scala.html#67472" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#581253" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105323" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#581253" title="Typers.this.global.Symbol">clazz</a>, <a href="#581375" title="List[Typers.this.global.Type]">formals</a> <span title="(elem: Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">:+</span> <a href="#581376" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
<span class="comment">//        body = checkNoEscaping.locals(context.scope, restpe, body)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Function" id="581378">fun1</a> = <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162471" title="(tree: Typers.this.global.Tree, vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>, <a href="#581373" title="List[Typers.this.global.ValDef]">vparams</a>, <a href="#581374" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.Function">setType</span><span class="delimiter">(</span><a href="#581377" title="Typers.this.global.Type">funtpe</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#581250" title="Boolean">codeExpected</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="581631">liftPoint</a> = <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67802" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106287" title="=&gt; Typers.this.global.Symbol">CodeModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115400" title="=&gt; Typers.this.global.nme.NameType">lift_</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Function*)List[Typers.this.global.Function]">List</span><span class="delimiter">(</span><a href="#581378" title="Typers.this.global.Function">fun1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Apply)Typers.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#581245" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#581631" title="Typers.this.global.Apply">liftPoint</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#581378" title="Typers.this.global.Function">fun1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])Unit" id="105897">typedRefinement</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="581682">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527528" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#581682" title="List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
      <span class="comment">// need to delay rest of typedRefinement to avoid cyclic reference errors</span>
      <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96424" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a> <span title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
        <span class="comment">// go to next outer context which is not silent, see #3614</span>
        <span class="keyword">var</span> <a title="Typers.this.Context" id="581711">c</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581711" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#106662" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#581711" title="Typers.this.Context">c</a> = <a href="#581711" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#106620" title="=&gt; Typers.this.Context">outer</a>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="581712">stats1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#581711" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#105899" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#581682" title="List[Typers.this.global.Tree]">stats</a>, <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581722">stat</a> &lt;- <a href="#581712" title="(f: Typers.this.global.Tree =&gt; Any)Unit">stats1</a> <span class="keyword">if</span> <a href="#581722" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="581723">member</a> = <a href="#581722" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107472" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span>
                <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="581732">bc</a> =&gt; <a href="#581723" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107487" title="(ofclazz: Typers.this.global.Symbol, site: Typers.this.global.Type)Typers.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#581732" title="Typers.this.global.Symbol">bc</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#581723" title="Typers.this.global.Symbol">member</a> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)member.type">setFlag</a> <span title="Long(2L)">OVERRIDE</span>
                <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(imp: Typers.this.global.Import)Typers.this.global.Import" id="105898">typedImport</a><span class="delimiter">(</span><a title="Typers.this.global.Import" id="581755">imp</a> : <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> : <span title="Typers.this.global.Import">Import</span> = <span class="delimiter">(</span><a href="#105597" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">remove</span> <a href="#581755" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span> <span title="Typers.this.global.Import" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Import" id="581760">imp1</a>: <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> =&gt; <a href="#581760" title="Typers.this.global.Import">imp1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">None</span> =&gt; <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unhandled import: &quot;)" class="string">&quot;unhandled import: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#581755" title="Typers.this.global.Import">imp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>; <a href="#581755" title="Typers.this.global.Import">imp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]" id="105899">typedStats</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="579154">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="579155">exprOwner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="581761">inBlock</a> = <a href="#579155" title="Typers.this.global.Symbol">exprOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="581762">includesTargetPos</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581772">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = 
        <a href="#581772" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97190" title="=&gt; Boolean">isRange</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#581772" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <a href="../util/Position.scala.html#97208" title="(pos: scala.tools.nsc.util.Position)Boolean">includes</a> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96427" title="=&gt; Typers.this.global.Position">targetPos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="581763">localTarget</a> = <a href="#579154" title="List[Typers.this.global.Tree]">stats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#581762" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a>
      <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Typers.this.global.Tree" id="581764">typedStat</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581785">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isRefinementClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152966" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isDeclaration</a><span class="delimiter">(</span><a href="#581785" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#581785" title="Typers.this.global.Tree">stat</a>, <span title="java.lang.String(&quot;only declarations allowed here&quot;)" class="string">&quot;only declarations allowed here&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> 
          <a href="#581785" title="Typers.this.global.Tree">stat</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Import" id="581787">imp</a> @ Import<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="#105830" title="(x$1: Typers.this.Context)Unit">context</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106696" title="(imp: Typers.this.global.Import)Typers.this.Context">makeNewImport</a><span class="delimiter">(</span><a href="#581787" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
              <a href="#581787" title="Typers.this.global.Import">imp</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; Typers.this.global.Symbol">initialize</a>
              <a href="#105898" title="(imp: Typers.this.global.Import)Typers.this.global.Import">typedImport</a><span class="delimiter">(</span><a href="#581787" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#581763" title="Boolean">localTarget</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581762" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a><span class="delimiter">(</span><a href="#581785" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="comment">// skip typechecking of statements in a sequence where some other statement includes</span>
                <span class="comment">// the targetposition</span>
                <a href="#581785" title="Typers.this.global.Tree">stat</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.Typer" id="581791">localTyper</a> = <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#581761" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#581785" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581785" title="Typers.this.global.Tree">stat</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105608" title="Typers.this.Typer" class="keyword">this</a>
                                 <span class="keyword">else</span> <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106700" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#581785" title="Typers.this.global.Tree">stat</a>, <a href="#579155" title="Typers.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="581792">result</a> = <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#581791" title="Typers.this.Typer">localTyper</a>.<a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581785" title="Typers.this.global.Tree">stat</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152974" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#581792" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106651" title="(x$1: Boolean)Unit">inConstructorSuffix</a> = <span title="Boolean(true)" class="keyword">true</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152972" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfConstrCall</a><span class="delimiter">(</span><a href="#581792" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581792" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97196" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#579155" title="Typers.this.global.Symbol">exprOwner</a>.<span title="=&gt; Typers.this.global.Symbol">enclMethod</span>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97196" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581785" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;called constructor\'s definition must precede calling constructor\'s definition&quot;)" class="string">&quot;called constructor's definition must precede calling constructor's definition&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#581792" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** 'accessor' and 'accessed' are so similar it becomes very difficult to
       *  follow the logic, so I renamed one to something distinct.
       */</span>
      <span class="keyword">def</span> <a title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean" id="581765">accesses</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="581806">looker</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="581807">accessed</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#581807" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">hasLocalFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
        <a href="#581807" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">isParamAccessor</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#581806" title="Typers.this.global.Symbol">looker</a>.<span title="=&gt; Boolean">hasAccessorFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581807" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">hasAccessorFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581807" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="581766">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="581808">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="581809">scope</a> = <span title="Typers.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#581761" title="Boolean">inBlock</a><span class="delimiter">)</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a> <span class="keyword">else</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a>
        <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="581810">newStats</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
        <span class="keyword">var</span> <a title="Boolean" id="581811">needsCheck</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">var</span> <a title="Boolean" id="581812">moreToAdd</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#581812" title="Boolean">moreToAdd</a><span class="delimiter">)</span> <a href="#581813" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Int" id="581815">initSize</a> = <a href="#581809" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112944" title="=&gt; Int">size</a>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="581816">e</a> = <a href="#581809" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112921" title="=&gt; Typers.this.global.ScopeEntry">elems</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113137" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#581809" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#581817" title="()Unit" class="delimiter">{</a>

            <span class="comment">// check no double def</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#581811" title="Boolean">needsCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="581823">e1</a> = <a href="#581809" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112956" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#581823" title="Typers.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581823" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113137" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#581809" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#581825" title="()Unit" class="delimiter">{</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581765" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#581823" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581765" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#581823" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                    <span class="delimiter">(</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">||</span> <a href="#581761" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105381" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#581823" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="comment">// default getters are defined twice when multiple overloads have defaults. an</span>
                  <span class="comment">// error for this is issued in RefChecks.checkDefaultsInOverloaded</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107338" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581823" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107338" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasDefaultFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span title="=&gt; Boolean">!</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106151" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581823" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106151" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>                    
                    <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#581823" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113135" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is defined twice&quot;)" class="string">&quot; is defined twice&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                    <span class="delimiter">{</span><span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96438" title="()String">toString</a><span class="delimiter">}</span><span class="delimiter">)</span>
                    <a href="#581809" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112951" title="(e: Typers.this.global.ScopeEntry)Unit">unlink</a><span class="delimiter">(</span><a href="#581823" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span> <span class="comment">// need to unlink to avoid later problems with lub; see #2779</span>
                  <span class="delimiter">}</span>
                <a href="#581823" title="Typers.this.global.ScopeEntry">e1</a> = <a href="#581809" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112956" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#581823" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="comment">// add synthetics</span>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96422" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)Option[Typers.this.global.Tree]">get</span> <a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree])Unit">foreach</span> <span class="delimiter">{</span> <a title="Typers.this.global.Tree" id="581868">tree</a> =&gt;
            <a href="#581810" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> <span title="(x: Typers.this.global.Tree)scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">+=</span> <a href="#581764" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">(</span><a href="#581868" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="comment">// might add even more synthetics to the scope</span>
            <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96422" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">-=</span> <a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>
          <span class="delimiter">}</span>

          <a href="#581816" title="Typers.this.global.ScopeEntry">e</a> = <a href="#581816" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113143" title="=&gt; Typers.this.global.ScopeEntry">next</a>
        <span class="delimiter">}</span>
        <a href="#581811" title="Boolean">needsCheck</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="comment">// the type completer of a synthetic might add more synthetics. example: if the</span>
        <span class="comment">// factory method of a case class (i.e. the constructor) has a default.</span>
        <a href="#581812" title="Boolean">moreToAdd</a> = <a href="#581815" title="Int">initSize</a> <span title="(x: Int)Boolean">!=</span> <a href="#581809" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112944" title="=&gt; Int">size</a>
        <span class="delimiter">}</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#581810" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#581808" title="List[Typers.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// put default getters next to the method they belong to,</span>
          <span class="comment">// same for companion objects. fixes #2489 and #4036.</span>
          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean" id="581910">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581912">stat</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="581913">synt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Tree)" class="delimiter">(</span><a href="#581912" title="Typers.this.global.Tree">stat</a>, <a href="#581913" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>DefDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="581930">statName</a>, _, _, _, _<span class="delimiter">)</span>, DefDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="581939">mods</a>, <a title="Typers.this.global.TermName" id="581940">syntName</a>, _, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#581939" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">hasDefaultFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581940" title="Typers.this.global.TermName">syntName</a>.<a href="../symtab/Names.scala.html#96583" title="()String">toString</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#581930" title="Typers.this.global.TermName">statName</a>.<a href="../symtab/Names.scala.html#96583" title="()String">toString</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>ClassDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="581951">className</a>, _, _<span class="delimiter">)</span>, ModuleDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="581959">moduleName</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#581951" title="Typers.this.global.TypeName">className</a>.<a href="../symtab/Names.scala.html#97244" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#581959" title="Typers.this.global.TermName">moduleName</a>

            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="581911">matching</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581965">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#581967" title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])" class="delimiter">(</a><a href="#581966" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="581967">pos</a>, <a href="#581966" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="581968">neg</a><span class="delimiter">)</span> = <a href="#581810" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="(p: Typers.this.global.Tree =&gt; Boolean)(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])">partition</span><span title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a title="Typers.this.global.Tree" id="581974">synt</a> =&gt; <a href="#581910" title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean">matches</a><span class="delimiter">(</span><a href="#581965" title="Typers.this.global.Tree">stat</a>, <a href="#581974" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#581810" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> = <a href="#581968" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">neg</a>
            <a href="#581967" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">pos</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
          <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="#581808" title="List[Typers.this.global.Tree]">stats</a> <span title="(z: List[Typers.this.global.Tree])(f: (Typers.this.global.Tree, List[Typers.this.global.Tree]) =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">foldRight</span> List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582013">stat</a>, <a title="List[Typers.this.global.Tree]" id="582014">res</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#582013" title="Typers.this.global.Tree">stat</a> <a href="#582015" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#581911" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">matching</a><span class="delimiter">(</span><a href="#582013" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="#582016" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#582014" title="List[Typers.this.global.Tree]">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="#581985" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#581810" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="581767">result</a> = <a href="#579154" title="List[Typers.this.global.Tree]">stats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#581764" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">)</span>
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#581767" title="List[Typers.this.global.Tree]">result</a>
      <span class="keyword">else</span> <a href="#581766" title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a href="#581767" title="List[Typers.this.global.Tree]">result</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105900">typedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577258">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="577259">mode</a>: <span title="Int">Int</span>, <a title="Int" id="577260">newmode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="577261">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="582045">typedMode</a> = <a href="Modes.scala.html#105579" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#577259" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#577260" title="Int">newmode</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582046">t</a> = <a href="#105847" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#577259" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8)">SCCmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#577258" title="Typers.this.global.Tree">arg</a>, <a href="#582045" title="Int">typedMode</a>, <a href="#577261" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="TypeDiagnostics.scala.html#105809" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#574536" title="(mode: Int, tree: Typers.this.global.Tree)Typers.this.global.Tree">inMode</a><span class="delimiter">(</span><a href="#582045" title="Int">typedMode</a>, <a href="#582046" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]" id="105901">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="577290">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="577291">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
      <a href="#577290" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577300">arg</a> =&gt; <a href="#105900" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#577300" title="Typers.this.global.Tree">arg</a>, <a href="#577291" title="Int">mode</a>, <span title="Int(0)" class="int">0</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="105902">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="577041">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="577042">mode</a>: <span title="Int">Int</span>, <a title="List[Typers.this.global.Type]" id="577043">originalFormals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="577044">adaptedFormals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Int]" id="577047">newmodes</a> = <a href="#577043" title="List[Typers.this.global.Type]">originalFormals</a> <span title="(f: Typers.this.global.Type =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Int,List[Int]])List[Int]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="577064">tp</a> =&gt; <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106215" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#577064" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(32768)">BYVALmode</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106221" title="(formals: List[Typers.this.global.Type])Boolean">isVarArgTypes</a><span class="delimiter">(</span><a href="#577043" title="List[Typers.this.global.Type]">originalFormals</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// TR check really necessary?</span>
        <a href="#577047" title="List[Int]">newmodes</a> = <a href="#577047" title="List[Int]">newmodes</a>.<span title="=&gt; List[Int]">init</span> <span title="(that: scala.collection.GenTraversableOnce[Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">++</span> <span title="object List">List</span>.<span title="(n: Int)(elem: =&gt; Int)List[Int]">fill</span><span class="delimiter">(</span><a href="#577041" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#577043" title="List[Typers.this.global.Type]">originalFormals</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">(</span>STARmode <span title="Int(36864)">|</span> BYVALmode<span class="delimiter">)</span>

      <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type], _3: List[Int])(List[Typers.this.global.Tree], List[Typers.this.global.Type], List[Int])" class="delimiter">(</span><a href="#577041" title="List[Typers.this.global.Tree]">args</a>, <a href="#577044" title="List[Typers.this.global.Type]">adaptedFormals</a>, <a href="#577047" title="List[Int]">newmodes</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w3: List[Int] =&gt; scala.collection.IterableLike[Int,List[Int]])(List[Typers.this.global.Tree], List[Typers.this.global.Type], List[Int])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type,List[Int],Int]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Type, Int) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577255">arg</a>, <a title="Typers.this.global.Type" id="577256">formal</a>, <a title="Int" id="577257">m</a><span class="delimiter">)</span> =&gt; 
        <a href="#105900" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#577255" title="Typers.this.global.Tree">arg</a>, <a href="#577042" title="Int">mode</a>, <a href="#577257" title="Int">m</a>, <a href="#577256" title="Typers.this.global.Type">formal</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Does function need to be instantiated, because a missing parameter
     *  in an argument closure overlaps with an uninstantiated formal?
     */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean" id="105903">needsInstantiation</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="582064">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="582065">formals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Tree]" id="582066">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tparam: Typers.this.global.Symbol)Boolean" id="582069">isLowerBounded</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="582070">tparam</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582071">losym</a> = <a href="#582070" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <a href="#582071" title="Typers.this.global.Symbol">losym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#582071" title="Typers.this.global.Symbol">losym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106085" title="=&gt; Typers.this.global.Symbol">NullClass</a>
      <span class="delimiter">}</span>
      <span title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.Tree])(List[Typers.this.global.Type], List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#582065" title="List[Typers.this.global.Type]">formals</a>, <a href="#582066" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.Tree] =&gt; scala.collection.IterableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]])(List[Typers.this.global.Type], List[Typers.this.global.Tree])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Tree],Typers.this.global.Tree]">zipped</span> <span title="(f: (Typers.this.global.Type, Typers.this.global.Tree) =&gt; Boolean)Boolean">exists</span> <a href="#582131" title="Boolean" class="delimiter">{</a> 
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Typers.this.global.Type" id="582141">formal</a>, Function<span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="582144">vparams</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#582144" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#582151" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#582144" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../symtab/Definitions.scala.html#106320" title="=&gt; Int">MaxFunctionArity</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#582141" title="Typers.this.global.Type">formal</a> <a href="../symtab/Types.scala.html#105358" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../symtab/Definitions.scala.html#106328" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#582144" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, _, <a title="List[Typers.this.global.Type]" id="582160">formalargs</a><span class="delimiter">)</span> =&gt;
              <span title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.ValDef])(List[Typers.this.global.Type], List[Typers.this.global.ValDef])" class="delimiter">(</span><a href="#582160" title="List[Typers.this.global.Type]">formalargs</a>, <a href="#582144" title="List[Typers.this.global.ValDef]">vparams</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.ValDef] =&gt; scala.collection.IterableLike[Typers.this.global.ValDef,List[Typers.this.global.ValDef]])(List[Typers.this.global.Type], List[Typers.this.global.ValDef])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.ValDef],Typers.this.global.ValDef]">zipped</span>.<span title="(f: (Typers.this.global.Type, Typers.this.global.ValDef) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582211">formalarg</a>, <a title="Typers.this.global.ValDef" id="582212">vparam</a><span class="delimiter">)</span> =&gt;
                <a href="#582212" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#582064" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#582211" title="Typers.this.global.Type">formalarg</a> <a href="../symtab/Types.scala.html#105372" title="(sym: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#582064" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <a href="#582069" title="(tparam: Typers.this.global.Symbol)Boolean">isLowerBounded</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; 
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Is `tree' a block created by a named application?
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="105904">isNamedApplyBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="557135">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =
      <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106644" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a> <span title="(p: (Typers.this.global.Tree, Typers.this.NamedApplyInfo) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#557140" title="(Typers.this.global.Tree, Typers.this.NamedApplyInfo)">_</a>.<span title="=&gt; Typers.this.global.Tree">_1</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#557135" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean" id="105905">callToCompanionConstr</a><span class="delimiter">(</span><a title="Typers.this.Context" id="582228">context</a>: <a href="Contexts.scala.html#105513" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="582229">calledFun</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#582229" title="Typers.this.global.Symbol">calledFun</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="582232">methCtx</a> = <a href="#582228" title="Typers.this.Context">context</a>.<a href="Contexts.scala.html#106626" title="=&gt; Typers.this.Context">enclMethod</a>
        <span class="delimiter">(</span><a href="#582232" title="Typers.this.Context">methCtx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#105502" title="=&gt; Typers.this.Context">NoContext</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582237">contextFun</a> = <a href="#582232" title="Typers.this.Context">methCtx</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#582237" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#107378" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#582237" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="Namers.scala.html#105538" title="(clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionModuleOf</a><span class="delimiter">(</span><a href="#582229" title="Typers.this.global.Symbol">calledFun</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#582228" title="Typers.this.Context">context</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#582237" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105906">doTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="557206">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="557207">fun0</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="557208">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="557209">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="557210">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">// TODO_NMT: check the assumption that args nonEmpty</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="582244">fun</a> = <a href="#557207" title="Typers.this.global.Tree">fun0</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// remove alternatives with wrong number of parameters without looking at types.</span>
        <span class="comment">// less expensive than including them in inferMethodAlternatvie (see below).</span>
        <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree)Typers.this.global.Type" id="582245">shapeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582249">arg</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <a href="#582249" title="Typers.this.global.Tree">arg</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">Function</span><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="582252">vparams</a>, <a title="Typers.this.global.Tree" id="582253">body</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Definitions.scala.html#106350" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#582252" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="582270">vparam</a> =&gt; <a href="../symtab/Definitions.scala.html#106075" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#582245" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#582253" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.NamedType">AssignOrNamedArg</span><span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="582303">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="582304">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#455599" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#582303" title="Typers.this.global.Name">name</a>, <a href="#582245" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#582304" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582246">argtypes</a> = <a href="#557208" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <a href="#582245" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="582247">pre</a> = <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105323" title="=&gt; Typers.this.global.Type">prefix</a>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="582248">sym</a> = <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="582355">alt</a> =&gt;
          <span class="comment">// must use pt as expected type, not WildcardType (a tempting quick fix to #2665)</span>
          <span class="comment">// now fixed by using isWeaklyCompatible in exprTypeArgs</span>
          <span class="comment">// TODO: understand why exactly -- some types were not inferred anymore (`ant clean quick.bin` failed)</span>
          <span class="comment">// (I had expected inferMethodAlternative to pick up the slack introduced by using WildcardType here)</span>
          <a href="Infer.scala.html#105982" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>, <a href="Infer.scala.html#105977" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#582247" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#582355" title="Typers.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#582246" title="List[Typers.this.global.Type]">argtypes</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582248" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582362">sym1</a> = <a href="#582248" title="Typers.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="582364">alt</a> =&gt; <span class="delimiter">{</span>
            <span class="comment">// eliminate functions that would result from tupling transforms</span>
            <span class="comment">// keeps alternatives with repeated params</span>
            <a href="Infer.scala.html#105978" title="(tp: Typers.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="Infer.scala.html#105977" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#582364" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#582246" title="List[Typers.this.global.Type]">argtypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
            <span class="comment">// also keep alts which define at least one default</span>
            <a href="#582364" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105333" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#582375" title="List[Typers.this.global.Symbol]">_</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#582382" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefault</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582362" title="Typers.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#582248" title="Typers.this.global.Symbol">sym</a> = <a href="#582362" title="Typers.this.global.Symbol">sym1</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582248" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#582244" title="Typers.this.global.Tree">fun</a> = <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">setSymbol</span> <a href="#582248" title="Typers.this.global.Symbol">sym</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#582247" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#582248" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="Modes.scala.html#105580" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#557209" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      
      <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582400">pre</a>, <a title="List[Typers.this.global.Symbol]" id="582401">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="582402">undetparams</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106687" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" id="582403">argtpes</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">ListBuffer</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="keyword">val</span> <a title="Int" id="582404">amode</a> = <a href="#105596" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#557209" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582405">args1</a> = <a href="#557208" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#582416" title="Typers.this.global.Tree" class="delimiter">{</a>
            <span class="keyword">case</span> <a title="Typers.this.global.AssignOrNamedArg" id="582417">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="582423">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="582424">rhs</a><span class="delimiter">)</span> =&gt;
              <span class="comment">// named args: only type the righthand sides (&quot;unknown identifier&quot; errors otherwise)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582425">rhs1</a> = <a href="#105900" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#582424" title="Typers.this.global.Tree">rhs</a>, <a href="#582404" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#582403" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="../symtab/Types.scala.html#455599" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#582423" title="Typers.this.global.Name">name</a>, <a href="#582425" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
              <span class="comment">// the assign is untyped; that's ok because we call doTypedApply</span>
              <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#582417" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#67811" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="#582417" title="Typers.this.global.AssignOrNamedArg">arg</a>.<a href="../ast/Trees.scala.html#160069" title="=&gt; Typers.this.global.Tree">lhs</a> , <a href="#582425" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="582441">arg</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582442">arg1</a> = <a href="#105900" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#582441" title="Typers.this.global.Tree">arg</a>, <a href="#582404" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#582403" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="#582442" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Typers.this.global.Type">deconst</a>
              <a href="#582442" title="Typers.this.global.Tree">arg1</a>
          <span class="delimiter">}</span>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#582402" title="List[Typers.this.global.Symbol]">undetparams</a>
          <a href="Infer.scala.html#106016" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], argtpes: List[Typers.this.global.Type], pt0: Typers.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582402" title="List[Typers.this.global.Symbol]">undetparams</a>, <a href="#582403" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a>.<span title="=&gt; List[Typers.this.global.Type]">toList</span>, <a href="#557210" title="Typers.this.global.Type">pt</a>, varArgsOnly = <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152992" title="(trees: List[Typers.this.global.treeInfo.trees.Tree])Boolean">isWildcardStarArgList</a><span class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105580" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#557209" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#582405" title="List[Typers.this.global.Tree]">args1</a>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="582478">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="582481">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582482">paramTypes</a> = <a href="#582478" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148713" title="=&gt; List[Typers.this.global.Type]">paramTypes</a>
          <span class="comment">// repeat vararg as often as needed, remove by-name</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582483">formals</a> = <a href="Infer.scala.html#105616" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#582482" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

          <span class="comment">/** Try packing all arguments into a Tuple and apply `fun'
           *  to that. This is the last thing which is tried (after
           *  default arguments)
           */</span>
          <span class="keyword">def</span> <a title="=&gt; Option[Typers.this.global.Tree]" id="582484">tryTupleApply</a>: <span title="Option[Typers.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="comment">// if 1 formal, 1 arg (a tuple), otherwise unmodified args</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582490">tupleArgs</a> = <a href="Infer.scala.html#105618" title="(pos: Typers.this.global.Position, actuals: List[Typers.this.global.Tree], nformals: Int)List[Typers.this.global.Tree]">actualArgs</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97192" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#582483" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

            <span title="Option[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582490" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#105980" title="(args: List[AnyRef], params: List[Typers.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#582481" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// expected one argument, but got 0 or &gt;1 ==&gt;  try applying to tuple</span>
              <span class="comment">// the inner &quot;doTypedApply&quot; does &quot;extractUndetparams&quot; =&gt; restore when it fails</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="582498">savedUndetparams</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
              <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#582504" title="Typers.this.Typer">_</a>.<a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582490" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Some[Typers.this.global.Tree]" id="582510">t</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; 
<span class="comment">//                  println(&quot;tuple conversion to &quot;+t+&quot; for &quot;+mt)//DEBUG</span>
                  <span title="(x: Typers.this.global.Tree)Some[Typers.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="#582510" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="None.type" id="582514">ex</a> =&gt;
                  <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#582498" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
                  <span title="object None">None</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
          <span class="delimiter">}</span>

          <span class="comment">/** Treats an application which uses named or default arguments.
           *  Also works if names + a vararg used: when names are used, the vararg
           *  parameter has to be specified exactly once. Note that combining varargs
           *  and defaults is ruled out by typedDefDef.
           */</span>
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="582485">tryNamesDefaults</a>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="582515">lencmp</a> = <a href="../symtab/Types.scala.html#67574" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#582483" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
            
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582478" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105588" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557209" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="comment">// #2064</span>
              <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105786" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582515" title="Int">lencmp</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#582484" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;too many arguments for &quot;)" class="string">&quot;too many arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105786" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582515" title="Int">lencmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// we don't need defaults. names were used, so this application is transformed</span>
              <span class="comment">// into a block (@see transformNamedApplication in NamesDefaults)</span>
              <span class="keyword">val</span> <a href="#582536" title="(List[Typers.this.global.Tree], Array[Int])" class="delimiter">(</a><a href="#582535" title="List[Typers.this.global.Tree]" id="582536">namelessArgs</a>, <a href="#582535" title="Array[Int]" id="582537">argPos</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#105759" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#105608" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span title="(List[Typers.this.global.Tree], Array[Int]) @unchecked" class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#582481" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582536" title="List[Typers.this.global.Tree]">namelessArgs</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../ast/Trees.scala.html#109032" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#105752" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#582537" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582483" title="List[Typers.this.global.Type]">formals</a>, <a href="#582481" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="comment">// !isIdentity indicates that named arguments are used to re-order arguments</span>
                <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <span class="string">&quot;when using named arguments, the vararg parameter &quot;</span><span title="java.lang.String(&quot;when using named arguments, the vararg parameter has to be specified exactly once&quot;)">+</span>
                                <span class="string">&quot;has to be specified exactly once&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#105752" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#582537" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#105904" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// if there's no re-ordering, and fun is not transformed, no need to transform</span>
                <span class="comment">// more than an optimization, e.g. important in &quot;synchronized { x = update-x }&quot;</span>
                <a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582536" title="List[Typers.this.global.Tree]">namelessArgs</a>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="NamesDefaults.scala.html#105753" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#105608" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span>
                                          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162482" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582536" title="List[Typers.this.global.Tree]">namelessArgs</a><span class="delimiter">)</span>, <a href="#582537" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// defaults are needed. they are added to the argument list in named style as</span>
              <span class="comment">// calls to the default getters. Example:</span>
              <span class="comment">//  foo[Int](a)()  ==&gt;  foo[Int](a)(b = foo$qual.foo$default$2[Int](a))</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582578">fun1</a> = <a href="NamesDefaults.scala.html#105753" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#105608" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a title="Int" id="582580">x</a> =&gt; <a href="#582580" title="Int">x</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun1</a>.<a href="../ast/Trees.scala.html#109032" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#105904" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#582578" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>, <a href="#582578" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> NamedApplyInfo<a href="#582587" title="(Option[Typers.this.global.Tree], List[Typers.this.global.Tree], List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#582586" title="Option[Typers.this.global.Tree]" id="582587">qual</a>, <a href="#582586" title="List[Typers.this.global.Tree]" id="582588">targs</a>, <a href="#582586" title="List[List[Typers.this.global.Tree]]" id="582589">previousArgss</a>, _<span class="delimiter">)</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106644" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<span title="=&gt; (Typers.this.global.Tree, Typers.this.NamedApplyInfo)">get</span>.<span title="=&gt; Typers.this.NamedApplyInfo">_2</span>
                <span class="keyword">val</span> <a title="Boolean" id="582590">blockIsEmpty</a> = <a href="#582578" title="Typers.this.global.Tree">fun1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Boolean">Block</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt;
                    <span class="comment">// if the block does not have any ValDef we can remove it. Note that the call to</span>
                    <span class="comment">// &quot;transformNamedApplication&quot; is always needed in order to obtain targs/previousArgss</span>
                    <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106645" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <span title="object None">None</span>
                    <span title="Boolean(true)" class="keyword">true</span>
                  <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
                <span class="delimiter">}</span>
                <span class="keyword">val</span> <a href="#582592" title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#582591" title="List[Typers.this.global.Tree]" id="582592">allArgs</a>, <a href="#582591" title="List[Typers.this.global.Symbol]" id="582593">missing</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#105757" title="(givenArgs: List[Typers.this.global.Tree], qual: Option[Typers.this.global.Tree], targs: List[Typers.this.global.Tree], previousArgss: List[List[Typers.this.global.Tree]], params: List[Typers.this.global.Symbol], pos: scala.tools.nsc.util.Position, context: Typers.this.Context)(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])">addDefaults</a><span title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#582587" title="Option[Typers.this.global.Tree]">qual</a>, <a href="#582588" title="List[Typers.this.global.Tree]">targs</a>, <a href="#582589" title="List[List[Typers.this.global.Tree]]">previousArgss</a>, <a href="#582481" title="List[Typers.this.global.Symbol]">params</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582594">funSym</a> = <a href="#582578" title="Typers.this.global.Tree">fun1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="582651">expr</a><span class="delimiter">)</span> =&gt; <a href="#582651" title="Typers.this.global.Tree">expr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span class="delimiter">}</span>
                <span class="keyword">val</span> <a title="Int" id="582595">lencmp2</a> = <a href="../symtab/Types.scala.html#67574" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#582592" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#582483" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
                
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582592" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105905" title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean">callToCompanionConstr</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>, <a href="#582594" title="Typers.this.global.Symbol">funSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;module extending its companion class cannot use default constructor arguments&quot;)" class="string">&quot;module extending its companion class cannot use default constructor arguments&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582595" title="Int">lencmp2</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="NamesDefaults.scala.html#105759" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#105608" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#582592" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#582481" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span> <span class="comment">// #3818</span>
                  <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582595" title="Int">lencmp2</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// useful when a default doesn't match parameter type, e.g. def f[T](x:T=&quot;a&quot;); f[Int]()</span>
                  <span class="keyword">val</span> <a title="java.lang.String" id="582667">note</a> = <span title="java.lang.String(&quot;Error occurred in an application involving default arguments.&quot;)" class="string">&quot;Error occurred in an application involving default arguments.&quot;</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106665" title="=&gt; List[String]">diagnostic</a> <span title="(elem: Any)Boolean">contains</span> <a href="#582667" title="java.lang.String">note</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106666" title="(x$1: List[String])Unit">diagnostic</a> = <a href="#582667" title="java.lang.String">note</a> <a href="#582668" title="(x: String)List[String]">::</a> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106665" title="=&gt; List[String]">diagnostic</a>
                  <a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582590" title="Boolean">blockIsEmpty</a><span class="delimiter">)</span> <a href="#582244" title="Typers.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="#582578" title="Typers.this.global.Tree">fun1</a>, <a href="#582592" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#582484" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#105787" title="(fun: Typers.this.global.Tree, missing: List[Typers.this.global.Symbol])String">notEnoughArgumentsMsg</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582593" title="List[Typers.this.global.Symbol]">missing</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582483" title="List[Typers.this.global.Type]">formals</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>   <span class="comment">// wrong nb of arguments</span>
              <span class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="NamesDefaults.scala.html#105745" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>        <span class="comment">// uses a named argument</span>
              <a href="#105904" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>       <span class="comment">// fun was transformed to a named apply block =&gt;</span>
                                              <span class="comment">// integrate this application into the block</span>
            <a href="#582485" title="=&gt; Typers.this.global.Tree">tryNamesDefaults</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="582689">tparams</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106687" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// all type params are defined</span>
              <span class="comment">// In order for checkDead not to be misled by the unfortunate special</span>
              <span class="comment">// case of AnyRef#synchronized (which is implemented with signature T =&gt; T</span>
              <span class="comment">// but behaves as if it were (=&gt; T) =&gt; T) we need to know what is the actual</span>
              <span class="comment">// target of a call.  Since this information is no longer available from</span>
              <span class="comment">// typedArg, it is recorded here.</span>
              <a href="TypeDiagnostics.scala.html#105809" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#574534" title="(fn: Typers.this.global.Tree)Unit">updateExpr</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582690">args1</a> = <a href="#105902" title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#105596" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#557209" title="Int">mode</a><span class="delimiter">)</span>, <a href="#582482" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#582483" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
              <span class="comment">// instantiate dependent method types, must preserve singleton types where possible (stableTypeFor) -- example use case:</span>
              <span class="comment">// val foo = &quot;foo&quot;; def precise(x: String)(y: x.type): x.type = {...}; val bar : foo.type = precise(foo)(foo)</span>
              <span class="comment">// precise(foo) : foo.type =&gt; foo.type</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="582691">restpe</a> = <a href="#582478" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148717" title="(actuals: List[Typers.this.global.Type])Typers.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#582690" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.gen.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.gen.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582718">arg</a> =&gt; <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105430" title="(tree: Typers.this.global.gen.global.Tree)Option[Typers.this.global.gen.global.Type]">stableTypeFor</a><span class="delimiter">(</span><a href="#582718" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span> <span title="(default: =&gt; Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Type">getOrElse</span> <a href="#582718" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="582692">ifPatternSkipFormals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582753">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#582753" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">MethodType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="582756">rtp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105588" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557209" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#582756" title="Typers.this.global.Type">rtp</a>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#582753" title="Typers.this.global.Type">tp</a>
              <span class="delimiter">}</span>

              <span class="comment">// Replace the Delegate-Chainer methods += and -= with corresponding</span>
              <span class="comment">// + and - calls, which are translated in the code generator into</span>
              <span class="comment">// Combine and Remove</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64992" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#582244" title="Typers.this.global.Tree">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582761">qual</a>, <a title="Typers.this.global.Name" id="582762">name</a><span class="delimiter">)</span> =&gt;
                   <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67583" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#582761" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="../symtab/Definitions.scala.html#106363" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#582762" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105486" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#582762" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105486" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;-=&quot;)" class="string">&quot;-=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">{</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.TermName" id="582778">n</a> = <span title="Typers.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="#582762" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105486" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115564" title="=&gt; Typers.this.global.TermName">PLUS</a> <span class="keyword">else</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115554" title="=&gt; Typers.this.global.TermName">MINUS</a>
                       <span class="keyword">val</span> <a title="Typers.this.global.Select" id="582779">f</a> = <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#582761" title="Typers.this.global.Tree">qual</a>, <a href="#582778" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
                       <span class="comment">// the compiler thinks, the PLUS method takes only one argument,</span>
                       <span class="comment">// but he thinks it's an instance method -&gt; still two ref's on the stack</span>
                       <span class="comment">//  -&gt; translated by backend</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="582780">rhs</a> = <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162482" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582779" title="Typers.this.global.Select">f</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                       <span title="Nothing" class="keyword">return</span> <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#582761" title="Typers.this.global.Tree">qual</a>, <a href="#582780" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              <span class="comment">/** This is translating uses of List() into Nil.  This is less
               *  than ideal from a consistency standpoint, but it shouldn't be
               *  altered without due caution.
               */</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106244" title="=&gt; Typers.this.global.Symbol">List_apply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#557208" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64993" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105444" title="=&gt; Typers.this.global.gen.global.Tree">mkNil</a> <span title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">setType</span> <a href="#582691" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="ConstantFolder.scala.html#106804" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162482" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582690" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Apply">setType</span> <a href="#582692" title="(tp: Typers.this.global.Type)Typers.this.global.Type">ifPatternSkipFormals</a><span class="delimiter">(</span><a href="#582691" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#105903" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean">needsInstantiation</a><span class="delimiter">(</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582483" title="List[Typers.this.global.Type]">formals</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//println(&quot;needs inst &quot;+fun+&quot; &quot;+tparams+&quot;/&quot;+(tparams map (_.info)))</span>
              <a href="Infer.scala.html#105992" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105588" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557209" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// this case cannot arise for patterns</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582833">lenientTargs</a> = <a href="Infer.scala.html#105972" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.Type]">protoTypeArgs</a><span class="delimiter">(</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582483" title="List[Typers.this.global.Type]">formals</a>, <a href="#582478" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#105329" title="=&gt; Typers.this.global.Type">resultApprox</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582834">strictTargs</a> = <span title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.Symbol])(List[Typers.this.global.Type], List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#582833" title="List[Typers.this.global.Type]">lenientTargs</a>, <a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.Symbol] =&gt; scala.collection.IterableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]])(List[Typers.this.global.Type], List[Typers.this.global.Symbol])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Symbol],Typers.this.global.Symbol]">zipped</span> <span title="(f: (Typers.this.global.Type, Typers.this.global.Symbol) =&gt; Typers.this.global.Type)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582900">targ</a>, <a title="Typers.this.global.Symbol" id="582901">tparam</a><span class="delimiter">)</span> =&gt;
                <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#582900" title="Typers.this.global.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="#582901" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#582900" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span> <span class="comment">//@M TODO: should probably be .tpeHK</span>
              <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="582835">remainingParams</a> = <a href="#582482" title="List[Typers.this.global.Type]">paramTypes</a>
              <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree" id="582836">typedArgToPoly</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582933">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="582934">formal</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span> <span class="comment">//TR TODO: cleanup</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Type" id="582935">lenientPt</a> = <a href="#582934" title="Typers.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582833" title="List[Typers.this.global.Type]">lenientTargs</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Int" id="582936">newmode</a> = 
                  <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106215" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#582835" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(32)">POLYmode</span>
                  <span class="keyword">else</span> POLYmode <span title="Int(32800)">|</span> BYVALmode
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582835" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#582835" title="List[Typers.this.global.Type]">remainingParams</a> = <a href="#582835" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582937">arg1</a> = <a href="#105900" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#582933" title="Typers.this.global.Tree">arg</a>, <a href="#105596" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#557209" title="Int">mode</a><span class="delimiter">)</span>, <a href="#582936" title="Int">newmode</a>, <a href="#582935" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="582938">argtparams</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106687" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#582938" title="List[Typers.this.global.Symbol]">argtparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Type" id="582949">strictPt</a> = <a href="#582934" title="Typers.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582834" title="List[Typers.this.global.Type]">strictTargs</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#105991" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], strictPt: Typers.this.global.Type, lenientPt: Typers.this.global.Type)Unit">inferArgumentInstance</a><span class="delimiter">(</span><a href="#582937" title="Typers.this.global.Tree">arg1</a>, <a href="#582938" title="List[Typers.this.global.Symbol]">argtparams</a>, <a href="#582949" title="Typers.this.global.Type">strictPt</a>, <a href="#582935" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#582937" title="Typers.this.global.Tree">arg1</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582837">args1</a> = <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type])(List[Typers.this.global.Tree], List[Typers.this.global.Type])" class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#582483" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.Tree], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#582836" title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree">typedArgToPoly</a>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582837" title="List[Typers.this.global.Tree]">args1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#583045" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer method inst &quot;)" class="string">&quot;infer method inst &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582244" title="Typers.this.global.Tree">fun</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, tparams = &quot;)" class="string">&quot;, tparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, args = &quot;)" class="string">&quot;, args = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582837" title="List[Typers.this.global.Tree]">args1</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#583070" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557210" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, lobounds = &quot;)" class="string">&quot;, lobounds = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#583114" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Typers.this.global.Type">lo</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, parambounds = &quot;)" class="string">&quot;, parambounds = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#583152" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//debug</span>
                <span class="comment">// define the undetparams which have been fixed by this param list, replace the corresponding symbols in &quot;fun&quot;</span>
                <span class="comment">// returns those undetparams which have not been instantiated.</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="583049">undetparams</a> = <a href="Infer.scala.html#105994" title="(fn: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], args: List[Typers.this.global.Tree], pt0: Typers.this.global.Type)List[Typers.this.global.Symbol]">inferMethodInstance</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582689" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582837" title="List[Typers.this.global.Tree]">args1</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="583050">result</a> = <a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#582837" title="List[Typers.this.global.Tree]">args1</a>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#583049" title="List[Typers.this.global.Symbol]">undetparams</a>
                <a href="#583050" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#557209" title="Int">mode</a>, <a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Typers.this.global.Apply">ErrorType</a> =&gt;
          <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162482" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">/* --- begin unapply  --- */</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="583192">otpe</a> <span class="keyword">if</span> <a href="Modes.scala.html#105588" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557209" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Unapplies.scala.html#105716" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#583192" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <a href="../symtab/Definitions.scala.html#106316" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;too many arguments for unapply pattern, maximum = &quot;)" class="string">&quot;too many arguments for unapply pattern, maximum = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Definitions.scala.html#106316" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])" id="583193">freshArgType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="583203">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</span>Type, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#583203" title="Typers.this.global.Type">tp</a>: @<a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type @unchecked">unchecked</a><span class="delimiter">)</span> <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Type, scala.collection.immutable.Nil.type)">MethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="583210">param</a> :: _, _<span class="delimiter">)</span> =&gt; 
              <span title="(_1: Typers.this.global.Type, _2: scala.collection.immutable.Nil.type)(Typers.this.global.Type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="#583210" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="583219">tparams</a>, <a title="Typers.this.global.Type" id="583220">restype</a><span class="delimiter">)</span> =&gt; 
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="583221">tparams1</a> = <a href="../symtab/Symbols.scala.html#67330" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#583219" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.Type, _2: List[Typers.this.global.Symbol])(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#583193" title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])">freshArgType</a><span class="delimiter">(</span><a href="#583220" title="Typers.this.global.Type">restype</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">_1</span>.<a href="../symtab/Types.scala.html#105364" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#583219" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#583221" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#583221" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.ErrorType.type, scala.collection.immutable.Nil.type)">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;cannot resolve overloaded unapply&quot;)" class="string">&quot;cannot resolve overloaded unapply&quot;</span><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.ErrorType.type, _2: scala.collection.immutable.Nil.type)(Typers.this.global.ErrorType.type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="583194">unapp</a>     = <a href="Unapplies.scala.html#105716" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#583192" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>          
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583195">unappType</a> = <a href="#583192" title="Typers.this.global.Type">otpe</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#583194" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="583196">argDummy</a>  = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="Analyzer.scala.html#105486" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">SELECTOR_DUMMY</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Typers.this.global.TermSymbol">setFlag</a> <span title="Long(2097152L)">SYNTHETIC</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="#557210" title="Typers.this.global.Type">pt</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="583197">arg</a>       = <a href="../ast/Trees.scala.html#67802" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#583196" title="Typers.this.global.TermSymbol">argDummy</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="#557210" title="Typers.this.global.Type">pt</a>
          
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Infer.scala.html#105982" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#583195" title="Typers.this.global.Type">unappType</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(&quot;UNAPP: need to typetest, arg.tpe = &quot;+arg.tpe+&quot;, unappType = &quot;+unappType)</span>
            <span class="keyword">val</span> <a href="#583313" title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#583312" title="Typers.this.global.Type" id="583313">unappFormal</a>, <a href="#583312" title="List[Typers.this.global.Symbol]" id="583314">freeVars</a><span class="delimiter">)</span> = <a href="#583193" title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])">freshArgType</a><span title="(Typers.this.global.Type, List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#583195" title="Typers.this.global.Type">unappType</a>.<a href="../symtab/Types.scala.html#105340" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#557206" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="583315">context1</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#583314" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <a href="#583315" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a>
            
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="583316">typer1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#583315" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583317">pattp</a>  = <a href="#583316" title="Typers.this.Typer">typer1</a>.<a href="#105820" title="=&gt; Typers.this.Inferencer">infer</a>.<a href="Infer.scala.html#106002" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#583313" title="Typers.this.global.Type">unappFormal</a>, <a href="#583197" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            
            <span class="comment">// turn any unresolved type variables in freevars into existential skolems</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.TypeSkolem]" id="583318">skolems</a> = <a href="#583314" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeSkolem)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeSkolem,List[Typers.this.global.TypeSkolem]])List[Typers.this.global.TypeSkolem]">map</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="583389">fv</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.TypeSkolem" id="583390">skolem</a> = <span title="Typers.this.global.TypeSkolem" class="keyword">new</span> <a href="../symtab/Symbols.scala.html#67325" title="Typers.this.global.TypeSkolem">TypeSkolem</a><span class="delimiter">(</span><a href="#583315" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#583389" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96578" title="=&gt; Typers.this.global.TypeName">toTypeName</a>, <a href="#583389" title="Typers.this.global.Symbol">fv</a><span class="delimiter">)</span>
              <a href="#583390" title="Typers.this.global.TypeSkolem">skolem</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)skolem.type">setInfo</a><span class="delimiter">(</span><a href="#583389" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105387" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#583390" title="Typers.this.global.TypeSkolem">skolem</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)skolem.type">setFlag</a><span class="delimiter">(</span><a href="#583389" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)skolem.type">resetFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span>
              <a href="#583390" title="Typers.this.global.TypeSkolem">skolem</a>
            <span class="delimiter">}</span>
            <a href="#583197" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#583317" title="Typers.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105364" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#583314" title="List[Typers.this.global.Symbol]">freeVars</a>, <a href="#583318" title="List[Typers.this.global.TypeSkolem]">skolems</a><span class="delimiter">)</span>
            <a href="#583196" title="Typers.this.global.TermSymbol">argDummy</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)argDummy.type">setInfo</a> <a href="#583197" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span>

          <span class="comment">// setType null is necessary so that ref will be stabilized; see bug 881</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="583198">fun1</a> = <a href="#105923" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <span title="Null(null)" class="keyword">null</span>, <a href="#583194" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Ident*)List[Typers.this.global.Ident]">List</span><span class="delimiter">(</span><a href="#583197" title="Typers.this.global.Ident">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#583198" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="583471">formals0</a> = <a href="Unapplies.scala.html#105712" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#583198" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#583198" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="583472">formals1</a> = <a href="Infer.scala.html#105616" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#583471" title="List[Typers.this.global.Type]">formals0</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#583472" title="List[Typers.this.global.Type]">formals1</a>, <a href="#557208" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="583477">args1</a> = <a href="#105902" title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#557208" title="List[Typers.this.global.Tree]">args</a>, <a href="#557209" title="Int">mode</a>, <a href="#583471" title="List[Typers.this.global.Type]">formals0</a>, <a href="#583472" title="List[Typers.this.global.Type]">formals1</a><span class="delimiter">)</span>
              <span class="comment">// This used to be the following (failing) assert:</span>
              <span class="comment">//   assert(isFullyDefined(pt), tree+&quot; ==&gt; &quot;+UnApply(fun1, args1)+&quot;, pt = &quot;+pt)</span>
              <span class="comment">// I modified as follows.  See SI-1048.</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583478">pt1</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#557210" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="Infer.scala.html#105970" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#557210" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583479">itype</a> = <a href="../symtab/Types.scala.html#67647" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#583478" title="Typers.this.global.Type">pt1</a>, <a href="#583197" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#583197" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#583478" title="Typers.this.global.Type">pt1</a>    <span class="comment">// restore type (arg is a dummy tree, just needs to pass typechecking)</span>
              <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#583198" title="Typers.this.global.Tree">fun1</a>, <a href="#583477" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.UnApply">setPos</span> <a href="#557206" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#583479" title="Typers.this.global.Type">itype</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105786" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#582244" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          
<span class="comment">/* --- end unapply  --- */</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557206" title="Typers.this.global.Tree">tree</a>, <a href="#582244" title="Typers.this.global.Tree">fun</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not take parameters&quot;)" class="string">&quot; does not take parameters&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Convert an annotation constructor call into an AnnotationInfo.
     *
     * @param annClass the expected annotation class
     */</span>
    <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo" id="105907">typedAnnotation</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="554863">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="554869">mode</a>: <span title="Int">Int</span> = <span title="Int(1)">EXPRmode</span>, <a title="Typers.this.global.Symbol" id="554870">selfsym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a title="Typers.this.global.Symbol" id="554871">annClass</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Definitions.scala.html#106109" title="=&gt; Typers.this.global.Symbol">AnnotationClass</a>, <a title="Boolean" id="554872">requireJava</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../symtab/AnnotationInfos.scala.html#67743" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="583508">annotationError</a> = <a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="583509">hasError</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo" id="583510">error</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="583517">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a>, <a title="String" id="583518">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106709" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#583517" title="Typers.this.global.Position">pos</a>, <a href="#583518" title="String">msg</a><span class="delimiter">)</span>
        <a href="#583509" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#583507" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Calling constfold right here is necessary because some trees (negated
       *  floats and literals in particular) are not yet folded.
       */</span>
      <span class="keyword">def</span> <a title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]" id="583511">tryConst</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583523">tr</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="583524">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.LiteralAnnotArg]">Option</span><span class="delimiter">[</span>LiteralAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Constant" id="583525">const</a>: <span title="Typers.this.global.Constant">Constant</span> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="ConstantFolder.scala.html#106804" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#583523" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>, <span title="Int(1)">EXPRmode</span>, <a href="#583524" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="583537">l</a> @ Literal<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="583541">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">l</a>.<a href="../ast/Trees.scala.html#109032" title="=&gt; Boolean">isErroneous</a> =&gt; <a href="#583541" title="Typers.this.global.Constant">c</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="583544">tree</a> =&gt; <a href="#583544" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Constant">ConstantType</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="583546">c</a><span class="delimiter">)</span>  =&gt; <a href="#583546" title="Typers.this.global.Constant">c</a>
            <span class="keyword">case</span> <a title="Null(null)" id="583547">tpe</a>              =&gt; <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(msg: String)None.type" id="583526">fail</a><span class="delimiter">(</span><a title="String" id="583548">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583523" title="Typers.this.global.Tree">tr</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#583548" title="String">msg</a><span class="delimiter">)</span> ; <span title="object None">None</span> <span class="delimiter">}</span>

        <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583525" title="Typers.this.global.Constant">const</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#583526" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;annotation argument needs to be a constant; found: &quot;)" class="string">&quot;annotation argument needs to be a constant; found: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583523" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583525" title="Typers.this.global.Constant">const</a>.<span title="=&gt; Any">value</span> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#583526" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;annotation argument cannot be null&quot;)" class="string">&quot;annotation argument cannot be null&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="(x: Typers.this.global.LiteralAnnotArg)Some[Typers.this.global.LiteralAnnotArg]">Some</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#234766" title="(const: Typers.this.global.Constant)Typers.this.global.LiteralAnnotArg">LiteralAnnotArg</a><span class="delimiter">(</span><a href="#583525" title="Typers.this.global.Constant">const</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Converts an untyped tree to a ClassfileAnnotArg. If the conversion fails,
       *  an error message is reported and None is returned.
       */</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]" id="583512">tree2ConstArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583558">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="583559">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ClassfileAnnotArg]">Option</span><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span> = <a href="#583558" title="Typers.this.global.Tree">tree</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="None.type">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583569">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="583570">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#583559" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106253" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583558" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;Array constants have to be specified using the `Array(...)\' factory method&quot;)" class="string">&quot;Array constants have to be specified using the `Array(...)' factory method&quot;</span><span class="delimiter">)</span>
          <span title="object None">None</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="583576">ann</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583586">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="583587">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="583588">annInfo</a> = <a href="#105907" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#583576" title="Typers.this.global.Apply">ann</a>, <a href="#554869" title="Int">mode</a>, <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#583559" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583588" title="Typers.this.global.AnnotationInfo">annInfo</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// recursive typedAnnotation call already printed an error, so don't call &quot;error&quot;</span>
            <a href="#583509" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span title="object None">None</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(x: Typers.this.global.NestedAnnotArg)Some[Typers.this.global.NestedAnnotArg]">Some</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#235997" title="(annInfo: Typers.this.global.AnnotationInfo)Typers.this.global.NestedAnnotArg">NestedAnnotArg</a><span class="delimiter">(</span><a href="#583588" title="Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// use of Array.apply[T: ClassManifest](xs: T*): Array[T]</span>
        <span class="comment">// and    Array.apply(x: Int, xs: Int*): Array[Int]       (and similar)</span>
        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583596">fun</a>, <a title="List[Typers.this.global.Tree]" id="583597">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="583598">typedFun</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#583596" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105580" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#554869" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583598" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106250" title="=&gt; Typers.this.global.Symbol">ArrayModule</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#583598" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <a href="#583559" title="Typers.this.global.Type">pt</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Option[Typers.this.global.ArrayAnnotArg]">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106253" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>, <a title="Typers.this.global.Type" id="583622">targ</a> :: _<span class="delimiter">)</span> =&gt;
                <a href="#583513" title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]">trees2ConstArg</a><span class="delimiter">(</span><a href="#583597" title="List[Typers.this.global.Tree]">args</a>, <a href="#583622" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
                <span class="comment">// For classfile annotations, pt can only be T:</span>
                <span class="comment">//   BT = Int, .., String, Class[_], JavaAnnotClass</span>
                <span class="comment">//   T = BT | Array[BT]</span>
                <span class="comment">// So an array literal as argument can only be valid if pt is Array[_]</span>
                <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583558" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;found array constant, expected argument of type &quot;)" class="string">&quot;found array constant, expected argument of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583559" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="#583511" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#583558" title="Typers.this.global.Tree">tree</a>, <a href="#583559" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583627">t</a>, _<span class="delimiter">)</span> =&gt; <a href="#583512" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#583627" title="Typers.this.global.Tree">t</a>, <a href="#583559" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.LiteralAnnotArg]" id="583628">tree</a> =&gt;
          <a href="#583511" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#583628" title="Typers.this.global.Tree">tree</a>, <a href="#583559" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]" id="583513">trees2ConstArg</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="583623">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="583624">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ArrayAnnotArg]">Option</span><span class="delimiter">[</span>ArrayAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Option[Typers.this.global.ClassfileAnnotArg]]" id="583629">args</a> = <a href="#583623" title="List[Typers.this.global.Tree]">trees</a>.<span title="(f: Typers.this.global.Tree =&gt; Option[Typers.this.global.ClassfileAnnotArg])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]])List[Option[Typers.this.global.ClassfileAnnotArg]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]]" class="delimiter">(</span><a href="#583512" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#583646" title="Typers.this.global.Tree">_</a>, <a href="#583624" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[Typers.this.global.ArrayAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583629" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<span title="(p: Option[Typers.this.global.ClassfileAnnotArg] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#583680" title="Option[Typers.this.global.ClassfileAnnotArg]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object None">None</span>
        <span class="keyword">else</span> <span title="(x: Typers.this.global.ArrayAnnotArg)Some[Typers.this.global.ArrayAnnotArg]">Some</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#235231" title="(args: Array[Typers.this.global.ClassfileAnnotArg])Typers.this.global.ArrayAnnotArg">ArrayAnnotArg</a><span class="delimiter">(</span><a href="#583629" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="#583718" title="(implicit asTraversable: Option[Typers.this.global.ClassfileAnnotArg] =&gt; scala.collection.TraversableOnce[Typers.this.global.ClassfileAnnotArg])List[Typers.this.global.ClassfileAnnotArg]">flatten</a>.<a href="Analyzer.scala.html#105486" title="(implicit evidence$1: ClassManifest[Typers.this.global.ClassfileAnnotArg])Array[Typers.this.global.ClassfileAnnotArg]">toArray</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// begin typedAnnotation</span>
      <span class="keyword">val</span> <a href="#583515" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#583514" title="Typers.this.global.Tree" id="583515">fun</a>, <a href="#583514" title="List[List[Typers.this.global.Tree]]" id="583516">argss</a><span class="delimiter">)</span> = <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]]) @unchecked" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="583748">extract</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583749">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[List[Typers.this.global.Tree]]" id="583750">outerArgss</a>: <span title="List[List[Typers.this.global.Tree]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
          <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#583749" title="Typers.this.global.Tree">fun</a> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583753">f</a>, <a title="List[Typers.this.global.Tree]" id="583754">args</a><span class="delimiter">)</span> =&gt;
              <a href="#583748" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#583753" title="Typers.this.global.Tree">f</a>, <a href="#583754" title="List[Typers.this.global.Tree]">args</a> <a href="#583755" title="(x: List[Typers.this.global.Tree])List[List[Typers.this.global.Tree]]">::</a> <a href="#583750" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583768">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="#583749" title="Typers.this.global.Tree">fun</a>, <a href="#583750" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">_</span> =&gt;
              <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583749" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;unexpected tree in annotation: &quot;)" class="string">&quot;unexpected tree in annotation: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583749" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#583749" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>, <a href="#583750" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <a href="#583748" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#554863" title="Typers.this.global.Tree">ann</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun</a>.<a href="../ast/Trees.scala.html#109032" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#583507" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="(Typers.this.global.Select, Typers.this.global.Tree)" id="583804">typedFun</a> @ Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a href="#583803" title="Typers.this.global.Tree" id="583805">tpt</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span title="Typers.this.global.Tree @unchecked" class="delimiter">(</span><a href="#583515" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105580" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#554869" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583806">annType</a> = <a href="#583805" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>

        <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">typedFun</a>.<a href="../ast/Trees.scala.html#109032" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#583507" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
        <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#583806" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107447" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106111" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// annotation to be saved as java classfile annotation</span>
          <span class="keyword">val</span> <a title="Boolean" id="583828">isJava</a> = <a href="#583804" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isJavaDefined</span>
          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#583806" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107447" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="#554871" title="Typers.this.global.Symbol">annClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583805" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;expected annotation of type &quot;)" class="string">&quot;expected annotation of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#554871" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, found &quot;)" class="string">&quot;, found &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583806" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#583516" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#554863" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;multiple argument lists on classfile annotation&quot;)" class="string">&quot;multiple argument lists on classfile annotation&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="583834">args</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583516" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#105745" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">(</span><a href="#583516" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(xs: Typers.this.global.AssignOrNamedArg*)List[Typers.this.global.AssignOrNamedArg]">List</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#67811" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115462" title="=&gt; Typers.this.global.nme.NameType">value</a><span class="delimiter">)</span>, <a href="#583516" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#583516" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="583835">annScope</a> = <a href="#583806" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a>
                .<a href="../symtab/Scopes.scala.html#112963" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="583872">sym</a> =&gt; <a href="#583872" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#583872" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#583872" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]" id="583836">names</a> = <span title="()scala.collection.mutable.HashSet[Typers.this.global.Symbol]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#583836" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])names.type">++=</span> <span class="delimiter">(</span><span title="scala.collection.TraversableOnce[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583828" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#583835" title="Typers.this.global.Scope">annScope</a>.<a href="../symtab/Scopes.scala.html#112959" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a>
                       <span class="keyword">else</span> <a href="#583804" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]" id="583837">nvPairs</a> = <a href="#583834" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]))(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]),List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]])List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">map</span> <a href="#583892" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="583893">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="583899">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="583900">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="583901">sym</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#583828" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#583835" title="Typers.this.global.Scope">annScope</a>.<a href="../symtab/Scopes.scala.html#112953" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#583899" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <a href="#583804" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="583911">p</a> =&gt; <a href="#583911" title="Typers.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#583899" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">getOrElse</span><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="#583901" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583893" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;unknown annotation argument name: &quot;)" class="string">&quot;unknown annotation argument name: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583899" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114894" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#583836" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a>.<span title="(elem: Typers.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#583901" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583893" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;duplicate value for annotation argument &quot;)" class="string">&quot;duplicate value for annotation argument &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583899" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114894" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#583836" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(elem: Typers.this.global.Symbol)names.type">-=</span> <a href="#583901" title="Typers.this.global.Symbol">sym</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#583828" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#583901" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107434" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// #3429</span>
                  <span class="keyword">val</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="583941">annArg</a> = <a href="#583512" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#583900" title="Typers.this.global.Tree">rhs</a>, <a href="#583901" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.Name, _2: Option[Typers.this.global.ClassfileAnnotArg])(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">(</span><a href="#583901" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a>, <a href="#583941" title="Option[Typers.this.global.ClassfileAnnotArg]">annArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <a title="(Typers.this.global.nme.NameType, None.type)" id="583959">arg</a> =&gt;
                <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583959" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;classfile annotation arguments have to be supplied as named arguments&quot;)" class="string">&quot;classfile annotation arguments have to be supplied as named arguments&quot;</span><span class="delimiter">)</span>
                <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114894" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584012">name</a> &lt;- <a href="#583836" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">names</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#584012" title="Typers.this.global.Symbol">name</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106491" title="=&gt; Typers.this.global.Symbol">AnnotationDefaultAttr</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <span title="=&gt; Boolean">!</span><a href="#584012" title="Typers.this.global.Symbol">name</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span>
                <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#554863" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;annotation &quot;)" class="string">&quot;annotation &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583806" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is missing argument &quot;)" class="string">&quot; is missing argument &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#584012" title="Typers.this.global.Symbol">name</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#583509" title="Boolean">hasError</a><span class="delimiter">)</span> <a href="#583507" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
            <span class="keyword">else</span> <a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#583806" title="Typers.this.global.Type">annType</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#583837" title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">nvPairs</a> <span title="(f: (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]) =&gt; (Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])],(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg),List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]])List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]">map</span> <span class="delimiter">{</span><a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="584072">p</a> =&gt; <span title="(_1: Typers.this.global.Name, _2: Typers.this.global.ClassfileAnnotArg)(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)" class="delimiter">(</span><a href="#584072" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Typers.this.global.Name">_1</span>, <a href="#584072" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Option[Typers.this.global.ClassfileAnnotArg]">_2</span>.<span title="=&gt; Typers.this.global.ClassfileAnnotArg">get</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../symtab/AnnotationInfos.scala.html#133324" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#554863" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#554872" title="Boolean">requireJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#554863" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;nested classfile annotations must be defined in java; found: &quot;)" class="string">&quot;nested classfile annotations must be defined in java; found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583806" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="584110">typedAnn</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#554870" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#554863" title="Typers.this.global.Tree">ann</a>, <a href="#554869" title="Int">mode</a>, <a href="#554871" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// Since a selfsym is supplied, the annotation should have</span>
            <span class="comment">// an extra &quot;self&quot; identifier in scope for type checking.</span>
            <span class="comment">// This is implemented by wrapping the rhs</span>
            <span class="comment">// in a function like &quot;self =&gt; rhs&quot; during type checking,</span>
            <span class="comment">// and then stripping the &quot;self =&gt;&quot; and substituting</span>
            <span class="comment">// in the supplied selfsym.</span>
            <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="584120">funcparm</a> = <a href="Analyzer.scala.html#105486" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="=&gt; Typers.this.global.Modifiers">NoMods</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115432" title="=&gt; Typers.this.global.nme.NameType">self</a>, <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#554870" title="Typers.this.global.Symbol">selfsym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Function" id="584121">func</a> = <a href="Analyzer.scala.html#105486" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.ValDef*)List[Typers.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#584120" title="Typers.this.global.ValDef">funcparm</a><span class="delimiter">)</span>, <a href="#554863" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; ann.type">duplicate</span><span class="delimiter">)</span>
                                         <span class="comment">// The .duplicate of annot.constr</span>
                                         <span class="comment">// deals with problems that</span>
                                         <span class="comment">// accur if this annotation is</span>
                                         <span class="comment">// later typed again, which</span>
                                         <span class="comment">// the compiler sometimes does.</span>
                                         <span class="comment">// The problem is that &quot;self&quot;</span>
                                         <span class="comment">// ident's within annot.constr</span>
                                         <span class="comment">// will retain the old symbol</span>
                                         <span class="comment">// from the previous typing.</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="584122">fun1clazz</a> = <a href="../symtab/Definitions.scala.html#106328" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584123">funcType</a> = <a href="../symtab/Types.scala.html#67472" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#584122" title="Typers.this.global.Symbol">fun1clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105323" title="=&gt; Typers.this.global.Type">prefix</a>, 
                                   <a href="#584122" title="Typers.this.global.Symbol">fun1clazz</a>, 
                                   <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#554870" title="Typers.this.global.Symbol">selfsym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>, <a href="#554871" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#584121" title="Typers.this.global.Function">func</a>, <a href="#554869" title="Int">mode</a>, <a href="#584123" title="Typers.this.global.Type">funcType</a><span class="delimiter">)</span>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="584166">t</a> @ Function<span class="delimiter">(</span><a href="#584170" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="584181">arg</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="584182">rhs</a><span class="delimiter">)</span> =&gt; 
                <span class="keyword">val</span> <a title="Typers.this.global.TreeSymSubstituter" id="584183">subs</a> =
                  <span title="Typers.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67836" title="Typers.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#584181" title="Typers.this.global.ValDef">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>,<span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#554870" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#167590" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">subs</a><span class="delimiter">(</span><a href="#584182" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo" id="584111">annInfo</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584205">t</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../symtab/AnnotationInfos.scala.html#67743" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <a href="#584205" title="Typers.this.global.Tree">t</a> <span title="Typers.this.global.AnnotationInfo" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584215">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="584216">args</a><span class="delimiter">)</span> =&gt;
              <a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#583806" title="Typers.this.global.Type">annType</a>, <a href="#584216" title="List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/AnnotationInfos.scala.html#133324" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#584205" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="584228">stats</a>, <a title="Typers.this.global.Tree" id="584229">expr</a><span class="delimiter">)</span> =&gt;
              <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106710" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#584205" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Usage of named or default arguments transformed this annotation\n&quot;</span>+
                                <span class="string">&quot;constructor call into a block. The corresponding AnnotationInfo\n&quot;</span>+
                                <span class="string">&quot;will contain references to local values and default getters instead\n&quot;</span><span title="java.lang.String(&quot;Usage of named or default arguments transformed this annotation\012constructor call into a block. The corresponding AnnotationInfo\012will contain references to local values and default getters instead\012of the actual argument trees&quot;)">+</span>
                                <span class="string">&quot;of the actual argument trees&quot;</span><span class="delimiter">)</span>
              <a href="#584111" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#584229" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584234">fun</a>, <a title="List[Typers.this.global.Tree]" id="584235">args</a><span class="delimiter">)</span> =&gt;
              <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106710" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#584205" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Implementation limitation: multiple argument lists on annotations are\n&quot;</span><span title="java.lang.String(&quot;Implementation limitation: multiple argument lists on annotations are\012currently not supported; ignoring arguments &quot;)">+</span>
                                     <span class="string">&quot;currently not supported; ignoring arguments &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#584235" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#584111" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#584234" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">_</span> =&gt;
              <a href="#583510" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#584205" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;unexpected tree after typing annotation: &quot;)" class="string">&quot;unexpected tree after typing annotation: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#584110" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#583806" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106467" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#583516" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableOnce[Typers.this.global.Tree])List[Typers.this.global.Tree]">flatten</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96432" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#554863" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;@deprecated now takes two arguments; see the scaladoc.&quot;)" class="string">&quot;@deprecated now takes two arguments; see the scaladoc.&quot;</span><span class="delimiter">)</span>

          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#584110" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#584110" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#583507" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
          <span class="keyword">else</span> <a href="#584111" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#584110" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="105908">isRawParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584289">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="comment">// is it a type parameter leaked by a raw type?</span>
      <a href="#584289" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTypeParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584289" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isJavaDefined</span>

    <span class="comment">/** Given a set `rawSyms` of term- and type-symbols, and a type
     *  `tp`, produce a set of fresh type parameters and a type so that
     *  it can be abstracted to an existential type. Every type symbol
     *  `T` in `rawSyms` is mapped to a clone. Every term symbol `x` of
     *  type `T` in `rawSyms` is given an associated type symbol of the
     *  following form:
     *
     *    type x.type &lt;: T with Singleton
     *
     *  The name of the type parameter is `x.type`, to produce nice
     *  diagnostics. The Singleton parent ensures that the type
     *  parameter is still seen as a stable type. Type symbols in
     *  rawSyms are fully replaced by the new symbols. Term symbols are
     *  also replaced, except for term symbols of an Ident tree, where
     *  only the type of the Ident is changed.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="105909">existentialTransform</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="584292">rawSyms</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="584293">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="584296">typeParams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#584292" title="List[Typers.this.global.Symbol]">rawSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="584314">sym</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.TypeName" id="584315">name</a> = <a href="#584314" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="Typers.this.global.TypeName" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="584319">x</a>: <a href="../symtab/Names.scala.html#66916" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#584319" title="Typers.this.global.TypeName">x</a>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="584320">x</a>            =&gt; <a href="../symtab/Names.scala.html#66906" title="(s: String)Typers.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#584320" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">x</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584316">bound</a>      = <a href="#584314" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107442" title="=&gt; Typers.this.global.Type">existentialBound</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="584317">sowner</a>     = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#105908" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#584314" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#584314" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="584318">quantified</a> = <a href="#584317" title="Typers.this.global.Symbol">sowner</a>.<a href="../symtab/Symbols.scala.html#107303" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.Symbol">newExistential</a><span class="delimiter">(</span><a href="#584314" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#584315" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
        
        <a href="#584318" title="Typers.this.global.Symbol">quantified</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)quantified.type">setInfo</a> <a href="#584316" title="Typers.this.global.Type">bound</a>.<a href="../symtab/Types.scala.html#105387" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#584318" title="Typers.this.global.Symbol">quantified</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="comment">// Higher-kinded existentials are not yet supported, but this is</span>
      <span class="comment">// tpeHK for when they are: &quot;if a type constructor is expected/allowed,</span>
      <span class="comment">// tpeHK must be called instead of tpe.&quot;</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="584297">typeParamTypes</a> = <a href="#584296" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#584375" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107422" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
      <span title="(_1: List[Typers.this.global.Symbol], _2: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</span>
        <a href="#584296" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584417">tparam</a> =&gt; <a href="#584417" title="Typers.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)tparam.type">setInfo</a> <a href="#584417" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#584292" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#584297" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="#584293" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#584292" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#584297" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Compute an existential type from raw hidden symbols `syms' and type `tp'
     */</span>
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type" id="105910">packSymbols</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="575280">hidden</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="575281">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = 
      <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#575280" title="List[Typers.this.global.Symbol]">hidden</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#575281" title="Typers.this.global.Type">tp</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//          Console.println(&quot;original type: &quot;+tp)</span>
<span class="comment">//          Console.println(&quot;hidden symbols: &quot;+hidden)</span>
        <span class="keyword">val</span> <a href="#584456" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="#584455" title="List[Typers.this.global.Symbol]" id="584456">tparams</a>, <a href="#584455" title="Typers.this.global.Type" id="584457">tp1</a><span class="delimiter">)</span> = <a href="#105909" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">existentialTransform</a><span title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#575280" title="List[Typers.this.global.Symbol]">hidden</a>, <a href="#575281" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
<span class="comment">//          Console.println(&quot;tparams: &quot;+tparams+&quot;, result: &quot;+tp1)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584458">res</a> = <a href="../symtab/Types.scala.html#67482" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#584456" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#584457" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
<span class="comment">//          Console.println(&quot;final result: &quot;+res)</span>
        <a href="#584458" title="Typers.this.global.Type">res</a>
      <span class="delimiter">}</span>

    <span class="comment">/** convert skolems to existentials */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type" id="105911">packedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="564573">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="564574">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean" id="584471">defines</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584481">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="584482">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
        <a href="#584482" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107343" title="=&gt; Boolean">isExistentialSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584482" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107499" title="=&gt; AnyRef">unpackLocation</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#584481" title="Typers.this.global.Tree">tree</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#584481" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584481" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#584482" title="Typers.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="584472">isVisibleParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584493">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
        <a href="#584493" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#584493" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#564574" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#584493" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#564574" title="Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107347" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean" id="584473">containsDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584499">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="584500">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
        <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#584500" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasPackageFlag</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="584501">o</a> = <a href="#584500" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#584501" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#584499" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584501" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584501" title="Typers.this.global.Symbol">o</a>.<span title="=&gt; Boolean">hasPackageFlag</span><span class="delimiter">)</span> <a href="#584501" title="Typers.this.global.Symbol">o</a> = <a href="#584501" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>
          <a href="#584501" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#584499" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584472" title="(sym: Typers.this.global.Symbol)Boolean">isVisibleParameter</a><span class="delimiter">(</span><a href="#584500" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="584474">localSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="584475">boundSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="584476">isLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584521">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#584521" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#584521" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isRefinementClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#584521" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107330" title="=&gt; Boolean">isLocalDummy</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#564574" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a> <a href="../ast/Trees.scala.html#109039" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#584471" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean">defines</a><span class="delimiter">(</span><a href="#584596" title="Typers.this.global.Tree">_</a>, <a href="#584521" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#584473" title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean">containsDef</a><span class="delimiter">(</span><a href="#564574" title="Typers.this.global.Symbol">owner</a>, <a href="#584521" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#105908" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#584521" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Boolean" id="584477">containsLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584597">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
        <a href="#584597" title="Typers.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105371" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="584600">t</a> =&gt; <a href="#584476" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#584600" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#584476" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#584600" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105312" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.TypeMap" id="584478">normalizeLocals</a> = <a href="#584601" title="Typers.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67503" title="anonymous class $anon extends Typers.this.global.TypeMap" id="584601">TypeMap</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="584603">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584604">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <a href="#584604" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584610">pre</a>, <a title="Typers.this.global.Symbol" id="584611">sym</a>, <a title="List[Typers.this.global.Type]" id="584612">args</a><span class="delimiter">)</span> =&gt;
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#584611" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584477" title="(tp: Typers.this.global.Type)Boolean">containsLocal</a><span class="delimiter">(</span><a href="#584604" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#584603" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#584604" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584610" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> 
                <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106709" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#564573" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;Inferred type &quot;)" class="string">&quot;Inferred type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#564573" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; contains type selection from volatile type &quot;)" class="string">&quot; contains type selection from volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#584610" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#133280" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#584604" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> 
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../symtab/Types.scala.html#133280" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#584604" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">// add all local symbols of `tp' to `localSyms'</span>
      <span class="comment">// TODO: expand higher-kinded types into individual copies for each instance.</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Unit" id="584479">addLocals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584649">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="584650">remainingSyms</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit" id="584651">addIfLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584652">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="584653">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584476" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#584652" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584474" title="(elem: Typers.this.global.Symbol)Boolean">localSyms</a><span class="delimiter">(</span><a href="#584652" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584475" title="(elem: Typers.this.global.Symbol)Boolean">boundSyms</a><span class="delimiter">(</span><a href="#584652" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584652" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#584474" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a> <span title="(elem: Typers.this.global.Symbol)scala.collection.immutable.Set[Typers.this.global.Symbol]">+=</span> <a href="#584652" title="Typers.this.global.Symbol">sym</a>
              <a href="#584650" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">remainingSyms</a> <span title="(x: Typers.this.global.Symbol)remainingSyms.type">+=</span> <a href="#584652" title="Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96430" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#564573" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, 
                <span title="java.lang.String(&quot;can\'t existentially abstract over parameterized type &quot;)" class="string">&quot;can't existentially abstract over parameterized type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#584653" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> 
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="584703">t</a> &lt;- <a href="../symtab/Types.scala.html#105369" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#584703" title="Typers.this.global.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="584706">tparams</a>, _<span class="delimiter">)</span> =&gt; 
              <a href="#584475" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">boundSyms</a> <span title="(elems: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])scala.collection.immutable.Set[Typers.this.global.Symbol]">++=</span> <a href="#584706" title="List[Typers.this.global.Symbol]">tparams</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="584764">annots</a>, _, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="584784">annot</a> &lt;- <a href="#584764" title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit">annots</a>; <a title="Typers.this.global.Tree" id="584804">arg</a> &lt;- <a href="#584784" title="Typers.this.global.AnnotationInfo">annot</a>.<a href="../symtab/AnnotationInfos.scala.html#133315" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#584804" title="Typers.this.global.Tree">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                    <span class="comment">// Check the symbol of an Ident, unless the</span>
                    <span class="comment">// Ident's type is already over an existential.</span>
                    <span class="comment">// (If the type is already over an existential,</span>
                    <span class="comment">// then remap the type, not the core symbol.)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#584804" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <a href="#584651" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#584804" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#584804" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
          <a href="#584651" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#584703" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105312" title="=&gt; Typers.this.global.Symbol">termSymbol</a>, <a href="#584703" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
          <a href="#584651" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#584703" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#584703" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584831">sym</a> &lt;- <a href="#584650" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">remainingSyms</a><span class="delimiter">)</span> <a href="#584479" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#584831" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107442" title="=&gt; Typers.this.global.Type">existentialBound</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584480">normalizedTpe</a> = <a href="#584478" title="(v1: Typers.this.global.Type)Typers.this.global.Type">normalizeLocals</a><span class="delimiter">(</span><a href="#564573" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <a href="#584479" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#584480" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
      <a href="#105910" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#584474" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a>.<span title="=&gt; List[Typers.this.global.Symbol]">toList</span>, <a href="#584480" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree" id="105912">typedExistentialTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.ExistentialTypeTree" id="584835">tree</a>: <span title="Typers.this.global.ExistentialTypeTree">ExistentialTypeTree</span>, <a title="Int" id="584836">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584862">wc</a> &lt;- <a href="#584835" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)Unit">whereClauses</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#584862" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527535" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#584862" title="Typers.this.global.Tree">wc</a><span class="delimiter">)</span>; <a href="#584862" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">EXISTENTIAL</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#584862" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="584838">whereClauses1</a> = <a href="#105899" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#584835" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="584914">vd</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> &lt;- <a href="#584835" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="#584884" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">whereClauses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584914" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#584914" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal abstraction from value with volatile type &quot;)" class="string">&quot;illegal abstraction from value with volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#584914" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="584839">tpt1</a> = <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#584835" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>, <a href="#584836" title="Int">mode</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#584841" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="#584840" title="List[Typers.this.global.Symbol]" id="584841">typeParams</a>, <a href="#584840" title="Typers.this.global.Type" id="584842">tpe</a><span class="delimiter">)</span> = <a href="#105909" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">existentialTransform</a><span title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#584835" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#584944" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>, <a href="#584839" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="comment">//println(tpe + &quot;: &quot; + tpe.getClass )</span>
      <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#149074" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#584841" title="List[Typers.this.global.Symbol]">typeParams</a>, <a href="#584842" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#584835" title="Typers.this.global.ExistentialTypeTree">tree</a>
    <span class="delimiter">}</span>

    <span class="comment">// lifted out of typed1 because it's needed in typedImplicit0</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="105913">typedTypeApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="540919">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="540920">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Tree" id="540921">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="540922">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#540921" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584990">pre</a>, <a title="List[Typers.this.global.Symbol]" id="584991">alts</a><span class="delimiter">)</span> =&gt;
        <a href="Infer.scala.html#106018" title="(tree: Typers.this.global.Tree, argtypes: List[Typers.this.global.Type])Unit">inferPolyAlternatives</a><span class="delimiter">(</span><a href="#540921" title="Typers.this.global.Tree">fun</a>, <a href="#540922" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585012" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="584992">tparams</a> = <a href="#540921" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="comment">//@M TODO: fun.symbol.info.typeParams ? (as in typedAppliedTypeTree)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="584993">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#540922" title="List[Typers.this.global.Tree]">args</a>, <a href="#584992" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//@M: in case TypeApply we can't check the kind-arities of the type arguments,</span>
          <span class="comment">// as we don't know which alternative to choose... here we do</span>
          <a href="../symtab/Types.scala.html#67607" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#540922" title="List[Typers.this.global.Tree]">args</a>, <a href="#584992" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
            <span class="comment">//@M! the polytype denotes the expected kind</span>
            <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585075">arg</a>, <a title="Typers.this.global.Symbol" id="585076">tparam</a><span class="delimiter">)</span> =&gt; <a href="#105932" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#585075" title="Typers.this.global.Tree">arg</a>, <a href="#540920" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67479" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#585076" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#106075" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> 
          <span class="delimiter">}</span>          
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="comment">// @M: there's probably something wrong when args.length != tparams.length... (triggered by bug #320)</span>
         <span class="comment">// Martin, I'm using fake trees, because, if you use args or arg.map(typedType), </span>
         <span class="comment">// inferPolyAlternatives loops...  -- I have no idea why :-(</span>
         <span class="comment">// ...actually this was looping anyway, see bug #278.</span>
          <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#540921" title="Typers.this.global.Tree">fun</a>, <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105786" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#540921" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <a href="#105913" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>, <a href="#540920" title="Int">mode</a>, <a href="#540921" title="Typers.this.global.Tree">fun</a>, <a href="#584993" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
        <a href="#105913" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>, <a href="#540920" title="Int">mode</a>, <a href="#540921" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#540921" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#540922" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="585097">tparams</a>, <a title="Typers.this.global.Type" id="585098">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#585097" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#585097" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#540922" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="585101">targs</a> = <a href="#540922" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585112" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#105989" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/Types.scala.html#67397" title="object Typers.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#585097" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#585101" title="List[Typers.this.global.Type]">targs</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#540921" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106173" title="=&gt; Typers.this.global.Symbol">Predef_classOf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#105835" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#540922" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Typers.this.global.Tree">head</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> 
            <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105441" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkClassOf</a><span class="delimiter">(</span><a href="#585101" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#540921" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106389" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#585101" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#106000" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585101" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Typers.this.global.Type">head</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585159">resultpe</a> = <a href="#585098" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105339" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#585097" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#585101" title="List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>
            <span class="comment">//@M substitution in instantiateParams needs to be careful!</span>
            <span class="comment">//@M example: class Foo[a] { def foo[m[x]]: m[a] = error(&quot;&quot;) } (new Foo[Int]).foo[List] : List[Int]</span>
            <span class="comment">//@M    --&gt; first, m[a] gets changed to m[Int], then m gets substituted for List, </span>
            <span class="comment">//          this must preserve m's type argument, so that we end up with List[Int], and not List[a]</span>
            <span class="comment">//@M related bug: #1438 </span>
            <span class="comment">//println(&quot;instantiating type params &quot;+restpe+&quot; &quot;+tparams+&quot; &quot;+targs+&quot; = &quot;+resultpe)</span>
            <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162481" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>, <a href="#540921" title="Typers.this.global.Tree">fun</a>, <a href="#540922" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeApply">setType</span> <a href="#585159" title="Typers.this.global.Type">resultpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105786" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#540921" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Typers.this.global.Tree">ErrorType</a> =&gt;
        <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#540919" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#105786" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#540921" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not take type parameters.&quot;)" class="string">&quot; does not take type parameters.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="105914">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106681" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="105915">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106681" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">+=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="105916">printTyping</a><span class="delimiter">(</span><a title="=&gt; String" id="538320">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64892" title="=&gt; Boolean">printTypings</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106683" title="=&gt; String">typingIndent</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#538320" title="=&gt; String">s</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">replaceAll</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106683" title="=&gt; String">typingIndent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="105917">printInference</a><span class="delimiter">(</span><a title="=&gt; String" id="538310">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64895" title="=&gt; Boolean">printInfers</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#538310" title="=&gt; String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105918">typed1</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="501268">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="501269">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="501270">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="585186">isPatternMode</a> = <a href="Modes.scala.html#105588" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
      
      <span class="comment">//Console.println(&quot;typed1(&quot;+tree.getClass()+&quot;,&quot;+Integer.toHexString(mode)+&quot;,&quot;+pt+&quot;)&quot;)</span>
      <span class="keyword">def</span> <a title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)" id="585187">ptOrLub</a><span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="585210">tps</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(Typers.this.global.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67628" title="(ts: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">weakLub</a><span class="delimiter">(</span><a href="#585210" title="List[Typers.this.global.Type]">tps</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585234" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <span class="comment">//@M! get the type of the qualifier in a Select tree, otherwise: NoType</span>
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Type" id="585188">prefixType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585262">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <a href="#585262" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span> 
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585267">qualifier</a>, _<span class="delimiter">)</span> =&gt; <a href="#585267" title="Typers.this.global.Tree">qualifier</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
<span class="comment">//        case Ident(name) =&gt; ??</span>
        <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree" id="585189">typedAnnotated</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585268">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585269">arg1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="comment">/** mode for typing the annotation itself */</span>
        <span class="keyword">val</span> <a title="Int" id="585270">annotMode</a> = <a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(4)">TYPEmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67777" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">arg1</a>.<a href="../ast/Trees.scala.html#109031" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// make sure the annotation is only typechecked once</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// an annotated type</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585286">selfsym</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36784" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">selfInAnnots</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">else</span>
                <a href="#585269" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105406" title="=&gt; Typers.this.global.Symbol">selfsym</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#67328" title="Typers.this.global.TermSymbol">NoSymbol</a> =&gt;
                    <span class="comment">/* Implementation limitation: Currently this
                     * can cause cyclical reference errors even
                     * when the self symbol is not referenced at all.
                     * Surely at least some of these cases can be
                     * fixed by proper use of LazyType's.  Lex tinkered
                     * on this but did not succeed, so is leaving
                     * it alone for now. Example code with the problem:
                     *  class peer extends Annotation
                     *  class NPE[T &lt;: NPE[T] @peer]
                     *
                     * (Note: -Yself-in-annots must be on to see the problem)
                     * */</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="585293">sym</a> = 
                      <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107283" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
                        .<a href="../symtab/Symbols.scala.html#107279" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115432" title="=&gt; Typers.this.global.nme.NameType">self</a><span class="delimiter">)</span>
                    <a href="#585293" title="Typers.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#585269" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105403" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>
                    <a href="#585293" title="Typers.this.global.TermSymbol">sym</a>
                  <span class="keyword">case</span> <a title="Typers.this.global.Symbol" id="585311">sym</a> =&gt; <a href="#585311" title="Typers.this.global.Symbol">sym</a>
                <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="585287">ainfo</a> = <a href="#105907" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#585268" title="Typers.this.global.Tree">ann</a>, <a href="#585270" title="Int">annotMode</a>, <a href="#585286" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585288">atype0</a> = <a href="#585269" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105401" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#585287" title="Typers.this.global.AnnotationInfo">ainfo</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585289">atype</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#585286" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585287" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../symtab/AnnotationInfos.scala.html#133329" title="(sym: Typers.this.global.Symbol)Boolean">refsSymbol</a><span class="delimiter">(</span><a href="#585286" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#585288" title="Typers.this.global.Type">atype0</a>.<a href="../symtab/Types.scala.html#105405" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">withSelfsym</a><span class="delimiter">(</span><a href="#585286" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#585288" title="Typers.this.global.Type">atype0</a> <span class="comment">// do not record selfsym if</span>
                       <span class="comment">// this annotation did not need it</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585287" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../symtab/AnnotationInfos.scala.html#133328" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#585269" title="Typers.this.global.Tree">arg1</a>  <span class="comment">// simply drop erroneous annotations</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#585289" title="Typers.this.global.Type">atype</a>
              <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#585289" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#501268" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// the annotation was typechecked before</span>
            <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#501268" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="585330">annotInfo</a> = <a href="#105907" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#585268" title="Typers.this.global.Tree">ann</a>, <a href="#585270" title="Int">annotMode</a><span class="delimiter">)</span>
            <a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#585269" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105401" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#585330" title="Typers.this.global.AnnotationInfo">annotInfo</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585324">atype</a> = <a href="#585268" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="Analyzer.scala.html#105486" title="(expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#585269" title="Typers.this.global.Tree">arg1</a>, <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#585324" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Typed">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#585324" title="Typers.this.global.Type">atype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree" id="585190">typedBind</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="585348">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Tree" id="585349">body</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="585350">vble</a> = <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TypeName)Typers.this.global.Tree" id="585351">typedBindType</a><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="585353">name</a>: <a href="../symtab/Names.scala.html#66916" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#585349" title="Typers.this.global.Tree">body</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">unit</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; typedBind: &quot;)" class="string">&quot; typedBind: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585353" title="Typers.this.global.TypeName">name</a>.<a href="../symtab/Names.scala.html#96584" title="()java.lang.String">debugString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585349" title="Typers.this.global.Tree">body</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585349" title="Typers.this.global.Tree">body</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585350" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> 
            <a href="#585350" title="Typers.this.global.Symbol">vble</a> = 
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107297" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585353" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="#501270" title="Typers.this.global.Type">pt</a>
              <span class="keyword">else</span> 
                <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107299" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAbstractType</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585353" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="../symtab/Types.scala.html#67412" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#148434" title="=&gt; Typers.this.global.TypeBounds">empty</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585354">rawInfo</a> = <a href="#585350" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107429" title="=&gt; Typers.this.global.Type">rawInfo</a>
          <a href="#585350" title="Typers.this.global.Symbol">vble</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#585350" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67709" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#585350" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527523" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#585350" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#585350" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#585350" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TermName)Typers.this.global.Bind" id="585352">typedBindTerm</a><span class="delimiter">(</span><a title="Typers.this.global.TermName" id="585423">name</a>: <a href="../symtab/Names.scala.html#66915" title="Typers.this.global.TermName">TermName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585350" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> 
            <a href="#585350" title="Typers.this.global.Symbol">vble</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585423" title="Typers.this.global.TermName">name</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585350" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96577" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8192)">ALTmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal variable in pattern alternative&quot;)" class="string">&quot;illegal variable in pattern alternative&quot;</span><span class="delimiter">)</span>
            <a href="#585350" title="Typers.this.global.Symbol">vble</a> = <a href="#105828" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527523" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#585350" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585424">body1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585349" title="Typers.this.global.Tree">body</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#585350" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152999" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSequenceValued</a><span class="delimiter">(</span><a href="#585349" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106355" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#585424" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#585424" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162468" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Bind">Bind</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585423" title="Typers.this.global.TermName">name</a>, <a href="#585424" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Bind">setSymbol</span> <a href="#585350" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Bind">setType</span> <a href="#585424" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>   <span class="comment">// burak, was: pt</span>
        <span class="delimiter">}</span>
        <a href="#585348" title="Typers.this.global.Name">name</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="585483">x</a>: <a href="../symtab/Names.scala.html#66916" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#585351" title="(name: Typers.this.global.TypeName)Typers.this.global.Tree">typedBindType</a><span class="delimiter">(</span><a href="#585483" title="Typers.this.global.TypeName">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Bind" id="585484">x</a>: <a href="../symtab/Names.scala.html#66915" title="Typers.this.global.TermName">TermName</a>  =&gt; <a href="#585352" title="(name: Typers.this.global.TermName)Typers.this.global.Bind">typedBindTerm</a><span class="delimiter">(</span><a href="#585484" title="Typers.this.global.TermName">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue" id="585191">typedArrayValue</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585485">elemtpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="585486">elems</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585487">elemtpt1</a> = <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#585485" title="Typers.this.global.Tree">elemtpt</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="585488">elems1</a> = <a href="#585486" title="List[Typers.this.global.Tree]">elems</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585499">elem</a> =&gt; <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585499" title="Typers.this.global.Tree">elem</a>, <a href="#501269" title="Int">mode</a>, <a href="#585487" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162470" title="(tree: Typers.this.global.Tree, elemtpt: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">ArrayValue</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585487" title="Typers.this.global.Tree">elemtpt1</a>, <a href="#585488" title="List[Typers.this.global.Tree]">elems1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.ArrayValue">setType</span><span class="delimiter">(</span>
            <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#501270" title="Typers.this.global.Type">pt</a>
             <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106253" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#107436" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#585487" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105338" title="=&gt; Typers.this.global.Type">notNull</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree" id="585192">typedAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585521">lhs</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585522">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585523">lhs1</a>    = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585521" title="Typers.this.global.Tree">lhs</a>, EXPRmode <span title="Int(1025)">|</span> LHSmode, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585524">varsym</a>  = <a href="#585523" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="585525">failMsg</a> =
          <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#585524" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585524" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;reassignment to val&quot;)" class="string">&quot;reassignment to val&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;assignment to non variable&quot;)" class="string">&quot;assignment to non variable&quot;</span>
        
        <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="585526">fail</a> = <span class="delimiter">{</span>    
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#585523" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585525" title="=&gt; java.lang.String">failMsg</a><span class="delimiter">)</span>
          
          <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585524" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#585526" title="=&gt; Typers.this.global.Tree">fail</a>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152970" title="(sym: Typers.this.global.treeInfo.trees.Symbol)Boolean">mayBeVarGetter</a><span class="delimiter">(</span><a href="#585524" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153002" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">methPart</a><span class="delimiter">(</span><a href="#585523" title="Typers.this.global.Tree">lhs1</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Nothing">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585552">qual</a>, <a title="Typers.this.global.Name" id="585553">name</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="585554">sel</a> = <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#585552" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115618" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#585553" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96577" title="=&gt; Typers.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#585521" title="Typers.this.global.Tree">lhs</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="585555">app</a> = <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#585554" title="Typers.this.global.Select">sel</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#585522" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>              
              <span title="Nothing" class="keyword">return</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585555" title="Typers.this.global.Apply">app</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585524" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#107323" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#585524" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585598">rhs1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585522" title="Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#585523" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162472" title="(tree: Typers.this.global.Tree, lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585523" title="Typers.this.global.Tree">lhs1</a>, <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#585598" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Assign">setType</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#585526" title="=&gt; Typers.this.global.Tree">fail</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If" id="585193">typedIf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585616">cond</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585617">thenp</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585618">elsep</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585619">cond1</a> = <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585616" title="Typers.this.global.Tree">cond</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Definitions.scala.html#106593" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.If" class="keyword">if</span> <span class="delimiter">(</span><a href="#585618" title="Typers.this.global.Tree">elsep</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// in the future, should be unnecessary</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585628">thenp1</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585617" title="Typers.this.global.Tree">thenp</a>, <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162474" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585619" title="Typers.this.global.Tree">cond1</a>, <a href="#585628" title="Typers.this.global.Tree">thenp1</a>, <a href="#585618" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#585628" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> 
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="585644">thenp1</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585617" title="Typers.this.global.Tree">thenp</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="585645">elsep1</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585618" title="Typers.this.global.Tree">elsep</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#585647" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#585646" title="Typers.this.global.Type" id="585647">owntype</a>, <a href="#585646" title="Boolean" id="585648">needAdapt</a><span class="delimiter">)</span> = <a href="#585187" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#585644" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#585645" title="Typers.this.global.Tree">elsep1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585648" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">//isNumericValueType(owntype)) {</span>
            <a href="#585644" title="Typers.this.global.Tree">thenp1</a> = <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585644" title="Typers.this.global.Tree">thenp1</a>, <a href="#501269" title="Int">mode</a>, <a href="#585647" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#585645" title="Typers.this.global.Tree">elsep1</a> = <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585645" title="Typers.this.global.Tree">elsep1</a>, <a href="#501269" title="Int">mode</a>, <a href="#585647" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162474" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585619" title="Typers.this.global.Tree">cond1</a>, <a href="#585644" title="Typers.this.global.Tree">thenp1</a>, <a href="#585645" title="Typers.this.global.Tree">elsep1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#585647" title="Typers.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr: Typers.this.global.Tree)Typers.this.global.Tree" id="585194">typedReturn</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585674">expr</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="585675">enclMethod</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106626" title="=&gt; Typers.this.Context">enclMethod</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585675" title="Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Contexts.scala.html#105502" title="=&gt; Typers.this.Context">NoContext</a> <span title="(x: Boolean)Boolean">||</span> 
            <a href="#585675" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">||</span> 
            <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106626" title="=&gt; Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#585675" title="Typers.this.Context">enclMethod</a> <span class="comment">// i.e., we are in a constructor of a local class</span>
            <span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;return outside method definition&quot;)" class="string">&quot;return outside method definition&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="#585686" title="(Typers.this.global.TermName, Typers.this.global.Tree)" class="delimiter">(</a>_, <a href="#585685" title="Typers.this.global.TermName" id="585686">name</a>, _, _, <a href="#585685" title="Typers.this.global.Tree" id="585687">restpt</a>, _<span class="delimiter">)</span> = <a href="#585675" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585687" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585675" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106614" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">owner</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; has return statement; needs result type&quot;)" class="string">&quot; has return statement; needs result type&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106626" title="=&gt; Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106654" title="(x$1: Boolean)Unit">returnsSeen</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585706">expr1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585674" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#585687" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="comment">// Warn about returning a value if no value can be returned.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585687" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// The typing in expr1 says expr is Unit (it has already been coerced if</span>
              <span class="comment">// it is non-Unit) so we have to retype it.  Fortunately it won't come up much</span>
              <span class="comment">// unless the warning is legitimate.</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585674" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
                <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;enclosing method &quot;)" class="string">&quot;enclosing method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585686" title="Typers.this.global.TermName">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has result type Unit: return value discarded&quot;)" class="string">&quot; has result type Unit: return value discarded&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162476" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Return">Return</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#585706" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Return">setSymbol</span> <a href="#585675" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Return">setType</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Typers.this.global.New" id="585195">typedNew</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585741">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585742">tpt1</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585746">tpt0</a> = <a href="#105936" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#585741" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
          <a href="#105835" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#585746" title="Typers.this.global.Tree">tpt0</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585746" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#585746" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106686" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="../symtab/Symbols.scala.html#67330" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#585746" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#135675" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#585746" title="Typers.this.global.Tree">tpt0</a><span class="delimiter">)</span>
                      .<span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#585746" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585808" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107422" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// @PP: tpeHK! #3343, #4018, #4347.</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#585746" title="Typers.this.global.Tree">tpt0</a>
        <span class="delimiter">}</span>

        <span class="comment">/** If current tree &lt;tree&gt; appears in &lt;val x(: T)? = &lt;tree&gt;&gt;
         *  return `tp with x.type' else return `tp'.
         */</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="585743">narrowRhs</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="585836">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585837">sym</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="585844">mods</a>, _, _, Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">`tree`</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#585844" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isMutable</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585837" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585837" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585859">sym1</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#585837" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585837" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#585837" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#585837" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#585837" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#585837" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107468" title="=&gt; Typers.this.global.Symbol">lazyAccessorOrSelf</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585860">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#585859" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#585859" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67397" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="../symtab/Types.scala.html#67477" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#585836" title="Typers.this.global.Type">tp</a>, <a href="../symtab/Types.scala.html#67468" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#585860" title="Typers.this.global.Type">pre</a>, <a href="#585859" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#585836" title="Typers.this.global.Type">tp</a>
          <span class="delimiter">}</span><span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585744">tp</a> = <a href="#585742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585745">sym</a> = <a href="#585744" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585745" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">||</span> <a href="#585745" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAbstractFlag</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585745" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is abstract; cannot be instantiated&quot;)" class="string">&quot; is abstract; cannot be instantiated&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span>  <a href="#585744" title="Typers.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#585745" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; sym.type">initialize</a>.<a href="../symtab/Symbols.scala.html#107457" title="=&gt; Typers.this.global.Symbol">thisSym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <span class="comment">// when there's no explicit self type -- with (#3612) or without self variable</span>
                     <span class="comment">// sym.thisSym.tpe == tp.typeOfThis (except for objects)</span>
                  <span title="(x: Boolean)Boolean">||</span> <a href="#585743" title="(tp: Typers.this.global.Type)Typers.this.global.Type">narrowRhs</a><span class="delimiter">(</span><a href="#585744" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#585744" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105319" title="=&gt; Typers.this.global.Type">typeOfThis</a>
                  <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a>
                  <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585745" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; cannot be instantiated because it does not conform to its self-type &quot;)" class="string">&quot; cannot be instantiated because it does not conform to its self-type &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <a href="#585744" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105319" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162479" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585742" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span><span class="delimiter">(</span><a href="#585744" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree" id="585196">typedEta</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585892">expr1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#585892" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106224" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="585896">expr2</a> = <a href="Analyzer.scala.html#105486" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#585892" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#585892" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#67837" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#585896" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162797" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#585896" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#585896" title="Typers.this.global.Function">expr2</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="585918">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="585919">expr2</a> = <a href="Analyzer.scala.html#105486" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#585892" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#585892" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#67837" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#585919" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162797" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#585919" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#585919" title="Typers.this.global.Function">expr2</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="585936">formals</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106352" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585892" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585892" title="Typers.this.global.Tree">expr1</a>, <a href="#501269" title="Int">mode</a>, <a href="../symtab/Definitions.scala.html#106350" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#585936" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="585953">t</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="585983">formals</a>, _<span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106352" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585892" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#585892" title="Typers.this.global.Tree">expr1</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585988">qual</a>, <a title="Typers.this.global.Name" id="585989">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64992" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                                        <a href="#501270" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                                        <a href="#501270" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                                        <a href="../symtab/Types.scala.html#67583" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a>, <a href="../symtab/Definitions.scala.html#106363" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="586000">scalaCaller</a> = <a href="../symtab/Definitions.scala.html#106532" title="(delegateType: Typers.this.global.Type)Typers.this.global.Symbol">newScalaCaller</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../symtab/Definitions.scala.html#106533" title="(scalaCaller: Typers.this.global.Symbol, methSym: Typers.this.global.Symbol)Unit">addScalaCallerInfo</a><span class="delimiter">(</span><a href="#586000" title="Typers.this.global.Symbol">scalaCaller</a>, <a href="#585892" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Name" id="586001">n</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a> = <a href="#586000" title="Typers.this.global.Symbol">scalaCaller</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="586002">del</a> = <a href="../ast/Trees.scala.html#67802" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106363" title="=&gt; Typers.this.global.Symbol">DelegateClass</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="../symtab/Definitions.scala.html#106363" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="586003">f</a> = <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586002" title="Typers.this.global.Ident">del</a>, <a href="#586001" title="Typers.this.global.Name">n</a><span class="delimiter">)</span>
              <span class="comment">//val f1 = TypeApply(f, List(Ident(pt.symbol) setType pt))</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="586004">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><a href="#585892" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107384" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                                     <span class="keyword">else</span> <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#585988" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="comment">// where the scala-method is located</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="586005">rhs</a> = <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#586003" title="Typers.this.global.Select">f</a>, <a href="#586004" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#586005" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt; 
              <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585892" title="Typers.this.global.Tree">expr1</a>, <a href="#501269" title="Int">mode</a>, <a href="../symtab/Definitions.scala.html#106350" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#585983" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="586095">t</a> =&gt; <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67388" title="Typers.this.global.Tree">ErrorType</a> =&gt;
          <a href="#585892" title="Typers.this.global.Tree">expr1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#585892" title="Typers.this.global.Tree">expr1</a>, <span title="java.lang.String(&quot;_ must follow method; cannot follow &quot;)" class="string">&quot;_ must follow method; cannot follow &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585892" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/**
       *  @param args ...
       *  @return     ...
       */</span>
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]" id="585197">tryTypedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="586123">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="586124">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.TypeError" id="586125">other</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="586126">c</a> = <a href="#105830" title="Typers.this.Context" id="586127">context</a>.<a href="Contexts.scala.html#314529" title="Typers.this.global.Tree" id="586129">makeSilent</a><span class="delimiter">(</span><a title="Boolean(false)" id="586128" class="keyword">false</a><span class="delimiter">)</span>
        <a href="#586126" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#106675" title="(x$1: Boolean)Unit">retyping</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#586126" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#105901" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#586123" title="List[Typers.this.global.Tree]">args</a>, <a href="#586124" title="Int">mode</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="586132">ex</a>: <a href="../symtab/Symbols.scala.html#67336" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#586132" title="Typers.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="Null(null)" id="586133">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Try to apply function to arguments; if it does not work, try to convert Java raw to existentials, or try to
       *  insert an implicit conversion.
       */</span>
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="585198">tryTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586134">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="586135">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="586136">start</a> = <a href="../util/Statistics.scala.html#67155" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67238" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
        <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#586142" title="Typers.this.Typer">_</a>.<a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#586134" title="Typers.this.global.Tree">fun</a>, <a href="#586135" title="List[Typers.this.global.Tree]">args</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586148">t</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
            <a href="#586148" title="Typers.this.global.Tree">t</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586149">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <a href="../util/Statistics.scala.html#67156" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67238" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#586136" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
            
            <span class="comment">// If the problem is with raw types, copnvert to existentials and try again.</span>
            <span class="comment">// See #4712 for a case where this situation arises, </span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586134" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586134" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="586153">newtpe</a> = <a href="../symtab/Types.scala.html#258513" title="(tp: Typers.this.global.Type)Typers.this.global.Type">rawToExistential</a><span class="delimiter">(</span><a href="#586134" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586134" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#586153" title="Typers.this.global.Type">newtpe</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// println(&quot;late cooking: &quot;+fun+&quot;:&quot;+fun.tpe) // DEBUG</span>
                <span title="Nothing" class="keyword">return</span> <a href="#585198" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#586134" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#586153" title="Typers.this.global.Type">newtpe</a>, <a href="#586135" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="586150">treesInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586157">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#586157" title="Typers.this.global.Tree">tree</a> <a href="#586158" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span class="delimiter">(</span><a href="#586157" title="Typers.this.global.Tree">tree</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="586163">r</a><span class="delimiter">)</span>                        =&gt; <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586163" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.CaseDef]">Match</span><span class="delimiter">(</span>_, <a title="List[Typers.this.global.CaseDef]" id="586166">cases</a><span class="delimiter">)</span>                    =&gt; <a href="#586166" title="List[Typers.this.global.CaseDef]">cases</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">CaseDef</span><span class="delimiter">(</span>_, _, <a title="Typers.this.global.Tree" id="586174">r</a><span class="delimiter">)</span>                   =&gt; <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586174" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="586177">r</a><span class="delimiter">)</span>                    =&gt; <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586177" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">If</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="586181">t</a>, <a title="Typers.this.global.Tree" id="586182">e</a><span class="delimiter">)</span>                        =&gt; <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586181" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586182" title="Typers.this.global.Tree">e</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586245">b</a>, <a title="List[Typers.this.global.CaseDef]" id="586246">catches</a>, _<span class="delimiter">)</span>                 =&gt; <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586245" title="Typers.this.global.Tree">b</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#586246" title="List[Typers.this.global.CaseDef]">catches</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586319">r</a>, Function<span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586319" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                  =&gt; <span title="object Nil">Nil</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="586151">errorInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586327">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#586150" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586327" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#586336" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#586149" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#313888" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="586152">retry</a> = <a href="#586134" title="Typers.this.global.Tree">fun</a> <a href="#586342" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#501268" title="Typers.this.global.Tree">tree</a> <a href="#586343" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#586135" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#586151" title="(tree: Typers.this.global.Tree)Boolean">errorInResult</a>
            <a href="#105916" title="(s: =&gt; String)Unit">printTyping</a> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="java.lang.String" id="586363">funStr</a> = <a href="../symtab/TypeDebugging.scala.html#151675" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#586134" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#586135" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span> <a href="../symtab/TypeDebugging.scala.html#151675" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a> <span title="(sep: String)String">mkString</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#586152" title="Boolean">retry</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;second try: &quot;)" class="string">&quot;second try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#586363" title="java.lang.String">funStr</a>
              <span class="keyword">else</span> <span title="java.lang.String(&quot;no second try: &quot;)" class="string">&quot;no second try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#586363" title="java.lang.String">funStr</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; because error not in result: &quot;)" class="string">&quot; because error not in result: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#586149" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#313888" title="=&gt; Typers.this.global.Position">pos</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;!=&quot;)" class="string">&quot;!=&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586152" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> Select<a href="#586413" title="(Typers.this.global.Tree, Typers.this.global.Name)" class="delimiter">(</a><a href="#586412" title="Typers.this.global.Tree" id="586413">qual</a>, <a href="#586412" title="Typers.this.global.Name" id="586414">name</a><span class="delimiter">)</span> = <a href="#586134" title="Typers.this.global.Tree">fun</a>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="586415">args1</a> = <a href="#585197" title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]">tryTypedArgs</a><span class="delimiter">(</span><a href="#586135" title="List[Typers.this.global.Tree]">args</a>, <a href="#105596" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#586134" title="Typers.this.global.Tree">fun</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>, <a href="#586149" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586416">qual1</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586415" title="List[Typers.this.global.Tree]">args1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501270" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#105867" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#586413" title="Typers.this.global.Tree">qual</a>, <a href="#586414" title="Typers.this.global.Name">name</a>, <a href="#586415" title="List[Typers.this.global.Tree]">args1</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> 
                <span class="keyword">else</span> <a href="#586413" title="Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586416" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#586413" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="586429">tree1</a> = <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586416" title="Typers.this.global.Tree">qual1</a>, <a href="#586414" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586134" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586415" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
                <span title="Nothing" class="keyword">return</span> <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#586429" title="Typers.this.global.Apply">tree1</a>, <a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(512)">SNDTRYmode</span>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="TypeDiagnostics.scala.html#105814" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586149" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="585199">typedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586463">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="586464">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="586465">stableApplication</a> = <span class="delimiter">(</span><a href="#586463" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586463" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586463" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107373" title="=&gt; Boolean">isStable</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586465" title="Boolean">stableApplication</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585186" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// treat stable function applications f() as expressions.</span>
          <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="586474">funpt</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#585186" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="#501270" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="586475">appStart</a> = <a href="../util/Statistics.scala.html#67155" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67238" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="586476">opeqStart</a> = <a href="../util/Statistics.scala.html#67155" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67240" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a><span class="delimiter">)</span>
          <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#586482" title="Typers.this.Typer">_</a>.<a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#586463" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105580" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#501269" title="Int">mode</a><span class="delimiter">)</span>, <a href="#586474" title="Typers.this.global.Type">funpt</a><span class="delimiter">)</span>,  
                 <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106659" title="=&gt; Boolean">reportAmbiguousErrors</a>,  
                 <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#501268" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586506">fun1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586507">fun2</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586465" title="Boolean">stableApplication</a><span class="delimiter">)</span> <a href="#105858" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilizeFun</a><span class="delimiter">(</span><a href="#586506" title="Typers.this.global.Tree">fun1</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#586506" title="Typers.this.global.Tree">fun1</a>
              <a href="../util/Statistics.scala.html#67151" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67228" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedApplyCount</a><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="586508">isImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="586512">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#586512" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean" id="586513">mt</a>: <a href="../symtab/Types.scala.html#67437" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#586513" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148709" title="=&gt; Boolean">isImplicit</a>
                <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586509">res</a> = 
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#586507" title="Typers.this.global.Tree">fun2</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Select">Select</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                    <span title="=&gt; Boolean">!</span><a href="#586508" title="(tpe: Typers.this.global.Type)Boolean">isImplicitMethod</a><span class="delimiter">(</span><a href="#586507" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586507" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#586507" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(513)">|</span> SNDTRYmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="#585198" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#586507" title="Typers.this.global.Tree">fun2</a>, <a href="#586464" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      <a href="#105906" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#586507" title="Typers.this.global.Tree">fun2</a>, <a href="#586464" title="List[Typers.this.global.Tree]">args</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
            <span class="comment">/*
              if (fun2.hasSymbol &amp;&amp; fun2.symbol.isConstructor &amp;&amp; (mode &amp; EXPRmode) != 0) {
                res.tpe = res.tpe.notNull
              }
              */</span>
              <span class="comment">// TODO: In theory we should be able to call:</span>
              <span class="comment">//if (fun2.hasSymbol &amp;&amp; fun2.symbol.name == nme.apply &amp;&amp; fun2.symbol.owner == ArrayClass) {</span>
              <span class="comment">// But this causes cyclic reference for Array class in Cleanup. It is easy to overcome this</span>
              <span class="comment">// by calling ArrayClass.info here (or some other place before specialize).</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586507" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106255" title="=&gt; Typers.this.global.Symbol">Array_apply</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="586536">checked</a> = <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105442" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#586509" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span>
                <span class="comment">// this check is needed to avoid infinite recursion in Duplicators</span>
                <span class="comment">// (calling typed1 more than once for the same tree)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586536" title="Typers.this.global.gen.global.Tree">checked</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#586509" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span> <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#586536" title="Typers.this.global.gen.global.Tree">checked</a><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#586509" title="Typers.this.global.Tree">res</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#586509" title="Typers.this.global.Tree">res</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586548">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="#586463" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586553">qual</a>, <a title="Typers.this.global.Name" id="586554">name</a><span class="delimiter">)</span> 
                <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#585186" title="=&gt; Boolean">isPatternMode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115612" title="(name: Typers.this.global.Name)Boolean">isOpAssignmentName</a><span class="delimiter">(</span><a href="#586554" title="Typers.this.global.Name">name</a>.<a href="Analyzer.scala.html#105486" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">decode</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586556">qual1</a> = <a href="#105927" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#586553" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
                  <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#152971" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isVariableOrGetter</a><span class="delimiter">(</span><a href="#586556" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../util/Statistics.scala.html#67156" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67240" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a>, <a href="#586476" title="scala.tools.nsc.util.Statistics.LongPair">opeqStart</a><span class="delimiter">)</span>
                    <a href="#585200" title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree">convertToAssignment</a><span class="delimiter">(</span><a href="#586463" title="Typers.this.global.Tree">fun</a>, <a href="#586556" title="Typers.this.global.Tree">qual1</a>, <a href="#586554" title="Typers.this.global.Name">name</a>, <a href="#586464" title="List[Typers.this.global.Tree]">args</a>, <a href="#586548" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span> 
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    <a href="../util/Statistics.scala.html#67156" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67238" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#586475" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586556" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586556" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> 
                      <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;reassignment to val&quot;)" class="string">&quot;reassignment to val&quot;</span><span class="delimiter">)</span>
                    <span class="keyword">else</span>
                      <a href="TypeDiagnostics.scala.html#105814" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#586463" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586548" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                    <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>                           
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
                  <a href="../util/Statistics.scala.html#67156" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67238" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#586475" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                  <a href="TypeDiagnostics.scala.html#105814" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#586463" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586548" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>                           
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree" id="585200">convertToAssignment</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586562">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="586563">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="586564">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="586565">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.TypeError" id="586566">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Name" id="586573">prefix</a> = <a href="#586564" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96614" title="(from: Int, to: Int)Typers.this.global.Name">subName</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#586564" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96572" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115538" title="=&gt; Typers.this.global.TermName">EQL</a>.<a href="../symtab/Names.scala.html#96572" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(vble: Typers.this.global.Tree)Typers.this.global.Tree" id="586574">mkAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586581">vble</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = 
          <a href="Analyzer.scala.html#105486" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span>
            <a href="#586581" title="Typers.this.global.Tree">vble</a>,
            <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586581" title="Typers.this.global.Tree">vble</a>.<span title="=&gt; vble.type">duplicate</span>, <a href="#586573" title="Typers.this.global.Name">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586562" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#586565" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97192" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>
          <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Assign">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
        
        <span class="keyword">def</span> <a title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree" id="586575">mkUpdate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586616">table</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="586617">indices</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105469" title="(exprs: List[Typers.this.global.gen.global.Tree], owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: List[() =&gt; Typers.this.global.gen.global.Tree] =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnceAll</a><span class="delimiter">(</span><a href="#586616" title="Typers.this.global.Tree">table</a> <a href="#586623" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#586617" title="List[Typers.this.global.Tree]">indices</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="586630">ts</a> =&gt;
            <span class="keyword">val</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="586631">tab</a> = <a href="#586630" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; () =&gt; Typers.this.global.gen.global.Tree">head</span>
            <span class="keyword">val</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="586632">is</a> = <a href="#586630" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; List[() =&gt; Typers.this.global.gen.global.Tree]">tail</span>
            <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
               <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586631" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115460" title="=&gt; Typers.this.global.nme.NameType">update</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586616" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
               <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586632" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: () =&gt; Typers.this.global.gen.global.Tree =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="586674">i</a> =&gt; <a href="#586674" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#586657" title="(prefix: List[Typers.this.global.gen.global.Tree])List[Typers.this.global.gen.global.Tree]">:::</a> <span title="(xs: Typers.this.global.Apply*)List[Typers.this.global.Apply]">List</span><span class="delimiter">(</span>
                 <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                   <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
                     <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                       <a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586631" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586616" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                       <a href="#586632" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: () =&gt; Typers.this.global.gen.global.Tree =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="586752">i</a> =&gt; <a href="#586752" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586563" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                     <a href="#586573" title="Typers.this.global.Name">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586562" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, 
                   <a href="#586565" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
               <span class="delimiter">)</span>
             <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
           <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586576">tree1</a> = <a href="#586563" title="Typers.this.global.Tree">qual</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#586574" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="#586563" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            
          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586813">qualqual</a>, <a title="Typers.this.global.Name" id="586814">vname</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105468" title="(expr: Typers.this.global.gen.global.Tree, owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: () =&gt; Typers.this.global.gen.global.Tree =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#586813" title="Typers.this.global.Tree">qualqual</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="586821">qq</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="586822">qq1</a> = <a href="#586821" title="()Typers.this.global.gen.global.Tree">qq</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#586574" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586822" title="Typers.this.global.gen.global.Tree">qq1</a>, <a href="#586814" title="Typers.this.global.Name">vname</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586563" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          
          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586845">fn</a>, <a title="List[Typers.this.global.Tree]" id="586846">indices</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#67773" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153002" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">methPart</a><span class="delimiter">(</span><a href="#586845" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586851">table</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> =&gt; <a href="#586575" title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree">mkUpdate</a><span class="delimiter">(</span><a href="#586851" title="Typers.this.global.Tree">table</a>, <a href="#586846" title="List[Typers.this.global.Tree]">indices</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>                        =&gt; <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586563" title="Typers.this.global.Tree">qual</a>, <span title="java.lang.String(&quot;Unexpected tree during assignment conversion.&quot;)" class="string">&quot;Unexpected tree during assignment conversion.&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#586576" title="Typers.this.global.Tree">tree1</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
<span class="comment">/*
        if (settings.debug.value) log(&quot;retry assign: &quot;+tree1)
        silent(_.typed1(tree1, mode, pt)) match {
          case t: Tree =&gt; 
            t
          case _ =&gt;
            reportTypeError(tree.pos, ex)
            setError(tree)                           
        }
*/</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Symbol" id="585201">qualifyingClassSym</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="586852">qual</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> =
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span class="keyword">else</span> <a href="#105846" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol">qualifyingClass</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#586852" title="Typers.this.global.Name">qual</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super" id="585202">typedSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586858">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.TypeName" id="586859">mix</a>: <a href="../symtab/Names.scala.html#66916" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586860">qual1</a> = <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#586858" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
        
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="586861">clazz</a> = <a href="#586860" title="Typers.this.global.Tree">qual1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#586860" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#586860" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="delimiter">}</span>
        <span class="comment">//println(clazz+&quot;/&quot;+qual1.tpe.typeSymbol+&quot;/&quot;+qual1)</span>

        <span class="keyword">def</span> <a title="(site: Typers.this.global.Type)Typers.this.global.Type" id="586862">findMixinSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="586872">site</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="586873">ps</a> = <a href="#586872" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#586879" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#586859" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586873" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
            <a href="#586873" title="List[Typers.this.global.Type]">ps</a> = <a href="#586872" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#586892" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107485" title="=&gt; Typers.this.global.Symbol">toInterface</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#586859" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#586873" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#586872" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Name,Any])Any">map</span> <span class="delimiter">(</span><a href="#586924" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="comment">//debug</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// println(qual1)</span>
              <span class="comment">// println(clazz)</span>
              <span class="comment">// println(site)</span>
              <span class="comment">// println(site.parents)</span>
              <span class="comment">// println(mix)</span>
              <span class="comment">// the reference to super class got lost during erasure</span>
              <a href="TypeDiagnostics.scala.html#105773" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <span title="java.lang.String(&quot;traits may not select fields or methods from super[C] where C is a class&quot;)" class="string">&quot;traits may not select fields or methods from super[C] where C is a class&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586859" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">mix</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not name a parent class of &quot;)" class="string">&quot; does not name a parent class of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#586861" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#586873" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;ambiguous parent class qualifier&quot;)" class="string">&quot;ambiguous parent class qualifier&quot;</span><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#586873" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="586863">owntype</a> =
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#586859" title="Typers.this.global.TypeName">mix</a>.<a href="../symtab/Names.scala.html#96573" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(256)">SUPERCONSTRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> 
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#586861" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <span class="comment">// can happen due to cyclic references ==&gt; #1036</span>
              <span class="keyword">else</span> <a href="#586861" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67477" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#586861" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Typers.this.global.Type]">parents</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#586862" title="(site: Typers.this.global.Type)Typers.this.global.Type">findMixinSuper</a><span class="delimiter">(</span><a href="#586861" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162484" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">Super</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#586860" title="Typers.this.global.Tree">qual1</a>, <a href="#586859" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Super">setType</span> <a href="../symtab/Types.scala.html#149198" title="(thistp: Typers.this.global.Type, supertp: Typers.this.global.Type)Typers.this.global.Type">SuperType</a><span class="delimiter">(</span><a href="#586861" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#586863" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Tree" id="585203">typedThis</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="586987">qual</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="586988">clazz</a> = <a href="#585201" title="(qual: Typers.this.global.Name)Typers.this.global.Symbol">qualifyingClassSym</a><span class="delimiter">(</span><a href="#586987" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586988" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#586988" title="Typers.this.global.Symbol">clazz</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#586988" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105316" title="=&gt; Typers.this.global.Type">underlying</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105853" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#586988" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a>
          <a href="#501268" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Attribute a selection where &lt;code&gt;tree&lt;/code&gt; is &lt;code&gt;qual.name&lt;/code&gt;.
       *  &lt;code&gt;qual&lt;/code&gt; is already attributed.
       *
       *  @param qual ...
       *  @param name ...
       *  @return     ...
       */</span>
      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="585204">typedSelect</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587006">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="587007">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="587008">sym</a> =
          <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Super">Super</span><span class="delimiter">]</span><span class="delimiter">)</span>
              <a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// todo: replace by settings.check.value?</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="587020">alts</a> = <a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105354" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#587020" title="List[Typers.this.global.Symbol]">alts</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="587028">alt</a> =&gt;
                <a href="#587028" title="Typers.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587028" title="Typers.this.global.Symbol">alt</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#587028" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105381" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;symbol &quot;)" class="string">&quot;symbol &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587020" title="List[Typers.this.global.Symbol]">alts</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 members = &quot;)" class="string">&quot;\n members = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105349" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 type history = &quot;)" class="string">&quot;\n type history = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105312" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#107521" title="=&gt; java.lang.String">infosString</a><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 phase = &quot;)" class="string">&quot;\n phase = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#105859" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587008" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587007" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587053">qual1</a> = 
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#105859" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#587006" title="Typers.this.global.Tree">qual</a>
            <span class="keyword">else</span> <a href="#105868" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587053" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#587006" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162486" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587053" title="Typers.this.global.Tree">qual1</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105851" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587008" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107477" title="=&gt; Typers.this.global.Symbol">toplevelClass</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587007" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96576" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable" id="587064">tree1</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree with Serializable)Typers.this.global.gen.global.Tree with Serializable">atPos</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105467" title="(qual: Typers.this.global.gen.global.Tree, origName: Typers.this.global.gen.global.Name)Typers.this.global.gen.global.Tree with Serializable">convertToSelectFromType</a><span class="delimiter">(</span><a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>  <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587064" title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable">tree1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#587064" title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable">tree1</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="comment">// try to expand according to Dynamic rules.</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36736" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xexperimental</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107447" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106166" title="=&gt; Typers.this.global.Symbol">DynamicClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Apply" id="587083">dynInvoke</a> = <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115382" title="=&gt; Typers.this.global.nme.NameType">applyDynamic</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#587007" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587131">tree1</a>, <a title="List[Typers.this.global.Tree]" id="587132">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#587131" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#501268" title="Typers.this.global.Tree">tree</a> =&gt; 
                ;
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; 
                <a href="#587083" title="Typers.this.global.Apply">dynInvoke</a> = <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#587083" title="Typers.this.global.Apply">dynInvoke</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Nothing" class="keyword">return</span> <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span>util.<a href="../util/trace.scala.html#587143" title="(msg: String)(value: Typers.this.global.Apply)Typers.this.global.Apply">trace</a><span class="delimiter">(</span><span title="java.lang.String(&quot;dynatype: &quot;)" class="string">&quot;dynatype: &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#587083" title="Typers.this.global.Apply">dynInvoke</a><span class="delimiter">)</span>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
                  
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
              <span title="java.lang.String(&quot;qual = &quot;)" class="string">&quot;qual = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012Symbol=&quot;)" class="string">&quot;\nSymbol=&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105312" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012symbol-info = &quot;)" class="string">&quot;\nsymbol-info = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105312" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012scope-id = &quot;)" class="string">&quot;\nscope-id = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105312" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012members = &quot;)" class="string">&quot;\nmembers = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105349" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012name = &quot;)" class="string">&quot;\nname = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587007" title="Typers.this.global.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012found = &quot;)" class="string">&quot;\nfound = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587008" title="Typers.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012owner = &quot;)" class="string">&quot;\nowner = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.RefTree with Serializable" id="587063">makeErrorTree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="587167">tree1</a> = <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162486" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162493" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">setError</a><span class="delimiter">(</span><a href="#587167" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587007" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114894" title="=&gt; Typers.this.global.nme.NameType">ERROR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64993" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#587063" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a>
            
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
            <a href="TypeDiagnostics.scala.html#105781" title="(sel: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Unit">notAMember</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64993" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <a href="#587063" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a> <span class="keyword">else</span> <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> 
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="587209">tree1</a> = <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162486" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162493" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#587211" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="#587210" title="Typers.this.global.Tree" id="587211">tree2</a>, <a href="#587210" title="Typers.this.global.Type" id="587212">pre2</a><span class="delimiter">)</span> = <a href="#105854" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#587209" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#587008" title="Typers.this.global.Symbol">sym</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#587006" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587213">result</a> = <a href="#105856" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#587211" title="Typers.this.global.Tree">tree2</a>, <a href="#587212" title="Typers.this.global.Type">pre2</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="()Boolean" id="587214">isPotentialNullDeference</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#587008" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106195" title="=&gt; Typers.this.global.Symbol">NotNullClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105307" title="=&gt; Boolean">isNotNull</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106389" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a>, <a href="../symtab/Definitions.scala.html#106392" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span> <span title="(elem: Any)Boolean">contains</span> <a href="#587213" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>  <span class="comment">// null.is/as is not a dereference</span>
          <span class="delimiter">}</span>
          <span class="comment">// unit is null here sometimes; how are we to know when unit might be null? (See bug #2467.)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36911" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587214" title="()Boolean">isPotentialNullDeference</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;potential null pointer dereference: &quot;)" class="string">&quot;potential null pointer dereference: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587215">selection</a> = <a href="#587213" title="Typers.this.global.Tree">result</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="comment">// could checkAccessible (called by makeAccessible) potentially have skipped checking a type application in qual?</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.TypeTree" id="587272">qual</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Typers.this.global.TypeName" id="587275">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#587272" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt; <span class="comment">// TODO: somehow the new qual is not checked in refchecks</span>
              <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162493" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span>
                <a href="#587213" title="Typers.this.global.Tree">result</a>,
                <span class="delimiter">(</span><a href="../ast/Trees.scala.html#160666" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="keyword">val</span> <a title="Typers.this.global.Type" id="587279">tp</a> = <a href="#587272" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>; <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="587280">sym</a> = <a href="#587279" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105315" title="=&gt; Typers.this.global.Symbol">typeSymbolDirect</a>
                  <span class="comment">// will execute during refchecks -- TODO: make private checkTypeRef in refchecks public and call that one?</span>
                  <a href="Infer.scala.html#105989" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#587272" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#587279" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105323" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#587280" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#587280" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#587279" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <a href="#587272" title="Typers.this.global.TypeTree">qual</a> <span class="comment">// you only get to see the wrapped tree after running this check :-p</span>
                <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span> <a href="#587272" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>,
                <a href="#587275" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587284">accErr</a>: Inferencer#<a href="Infer.scala.html#106019" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt; 
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587287">qual1</a> =
                <span class="keyword">try</span> <a href="#105868" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587006" title="Typers.this.global.Tree">qual</a>, <a href="#587007" title="Typers.this.global.Name">name</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
                <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt; <a href="#587006" title="Typers.this.global.Tree">qual</a> <span class="delimiter">}</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587287" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#587006" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#587287" title="Typers.this.global.Tree">qual1</a>, <a href="#587007" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#587284" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#543689" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#587213" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
          <span class="comment">// To fully benefit from special casing the return type of</span>
          <span class="comment">// getClass, we have to catch it immediately so expressions</span>
          <span class="comment">// like x.getClass().newInstance() are typed with the type of x.</span>
          <span class="keyword">val</span> <a title="Boolean" id="587216">isRefinableGetClass</a> = <span class="delimiter">(</span>
               <a href="#587215" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115525" title="=&gt; Typers.this.global.TermName">getClass_</a>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587215" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105334" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span>
            <span class="comment">// TODO: If the type of the qualifier is inaccessible, we can cause private types</span>
            <span class="comment">// to escape scope here, e.g. pos/t1107.  I'm not sure how to properly handle this</span>
            <span class="comment">// so for now it requires the type symbol be public.</span>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isPublic</span>
          <span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587216" title="Boolean">isRefinableGetClass</a><span class="delimiter">)</span>
              <a href="#587215" title="Typers.this.global.Tree">selection</a> <span title="(tp: Typers.this.global.Type)selection.type">setType</span> <a href="../symtab/Types.scala.html#148698" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../Global.scala.html#64918" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#111595" title="(tp: Typers.this.global.erasure.global.Type)Typers.this.global.erasure.global.Type">getClassReturnType</a><span class="delimiter">(</span><a href="#587006" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#587215" title="Typers.this.global.Tree">selection</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Attribute an identifier consisting of a simple name or an outer reference.
       *
       *  @param tree      The tree representing the identifier. 
       *  @param name      The name of the identifier.
       *  Transformations: (1) Prefix class members with this.
       *                   (2) Change imported symbols to selections
       */</span>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Typers.this.global.Tree" id="585205">typedIdent</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="587320">name</a>: <a href="../symtab/Names.scala.html#66914" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="587321">ambiguousError</a><span class="delimiter">(</span><a title="String" id="587329">msg</a>: <span title="String">String</span><span class="delimiter">)</span> =
          <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;reference to &quot;)" class="string">&quot;reference to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#587320" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is ambiguous;\012&quot;)" class="string">&quot; is ambiguous;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#587329" title="String">msg</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587322">defSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>  <span class="comment">// the directly found symbol</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="587323">pre</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#67397" title="object Typers.this.global.NoPrefix">NoPrefix</a>          <span class="comment">// the prefix type of defSym, if a class member</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="587324">qual</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>        <span class="comment">// the qualifier tree if transformed tree is a select</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587325">inaccessibleSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span class="comment">// the first symbol that was found but that was discarded</span>
                                          <span class="comment">// for being inaccessible; used for error reporting</span>
        <span class="keyword">var</span> <a title="String" id="587326">inaccessibleExplanation</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        
        <span class="comment">// If a special setting is given, the empty package will be checked as a</span>
        <span class="comment">// last ditch effort before failing.  This method sets defSym and returns</span>
        <span class="comment">// true if a member of the given name exists.</span>
        <span class="keyword">def</span> <a title="()Boolean" id="587327">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#587322" title="Typers.this.global.Symbol">defSym</a> = <a href="../symtab/Definitions.scala.html#106040" title="=&gt; Typers.this.global.Symbol">EmptyPackageClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105355" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <a href="#587322" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>

        <span class="comment">// A symbol qualifies if it exists and is not stale. Stale symbols</span>
        <span class="comment">// are made to disappear here. In addition,</span>
        <span class="comment">// if we are in a constructor of a pattern, we ignore all definitions</span>
        <span class="comment">// which are methods (note: if we don't do that</span>
        <span class="comment">// case x :: xs in class List would return the :: method)</span>
        <span class="comment">// unless they are stable or are accessors (the latter exception is for better error messages).</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="587328">qualifies</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="587335">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#105851" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587335" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#587335" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587335" title="Typers.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="587358">defEntry</a>: <a href="../symtab/Scopes.scala.html#67678" title="Typers.this.global.ScopeEntry">ScopeEntry</a> = <span title="Null(null)" class="keyword">null</span> <span class="comment">// the scope entry of defSym, if defined in a local scope</span>

          <span class="keyword">var</span> <a title="Typers.this.Context" id="587359">cx</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(65538)">|</span> TYPEPATmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// println(&quot;ignoring scope: &quot;+name+&quot; &quot;+cx.scope+&quot; &quot;+cx.outer.scope)</span>
            <span class="comment">// ignore current variable scope in patterns to enforce linearity</span>
            <a href="#587359" title="Typers.this.Context">cx</a> = <a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106620" title="=&gt; Typers.this.Context">outer</a> 
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587359" title="Typers.this.Context">cx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#105502" title="=&gt; Typers.this.Context">NoContext</a><span class="delimiter">)</span> <a href="#587363" title="()Unit" class="delimiter">{</a>
            <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72375" title="(context: Typers.this.global.analyzer.Context, name: Typers.this.global.Name)Boolean">compileSourceFor</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#105513" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#587323" title="Typers.this.global.Type">pre</a> = <a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106647" title="=&gt; Typers.this.global.Type">prefix</a>
            <a href="#587358" title="Typers.this.global.ScopeEntry">defEntry</a> = <a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112955" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#587358" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587328" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a><span class="delimiter">(</span><a href="#587358" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#587322" title="Typers.this.global.Symbol">defSym</a> = <a href="#587358" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#113135" title="=&gt; Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#587359" title="Typers.this.Context">cx</a> = <a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="587396">foundSym</a> = <a href="#587323" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105354" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <a href="#587328" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a>
              <a href="#587322" title="Typers.this.global.Symbol">defSym</a> = <a href="#587396" title="Typers.this.global.Symbol">foundSym</a> <a href="../symtab/Symbols.scala.html#107451" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106719" title="(sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#587401" title="Typers.this.global.Symbol">_</a>, <a href="#587323" title="Typers.this.global.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#587396" title="Typers.this.global.Symbol">foundSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#587325" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#587325" title="Typers.this.global.Symbol">inaccessibleSym</a> = <a href="#587396" title="Typers.this.global.Symbol">foundSym</a>
                  <a href="#587326" title="String">inaccessibleExplanation</a> = <a href="../Global.scala.html#64900" title="object Typers.this.global.analyzer">analyzer</a>.<a href="Contexts.scala.html#105506" title="=&gt; String">lastAccessCheckDetails</a>
                <span class="delimiter">}</span>
                <a href="#587359" title="Typers.this.Context">cx</a> = <a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106620" title="=&gt; Typers.this.Context">outer</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Int" id="587360">symDepth</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#587358" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106635" title="=&gt; Int">depth</a>
                         <span class="keyword">else</span> <a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106635" title="=&gt; Int">depth</a> <span title="(x: Int)Int">-</span> <span class="delimiter">(</span><a href="#587359" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106617" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#112958" title="=&gt; Int">nestingLevel</a> <span title="(x: Int)Int">-</span> <a href="#587358" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#113137" title="=&gt; Typers.this.global.Scope">owner</a>.<a href="../symtab/Scopes.scala.html#112958" title="=&gt; Int">nestingLevel</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587361">impSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>      <span class="comment">// the imported symbol</span>
          <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="587362">imports</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106638" title="=&gt; List[Typers.this.ImportInfo]">imports</a>      <span class="comment">// impSym != NoSymbol =&gt; it is imported from imports.head</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105851" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587361" title="Typers.this.global.Symbol">impSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314396" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#587360" title="Int">symDepth</a><span class="delimiter">)</span> <a href="#587364" title="()Unit" class="delimiter">{</a>
            <a href="#587361" title="Typers.this.global.Symbol">impSym</a> = <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314401" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587361" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
          <span class="delimiter">}</span>

          <span class="comment">// detect ambiguous definition/import,</span>
          <span class="comment">// update `defSym' to be the final resolved symbol,</span>
          <span class="comment">// update `pre' to be `sym's prefix type in case it is an imported member,</span>
          <span class="comment">// and compute value of:</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587361" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// imported symbols take precedence over package-owned symbols in different</span>
            <span class="comment">// compilation units. Defined symbols take precedence over erroneous imports.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107351" title="=&gt; Boolean">definedInPackage</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72361" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                 <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107502" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96402" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96500" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#587322" title="Typers.this.global.Symbol">defSym</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587361" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107337" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#587361" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#587361" title="Typers.this.global.Symbol">impSym</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587361" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
              <a href="#587321" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                <span title="java.lang.String(&quot;it is both defined in &quot;)" class="string">&quot;it is both defined in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; and imported subsequently by \012&quot;)" class="string">&quot; and imported subsequently by \n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107340" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span>
              <a href="#587323" title="Typers.this.global.Type">pre</a> = <a href="../symtab/Types.scala.html#67397" title="object Typers.this.global.NoPrefix">NoPrefix</a>
            <span class="keyword">else</span>
              <a href="#587324" title="Typers.this.global.Tree">qual</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97205" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105423" title="(tpe: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#587323" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587361" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107396" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.NoSymbol.type" id="587459">impSym1</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="587460">imports1</a> = <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="keyword">def</span> <a title="()Unit" id="587461">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314399" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105379" title="(that: Typers.this.global.Type)Boolean">=:=</a> <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314399" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#587321" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                    <span title="java.lang.String(&quot;it is imported twice in the same scope by\012&quot;)" class="string">&quot;it is imported twice in the same scope by\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span> <span title="(x$1: Any)java.lang.String">+</span>  <span title="java.lang.String(&quot;\012and &quot;)" class="string">&quot;\nand &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314400" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                      <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314396" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314396" title="=&gt; Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#587463" title="()Unit" class="delimiter">{</a>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587480">impSym1</a> = <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314401" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105851" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587480" title="Typers.this.global.Symbol">impSym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314400" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314400" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                        <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314396" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">!=</span> <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314396" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#587461" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                    <a href="#587361" title="Typers.this.global.Symbol">impSym</a> = <a href="#587480" title="Typers.this.global.Symbol">impSym1</a>
                    <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314400" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                             <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314396" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314396" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#587461" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a> = <a href="#587460" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="delimiter">}</span>
              <a href="#587322" title="Typers.this.global.Symbol">defSym</a> = <a href="#587361" title="Typers.this.global.Symbol">impSym</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587462">qual0</a> = <a href="#587362" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314399" title="=&gt; Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="Boolean(false)">shortenImports</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587462" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isPackage</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// optimization: don't write out package prefixes</span>
                <a href="#587324" title="Typers.this.global.Tree">qual</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97205" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162608" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">resetPos</a><span class="delimiter">(</span><a href="#587462" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; qual0.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#587323" title="Typers.this.global.Type">pre</a> = <a href="#587324" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36840" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">exposeEmptyPackage</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587327" title="()Boolean">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Allowing empty package member &quot;)" class="string">&quot;Allowing empty package member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#587320" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; due to settings.&quot;)" class="string">&quot; due to settings.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106638" title="=&gt; List[Typers.this.ImportInfo]">imports</a><span class="delimiter">)</span><span class="comment">//debug</span>
              <span class="delimiter">}</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#587325" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;not found: &quot;)" class="string">&quot;not found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105779" title="(name: Typers.this.global.Name, owner: Typers.this.global.Symbol)String">decodeWithKind</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span title="Typer.this.infer.AccessError" class="keyword">new</span> <a href="Infer.scala.html#106019" title="Typer.this.infer.AccessError">AccessError</a><span class="delimiter">(</span>
                <a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587325" title="Typers.this.global.Symbol">inaccessibleSym</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a>, 
                <a href="#587326" title="String">inaccessibleExplanation</a>
              <span class="delimiter">)</span>.<a href="Infer.scala.html#543689" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#587322" title="Typers.this.global.Symbol">defSym</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107317" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">newErrorSymbol</a><span class="delimiter">(</span><a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span> <a href="#587323" title="Typers.this.global.Type">pre</a> = <a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Typers.this.global.Type">thisType</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107336" title="=&gt; Boolean">isThisSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#587322" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Tree">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587552">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587324" title="Typers.this.global.Tree">qual</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>
                      <span class="keyword">else</span> <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#587324" title="Typers.this.global.Tree">qual</a>, <a href="#587320" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="comment">// atPos necessary because qualifier might come from startContext</span>
          <span class="keyword">val</span> <a href="#587554" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="#587553" title="Typers.this.global.Tree" id="587554">tree2</a>, <a href="#587553" title="Typers.this.global.Type" id="587555">pre2</a><span class="delimiter">)</span> = <a href="#105854" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#587552" title="Typers.this.global.Tree">tree1</a>, <a href="#587322" title="Typers.this.global.Symbol">defSym</a>, <a href="#587323" title="Typers.this.global.Type">pre</a>, <a href="#587324" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="comment">// assert(pre.typeArgs isEmpty) // no need to add #2416-style check here, right?</span>
          <a href="#105856" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#587554" title="Typers.this.global.Tree">tree2</a>, <a href="#587555" title="Typers.this.global.Type">pre2</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587593">accErr</a>: Inferencer#<a href="Infer.scala.html#106019" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt; <a href="#587593" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#543689" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587596">result</a> =&gt; <a href="#587596" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)Typers.this.global.Tree" id="585206">typedCompoundTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="587597">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="587598">parents1</a> = <a href="#587597" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#587605" title="Typers.this.global.Tree">_</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="tree.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#587598" title="List[Typers.this.global.Tree]">parents1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#587617" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../symtab/Types.scala.html#67388" title="object Typers.this.global.ErrorType">ErrorType</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="587619">decls</a> = <a href="../symtab/Scopes.scala.html#112939" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="Typers.this.global.Scope">Scope</a>
          <span class="comment">//Console.println(&quot;Owner: &quot; + context.enclClass.owner + &quot; &quot; + context.enclClass.owner.id)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="587620">self</a> = <a href="../symtab/Types.scala.html#67469" title="(parents: List[Typers.this.global.Type], owner: Typers.this.global.Symbol, decls: Typers.this.global.Scope, pos: Typers.this.global.Position)Typers.this.global.Type">refinedType</a><span class="delimiter">(</span><a href="#587598" title="List[Typers.this.global.Tree]">parents1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#587647" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106623" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#587619" title="Typers.this.global.Scope">decls</a>, <a href="#587597" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106697" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#587597" title="Typers.this.global.Template">templ</a>, <a href="#587620" title="Typers.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#587619" title="Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105897" title="(stats: List[Typers.this.global.Tree])Unit">typedRefinement</a><span class="delimiter">(</span><a href="#587597" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
          <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#587620" title="Typers.this.global.Type">self</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="585207">typedAppliedTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587677">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="587678">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587679">tpt1</a> = <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#587677" title="Typers.this.global.Tree">tpt</a>, <a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105344" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="587693">tparams</a> = <a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#587693" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#587678" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="587696">args1</a> = 
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107429" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="=&gt; Boolean">isComplete</span><span class="delimiter">)</span>
                <a href="#587678" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#105933" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#587707" title="Typers.this.global.Tree">_</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="comment">// if symbol hasn't been fully loaded, can't check kind-arity</span>
              <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67607" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#587678" title="List[Typers.this.global.Tree]">args</a>, <a href="#587693" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587746">arg</a>, <a title="Typers.this.global.Symbol" id="587747">tparam</a><span class="delimiter">)</span> =&gt; 
                  <a href="#105932" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#587746" title="Typers.this.global.Tree">arg</a>, <a href="#501269" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67479" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#587747" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#106075" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> 
                  <span class="comment">//@M! the polytype denotes the expected kind</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="587697">argtypes</a> = <a href="#587696" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#587768" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

            <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#587678" title="List[Typers.this.global.Tree]">args</a>, <a href="#587693" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Symbol] =&gt; scala.collection.IterableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]])(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Symbol],Typers.this.global.Symbol]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587848">arg</a>, <a title="Typers.this.global.Symbol" id="587849">tparam</a><span class="delimiter">)</span> =&gt; <a href="#587848" title="Typers.this.global.Tree">arg</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="comment">// note: can't use args1 in selector, because Bind's got replaced </span>
              <span class="keyword">case</span> <span title="Any">Bind</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; 
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#587848" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span>
                  <a href="#587848" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <span class="comment">// XXX, feedback. don't trackSymInfo here! </span>
                    <a href="../symtab/Types.scala.html#148437" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span>
                      <a href="../symtab/Types.scala.html#67638" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">lub</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#587848" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Typers.this.global.Type">lo</a>, <a href="#587849" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#587693" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#587697" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      <a href="../symtab/Types.scala.html#67647" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#587848" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; Typers.this.global.Type">hi</a>, <a href="#587849" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; Typers.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#587693" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#587697" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span><span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AppliedTypeTree" id="587698">original</a> = <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162495" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.AppliedTypeTree">AppliedTypeTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587679" title="Typers.this.global.Tree">tpt1</a>, <a href="#587696" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="587699">result</a> = <a href="../ast/Trees.scala.html#67807" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#587697" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135684" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a>  <a href="#587698" title="Typers.this.global.AppliedTypeTree">original</a>
            <span title="&lt;none&gt; extends Typers.this.global.AbsTypeTree with Serializable" class="keyword">if</span><span class="delimiter">(</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67444" title="Typers.this.global.PolyType">PolyType</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="comment">// did the type application (performed by appliedType) involve an unchecked beta-reduction?</span>
              <span class="delimiter">(</span><a href="../ast/Trees.scala.html#160666" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                <span class="comment">// wrap the tree and include the bounds check -- refchecks will perform this check (that the beta reduction was indeed allowed) and unwrap</span>
                <span class="comment">// we can't simply use original in refchecks because it does not contains types</span>
                <span class="comment">// (and the only typed trees we have have been mangled so they're not quite the original tree anymore)</span>
                <a href="Infer.scala.html#105989" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#587699" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105323" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#587697" title="List[Typers.this.global.Type]">argtypes</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                <a href="#587699" title="Typers.this.global.TypeTree">result</a> <span class="comment">// you only get to see the wrapped tree after running this check :-p</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span><span class="delimiter">(</span><a href="#587699" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#587699" title="Typers.this.global.TypeTree">result</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587693" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(&quot;\{tpt1}:\{tpt1.symbol}:\{tpt1.symbol.info}&quot;)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#587679" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpt1</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="comment">//debug</span>
            <a href="Infer.scala.html#105954" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of type arguments for &quot;)" class="string">&quot;wrong number of type arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587679" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, should be &quot;)" class="string">&quot;, should be &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587693" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef" id="585208">adaptCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="587926">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="587927">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> = 
        <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162465" title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#587926" title="Typers.this.global.CaseDef">cdef</a>, <a href="#587926" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#587926" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#587926" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#501269" title="Int">mode</a>, <a href="#587927" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// begin typed1</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585209">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a> = <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107431" title="=&gt; sym.type">initialize</a> 
      <span class="comment">//if (settings.debug.value &amp;&amp; tree.isDef) log(&quot;typing definition of &quot;+sym);//DEBUG</span>
      <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="Typers.this.global.RefTree" id="587938">pid</a>, <a title="List[Typers.this.global.Tree]" id="587939">stats</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.RefTree" id="587940">pid1</a> = <a href="#105927" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#587938" title="Typers.this.global.RefTree">pid</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.RefTree" class="delimiter">[</span><span title="Typers.this.global.RefTree">RefTree</span><span class="delimiter">]</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#585209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="comment">// complete lazy annotations</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="587941">annots</a> = <a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="587942">stats1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106697" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; Typers.this.global.Symbol">moduleClass</a>, <a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#105899" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#587939" title="List[Typers.this.global.Tree]">stats</a>, <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162455" title="(tree: Typers.this.global.Tree, pid: Typers.this.global.RefTree, stats: List[Typers.this.global.Tree])Typers.this.global.PackageDef">PackageDef</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#587940" title="Typers.this.global.RefTree">pid1</a>, <a href="#587942" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.PackageDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587960">tree</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#587960" title="Typers.this.global.ClassDef">tree</a>, <a href="#585209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105875" title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree">typedClassDef</a><span class="delimiter">(</span><a href="#587960" title="Typers.this.global.ClassDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587967">tree</a> @ ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#587967" title="Typers.this.global.ModuleDef">tree</a>, <a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; Typers.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105876" title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree">typedModuleDef</a><span class="delimiter">(</span><a href="#587967" title="Typers.this.global.ModuleDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="587973">vdef</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105884" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">(</span><a href="#587973" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.DefDef" id="587980">ddef</a> @ DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt; 
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#585209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105888" title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef">typedDefDef</a><span class="delimiter">(</span><a href="#587980" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeDef" id="587989">tdef</a> @ TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105889" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#587989" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.LabelDef" id="587999">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105848" title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer">labelTyper</a><span class="delimiter">(</span><a href="#587999" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>.<a href="#105892" title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef">typedLabelDef</a><span class="delimiter">(</span><a href="#587999" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588005">ddef</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="588008">comment</a>, <a title="Typers.this.global.Tree" id="588009">defn</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64994" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../ast/DocComments.scala.html#67896" title="(key: Typers.this.global.Symbol, value: Typers.this.global.DocComment)Unit">docComments</a><span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#588008" title="Typers.this.global.DocComment">comment</a>
            <a href="#588008" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#129937" title="(sym: Typers.this.global.Symbol)Unit">defineVariables</a><span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="588010">typer1</a> = <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="588035">useCase</a> &lt;- <a href="#588008" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#129933" title="(f: Typers.this.global.UseCase =&gt; Unit)Unit">useCases</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#588010" title="Typers.this.Typer">typer1</a>.<a href="#105860" title="(op: Typers.this.Typer =&gt; Unit, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#588041" title="Typers.this.Typer">_</a>.<a href="#105887" title="(useCase: Typers.this.global.UseCase)Unit">typedUseCase</a><span class="delimiter">(</span><a href="#588035" title="Typers.this.global.UseCase">useCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="588047">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#588035" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130344" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#588047" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#313891" title="=&gt; String">msg</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="588069">useCaseSym</a> &lt;- <a href="#588035" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130347" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">defined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#588069" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96431" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#588035" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130344" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;@usecase &quot;)" class="string">&quot;@usecase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#588069" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not match commented symbol: &quot;)" class="string">&quot; does not match commented symbol: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585209" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96619" title="=&gt; String">decode</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588009" title="Typers.this.global.Tree">defn</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588083">constr</a>, <a title="Typers.this.global.Tree" id="588084">arg</a><span class="delimiter">)</span> =&gt;
          <a href="#585189" title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree">typedAnnotated</a><span class="delimiter">(</span><a href="#588083" title="Typers.this.global.Tree">constr</a>, <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588084" title="Typers.this.global.Tree">arg</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Block" id="588089">tree</a> @ Block<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#588089" title="Typers.this.global.Block">tree</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#105893" title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block">typedBlock</a><span class="delimiter">(</span><a href="#588089" title="Typers.this.global.Block">tree</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Alternative">Alternative</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="588095">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="588096">alts1</a> = <a href="#588095" title="List[Typers.this.global.Tree]">alts</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588103">alt</a> =&gt; <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588103" title="Typers.this.global.Tree">alt</a>, <a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8192)">ALTmode</span>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162466" title="(tree: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.Alternative">Alternative</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588096" title="List[Typers.this.global.Tree]">alts1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Alternative">setType</span> <a href="#501270" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Star">Star</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588121">elem</a><span class="delimiter">)</span> =&gt;
          <a href="#105841" title="(pos: Typers.this.global.Position, mode: Int)Unit">checkStarPatOK</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588122">elem1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588121" title="Typers.this.global.Tree">elem</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162467" title="(tree: Typers.this.global.Tree, elem: Typers.this.global.Tree)Typers.this.global.Star">Star</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588122" title="Typers.this.global.Tree">elem1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Star">setType</span> <a href="Infer.scala.html#105970" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Bind</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="588138">name</a>, <a title="Typers.this.global.Tree" id="588139">body</a><span class="delimiter">)</span> =&gt;
          <a href="#585190" title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree">typedBind</a><span class="delimiter">(</span><a href="#588138" title="Typers.this.global.Name">name</a>, <a href="#588139" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.UnApply">UnApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588142">fun</a>, <a title="List[Typers.this.global.Tree]" id="588143">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588144">fun1</a> = <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588142" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="588145">tpes</a> = <a href="Infer.scala.html#105616" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="Unapplies.scala.html#105712" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#588142" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#588144" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#588143" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="588146">args1</a> = <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type])(List[Typers.this.global.Tree], List[Typers.this.global.Type])" class="delimiter">(</span><a href="#588143" title="List[Typers.this.global.Tree]">args</a>, <a href="#588145" title="List[Typers.this.global.Type]">tpes</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.Tree], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#105929" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162469" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588144" title="Typers.this.global.Tree">fun1</a>, <a href="#588146" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#501270" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.ArrayValue">ArrayValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588245">elemtpt</a>, <a title="List[Typers.this.global.Tree]" id="588246">elems</a><span class="delimiter">)</span> =&gt;
          <a href="#585191" title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">typedArrayValue</a><span class="delimiter">(</span><a href="#588245" title="Typers.this.global.Tree">elemtpt</a>, <a href="#588246" title="List[Typers.this.global.Tree]">elems</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588247">tree</a> @ Function<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588247" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#588247" title="Typers.this.global.Function">tree</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#588247" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<span title="=&gt; Typers.this.global.nme.NameType">ANON_FUN_NAME</span><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Typers.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67395" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#588247" title="Typers.this.global.Function">tree</a>, <a href="#588247" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105896" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#588247" title="Typers.this.global.Function">tree</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Assign</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588279">lhs</a>, <a title="Typers.this.global.Tree" id="588280">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#585192" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#588279" title="Typers.this.global.Tree">lhs</a>, <a href="#588280" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AssignOrNamedArg</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588283">lhs</a>, <a title="Typers.this.global.Tree" id="588284">rhs</a><span class="delimiter">)</span> =&gt; <span class="comment">// called by NamesDefaults in silent typecheck</span>
          <a href="#585192" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#588283" title="Typers.this.global.Tree">lhs</a>, <a href="#588284" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.If">If</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588288">cond</a>, <a title="Typers.this.global.Tree" id="588289">thenp</a>, <a title="Typers.this.global.Tree" id="588290">elsep</a><span class="delimiter">)</span> =&gt;
          <a href="#585193" title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">typedIf</a><span class="delimiter">(</span><a href="#588288" title="Typers.this.global.Tree">cond</a>, <a href="#588289" title="Typers.this.global.Tree">thenp</a>, <a href="#588290" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588291">tree</a> @ Match<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588294">selector</a>, <a title="List[Typers.this.global.CaseDef]" id="588295">cases</a><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588294" title="Typers.this.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="588300">arity</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106352" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#501270" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="588301">params</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="588351">i</a> &lt;- <span title="object List">List</span>.<span title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</span><span title="(f: Int =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]" class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#588300" title="Int">arity</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> 
              <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ValDef)Typers.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#588291" title="Typers.this.global.Match">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97205" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Analyzer.scala.html#105486" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(flags: Long)Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span>PARAM <span title="Long(2105344L)">|</span> SYNTHETIC<span class="delimiter">)</span>, 
                       <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96408" title="(prefix: String)Typers.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;x&quot;)" class="string">&quot;x&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#588351" title="Int">i</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#135675" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Ident]" id="588302">ids</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="588434">p</a> &lt;- <a href="#588301" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Ident,List[Typers.this.global.Ident]])List[Typers.this.global.Ident]">params</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="Analyzer.scala.html#105486" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#588434" title="Typers.this.global.ValDef">p</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="588303">selector1</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#588291" title="Typers.this.global.Match">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97205" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588300" title="Int">arity</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#588302" title="List[Typers.this.global.Ident]">ids</a>.<span title="=&gt; Typers.this.global.Ident">head</span> <span class="keyword">else</span> <a href="../Global.scala.html#64832" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105446" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#588302" title="List[Typers.this.global.Ident]">ids</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Match" id="588304">body</a> = <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162475" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#588291" title="Typers.this.global.Match">tree</a>, <a href="#588303" title="Typers.this.global.gen.global.Tree">selector1</a>, <a href="#588295" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>
            <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Function)Typers.this.global.Function">atPos</a><span class="delimiter">(</span><a href="#588291" title="Typers.this.global.Match">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="Analyzer.scala.html#105486" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#588301" title="List[Typers.this.global.ValDef]">params</a>, <a href="#588304" title="Typers.this.global.Match">body</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588500">selector1</a> = <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588294" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="588501">cases1</a> = <a href="#105895" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#588291" title="Typers.this.global.Match">tree</a>, <a href="#588295" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#588500" title="Typers.this.global.Tree">selector1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="#588503" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#588502" title="Typers.this.global.Type" id="588503">owntype</a>, <a href="#588502" title="Boolean" id="588504">needAdapt</a><span class="delimiter">)</span> = <a href="#585187" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#588501" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#588536" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588504" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#588501" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#588501" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#585208" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#588593" title="Typers.this.global.CaseDef">_</a>, <a href="#588503" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162475" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#588291" title="Typers.this.global.Match">tree</a>, <a href="#588500" title="Typers.this.global.Tree">selector1</a>, <a href="#588501" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</span> <a href="#588503" title="Typers.this.global.Type">owntype</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Return</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588625">expr</a><span class="delimiter">)</span> =&gt;
          <a href="#585194" title="(expr: Typers.this.global.Tree)Typers.this.global.Tree">typedReturn</a><span class="delimiter">(</span><a href="#588625" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Try">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588629">block</a>, <a title="List[Typers.this.global.CaseDef]" id="588630">catches</a>, <a title="Typers.this.global.Tree" id="588631">finalizer</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="588632">block1</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588629" title="Typers.this.global.Tree">block</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="588633">catches1</a> = <a href="#105895" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588630" title="List[Typers.this.global.CaseDef]">catches</a>, <a href="../symtab/Definitions.scala.html#106105" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588634">finalizer1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588631" title="Typers.this.global.Tree">finalizer</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#588631" title="Typers.this.global.Tree">finalizer</a>
                           <span class="keyword">else</span> <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588631" title="Typers.this.global.Tree">finalizer</a>, <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#588636" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#588635" title="Typers.this.global.Type" id="588636">owntype</a>, <a href="#588635" title="Boolean" id="588637">needAdapt</a><span class="delimiter">)</span> = <a href="#585187" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#588632" title="Typers.this.global.Tree">block1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="#588646" title="(x: Typers.this.global.Type)List[Typers.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#588633" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#588666" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588637" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#588632" title="Typers.this.global.Tree">block1</a> = <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#588632" title="Typers.this.global.Tree">block1</a>, <a href="#501269" title="Int">mode</a>, <a href="#588636" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#588633" title="List[Typers.this.global.CaseDef]">catches1</a> = <a href="#588633" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#585208" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#588728" title="Typers.this.global.CaseDef">_</a>, <a href="#588636" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162477" title="(tree: Typers.this.global.Tree, block: Typers.this.global.Tree, catches: List[Typers.this.global.CaseDef], finalizer: Typers.this.global.Tree)Typers.this.global.Try">Try</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588632" title="Typers.this.global.Tree">block1</a>, <a href="#588633" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#588634" title="Typers.this.global.Tree">finalizer1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Try">setType</span> <a href="#588636" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Throw">Throw</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588768">expr</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588769">expr1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588768" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Definitions.scala.html#106105" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162478" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Throw">Throw</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588769" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Throw">setType</span> <a href="../symtab/Definitions.scala.html#106087" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>

        <span class="keyword">case</span> <span title="Typers.this.global.New">New</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588788">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =&gt;
          <a href="#585195" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">typedNew</a><span class="delimiter">(</span><a href="#588788" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588791">expr</a>, Function<span class="delimiter">(</span><a href="#588795" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#585196" title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree">typedEta</a><span class="delimiter">(</span><a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#588791" title="Typers.this.global.Tree">expr</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588808">expr</a>, <a title="Typers.this.global.Ident" id="588809">tpt</a> @ Ident<span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114911" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588813">expr0</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588808" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#105579" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501269" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)Typers.this.global.Type" id="588814">subArrayType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="588822">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#588822" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#105627" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#588822" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106356" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#588822" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="588824">tparam</a> = <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107304" title="(suffix: String)Typers.this.global.Symbol">freshExistential</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../symtab/Symbols.scala.html#107425" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../symtab/Types.scala.html#67412" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#148435" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#588822" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#149074" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#588824" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106356" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#588824" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#588816" title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</a><a href="#588815" title="Typers.this.global.Tree" id="588816">expr1</a>, <a href="#588815" title="Typers.this.global.Symbol" id="588817">baseClass</a><span class="delimiter">)</span> = <a href="#588813" title="Typers.this.global.Tree">expr0</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106253" title="(Typers.this.global.Tree, Typers.this.global.Symbol)">ArrayClass</a> =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#588813" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#105579" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501269" title="Int">mode</a><span class="delimiter">)</span>, <a href="#588814" title="(pt: Typers.this.global.Type)Typers.this.global.Type">subArrayType</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106253" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)">_</span>          =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#588813" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#105579" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501269" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106355" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106236" title="=&gt; Typers.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#588816" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105358" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#588817" title="Typers.this.global.Symbol">baseClass</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Typed">TypeRef</span><span class="delimiter">(</span>_, _, <a href="#588864" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="588875">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162480" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588816" title="Typers.this.global.Tree">expr1</a>, <a href="#588809" title="Typers.this.global.Ident">tpt</a> <span title="(tp: Typers.this.global.Type)tpt.type">setType</span> <a href="#588875" title="Typers.this.global.Type">elemtp</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#588875" title="Typers.this.global.Type">elemtp</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588891">expr</a>, <a title="Typers.this.global.Tree" id="588892">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588893">tpt1</a> = <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#588892" title="Typers.this.global.Tree">tpt</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588894">expr1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588891" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#105579" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501269" title="Int">mode</a><span class="delimiter">)</span>, <a href="#588893" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105318" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="588895">owntype</a> = 
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#585186" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="Infer.scala.html#106002" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#588893" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#588893" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> 
            <span class="keyword">else</span> <a href="#588893" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="comment">//Console.println(typed pattern: &quot;+tree+&quot;:&quot;+&quot;, tp = &quot;+tpt1.tpe+&quot;, pt = &quot;+pt+&quot; ==&gt; &quot;+owntype)//DEBUG</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162480" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#588894" title="Typers.this.global.Tree">expr1</a>, <a href="#588893" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#588895" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588909">fun</a>, <a title="List[Typers.this.global.Tree]" id="588910">args</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)        </span>
          <span class="comment">//@M! we must type fun in order to type the args, as that requires the kinds of fun's type parameters.</span>
          <span class="comment">// However, args should apparently be done first, to save context.undetparams. Unfortunately, the args</span>
          <span class="comment">// *really* have to be typed *after* fun. We escape from this classic Catch-22 by simply saving&amp;restoring undetparams.</span>

          <span class="comment">// @M TODO: the compiler still bootstraps&amp;all tests pass when this is commented out..</span>
          <span class="comment">//val undets = context.undetparams </span>
          
          <span class="comment">// @M: fun is typed in TAPPmode because it is being applied to its actual type parameters</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588911">fun1</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588909" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105580" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#501269" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> 
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="588912">tparams</a> = <a href="#588911" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>

          <span class="comment">//@M TODO: val undets_fun = context.undetparams  ?</span>
          <span class="comment">// &quot;do args first&quot; (by restoring the context.undetparams) in order to maintain context.undetparams on the function side.</span>
          
          <span class="comment">// @M TODO: the compiler still bootstraps when this is commented out.. TODO: run tests</span>
          <span class="comment">//context.undetparams = undets</span>
          
          <span class="comment">// @M maybe the well-kindedness check should be done when checking the type arguments conform to the type parameters' bounds?          </span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="588913">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67573" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#588910" title="List[Typers.this.global.Tree]">args</a>, <a href="#588912" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67607" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#588910" title="List[Typers.this.global.Tree]">args</a>, <a href="#588912" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span class="comment">//@M! the polytype denotes the expected kind</span>
                        <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588957">arg</a>, <a title="Typers.this.global.Symbol" id="588958">tparam</a><span class="delimiter">)</span> =&gt; <a href="#105932" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#588957" title="Typers.this.global.Tree">arg</a>, <a href="#501269" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67479" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#588958" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#106075" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> 
                      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> 
                      <span class="comment">//@M  this branch is correctly hit for an overloaded polymorphic type. It also has to handle erroneous cases.</span>
                      <span class="comment">// Until the right alternative for an overloaded method is known, be very liberal, </span>
                      <span class="comment">// typedTypeApply will find the right alternative and then do the same check as </span>
                      <span class="comment">// in the then-branch above. (see pos/tcpoly_overloaded.scala)</span>
                      <span class="comment">// this assert is too strict: be tolerant for errors like trait A { def foo[m[x], g]=error(&quot;&quot;); def x[g] = foo[g/*ERR: missing argument type*/] }</span>
                      <span class="comment">//assert(fun1.symbol.info.isInstanceOf[OverloadedType] || fun1.symbol.isError) //, (fun1.symbol,fun1.symbol.info,fun1.symbol.info.getClass,args,tparams))</span>
                        <a href="#588910" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#105933" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#588969" title="Typers.this.global.Tree">_</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> 
                      <span class="delimiter">}</span>

          <span class="comment">//@M TODO: context.undetparams = undets_fun ?</span>
          <a href="#105913" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#501269" title="Int">mode</a>, <a href="#588911" title="Typers.this.global.Tree">fun1</a>, <a href="#588913" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="588981">stats</a>, <a title="Typers.this.global.Tree" id="588982">expr</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="588983">args</a><span class="delimiter">)</span> =&gt;
          <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#588981" title="List[Typers.this.global.Tree]">stats</a>, <a href="Analyzer.scala.html#105486" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#588982" title="Typers.this.global.Tree">expr</a>, <a href="#588983" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589012">fun</a>, <a title="List[Typers.this.global.Tree]" id="589013">args</a><span class="delimiter">)</span> =&gt;
          <a href="#585199" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedApply</a><span class="delimiter">(</span><a href="#589012" title="Typers.this.global.Tree">fun</a>, <a href="#589013" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589023">tpt</a><span class="delimiter">)</span>, <a title="Typers.this.global.Name" id="589024">name</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="589025">args</a><span class="delimiter">)</span> 
            <span class="keyword">if</span> <span class="delimiter">(</span><a href="#589023" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#589023" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106253" title="=&gt; Typers.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <a href="#589025" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <a href="../Global.scala.html#64918" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#111593" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../transform/Erasure.scala.html#498645" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span class="delimiter">(</span><a href="#589023" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> =&gt; <span class="comment">// !!! todo simplify by using extractor</span>
              <span class="comment">// convert new Array[T](len) to evidence[ClassManifest[T]].newArray(len)</span>
              <span class="comment">// convert new Array^N[T](len) for N &gt; 1 to evidence[ClassManifest[T]].newArrayN(len)</span>
              <span class="keyword">val</span> Some<a href="#589044" title="(Int, Typers.this.global.erasure.global.Type)" class="delimiter">(</a><span class="delimiter">(</span><a href="#589043" title="Int" id="589044">level</a>, <a href="#589043" title="Typers.this.global.erasure.global.Type" id="589045">manifType</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="../Global.scala.html#64918" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#111593" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../transform/Erasure.scala.html#498645" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span title="Option[(Int, Typers.this.global.erasure.global.Type)] @unchecked" class="delimiter">(</span><a href="#589023" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589044" title="Int">level</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../symtab/Definitions.scala.html#106322" title="=&gt; Int">MaxArrayDims</a><span class="delimiter">)</span> 
                <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;cannot create a generic multi-dimensional array of more than &quot;)" class="string">&quot;cannot create a generic multi-dimensional array of more than &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Definitions.scala.html#106322" title="=&gt; Int">MaxArrayDims</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; dimensions&quot;)" class="string">&quot; dimensions&quot;</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.ApplyToImplicitArgs" id="589046">newArrayApp</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyToImplicitArgs)Typers.this.global.ApplyToImplicitArgs">atPos</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589066">manif</a> = <a href="#105940" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589045" title="Typers.this.global.erasure.global.Type">manifType</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#67820" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#589066" title="Typers.this.global.Tree">manif</a>, <a href="Analyzer.scala.html#105486" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName" class="keyword">if</a> <span class="delimiter">(</span><a href="#589044" title="Int">level</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589044" title="Int">level</a><span class="delimiter">)</span>, <a href="#589025" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589046" title="Typers.this.global.ApplyToImplicitArgs">newArrayApp</a>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589103">tree1</a> =&gt;
              <a href="#589103" title="Typers.this.global.Tree">tree1</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.ApplyDynamic">ApplyDynamic</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589106">qual</a>, <a title="List[Typers.this.global.Tree]" id="589107">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="589108">reflectiveCalls</a> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36802" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">refinementMethodDispatch</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; java.lang.String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;invoke-dynamic&quot;)" class="string">&quot;invoke-dynamic&quot;</span><span class="delimiter">)</span> 
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589109">qual1</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589106" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="589110">args1</a> = <a href="#589107" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589129">arg</a> =&gt; <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589108" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589129" title="Typers.this.global.Tree">arg</a>, <a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589129" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162483" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.ApplyDynamic">ApplyDynamic</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#589109" title="Typers.this.global.Tree">qual1</a>, <a href="#589110" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ApplyDynamic">setType</span> <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#589108" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Super">Super</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589155">qual</a>, <a title="Typers.this.global.TypeName" id="589156">mix</a><span class="delimiter">)</span> =&gt;
          <a href="#585202" title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">typedSuper</a><span class="delimiter">(</span><a href="#589155" title="Typers.this.global.Tree">qual</a>, <a href="#589156" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="589160">qual</a><span class="delimiter">)</span> =&gt;
          <a href="#585203" title="(qual: Typers.this.global.Name)Typers.this.global.Tree">typedThis</a><span class="delimiter">(</span><a href="#589160" title="Typers.this.global.TypeName">qual</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Super" id="589165">qual</a> @ Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589170">qual1</a> = 
            <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589165" title="Typers.this.global.Super">qual</a>, EXPRmode | QUALmode | POLYmode <span title="Int(353)">|</span> SUPERCONSTRmode, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="comment">// the qualifier type of a supercall constructor is its first parent class</span>
          <a href="#585204" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589170" title="Typers.this.global.Tree">qual1</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589191">qual</a>, <a title="Typers.this.global.Name" id="589192">name</a><span class="delimiter">)</span> =&gt;
          <a href="../util/Statistics.scala.html#67151" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67232" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedSelectCount</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="589193">qual1</a> = <a href="TypeDiagnostics.scala.html#574535" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#105926" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#589191" title="Typers.this.global.Tree">qual</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589192" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96576" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#589193" title="Typers.this.global.Tree">qual1</a> = <a href="#105833" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#589193" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589194">tree1</a> = <span class="comment">// temporarily use `filter' and an alternative for `withFilter'</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589192" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115468" title="=&gt; Typers.this.global.nme.NameType">withFilter</a><span class="delimiter">)</span>
              <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="589210">_</a> =&gt; <a href="#585204" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589193" title="Typers.this.global.Tree">qual1</a>, <a href="#589192" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589216">result1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; 
                  <a href="#589216" title="Typers.this.global.Tree">result1</a>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589217">ex1</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="#105860" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="589223">_</a> =&gt; <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#589193" title="Typers.this.global.Tree">qual1</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115356" title="=&gt; Typers.this.global.nme.NameType">filter</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501269" title="Int">mode</a>, <a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589249">result2</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                      <a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96432" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
                        <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;`withFilter\' method does not yet exist on &quot;)" class="string">&quot;`withFilter' method does not yet exist on &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589193" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a><span title="(x$1: Any)java.lang.String">+</span>
                        <span title="java.lang.String(&quot;, using `filter\' method instead&quot;)" class="string">&quot;, using `filter' method instead&quot;</span><span class="delimiter">)</span>
                      <a href="#589249" title="Typers.this.global.Tree">result2</a>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589250">ex2</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                      <a href="TypeDiagnostics.scala.html#105814" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589217" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
                      <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span>
              <a href="#585204" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589193" title="Typers.this.global.Tree">qual1</a>, <a href="#589192" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589193" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106034" title="=&gt; Typers.this.global.Symbol">RootPackage</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162487" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#589194" title="Typers.this.global.Tree">tree1</a>, <a href="#589192" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#589194" title="Typers.this.global.Tree">tree1</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="589266">name</a><span class="delimiter">)</span> =&gt;
          <a href="../util/Statistics.scala.html#67151" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67230" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedIdentCount</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#589266" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67713" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
              <span class="delimiter">(</span><a href="#589266" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67709" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114898" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4)">TYPEmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="Infer.scala.html#105970" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#501270" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span> 
            <a href="#585205" title="(name: Typers.this.global.Name)Typers.this.global.Tree">typedIdent</a><span class="delimiter">(</span><a href="#589266" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          
        <span class="keyword">case</span> <span title="tree.type">Literal</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="589303">value</a><span class="delimiter">)</span> =&gt;
          <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#589303" title="Typers.this.global.Constant">value</a>.<span title="=&gt; Int">tag</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#148346" title="(value: Typers.this.global.Constant)Typers.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#589303" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="tree.type">SingletonTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589311">ref</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589312">ref1</a> = <a href="#105833" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span>
            <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589311" title="Typers.this.global.Tree">ref</a>, EXPRmode <span title="Int(65)">|</span> QUALmode <span title="(x: Int)Int">|</span> <span class="delimiter">(</span><a href="#501269" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106077" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#589312" title="Typers.this.global.Tree">ref1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Typers.this.global.Type">resultType</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589333">qual</a>, <a title="Typers.this.global.TypeName" id="589334">selector</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589335">qual1</a> = <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589333" title="Typers.this.global.Tree">qual</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589335" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105306" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal type selection from volatile type &quot;)" class="string">&quot;illegal type selection from volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589333" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> 
          <a href="#585204" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589335" title="Typers.this.global.Tree">qual1</a>, <a href="#589334" title="Typers.this.global.TypeName">selector</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">CompoundTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Template" id="589341">templ</a><span class="delimiter">)</span> =&gt;
          <a href="#585206" title="(templ: Typers.this.global.Template)Typers.this.global.Tree">typedCompoundTypeTree</a><span class="delimiter">(</span><a href="#589341" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AppliedTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589344">tpt</a>, <a title="List[Typers.this.global.Tree]" id="589345">args</a><span class="delimiter">)</span> =&gt;
          <a href="#585207" title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedAppliedTypeTree</a><span class="delimiter">(</span><a href="#589344" title="Typers.this.global.Tree">tpt</a>, <a href="#589345" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.TypeBoundsTree">TypeBoundsTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589348">lo</a>, <a title="Typers.this.global.Tree" id="589349">hi</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589350">lo1</a> = <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589348" title="Typers.this.global.Tree">lo</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589351">hi1</a> = <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589349" title="Typers.this.global.Tree">hi</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67775" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162496" title="(tree: Typers.this.global.Tree, lo: Typers.this.global.Tree, hi: Typers.this.global.Tree)Typers.this.global.TypeBoundsTree">TypeBoundsTree</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#589350" title="Typers.this.global.Tree">lo1</a>, <a href="#589351" title="Typers.this.global.Tree">hi1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeBoundsTree">setType</span> <a href="../symtab/Types.scala.html#148437" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#589350" title="Typers.this.global.Tree">lo1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#589351" title="Typers.this.global.Tree">hi1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589369">etpt</a> @ ExistentialTypeTree<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106699" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#501268" title="Typers.this.global.Tree">tree</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#105912" title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree">typedExistentialTypeTree</a><span class="delimiter">(</span><a href="#589369" title="Typers.this.global.ExistentialTypeTree">etpt</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeTreeWithDeferredRefCheck" id="589372">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#589372" title="Typers.this.global.TypeTreeWithDeferredRefCheck">dc</a> <span class="comment">// TODO: should we re-type the wrapped tree? then we need to change TypeTreeWithDeferredRefCheck's representation to include the wrapped tree explicitly (instead of in its closure)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589374">tpt</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589374" title="Typers.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135683" title="=&gt; Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589374" title="Typers.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135683" title="=&gt; Typers.this.global.Tree">original</a>, <a href="#501269" title="Int">mode</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="keyword">else</span>
            <span class="comment">// we should get here only when something before failed </span>
            <span class="comment">// and we try again (@see tryTypedApply). In that case we can assign </span>
            <span class="comment">// whatever type to tree; we just have to survive until a real error message is issued.</span>
            <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../symtab/Definitions.scala.html#106075" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="tree.type">Import</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589389">expr</a>, <a title="List[Typers.this.global.ImportSelector]" id="589390">selectors</a><span class="delimiter">)</span> =&gt;
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="../Global.scala.html#64993" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="comment">// should not happen in normal circumstances.</span>
          <a href="#501268" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../symtab/SymbolTable.scala.html#64779" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unexpected tree: &quot;)" class="string">&quot;unexpected tree: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#501268" title="Typers.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#501268" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105919">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="106788">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="106789">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="106790">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#105915" title="()Unit">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="589398">dropExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="589400">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <a href="#589400" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="589403">tparams</a>, <a title="Typers.this.global.Type" id="589404">tpe</a><span class="delimiter">)</span> =&gt; 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Dropping existential: &quot;)" class="string">&quot;Dropping existential: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106788" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#589400" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="Typers.this.global.SubstWildcardMap" class="keyword">new</span> <a href="../symtab/Types.scala.html#67527" title="Typers.this.global.SubstWildcardMap">SubstWildcardMap</a><span class="delimiter">(</span><a href="#589403" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#458657" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#589400" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="589416">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#589416" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="589417">tp0</a> = <a href="#589400" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="589418">tp1</a> = <a href="#589398" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#589417" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#589418" title="Typers.this.global.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#589417" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span> <a href="#589400" title="Typers.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#589418" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#589400" title="Typers.this.global.Type">tp</a>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Boolean" id="589399">alreadyTyped</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#30936" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#67144" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="589421">t</a> = <a href="../util/Statistics.scala.html#67149" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#67176" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../util/Statistics.scala.html#67170" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67176" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#589484" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#589421" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#67179" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <span class="delimiter">}</span>
          <a href="../util/Statistics.scala.html#67180" title="(x$1: Long)Unit">typerTime</a> = <a href="#589421" title="Long">t</a>
          <a href="../util/Statistics.scala.html#67177" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span> <a href="#589514" title="(x: Class[_])List[Class[_]]">::</a> <a href="../util/Statistics.scala.html#67176" title="=&gt; List[Class[_]]">pendingTreeTypes</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106674" title="=&gt; Boolean">retyping</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105345" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#106790" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../symtab/Symbols.scala.html#67328" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        
        <a href="#589399" title="Boolean">alreadyTyped</a> = <a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="589419">tree1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589399" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <a href="#106788" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#105916" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
            <a href="../symtab/TypeDebugging.scala.html#151674" title="(label: String, pairs: (String, Any)*)String">ptLine</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typing %s: pt = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="../symtab/TypeDebugging.scala.html#151675" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#106790" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;undetparams&quot;</span>      <span title="(y: List[Typers.this.global.Symbol])(java.lang.String, List[Typers.this.global.Symbol])">-&gt;</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106685" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;implicitsEnabled&quot;</span> <span title="(y: Boolean)(java.lang.String, Boolean)">-&gt;</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106668" title="=&gt; Boolean">implicitsEnabled</a>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;silent&quot;</span>           <span title="(y: Boolean)(java.lang.String, Boolean)">-&gt;</span> <span title="=&gt; Boolean">!</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106662" title="=&gt; Boolean">reportGeneralErrors</a>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;context.owner&quot;</span>    <span title="(y: Typers.this.global.Symbol)(java.lang.String, Typers.this.global.Symbol)">-&gt;</span> <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589537">tree1</a> = <a href="#105918" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a>, <a href="#106789" title="Int">mode</a>, <a href="#589398" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#106790" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#105916" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed %s: %s%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="../symtab/TypeDebugging.scala.html#151675" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#589537" title="Typers.this.global.Tree">tree1</a><span class="delimiter">)</span>, <a href="#589537" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, 
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67588" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#589537" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; with underlying &quot;)" class="string">&quot; with underlying &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589537" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#589537" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>
       
        <a href="#589419" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../symtab/AnnotationCheckers.scala.html#67763" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#589419" title="Typers.this.global.Tree">tree1</a>, <a href="#589419" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589420">result</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589419" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#589419" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#105864" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#589419" title="Typers.this.global.Tree">tree1</a>, <a href="#106789" title="Int">mode</a>, <a href="#106790" title="Typers.this.global.Type">pt</a>, <a href="#106788" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#589399" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#105916" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;adapted %s: %s to %s, %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#589419" title="Typers.this.global.Tree">tree1</a>, <a href="#589419" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105317" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#106790" title="Typers.this.global.Type">pt</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106684" title="=&gt; java.lang.String">undetparamsString</a><span class="delimiter">)</span>
          <span class="delimiter">)</span> <span class="comment">//DEBUG</span>
        <span class="delimiter">}</span>

<span class="comment">//      for (t &lt;- tree1.tpe) assert(t != WildcardType)</span>
<span class="comment">//      if ((mode &amp; TYPEmode) != 0) println(&quot;type: &quot;+tree1+&quot; has type &quot;+tree1.tpe)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102825" title="=&gt; Int">id</a><span class="delimiter">)</span> <a href="../Global.scala.html#64856" title="(context: Typers.this.global.analyzer.Context, old: Typers.this.global.Tree, result: Typers.this.global.Tree)Unit">signalDone</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#105513" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#106788" title="Typers.this.global.Tree">tree</a>, <a href="#589420" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span>
        <a href="#589420" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589620">ex</a>: <a href="../symtab/Types.scala.html#67658" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <a href="#105916" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;caught %s: while typing %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#589620" title="Typers.this.global.TypeError">ex</a>, <a href="#106788" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//DEBUG</span>
          <a href="TypeDiagnostics.scala.html#105814" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589620" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#105950" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="589628">ex</a>: <span title="Exception">Exception</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="comment">// @M causes cyclic reference error</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106788" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106790" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96402" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#64871" title="(msg: String, t: Throwable)Unit">logError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;AT: &quot;)" class="string">&quot;AT: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#106788" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>.<a href="../util/Position.scala.html#97219" title="=&gt; java.lang.String">dbgString</a>, <a href="#589628" title="Exception">ex</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#589628" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#105914" title="()Unit">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>
          
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#30936" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#67144" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="589638">t</a> = <a href="../util/Statistics.scala.html#67149" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67170" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67176" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#589685" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#589638" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#67179" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <a href="../util/Statistics.scala.html#67173" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">visitsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67176" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#589758" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="../util/Statistics.scala.html#67180" title="(x$1: Long)Unit">typerTime</a> = <a href="#589638" title="Long">t</a>
          <a href="../util/Statistics.scala.html#67177" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="../util/Statistics.scala.html#67176" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; List[Class[_]]">tail</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol)Typers.this.Typer" id="105920">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="495112">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#105608" title="Typers.this.Typer">Typer</a> =
      <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106700" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106611" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#495112" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Typer" id="105921">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="495107">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="495108">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#105608" title="Typers.this.Typer">Typer</a> =
      <a href="#105604" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106700" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#495107" title="Typers.this.global.Tree">tree</a>, <a href="#495108" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Types expression or definition &lt;code&gt;tree&lt;/code&gt;.
     *
     *  @param tree ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105922">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="106785">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589784">ret</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#106785" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <a href="#589784" title="Typers.this.global.Tree">ret</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105923">typedPos</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="496216">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="496217">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#105922" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#496216" title="Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#496217" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Types expression &lt;code&gt;tree&lt;/code&gt; with given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105924">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="105944">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="105945">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#105944" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="#105945" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="comment">/** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105925">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="314479">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="314480">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="314481">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#314479" title="Typers.this.global.Tree">tree</a>, EXPRmode | QUALmode <span title="Int(97)">|</span> POLYmode <span title="(x: Int)Int">|</span> <a href="#314480" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span>, <a href="#314481" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="comment">// TR: don't set BYVALmode, since qualifier might end up as by-name param to an implicit</span>

    <span class="comment">/** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="105926">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="314474">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="314475">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#105925" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#314474" title="Typers.this.global.Tree">tree</a>, <a href="#314475" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105927">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="314471">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105925" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#314471" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types function part of an application */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105928">typedOperator</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="525953">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#525953" title="Typers.this.global.Tree">tree</a>, EXPRmode | FUNmode | POLYmode <span title="Int(177)">|</span> TAPPmode, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types a pattern with prototype &lt;code&gt;pt&lt;/code&gt; */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105929">typedPattern</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581035">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="581036">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">// We disable implicits because otherwise some constructs will</span>
      <span class="comment">// type check which should not.  The pattern matcher does not</span>
      <span class="comment">// perform implicit conversions in an attempt to consummate a match.</span>
      <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106691" title="(op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581035" title="Typers.this.global.Tree">tree</a>, <span title="Int(2)">PATTERNmode</span>, <a href="#581036" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Types a (fully parameterized) type tree */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="105930">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="552890">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="552891">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#552890" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#105581" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#552891" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types a (fully parameterized) type tree */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105931">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="552887">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#552887" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="comment">/** Types a higher-kinded type tree -- pt denotes the expected kind*/</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105932">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585086">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="585087">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="585088">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585088" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#105930" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#585086" title="Typers.this.global.Tree">tree</a>, <a href="#585087" title="Int">mode</a><span class="delimiter">)</span> <span class="comment">// kind is known and it's *</span>
      <span class="keyword">else</span> <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585086" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="#585088" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="105933">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585083">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="585084">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = 
      <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585083" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
             
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105934">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585081">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105933" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#585081" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="comment">/** Types a type constructor tree used in a new or supertype */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="105935">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577394">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="577395">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589869">result</a> = <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#577394" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#105581" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#577395" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span>, <a href="../symtab/Types.scala.html#67390" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="589870">restpe</a> = <a href="#589869" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105342" title="=&gt; Typers.this.global.Type">normalize</a> <span class="comment">// normalize to get rid of type aliases for the following check (#1241)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589870" title="Typers.this.global.Type">restpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67433" title="Typers.this.global.TypeRef">TypeRef</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#589870" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105323" title="=&gt; Typers.this.global.Type">prefix</a>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106608" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96436" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// The isJava exception if OK only because the only type constructors scalac gets </span>
        <span class="comment">// to see are those in the signatures. These do not need a unique object as a prefix. </span>
        <span class="comment">// The situation is different for new's and super's, but scalac does not look deep </span>
        <span class="comment">// enough to see those. See #3938</span>
        <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577394" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589870" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105323" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">prefix</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not a legal prefix for a constructor&quot;)" class="string">&quot; is not a legal prefix for a constructor&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">//@M fix for #2208</span>
      <span class="comment">// if there are no type arguments, normalization does not bypass any checks, so perform it to get rid of AnyRef</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span><span class="delimiter">(</span><a href="#589869" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// minimal check: if(result.tpe.typeSymbolDirect eq AnyRefClass) {</span>
        <span class="comment">// must expand the fake AnyRef type alias, because bootstrapping (init in Definitions) is not</span>
        <span class="comment">// designed to deal with the cycles in the scala package (ScalaObject extends</span>
        <span class="comment">// AnyRef, but the AnyRef type alias is entered after the scala package is</span>
        <span class="comment">// loaded and completed, so that ScalaObject is unpickled while AnyRef is not</span>
        <span class="comment">// yet defined )</span>
        <a href="#589869" title="Typers.this.global.Tree">result</a> <span title="(tp: Typers.this.global.Type)result.type">setType</span><span class="delimiter">(</span><a href="#589870" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// must not normalize: type application must be (bounds-)checked (during RefChecks), see #2208</span>
        <span class="comment">// during uncurry (after refchecks), all types are normalized</span>
        <a href="#589869" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105936">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577392">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105935" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#577392" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Type" id="105937">computeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="411529">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="411530">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589887">tree1</a> = <a href="#105924" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#411529" title="Typers.this.global.Tree">tree</a>, <a href="#411530" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#105597" title="(key: Typers.this.global.Tree, value: Typers.this.global.Tree)Unit">transformed</a><span class="delimiter">(</span><a href="#411529" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#589887" title="Typers.this.global.Tree">tree1</a>
      <a href="#105911" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#589887" title="Typers.this.global.Tree">tree1</a>, <a href="#105830" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106614" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105938">transformedOrTyped</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579310">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="579311">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="579312">pt</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105597" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">get</span><span class="delimiter">(</span><a href="#579310" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589900">tree1</a><span class="delimiter">)</span> =&gt; <a href="#105597" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Typers.this.transformed.type">-=</span> <a href="#579310" title="Typers.this.global.Tree">tree</a>; <a href="#589900" title="Typers.this.global.Tree">tree1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">None</span> =&gt; <a href="#105919" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#579310" title="Typers.this.global.Tree">tree</a>, <a href="#579311" title="Int">mode</a>, <a href="#579312" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult" id="105939">findManifest</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="532416">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="532417">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Typers.this.SearchResult)Typers.this.SearchResult">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Implicits.scala.html#105642" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span>
        <a href="Analyzer.scala.html#105486" title="object Typers.this.global.EmptyTree">EmptyTree</a>, 
        <a href="../symtab/Types.scala.html#67478" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><span class="delimiter">(</span><span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#532417" title="Boolean">full</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106277" title="=&gt; Typers.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106273" title="=&gt; Typers.this.global.Symbol">PartialManifestClass</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107436" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#532416" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#105830" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree" id="105940">getManifestTree</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="532448">pos</a>: <a href="../util/Position.scala.html#30599" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="532449">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="532450">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="589913">manifestOpt</a> = <a href="#105939" title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult">findManifest</a><span class="delimiter">(</span><a href="#532449" title="Typers.this.global.Type">tp</a>, <a href="#532450" title="Boolean">full</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589913" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#314510" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="Infer.scala.html#105953" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#532448" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cannot find &quot;)" class="string">&quot;cannot find &quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#532450" title="Boolean">full</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;class &quot;)" class="string">&quot;class &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;manifest for element type &quot;)" class="string">&quot;manifest for element type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#532449" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#105486" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105486" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#589913" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#314510" title="=&gt; Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="comment">/*
    def convertToTypeTree(tree: Tree): Tree = tree match {
      case TypeTree() =&gt; tree
      case _ =&gt; TypeTree(tree.tpe)
    }
*/</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>