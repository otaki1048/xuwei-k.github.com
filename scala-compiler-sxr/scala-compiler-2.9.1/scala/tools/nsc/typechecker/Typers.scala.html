<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Typers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="comment">// Added: Sat Oct 7 16:08:21 2006</span>
<span class="comment">//todo: use inherited type info also for vars and values</span>

<span class="comment">// Added: Thu Apr 12 18:23:58 2007</span>
<span class="comment">//todo: disallow C#D in superclass</span>
<span class="comment">//todo: treat :::= correctly</span>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.util.BatchSourceFile
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> util.Statistics
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#30925" title="object scala.tools.nsc.util.Statistics">Statistics</a>._
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#31716" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>
 
<span class="comment">// Suggestion check whether we can do without priming scopes with symbols of outer scopes,</span>
<span class="comment">// like the IDE does. </span>
<span class="comment">/** This trait provides methods to assign types to trees.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */</span>
<span class="keyword">trait</span> <a title="trait Typers extends java.lang.Object with scala.tools.nsc.typechecker.Modes with ScalaObject" id="29457">Typers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Modes.scala.html#29496" title="scala.tools.nsc.typechecker.Modes">Modes</a> <span class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#105627" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67699" title="object Typers.this.global.definitions">definitions</a>._

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, mode: Int)Int" id="105737">forArgMode</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574804">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="574805">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153038" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#574804" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#574805" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8)">SCCmode</span>
    <span class="keyword">else</span> <a href="#574805" title="Int">mode</a>

  <span class="comment">// namer calls typer.computeType(rhs) on DefDef / ValDef when tpt is empty. the result</span>
  <span class="comment">// is cached here and re-used in typedDefDef / typedValDef</span>
  <span class="comment">// Also used to cache imports type-checked by namer.</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" id="105738">transformed</a> = <span title="()scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">HashMap</span><span class="delimiter">[</span>Tree, Tree<span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="105740">shortenImports</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="()Unit" id="105742">resetTyper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">//println(&quot;resetTyper called&quot;)</span>
    <a href="Contexts.scala.html#105653" title="()Unit">resetContexts</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Namers.scala.html#105670" title="()Unit">resetNamer</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Implicits.scala.html#105795" title="()Unit">resetImplicits</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#105738" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="SyntheticMethods.scala.html#105845" title="()Unit">resetSynthetics</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Typers.this.UnTyper" id="105743">UnTyper</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../ast/Trees.scala.html#67837" title="Typers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Unit" id="554343">traverse</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="554344">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#554344" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#554344" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#554344" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#554344" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#162670" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#554344" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> 
<span class="comment">/* needed for experimental version where eraly types can be type arguments
  class EarlyMap(clazz: Symbol) extends TypeMap {
    def apply(tp: Type): Type = tp match {
      case TypeRef(NoPrefix, sym, List()) if (sym hasFlag PRESUPER) =&gt;
        TypeRef(ThisType(clazz), sym, List())
      case _ =&gt;
        mapOver(tp)
    }
  }
*/</span>

  <span class="keyword">def</span> <a title="(context: Typers.this.Context)Typers.this.Typer" id="105745">newTyper</a><span class="delimiter">(</span><a title="Typers.this.Context" id="314530">context</a>: <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="#105749" title="Typers.this.Typer">Typer</a> = <span title="Typers.this.NormalTyper" class="keyword">new</span> <a href="#105746" title="Typers.this.NormalTyper">NormalTyper</a><span class="delimiter">(</span><a href="#314530" title="Typers.this.Context">context</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NormalTyper extends Typers.this.Typer with ScalaObject" id="105746">NormalTyper</a><a href="#105746" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="574817">context</a> : <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#105749" title="Typers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#574817" title="Typers.this.Context">context</a><span class="delimiter">)</span>

  <span class="comment">// A transient flag to mark members of anonymous classes</span>
  <span class="comment">// that are turned private by typedBlock</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long(274877906944L)" id="105747">SYNTHETIC_PRIVATE</a> = <span title="Long(274877906944L)">TRANS_FLAG</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Typer extends java.lang.Object with Typers.this.TyperDiagnostics with ScalaObject" id="105749">Typer</a><a href="#105749" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="112941">context0</a>: <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypeDiagnostics.scala.html#105945" title="Typers.this.TyperDiagnostics">TyperDiagnostics</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#112941" title="Typers.this.Context">context0</a>.unit
    <span class="keyword">import</span> <a href="../symtab/TypeDebugging.scala.html#67945" title="object Typers.this.global.typeDebug">typeDebug</a>.<span class="delimiter">{</span> ptTree, ptBlock, ptLine <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Typers.this.Inferencer" id="105961">infer</a> = <a href="#106087" title="Typers.this.Inferencer" class="keyword">new</a> <a href="Infer.scala.html#105776" title="anonymous class $anon extends Typers.this.Inferencer" id="106087">Inferencer</a><span class="delimiter">(</span><a href="#112941" title="Typers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, pt: Typers.this.global.Type)Boolean" id="106164">isCoercible</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="106165">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="106166">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../symtab/Types.scala.html#67383" title="object Typers.this.global.undoLog">undoLog</a> <a href="../symtab/Types.scala.html#106883" title="(block: =&gt; Boolean)Boolean">undo</a> <span class="delimiter">{</span> <span class="comment">// #3281</span>
        <a href="#106165" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#106166" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#112941" title="Typers.this.Context">context0</a>.<a href="Contexts.scala.html#106809" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// this condition prevents chains of views</span>
        <a href="#105964" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#106165" title="Typers.this.global.Type">tp</a>, <a href="#106166" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

    <span class="comment">/** Find implicit arguments and pass them to given tree.
     */</span>
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Tree" id="105963">applyImplicitArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574825">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#574825" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.ApplyToImplicitArgs">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="574829">params</a>, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" id="574830">argResultsBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">ListBuffer</span><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="574831">argBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree" id="574832">mkPositionalArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574837">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="574838">paramName</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#574837" title="Typers.this.global.Tree">argTree</a>
        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg" id="574833">mkNamedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="574839">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="574840">paramName</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#574839" title="Typers.this.global.Tree">argTree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#67822" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#574840" title="Typers.this.global.Name">paramName</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a href="#574839" title="Typers.this.global.Tree">argTree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree" id="574834">mkArg</a>: <span class="delimiter">(</span>Tree, Name<span class="delimiter">)</span> =&gt; Tree = <a href="#574832" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree">mkPositionalArg</a>

        <span class="keyword">def</span> <a title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String" id="574835">errorMessage</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="574868">paramName</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Type" id="574869">paramTp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#574869" title="Typers.this.global.Type">paramTp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Implicits.scala.html#542551" title="String">ImplicitNotFoundMsg</a><span class="delimiter">(</span><a title="Typers.this.ImplicitNotFoundMsg.Message" id="574875">msg</a><span class="delimiter">)</span> =&gt; <a href="#574875" title="Typers.this.ImplicitNotFoundMsg.Message">msg</a>.<a href="Implicits.scala.html#542568" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">format</a><span class="delimiter">(</span><a href="#574868" title="Typers.this.global.Name">paramName</a>, <a href="#574869" title="Typers.this.global.Type">paramTp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="java.lang.String">_</span> =&gt;
              <span title="java.lang.String(&quot;could not find implicit value for &quot;)" class="string">&quot;could not find implicit value for &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                 <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#574868" title="Typers.this.global.Name">paramName</a> <a href="../symtab/Names.scala.html#96627" title="(name: String)Boolean">startsWith</a> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115650" title="=&gt; java.lang.String">EVIDENCE_PARAM_PREFIX</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;evidence parameter of type &quot;)" class="string">&quot;evidence parameter of type &quot;</span>
                  <span class="keyword">else</span> <span title="java.lang.String(&quot;parameter &quot;)" class="string">&quot;parameter &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#574868" title="Typers.this.global.Name">paramName</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><a href="#574869" title="Typers.this.global.Type">paramTp</a>  
          <span class="delimiter">}</span>

        <span class="comment">// DEPMETTODO: instantiate type vars that depend on earlier implicit args (see adapt (4.1))</span>
        <span class="comment">//</span>
        <span class="comment">// apply the substitutions (undet type param -&gt; type) that were determined</span>
        <span class="comment">// by implicit resolution of implicit arguments on the left of this argument</span>
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="574910">param</a> &lt;- <a href="#574829" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Type" id="574911">paramTp</a> = <a href="#574910" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.SearchResult" id="574932">ar</a> &lt;- <a href="#574830" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span>
            <a href="#574911" title="Typers.this.global.Type">paramTp</a> = <a href="#574911" title="Typers.this.global.Type">paramTp</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#574932" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314576" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#162677" title="=&gt; List[Typers.this.global.Symbol]">from</a>, <a href="#574932" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314576" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#162679" title="=&gt; List[Typers.this.global.Type]">to</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="574912">res</a> = <a href="Implicits.scala.html#105783" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#574825" title="Typers.this.global.Tree">fun</a>, <a href="#574911" title="Typers.this.global.Type">paramTp</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <a href="#574830" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">argResultsBuff</a> <span title="(x: Typers.this.SearchResult)argResultsBuff.type">+=</span> <a href="#574912" title="Typers.this.SearchResult">res</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#574912" title="Typers.this.SearchResult">res</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Implicits.scala.html#105799" title="=&gt; Typers.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#574831" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a> <span title="(x: Typers.this.global.Tree)argBuff.type">+=</span> <a href="#574834" title="(v1: Typers.this.global.Tree, v2: Typers.this.global.Name)Typers.this.global.Tree">mkArg</a><span class="delimiter">(</span><a href="#574912" title="Typers.this.SearchResult">res</a>.<a href="Implicits.scala.html#314574" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#574910" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#574834" title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree">mkArg</a> = <a href="#574833" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg">mkNamedArg</a> <span class="comment">// don't pass the default argument (if any) here, but start emitting named arguments for the following args</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#574910" title="Typers.this.global.Symbol">param</a>.<span title="=&gt; Boolean">hasDefault</span><span class="delimiter">)</span>
              <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106850" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#574825" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#574835" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">errorMessage</a><span class="delimiter">(</span><a href="#574910" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a>, <a href="#574910" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="comment">/* else {
             TODO: alternative (to expose implicit search failure more) --&gt; 
             resolve argument, do type inference, keep emitting positional args, infer type params based on default value for arg
             for (ar &lt;- argResultsBuff) ar.subst traverse defaultVal
             val targs = exprTypeArgs(context.undetparams, defaultVal.tpe, paramTp)
             substExpr(tree, tparams, targs, pt)
            }*/</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="574836">args</a> = <a href="#574831" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.SearchResult" id="575008">ar</a> &lt;- <a href="#574830" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#575008" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314576" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#162686" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#574825" title="Typers.this.global.Tree">fun</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575031">arg</a> &lt;- <a href="#574836" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <a href="#575008" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#314576" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#162686" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#575031" title="Typers.this.global.Tree">arg</a>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#67831" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="#574825" title="Typers.this.global.Tree">fun</a>, <a href="#574836" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyToImplicitArgs">setPos</span> <a href="#574825" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Typers.this.global.Tree">ErrorType</a> =&gt;
        <a href="#574825" title="Typers.this.global.Tree">fun</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Infer an implicit conversion (``view'') between two types.
     *  @param tree             The tree which needs to be converted.
     *  @param from             The source type of the conversion
     *  @param to               The target type of the conversion
     *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
     *                          False iff we search for a view to find out
     *                          whether one type is coercible to another.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree" id="105964">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="106899">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="106900">from</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="106901">to</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="106902">reportAmbiguous</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer view from &quot;)" class="string">&quot;infer view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106900" title="Typers.this.global.Type">from</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106901" title="Typers.this.global.Type">to</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="keyword">else</span> <a href="#106900" title="Typers.this.global.Type">from</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <span class="keyword">def</span> <a title="(from: Typers.this.global.Type)Typers.this.global.Tree" id="575053">wrapImplicit</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575055">from</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="575056">result</a> = <a href="Implicits.scala.html#105783" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#106899" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/Definitions.scala.html#106491" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#575055" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>, <a href="#106901" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>, <a href="#106902" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575056" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#314576" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../ast/Trees.scala.html#67844" title="=&gt; Typers.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span> <a href="#575056" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#314576" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#162686" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#106899" title="Typers.this.global.Tree">tree</a>
            <a href="#575056" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#314574" title="=&gt; Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="575054">result</a> = <a href="#575053" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="#106900" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575054" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#575054" title="Typers.this.global.Tree">result</a>
          <span class="keyword">else</span> <a href="#575053" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106365" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>.<a href="../symtab/Symbols.scala.html#107577" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#106900" title="Typers.this.global.Type">from</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> <a href="#105961" title="=&gt; Typers.this.Inferencer">infer</a>._

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.Namer" id="105967">namerCache</a>: <a href="Namers.scala.html#105671" title="Typers.this.Namer">Namer</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Namer" id="105969">namer</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#105967" title="=&gt; Typers.this.Namer">namerCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#105967" title="=&gt; Typers.this.Namer">namerCache</a>.<a href="Namers.scala.html#527562" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
        <a href="#105967" title="(x$1: Typers.this.Namer)Unit">namerCache</a> = <a href="Namers.scala.html#105665" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <a href="#105967" title="=&gt; Typers.this.Namer">namerCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Typers.this.Context" id="105971">context</a> = <a href="#112941" title="Typers.this.Context">context0</a>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="105973">context1</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>

    <span class="comment">/** Check that &lt;code&gt;tree&lt;/code&gt; is a stable expression.
     *
     *  @param tree ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="105974">checkStable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="555096">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153033" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#555096" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#555096" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span>
        <a href="#555096" title="Typers.this.global.Tree">tree</a>, 
        <span title="java.lang.String(&quot;stable identifier required, but &quot;)" class="string">&quot;stable identifier required, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555096" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; found.&quot;)" class="string">&quot; found.&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105975" title="(tree: Typers.this.global.Tree)Boolean">isStableExceptVolatile</a><span class="delimiter">(</span><a href="#555096" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575106">tpe</a> = <a href="#555096" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575110">rtpe</a><span class="delimiter">)</span> =&gt; <a href="#575110" title="Typers.this.global.Type">rtpe</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Type" id="575111">t</a> =&gt; <a href="#575111" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span>
          <span title="java.lang.String(&quot;\012 Note that &quot;)" class="string">&quot;\n Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555096" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not stable because its type, &quot;)" class="string">&quot; is not stable because its type, &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555096" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, is volatile.&quot;)" class="string">&quot;, is volatile.&quot;</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Would tree be a stable (i.e. a pure expression) if the type
     *  of its symbol was not volatile?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="105975">isStableExceptVolatile</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575089">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575097">savedTpe</a> = <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>
        <span class="keyword">val</span> <a title="Long" id="575098">savedSTABLE</a> = <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107555" title="(mask: Long)Long">getFlag</a> <span title="Long(4194304L)">STABLE</span>
        <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
        <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(4194304L)">STABLE</span>
        <span class="keyword">val</span> <a title="Boolean" id="575099">result</a> = <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153033" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#575089" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#575097" title="Typers.this.global.Type">savedTpe</a>
        <a href="#575089" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <a href="#575098" title="Long">savedSTABLE</a>
        <a href="#575099" title="Boolean">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check that `tpt' refers to a non-refinement class type */</span>
    <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit" id="105976">checkClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575112">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Boolean" id="575113">existentialOK</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="575114">stablePrefix</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Unit" id="575116">check</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575117">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#575117" title="Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575121">pre</a>, <a title="Typers.this.global.Symbol" id="575122">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575122" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575122" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isRefinementClass</span> =&gt; 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575114" title="Boolean">stablePrefix</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575121" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575112" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575121" title="Typers.this.global.Type">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not a stable prefix&quot;)" class="string">&quot; is not a stable prefix&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Unit">ErrorType</a> =&gt; ;
        <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575131">restpe</a><span class="delimiter">)</span> =&gt; <a href="#575116" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575131" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575134">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575113" title="Boolean">existentialOK</a> =&gt; <a href="#575116" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575134" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575138">underlying</a>, _<span class="delimiter">)</span> =&gt; <a href="#575116" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575138" title="Typers.this.global.Type">underlying</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="575139">t</a> =&gt; <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575112" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;class type required but &quot;)" class="string">&quot;class type required but &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575139" title="Typers.this.global.Type">t</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#575116" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#575112" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check that type &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     *
     *  @param pos ...
     *  @param tp  ...
     *  @return    &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     */</span>
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean" id="105977">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="551662">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="551663">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="575140">checkNotLocked</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575141">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <a href="#575141" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; sym.type">initialize</a>
        <a href="#575141" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Boolean">lockOK</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span><a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#551662" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cyclic aliasing or subtyping involving &quot;)" class="string">&quot;cyclic aliasing or subtyping involving &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575141" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#551663" title="Typers.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575145">pre</a>, <a title="Typers.this.global.Symbol" id="575146">sym</a>, <a title="List[Typers.this.global.Type]" id="575147">args</a><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#575140" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#575146" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
            <span title="=&gt; Boolean">!</span><a href="#575146" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Boolean">isNonClassType</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#105978" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551662" title="Typers.this.global.Position">pos</a>, <a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#575145" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105501" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#575146" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#575147" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span>, <a href="#575146" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>   <span class="comment">// @M! info for a type ref to a type parameter now returns a polytype</span>
            <span class="comment">// @M was: checkNonCyclic(pos, pre.memberInfo(sym).subst(sym.typeParams, args), sym)</span>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575155">pre</a>, <a title="Typers.this.global.Symbol" id="575156">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#575140" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#575156" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
<span class="comment">/*
        case TypeBounds(lo, hi) =&gt;
          var ok = true
          for (t &lt;- lo) ok = ok &amp; checkNonCyclic(pos, t)
          ok
*/</span>
        <span class="keyword">case</span> <a title="Boolean" id="575157">st</a>: <a href="../symtab/Types.scala.html#67394" title="Typers.this.global.SubType">SubType</a> =&gt;
          <a href="#105977" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551662" title="Typers.this.global.Position">pos</a>, <a href="#575157" title="Typers.this.global.SubType">st</a>.<a href="../symtab/Types.scala.html#148256" title="=&gt; Typers.this.global.Type">supertype</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Boolean" id="575162">ct</a>: <a href="../symtab/Types.scala.html#67426" title="Typers.this.global.CompoundType">CompoundType</a> =&gt;
          <a href="#575162" title="Typers.this.global.CompoundType">ct</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="575175">x</a> =&gt; <a href="#105977" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551662" title="Typers.this.global.Position">pos</a>, <a href="#575175" title="Typers.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean" id="105978">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="551655">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="551656">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Symbol" id="551657">lockedSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#551657" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../symtab/Symbols.scala.html#107460" title="(handler: =&gt; Unit)Unit">lock</a> <span class="delimiter">{</span>
        <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#313958" title="(msg: String)Typers.this.global.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic reference involving &quot;)" class="string">&quot;illegal cyclic reference involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#551657" title="Typers.this.global.Symbol">lockedSym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#105977" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551655" title="Typers.this.global.Position">pos</a>, <a href="#551656" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#551657" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../symtab/Symbols.scala.html#107461" title="()Unit">unlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="105979">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="551652">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105977" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551652" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#551652" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#551652" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit" id="105980">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="551647">defn</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="551648">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105978" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#551647" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#551648" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#551647" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#551648" title="Typers.this.global.Tree">tpt</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a>
        <a href="#551647" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit" id="105981">checkParamsConvertible</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="575203">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="575204">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#575204" title="Typers.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="575208">formals</a>, <a title="Typers.this.global.Type" id="575209">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="comment">/*
          if (formals.exists(_.typeSymbol == ByNameParamClass) &amp;&amp; formals.length != 1)
            error(pos, &quot;methods with `=&gt;'-parameter can be converted to function values only if they take no other parameters&quot;)
          if (formals exists (isRepeatedParamType(_)))
            error(pos, &quot;methods with `*'-parameters cannot be converted to function values&quot;);
          */</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575209" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105451" title="=&gt; Boolean">isDependent</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575203" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;method with dependent type &quot;)" class="string">&quot;method with dependent type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575204" title="Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; cannot be converted to function value&quot;)" class="string">&quot; cannot be converted to function value&quot;</span><span class="delimiter">)</span>
          <a href="#105981" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#575203" title="Typers.this.global.Position">pos</a>, <a href="#575209" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, mode: Int)Unit" id="105982">checkStarPatOK</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="575210">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a>, <a title="Int" id="575211">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575211" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4096)">STARmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575210" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;star patterns must correspond with varargs parameters&quot;)" class="string">&quot;star patterns must correspond with varargs parameters&quot;</span><span class="delimiter">)</span>

    <span class="comment">/** Check that type of given tree does not contain local or private
     *  components.
     */</span>
    <span class="keyword">object</span> <a title="object Typer.this.checkNoEscaping" id="105983">checkNoEscaping</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#67514" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="575229">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Scope" id="575232">scope</a>: <a href="../symtab/Scopes.scala.html#67691" title="Typers.this.global.Scope">Scope</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Typers.this.global.Symbol]" id="575235">hiddenSymbols</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = _

      <span class="comment">/** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to private
       *  components unless itself is wrapped in something private
       *  (&lt;code&gt;owner&lt;/code&gt; tells where the type occurs).
       *
       *  @param owner ...
       *  @param tree  ...
       *  @return      ...
       */</span>
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, tree: T)T" id="575237">privates</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="575239">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575252">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="T" id="575253">tree</a>: <a href="#575239" title="T">T</a><span class="delimiter">)</span>: <a href="#575239" title="T">T</a> =
        <a href="#575243" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#575252" title="Typers.this.global.Symbol">owner</a>, <a href="../symtab/Scopes.scala.html#67693" title="object Typers.this.global.EmptyScope">EmptyScope</a>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#575253" title="T">tree</a><span class="delimiter">)</span>

      <span class="comment">/** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to entities
       *  defined in scope &lt;code&gt;scope&lt;/code&gt;.
       *
       *  @param scope ...
       *  @param pt    ...
       *  @param tree  ...
       *  @return      ...
       */</span>
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="575240">locals</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="575242">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Scope" id="575282">scope</a>: <a href="../symtab/Scopes.scala.html#67691" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="575283">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="T" id="575284">tree</a>: <a href="#575242" title="T">T</a><span class="delimiter">)</span>: <a href="#575242" title="T">T</a> =
        <a href="#575243" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#575282" title="Typers.this.global.Scope">scope</a>, <a href="#575283" title="Typers.this.global.Type">pt</a>, <a href="#575284" title="T">tree</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="575243">check</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="575245">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575257">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Scope" id="575258">scope</a>: <a href="../symtab/Scopes.scala.html#67691" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="575259">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="T" id="575260">tree</a>: <a href="#575245" title="T">T</a><span class="delimiter">)</span>: <a href="#575245" title="T">T</a> = <span class="delimiter">{</span>
        <span class="keyword">this</span>.<a href="#575229" title="(x$1: Typers.this.global.Symbol)Unit">owner</a> = <a href="#575257" title="Typers.this.global.Symbol">owner</a>
        <span class="keyword">this</span>.<a href="#575232" title="(x$1: Typers.this.global.Scope)Unit">scope</a> = <a href="#575258" title="Typers.this.global.Scope">scope</a>
        <a href="#575235" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575298">tp1</a> = <a href="#575247" title="(t: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#575260" title="T">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#575260" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#575298" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#575323" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107479" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Infer.scala.html#106091" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#575260" title="T">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#575259" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#575260" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#575259" title="Typers.this.global.Type">pt</a> <span class="comment">//todo: eliminate</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575298" title="Typers.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107487" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span class="comment">// todo: eliminate</span>
          <a href="#575243" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#575257" title="Typers.this.global.Symbol">owner</a>, <a href="#575258" title="Typers.this.global.Scope">scope</a>, <a href="#575259" title="Typers.this.global.Type">pt</a>, <a href="#575260" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#575298" title="Typers.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107582" title="=&gt; Typers.this.global.Type">classBound</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#575257" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#575260" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#106051" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">reverse</span>, <a href="#575298" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// privates</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575347">badSymbol</a> = <a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#575260" title="T">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#575347" title="Typers.this.global.Symbol">badSymbol</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;private &quot;)" class="string">&quot;private &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#575347" title="Typers.this.global.Symbol">badSymbol</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; escapes its defining scope as part of type &quot;)" class="string">&quot; escapes its defining scope as part of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#575260" title="T">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#106091" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#575260" title="T">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#575260" title="T">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="575246">addHidden</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575352">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(elem: Any)Boolean">contains</span> <a href="#575352" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#575235" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#575352" title="Typers.this.global.Symbol">sym</a> <a href="#575355" title="(x: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">::</a> <a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="575247">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575306">t</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="575361">checkNoEscape</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575362">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575362" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575362" title="Typers.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="575363">o</a> = <a href="#575229" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#575363" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575363" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575363" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107624" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#575363" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107530" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575363" title="Typers.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#575363" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107418" title="=&gt; Typers.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#107547" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#575363" title="Typers.this.global.Symbol">o</a> = <a href="#575363" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575363" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">||</span> <a href="#575363" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107624" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>
              <a href="#575246" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#575362" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107481" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="575395">e</a> = <a href="#575232" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113095" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#575362" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Boolean" id="575396">found</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#575396" title="Boolean">found</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#575395" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575395" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113277" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575232" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#575398" title="Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#575395" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575362" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#575396" title="Boolean">found</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#575246" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#575362" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#575395" title="Typers.this.global.ScopeEntry">e</a> = <a href="#575232" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113096" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#575395" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../symtab/Types.scala.html#133458" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span>
          <a href="#575306" title="Typers.this.global.Type">t</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="575440">sym</a>, <a title="List[Typers.this.global.Type]" id="575441">args</a><span class="delimiter">)</span> =&gt; 
              <a href="#575361" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#575440" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575440" title="Typers.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                  <a href="#575440" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#575440" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#575441" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#575235" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#575235" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">tail</span>
                <a href="#575306" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#575306" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">SingleType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="575454">sym</a><span class="delimiter">)</span> =&gt; 
              <a href="#575361" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#575454" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#575306" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
              <a href="#575306" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(vparamss: List[List[Typers.this.global.ValDef]])Unit" id="105985">reenterValueParams</a><span class="delimiter">(</span><a title="List[List[Typers.this.global.ValDef]]" id="575455">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="575476">vparams</a> &lt;- <a href="#575455" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="575496">vparam</a> &lt;- <a href="#575476" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span>
          <a href="#575496" title="Typers.this.global.ValDef">vparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#575496" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]" id="105986">reenterTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.TypeDef]" id="553489">tparams</a>: <span title="List[Typers.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="575536">tparam</a> &lt;- <a href="#553489" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TypeDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#575536" title="Typers.this.global.TypeDef">tparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#575536" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <a href="#575536" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107639" title="=&gt; Typers.this.global.Symbol">deSkolemize</a> 
      <span class="delimiter">}</span> 

    <span class="comment">/** The qualifying class
     *  of a this or super with prefix &lt;code&gt;qual&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol" id="105987">qualifyingClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="550632">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="550633">qual</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a>, <a title="Boolean" id="550634">packageOK</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> =
      <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107544" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575582">o</a> =&gt; <a href="#550633" title="Typers.this.global.Name">qual</a>.<a href="../symtab/Names.scala.html#96594" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">||</span> <a href="#575582" title="Typers.this.global.Symbol">o</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575582" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#550633" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575589">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#550634" title="Boolean">packageOK</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#575589" title="Typers.this.global.Symbol">c</a>.<span title="=&gt; Boolean">isPackageClass</span> =&gt;
          <a href="#575589" title="Typers.this.global.Symbol">c</a>
        <span class="keyword">case</span> <span title="Typers.this.global.NoSymbol.type">_</span> =&gt; 
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
            <a href="#550632" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, 
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#550633" title="Typers.this.global.Name">qual</a>.<a href="../symtab/Names.scala.html#96594" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#550632" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; can be used only in a class, object, or template&quot;)" class="string">&quot; can be used only in a class, object, or template&quot;</span>
            <span class="keyword">else</span> <a href="#550633" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">qual</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not an enclosing class&quot;)" class="string">&quot; is not an enclosing class&quot;</span><span class="delimiter">)</span>
          <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="delimiter">}</span>

    <span class="comment">/** The typer for an expression, depending on where we are. If we are before a superclass 
     *  call, this is a typer over a constructor context; otherwise it is the current typer.
     */</span>  
    <span class="keyword">def</span> <a title="(inConstr: Boolean)Typers.this.Typer" id="105988">constrTyperIf</a><span class="delimiter">(</span><a title="Boolean" id="555038">inConstr</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#105749" title="Typers.this.Typer">Typer</a> =  
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#555038" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
        <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106845" title="=&gt; Typers.this.Context">makeConstructorContext</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#105749" title="Typers.this.Typer" class="keyword">this</a>

    <span class="comment">/** The typer for a label definition. If this is part of a template we
     *  first have to enter the label definition.
     */</span>
    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer" id="105989">labelTyper</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="575597">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <a href="#105749" title="Typers.this.Typer">Typer</a> = 
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#575597" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// labeldef is part of template</span>
        <span class="keyword">val</span> <a title="Typers.this.Typer" id="575604">typer1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#575597" title="Typers.this.global.LabelDef">ldef</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#575604" title="Typers.this.Typer">typer1</a>.<a href="#106032" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#575597" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>
        <a href="#575604" title="Typers.this.Typer">typer1</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#105749" title="Typers.this.Typer" class="keyword">this</a>

    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="105990">xtypes</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Is symbol defined and not stale?
     */</span>
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="105992">reallyExists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="541011">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105993" title="(sym: Typers.this.global.Symbol)Boolean">isStale</a><span class="delimiter">(</span><a href="#541011" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#541011" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
      <a href="#541011" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a>
    <span class="delimiter">}</span>

    <span class="comment">/** A symbol is stale if it is toplevel, to be loaded from a classfile, and
     *  the classfile is produced from a sourcefile which is compiled in the current run.
     */</span>
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="105993">isStale</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="541014">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#541014" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107570" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>loaders.<a href="../symtab/SymbolLoaders.scala.html#104733" title="Typers.this.global.loaders.ClassfileLoader">ClassfileLoader</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#541014" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107570" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../symtab/Types.scala.html#105536" title="(sym: Typers.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#541014" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#541014" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72358" title="=&gt; scala.collection.mutable.HashSet[String]">compiledFiles</a> <span title="(elem: String)Boolean">contains</span> <a href="#541014" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>.<a href="../io/AbstractFile.scala.html#96474" title="=&gt; String">path</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Does the context of tree &lt;code&gt;tree&lt;/code&gt; require a stable type?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean" id="105994">isStableContext</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575618">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="575619">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="575620">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =  
      <a href="#105998" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575618" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575619" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
      <span class="delimiter">(</span><span title="Boolean(false)">xtypes</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#575620" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">||</span>
       <span class="delimiter">(</span><a href="#575619" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575618" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107531" title="=&gt; Boolean">isConstant</a> <span title="(x: Boolean)Boolean">||</span>
       <a href="#575620" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575620" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#575618" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#575620" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
       <a href="#575620" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isRefinementClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#575618" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#575620" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Make symbol accessible. This means:
     *  If symbol refers to package object, insert `.package` as second to last selector.
     *  (exception for some symbols in scala package which are dealiased immediately)
     *  Call checkAccessible, which sets tree's attributes.
     *  Also note that checkAccessible looks up sym on pre without checking that pre is well-formed 
     *  (illegal type applications in pre will be skipped -- that's why typedSelect wraps the resulting tree in a TreeWithDeferredChecks)
     *  @return modified tree and new prefix type
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)" id="105995">makeAccessible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575648">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="575649">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="575650">pre</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="575651">site</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span>Tree, Type<span class="delimiter">)</span> =
      <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#105996" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#575649" title="Typers.this.global.Symbol">sym</a>, <a href="#575650" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575650" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106187" title="=&gt; Typers.this.global.Symbol">ScalaPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575649" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// short cut some aliases. It seems that without that pattern matching</span>
          <span class="comment">// fails to notice exhaustiveness and to generate good code when</span>
          <span class="comment">// List extractors are mixed with :: patterns. See Test5 in lists.scala.</span>
          <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" id="575681">dealias</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575682">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <span title="(_1: Typers.this.global.gen.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="575687">t</a> = <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105568" title="(sym: Typers.this.global.gen.global.Symbol)Typers.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#575682" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> ; <a href="#575687" title="Typers.this.global.gen.global.Tree">t</a>.<span title="(pos: Typers.this.global.gen.global.Position)t.type">setPos</span><span class="delimiter">(</span><a href="#575648" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> ; <a href="#575687" title="Typers.this.global.gen.global.Tree">t</a> <span class="delimiter">}</span>, <a href="#575682" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#575649" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#67724" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#115028" title="=&gt; Typers.this.global.nme.NameType">List</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#575681" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106383" title="=&gt; Typers.this.global.Symbol">ListModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#67724" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#115030" title="=&gt; Typers.this.global.nme.NameType">Seq</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#575681" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106389" title="=&gt; Typers.this.global.Symbol">SeqModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#67724" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#115438" title="=&gt; Typers.this.global.nme.NameType">Nil</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#575681" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106387" title="=&gt; Typers.this.global.Symbol">NilModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="575674">qual</a> = <a href="#106068" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a> <span class="delimiter">{</span> <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#575648" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97226" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#575648" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Ident">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115353" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575725">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575725" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115353" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575748">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575748" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115353" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="575675">tree1</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">atPos</a><span class="delimiter">(</span><a href="#575648" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#575648" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="575774">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575674" title="Typers.this.global.Tree">qual</a>, <a href="#575774" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Name" id="575795">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#575674" title="Typers.this.global.Tree">qual</a>, <a href="#575795" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="575814">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.TypeName)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#575674" title="Typers.this.global.Tree">qual</a>, <a href="#575814" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#106100" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#575675" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#575649" title="Typers.this.global.Symbol">sym</a>, <a href="#575674" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#575674" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#575674" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#106100" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#575648" title="Typers.this.global.Tree">tree</a>, <a href="#575649" title="Typers.this.global.Symbol">sym</a>, <a href="#575650" title="Typers.this.global.Type">pre</a>, <a href="#575651" title="Typers.this.global.Tree">site</a><span class="delimiter">)</span>, <a href="#575650" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Is `sym` defined in package object of package `pkg`?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean" id="105996">isInPackageObject</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575653">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="575654">pkg</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
      <a href="#575654" title="Typers.this.global.Symbol">pkg</a>.<span title="=&gt; Boolean">isPackageClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#575653" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="575665">sym</a> =&gt;
          <span title="=&gt; Boolean">!</span><a href="#575665" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackage</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="#575665" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; Boolean">isPackageObjectClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
            <a href="#575665" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#575654" title="Typers.this.global.Symbol">pkg</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#575654" title="Typers.this.global.Symbol">pkg</a>.<a href="../symtab/Symbols.scala.html#107538" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              <span class="comment">// need to be careful here to not get a cyclic reference during bootstrap</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575672">pkgobj</a> = <a href="#575654" title="Typers.this.global.Symbol">pkg</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105495" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115353" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
              <a href="#575672" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../symtab/Symbols.scala.html#107538" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#575672" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105495" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#575665" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(elem: Any)Boolean">contains</span> <a href="#575665" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Post-process an identifier or selection node, performing the following:
     *  1. Check that non-function pattern expressions are stable
     *  2. Check that packages and static modules are not used as values
     *  3. Turn tree type into stable type if possible and required by context.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105997">stabilize</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575853">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="575854">pre</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Int" id="575855">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="575856">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isOverloaded</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105727" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#575855" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#106156" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a>, <a href="#575856" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575858">sym</a> = <a href="#575853" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#575853" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575855" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109170" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575858" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="#105974" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a>, <a href="#575858" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not a value&quot;)" class="string">&quot; is not a value&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#575855" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(65)">|</span> QUALmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575858" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (2)</span>
        <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a>, <a href="#575858" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not a value&quot;)" class="string">&quot; is not a value&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575858" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575854" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106356" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#105994" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#575853" title="Typers.this.global.Tree">tree</a>, <a href="#575855" title="Int">mode</a>, <a href="#575856" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#575858" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#575858" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#575853" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67479" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#575854" title="Typers.this.global.Type">pre</a>, <a href="#575858" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#575853" title="Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="105998">isNarrowable</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575623">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#575623" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">TypeRef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575904">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#105998" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575904" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575908">tpe1</a>, _<span class="delimiter">)</span> =&gt; <a href="#105998" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575908" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="575911">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#105998" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575911" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575913">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#105998" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#575913" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a>
    <span class="delimiter">}</span> 

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="105999">stabilizeFun</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575914">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="575915">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="575916">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="575918">sym</a> = <a href="#575914" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="575919">pre</a> = <a href="#575914" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575924">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="#575924" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">case</span> <span title="Typers.this.global.NoPrefix.type">_</span> =&gt; <a href="../symtab/Types.scala.html#67408" title="object Typers.this.global.NoPrefix">NoPrefix</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#575914" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67448" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575919" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#575918" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#105994" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#575914" title="Typers.this.global.Tree">tree</a>, <a href="#575915" title="Int">mode</a>, <a href="#575916" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#575918" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#575914" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148762" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67479" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#575919" title="Typers.this.global.Type">pre</a>, <a href="#575918" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#575914" title="Typers.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The member with given name of given qualifier tree */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol" id="106000">member</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575938">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="575939">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Boolean" id="575942">callSiteWithinClass</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575944">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107547" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a> <a href="#575944" title="Typers.this.global.Symbol">clazz</a>
      <span class="keyword">val</span> <a title="Boolean" id="575943">includeLocals</a> = <a href="#575938" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)">ThisType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="575946">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575942" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#575946" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>                =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(true)">SuperType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="575949">clazz</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#575942" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#575949" title="Typers.this.global.Type">clazz</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean">_</span>                                                            =&gt; <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#575943" title="Boolean">includeLocals</a><span class="delimiter">)</span> <a href="#575938" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105495" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a> <a href="#575939" title="Typers.this.global.Name">name</a>
      <span class="keyword">else</span> <a href="#575938" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105498" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonLocalMember</a> <a href="#575939" title="Typers.this.global.Name">name</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[T](op: Typers.this.Typer =&gt; T, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any" id="106001">silent</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="558979">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="558973">op</a>: Typer =&gt; T,
                  <a title="Boolean" id="558977">reportAmbiguousErrors</a>: <span title="Boolean">Boolean</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106800" title="=&gt; Boolean">reportAmbiguousErrors</a>,
                  <a title="Typers.this.global.Tree" id="558980">newtree</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>: <span title="Any">Any</span> <span class="comment">/* in fact, TypeError or T */</span> = <span class="delimiter">{</span> 
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="575951">rawTypeStart</a> = <a href="../util/Statistics.scala.html#67164" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67219" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="575952">findMemberStart</a> = <a href="../util/Statistics.scala.html#67164" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67221" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="575953">subtypeStart</a> = <a href="../util/Statistics.scala.html#67164" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67223" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="575954">failedSilentStart</a> = <a href="../util/Statistics.scala.html#67166" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67253" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106803" title="=&gt; Boolean">reportGeneralErrors</a> <span title="(x: Boolean)Boolean">||</span>  
            <a href="#558977" title="Boolean">reportAmbiguousErrors</a> <span title="(x: Boolean)Boolean">!=</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106800" title="=&gt; Boolean">reportAmbiguousErrors</a> <span title="(x: Boolean)Boolean">||</span> 
            <a href="#558980" title="Typers.this.global.Tree">newtree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
          <span class="keyword">val</span> <a title="Typers.this.Context" id="575963">context1</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106843" title="(reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.Context">makeSilent</a><span class="delimiter">(</span><a href="#558977" title="Boolean">reportAmbiguousErrors</a>, <a href="#558980" title="Typers.this.global.Tree">newtree</a><span class="delimiter">)</span> 
          <a href="#575963" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#575963" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106819" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106818" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#575963" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106786" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106785" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span class="keyword">val</span> <a title="Typers.this.Typer" id="575964">typer1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#575963" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="T" id="575965">result</a> = <a href="#558973" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#575964" title="Typers.this.Typer">typer1</a><span class="delimiter">)</span>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#575963" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106819" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#575963" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106818" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106786" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#575963" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106785" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <a href="#575965" title="T">result</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#558973" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#105749" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="575975">ex</a>: <a href="../symtab/Symbols.scala.html#67347" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#575975" title="Typers.this.global.CyclicReference">ex</a>
        <span class="keyword">case</span> <a title="Typers.this.global.TypeError" id="575976">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="../util/Statistics.scala.html#67165" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67219" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a>, <a href="#575951" title="scala.tools.nsc.util.Statistics.IntPair">rawTypeStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67165" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67221" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a>, <a href="#575952" title="scala.tools.nsc.util.Statistics.IntPair">findMemberStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67165" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67223" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a>, <a href="#575953" title="scala.tools.nsc.util.Statistics.IntPair">subtypeStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67167" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67253" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a>, <a href="#575954" title="scala.tools.nsc.util.Statistics.LongPair">failedSilentStart</a><span class="delimiter">)</span>
          <a href="#575976" title="Typers.this.global.TypeError">ex</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Utility method: Try op1 on tree. If that gives an error try op2 instead.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)(op1: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)(op2: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="106004">tryBoth</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575977">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="575978">op1</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="575979">op2</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#575978" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op1</a><span class="delimiter">(</span><a href="#575986" title="Typers.this.Typer">_</a>, <a href="#575977" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="575994">result1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; 
          <a href="#575994" title="Typers.this.global.Tree">result1</a>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="575995">ex1</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#575979" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op2</a><span class="delimiter">(</span><a href="#576001" title="Typers.this.Typer">_</a>, <a href="../ast/Trees.scala.html#67860" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#575977" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576014">result2</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
<span class="comment">//              println(&quot;snd succeeded: &quot;+result2)</span>
              <a href="#576014" title="Typers.this.global.Tree">result2</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576015">ex2</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="TypeDiagnostics.scala.html#105955" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#575977" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#575995" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#575977" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Perform the following adaptations of expression, pattern or type `tree' wrt to 
     *  given mode `mode' and given prototype `pt':
     *  (-1) For expressions with annotated types, let AnnotationCheckers decide what to do
     *  (0) Convert expressions with constant types to literals (unless in interactive/scaladoc mode)
     *  (1) Resolve overloading, unless mode contains FUNmode 
     *  (2) Apply parameterless functions
     *  (3) Apply polymorphic types to fresh instances of their type parameters and
     *      store these instances in context.undetparams, 
     *      unless followed by explicit type application.
     *  (4) Do the following to unapplied methods used as values:
     *  (4.1) If the method has only implicit parameters pass implicit arguments
     *  (4.2) otherwise, if `pt' is a function type and method is not a constructor,
     *        convert to function by eta-expansion,
     *  (4.3) otherwise, if the method is nullary with a result type compatible to `pt'
     *        and it is not a constructor, apply it to ()
     *  otherwise issue an error
     *  (5) Convert constructors in a pattern as follows:
     *  (5.1) If constructor refers to a case class factory, set tree's type to the unique
     *        instance of its primary constructor that is a subtype of the expected type.
     *  (5.2) If constructor refers to an extractor, convert to application of
     *        unapply or unapplySeq method.
     *
     *  (6) Convert all other types to TypeTree nodes.
     *  (7) When in TYPEmode but not FUNmode or HKmode, check that types are fully parameterized
     *      (7.1) In HKmode, higher-kinded types are allowed, but they must have the expected kind-arity
     *  (8) When in both EXPRmode and FUNmode, add apply method calls to values of object type.
     *  (9) If there are undetermined type variables and not POLYmode, infer expression instance
     *  Then, if tree's type is not a subtype of expected type, try the following adaptations:
     *  (10) If the expected type is Byte, Short or Char, and the expression
     *      is an integer fitting in the range of that type, convert it to that type. 
     *  (11) Widen numeric literals to their expected type, if necessary
     *  (12) When in mode EXPRmode, convert E to { E; () } if expected type is scala.Unit.
     *  (13) When in mode EXPRmode, apply AnnotationChecker conversion if expected type is annotated.
     *  (14) When in mode EXPRmode, apply a view
     *  If all this fails, error
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree" id="106005">adapt</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="501316">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="501317">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="501318">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="501321">original</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576021">atp</a> @ AnnotatedType<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../symtab/AnnotationCheckers.scala.html#67775" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; <span class="comment">// (-1)</span>
        <a href="../symtab/AnnotationCheckers.scala.html#67776" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Literal" id="576031">ct</a> @ ConstantType<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="576033">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#105725" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a>, TYPEmode <span title="Int(20)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#576031" title="Typers.this.global.ConstantType">ct</a> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#65005" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#65004" title="=&gt; Boolean">forInteractive</a> =&gt; <span class="comment">// (0)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576039">sym</a> = <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#576039" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576039" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107504" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="java.lang.String" id="576044">msg</a> = <a href="#576039" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107657" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#576039" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is deprecated: &quot;)" class="string">&quot; is deprecated: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#576039" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107506" title="=&gt; Option[String]">deprecationMessage</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96453" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#576044" title="java.lang.String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162552" title="(tree: Typers.this.global.Tree, value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#576033" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="576058">pre</a>, <a title="List[Typers.this.global.Symbol]" id="576059">alts</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105727" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span> =&gt; <span class="comment">// (1)</span>
        <a href="Infer.scala.html#106156" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="576061">restpe</a><span class="delimiter">)</span> =&gt; <span class="comment">// (2)</span>
        <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#576061" title="Typers.this.global.Type">restpe</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106365" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, <a href="#576067" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="576089">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>   =&gt; <span class="comment">// (2)</span>
        <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#576089" title="Typers.this.global.Type">arg</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576099">tr</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="576103">sym</a>, _<span class="delimiter">)</span> 
      <span class="keyword">if</span> <a href="#576103" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576099" title="Typers.this.global.TypeRef">tr</a>.<a href="../symtab/Types.scala.html#133593" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67458" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
        <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#576099" title="Typers.this.global.TypeRef">tr</a>.<a href="../symtab/Types.scala.html#133593" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105481" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576121">et</a> @ ExistentialType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
        <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#576121" title="Typers.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#149160" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="576147">tparams</a>, <a title="Typers.this.global.Type" id="576148">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#105725" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a>, TAPPmode | PATTERNmode <span title="Int(16514)">|</span> HKmode<span class="delimiter">)</span> =&gt; <span class="comment">// (3)</span>
        <span class="comment">// assert((mode &amp; HKmode) == 0) //@M a PolyType in HKmode represents an anonymous type function,</span>
        <span class="comment">// we're in HKmode since a higher-kinded type is expected --&gt; hence, don't implicitly apply it to type params!</span>
        <span class="comment">// ticket #2197 triggered turning the assert into a guard</span>
        <span class="comment">// I guess this assert wasn't violated before because type aliases weren't expanded as eagerly</span>
        <span class="comment">//  (the only way to get a PolyType for an anonymous type function is by normalisation, which applies eta-expansion)</span>
          <span class="comment">// -- are we sure we want to expand aliases this early?</span>
          <span class="comment">// -- what caused this change in behaviour??</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="576157">tparams1</a> = <a href="../symtab/Symbols.scala.html#67341" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#576147" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576158">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109171" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#501316" title="Typers.this.global.Tree">tree</a> 
                    <span class="keyword">else</span> <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#576157" title="List[Typers.this.global.Symbol]">tparams1</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeTree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="576231">tparam</a> =&gt; 
                      <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#576231" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107563" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeApply">setPos</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span class="comment">//@M/tcpolyinfer: changed tparam.tpe to tparam.tpeHK</span>
        <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">++=</span> <a href="#576157" title="List[Typers.this.global.Symbol]">tparams1</a>
        <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576158" title="Typers.this.global.Tree">tree1</a> <span title="(tp: Typers.this.global.Type)tree1.type">setType</span> <a href="#576148" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105505" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#576147" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#576157" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576336">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Typers.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#576336" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt; <span class="comment">// (4.1)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// (9) -- should revisit dropped condition `(mode &amp; POLYmode) == 0`</span>
                                             <span class="comment">// dropped so that type args of implicit method are inferred even if polymorphic expressions are allowed</span>
                                             <span class="comment">// needed for implicits in 2.8 collection library -- maybe once #3346 is fixed, we can reinstate the condition?</span>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> =
            <a href="Infer.scala.html#106133" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106828" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#501318" title="Typers.this.global.Type">pt</a>,
                    <span class="comment">// approximate types that depend on arguments since dependency on implicit argument is like dependency on type parameter</span>
                    <span title="Typers.this.global.Type" class="keyword">if</span><span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36819" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#576336" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148782" title="=&gt; Typers.this.global.MethodType">approximate</a> <span class="keyword">else</span> <a href="#576336" title="Typers.this.global.MethodType">mt</a>,
                    <span class="comment">// if we are looking for a manifest, instantiate type to Nothing anyway,</span>
                    <span class="comment">// as we would get ambiguity errors otherwise. Example</span>
                    <span class="comment">// Looking for a manifest of Nil: This has many potential types,</span>
                    <span class="comment">// so we need to instantiate to minimal type List[Nothing].</span>
                    keepNothings = <span title="Boolean(false)" class="keyword">false</span>, <span class="comment">// retract Nothing's that indicate failure, ambiguities in manifests are dealt with in manifestOfType</span>
                    useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="comment">// #3808</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.Typer" id="576354">typer1</a> = <a href="#105988" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153038" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#501321" title="Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#501318" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <a href="#576354" title="Typers.this.Typer">typer1</a>.<a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="576378">tpr</a> =&gt; <a href="#576378" title="Typers.this.Typer">tpr</a>.<a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576378" title="Typers.this.Typer">tpr</a>.<a href="#105963" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576386">result</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; <a href="#576386" title="Typers.this.global.Tree">result</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576387">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt; 
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fallback on implicits: &quot;)" class="string">&quot;fallback on implicits: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../ast/Trees.scala.html#67860" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576388">tree1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67860" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#576388" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../symtab/AnnotationCheckers.scala.html#67774" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#576388" title="Typers.this.global.Tree">tree1</a>, <a href="#576388" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576388" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#576388" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576388" title="Typers.this.global.Tree">tree1</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <a href="#576354" title="Typers.this.Typer">typer1</a>.<a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576354" title="Typers.this.Typer">typer1</a>.<a href="#105963" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576407">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Typers.this.global.MethodType">MethodType</a>
      <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="Modes.scala.html#105728" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576426">meth</a> = <a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// a partial named application is a block (see comment in EtaExpansion)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="576432">tree1</a><span class="delimiter">)</span> =&gt; <a href="#576432" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#576426" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106493" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (4.2)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;eta-expanding &quot;)" class="string">&quot;eta-expanding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#105981" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576434">tree0</a> = <a href="EtaExpansion.scala.html#105831" title="(unit: Typers.this.global.CompilationUnit, tree: Typers.this.global.Tree)Typers.this.global.Tree">etaExpand</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="comment">// println(&quot;eta &quot;+tree+&quot; ---&gt; &quot;+tree0+&quot;:&quot;+tree0.tpe+&quot; undet: &quot;+context.undetparams+ &quot; mode: &quot;+Integer.toHexString(mode))</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576426" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// #2624: need to infer type arguments for eta expansion of a polymorphic method</span>
            <span class="comment">// context.undetparams contains clones of meth.typeParams (fresh ones were generated in etaExpand)</span>
            <span class="comment">// need to run typer on tree0, since etaExpansion sets the tpe's of its subtrees to null</span>
            <span class="comment">// can't type with the expected type, as we can't recreate the setup in (3) without calling typed</span>
            <span class="comment">// (note that (3) does not call typed to do the polymorphic type instantiation --</span>
            <span class="comment">//  it is called after the tree has been typed with a polymorphic expected result type)</span>
            <a href="#106006" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576434" title="Typers.this.global.Tree">tree0</a>, <a href="#501317" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#576434" title="Typers.this.global.Tree">tree0</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#576426" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576407" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148765" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (4.3)</span>
          <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106809" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;missing arguments for &quot;)" class="string">&quot;missing arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576426" title="Typers.this.global.Symbol">meth</a><span title="(x$1: Any)java.lang.String">+</span><a href="#576426" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span>
                    <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#576426" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
                     <span class="keyword">else</span> <span title="java.lang.String(&quot;;\012follow this method with `_\' if you want to treat it as a partially applied function&quot;)" class="string">&quot;;\nfollow this method with `_' if you want to treat it as a partially applied function&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="576475">applyPossible</a> = <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Symbol" id="576476">applyMeth</a> = <a href="#106000" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#106010" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(128)">TAPPmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
            <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576476" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../symtab/Symbols.scala.html#107592" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <a href="#576502" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">else</span> 
            <a href="#576476" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../symtab/Symbols.scala.html#107592" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="#576510" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105473" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#109171" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105727" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#501316" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105726" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96457" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (7) </span>
            <span class="comment">// @M When not typing a higher-kinded type ((mode &amp; HKmode) == 0) </span>
            <span class="comment">// or raw type (tree.symbol.isJavaDefined &amp;&amp; context.unit.isJava), types must be of kind *, </span>
            <span class="comment">// and thus parameterized types must be applied to their type arguments</span>
            <span class="comment">// @M TODO: why do kind-* tree's have symbols, while higher-kinded ones don't?</span>
            <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; takes type parameters&quot;)" class="string">&quot; takes type parameters&quot;</span><span class="delimiter">)</span>
            <a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span> <span class="comment">// (7.1) @M: check kind-arity </span>
                    <span class="comment">// @M: removed check for tree.hasSymbol and replace tree.symbol by tree.tpe.symbol (TypeTree's must also be checked here, and they don't directly have a symbol)</span>
                     <span class="delimiter">(</span><a href="Modes.scala.html#105726" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                    <span class="comment">// @M: don't check tree.tpe.symbol.typeParams. check tree.tpe.typeParams!!! </span>
                    <span class="comment">// (e.g., m[Int] --&gt; tree.tpe.symbol.typeParams.length == 1, tree.tpe.typeParams.length == 0!)</span>
                    <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: AnyRef)Boolean">==</span><a href="../symtab/Definitions.scala.html#106216" title="=&gt; Typers.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">||</span> 
                       <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: AnyRef)Boolean">==</span><a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">||</span> 
                       <a href="#501318" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a> <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// Check that the actual kind arity (tree.symbol.typeParams.length) conforms to the expected</span>
              <span class="comment">// kind-arity (pt.typeParams.length). Full checks are done in checkKindBounds in Infer.</span>
              <span class="comment">// Note that we treat Any and Nothing as kind-polymorphic. </span>
              <span class="comment">// We can't perform this check when typing type arguments to an overloaded method before the overload is resolved </span>
              <span class="comment">// (or in the case of an error type) -- this is indicated by pt == WildcardType (see case TypeApply in typed1).</span>
              <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; takes &quot;)" class="string">&quot; takes &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72460" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="java.lang.String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span>
                              <span title="java.lang.String(&quot;, expected: &quot;)" class="string">&quot;, expected: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#72461" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span> <span class="comment">// (6)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeTree</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#501316" title="Typers.this.global.Tree">tree</a>
            <span class="keyword">case</span> <span title="Typers.this.global.TypeTree">_</span> =&gt; <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (5)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576572">extractor</a> = <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107592" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="576574">sym</a> =&gt; <a href="#105992" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="Unapplies.scala.html#105857" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#576574" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576572" title="Typers.this.global.Symbol">extractor</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#501316" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#576572" title="Typers.this.global.Symbol">extractor</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576582">unapply</a> = <a href="Unapplies.scala.html#105857" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#576572" title="Typers.this.global.Symbol">extractor</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576583">clazz</a> = <a href="Unapplies.scala.html#105858" title="(extractor: Typers.this.global.Symbol)Typers.this.global.Symbol">unapplyParameterType</a><span class="delimiter">(</span><a href="#576582" title="Typers.this.global.Symbol">unapply</a><span class="delimiter">)</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576582" title="Typers.this.global.Symbol">unapply</a>.<span title="=&gt; Boolean">isCase</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576583" title="Typers.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isCase</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#576583" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107613" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#576605" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isCase</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// convert synthetic unapply of case class to case class constructor</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="576606">prefix</a> = <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105464" title="=&gt; Typers.this.global.Type">prefix</a>
              <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="576607">tree1</a> = <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#576583" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107597" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105500" title="(pre: Typers.this.global.Type, clazz: Typers.this.global.Symbol)Typers.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#576606" title="Typers.this.global.Type">prefix</a>, <a href="#576583" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  .<a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              
              <a href="Infer.scala.html#106137" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], pt0: Typers.this.global.Type)Unit">inferConstructorInstance</a><span class="delimiter">(</span><a href="#576607" title="Typers.this.global.TypeTree">tree1</a>, <a href="#576583" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="#576607" title="Typers.this.global.TypeTree">tree1</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#501316" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</span> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;)" class="string">&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105723" title="(mode: Int, required: Int)Boolean">inAllModes</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a>, EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                   <span title="=&gt; Boolean">!</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67448" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                   <span title="=&gt; Boolean">!</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67461" title="Typers.this.global.OverloadedType">OverloadedType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                   <a href="#576475" title="=&gt; Boolean">applyPossible</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105726" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@M</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576622">qual</a> = <a href="#106010" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576625">id</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="576629">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#576625" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span> <a href="#576625" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a>
                        <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#576625" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> 
                          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106859" title="(clazz: Typers.this.global.Symbol)Typers.this.Context">enclosingSubClassContext</a><span class="delimiter">(</span><a href="#576625" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="Contexts.scala.html#106788" title="=&gt; Typers.this.global.Type">prefix</a>
                        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67408" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="#105997" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#576625" title="Typers.this.global.Ident">id</a>, <a href="#576629" title="Typers.this.global.Type">pre</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576639">sel</a> @ Select<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576644">qualqual</a>, _<span class="delimiter">)</span> =&gt; 
              <a href="#105997" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#576639" title="Typers.this.global.Select">sel</a>, <a href="#576644" title="Typers.this.global.Tree">qualqual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576649">other</a> =&gt; 
              <a href="#576649" title="Typers.this.global.Tree">other</a>
          <span class="delimiter">}</span>
          <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#576622" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105728" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (9)</span>
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105726" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@M</span>
          <a href="#106006" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#501316" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105729" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#501317" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#106144" title="(pat: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferModulePattern</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67569" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="Infer.scala.html#549429" title="(tp: Typers.this.global.Type)Typers.this.global.Type">approximateAbstracts</a><span class="delimiter">(</span><a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.constfold.global.Tree" id="576682">tree1</a> = <a href="ConstantFolder.scala.html#106946" title="(tree: Typers.this.global.constfold.global.Tree, pt: Typers.this.global.constfold.global.Type)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="comment">// (10) (11)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576682" title="Typers.this.global.constfold.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.constfold.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.constfold.global.Type)Boolean">&lt;:&lt;</a> <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576682" title="Typers.this.global.constfold.global.Tree">tree1</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <a href="#501321" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501317" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="576715">sym</a>, _<span class="delimiter">)</span> =&gt;
                  <span class="comment">// note: was if (pt.typeSymbol == UnitClass) but this leads to a potentially</span>
                  <span class="comment">// infinite expansion if pt is constant type ()</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#576715" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106216" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (12) </span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36902" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnValueDiscard</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;discarded non-Unit value&quot;)" class="string">&quot;discarded non-Unit value&quot;</span><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105627" title="(value: Any)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106712" title="(sym: Typers.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#576715" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Types.scala.html#67644" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36904" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNumericWiden</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;implicit numeric widening&quot;)" class="string">&quot;implicit numeric widening&quot;</span><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;to&quot;)" class="string">&quot;to&quot;</span><a href="Analyzer.scala.html#105627" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">+</a><a href="#576715" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Nothing">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../symtab/AnnotationCheckers.scala.html#67775" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; <span class="comment">// (13)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../symtab/AnnotationCheckers.scala.html#67776" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Nothing" class="keyword">return</span> <a href="#106006" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106809" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="comment">// (14); the condition prevents chains of views </span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferring view from &quot;)" class="string">&quot;inferring view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576829">coercion</a> = <a href="#105964" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501318" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="comment">// convert forward views of delegate types into closures wrapped around</span>
                <span class="comment">// the delegate's apply method (the &quot;Invoke&quot; method, which was translated into apply)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#65003" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576829" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106511" title="(delegateType: Typers.this.global.Type, functionType: Typers.this.global.Type)Boolean">isCorrespondingDelegate</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="576839">meth</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105495" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                    <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;replacing forward delegate view with: &quot;)" class="string">&quot;replacing forward delegate view with: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#576839" title="Typers.this.global.Symbol">meth</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#576839" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#576839" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#576829" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferred view from &quot;)" class="string">&quot;inferred view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501318" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576829" title="Typers.this.global.Tree">coercion</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#576829" title="Typers.this.global.Tree">coercion</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106844" title="(reportAmbiguousErrors: Boolean)Typers.this.Context">makeImplicit</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106800" title="=&gt; Boolean">reportAmbiguousErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>
                    <span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../ast/Trees.scala.html#67832" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#576829" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyImplicitView">setPos</span> <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;error tree = &quot;)" class="string">&quot;error tree = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36862" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#106099" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#106098" title="(tree: Typers.this.global.Tree, found: Typers.this.global.Type, req: Typers.this.global.Type)Typers.this.global.Tree">typeErrorTree</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501318" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="576895">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt; 
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105539" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// Ignore type errors raised in later phases that are due to mismatching types with existential skolems</span>
                  <span class="comment">// We have lift crashing in 2.9 with an adapt failure in the pattern matcher.</span>
                  <span class="comment">// Here's my hypothsis why this happens. The pattern matcher defines a variable of type</span>
                  <span class="comment">//</span>
                  <span class="comment">//   val x: T = expr</span>
                  <span class="comment">// </span>
                  <span class="comment">// where T is the type of expr, but T contains existential skolems ts.</span>
                  <span class="comment">// In that case, this value definition does not typecheck. </span>
                  <span class="comment">// The value definition</span>
                  <span class="comment">// </span>
                  <span class="comment">//   val x: T forSome { ts } = expr</span>
                  <span class="comment">// </span>
                  <span class="comment">// would typecheck. Or one can simply leave out the type of the `val':</span>
                  <span class="comment">//</span>
                  <span class="comment">//   val x = expr</span>
                  <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;recovering from existential Skolem type error in tree \012&quot;)" class="string">&quot;recovering from existential Skolem type error in tree \n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012with type &quot;)" class="string">&quot;\nwith type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501316" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 expected type = &quot;)" class="string">&quot;\n expected type = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501318" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 context = &quot;)" class="string">&quot;\n context = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#501316" title="Typers.this.global.Tree">tree</a>, <a href="#501317" title="Int">mode</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105539" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>, <a href="#501318" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105539" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="576922">_</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> 
                  <span title="Nothing" class="keyword">throw</span> <a href="#576895" title="Typers.this.global.TypeError">ex</a> 
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106006">instantiate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576441">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="576442">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="576443">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="Infer.scala.html#106133" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#576441" title="Typers.this.global.Tree">tree</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106828" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#576443" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#576441" title="Typers.this.global.Tree">tree</a>, <a href="#576442" title="Int">mode</a>, <a href="#576443" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree" id="106007">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576486">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="576487">searchTemplate</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Type" id="576950">qtpe</a> = <a href="#576486" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">qual</a>.<a href="../ast/Trees.scala.html#109170" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#576486" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#576486" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">||</span> <a href="#576486" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#576950" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#576950" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106226" title="=&gt; Typers.this.global.Symbol">NullClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576950" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#576950" title="Typers.this.global.Type">qtpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span title="=&gt; Boolean">!</span><a href="#576486" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../ast/Trees.scala.html#67832" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// don't chain views</span>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106809" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// don't try to adapt a top-level type that's the subject of an implicit search</span>
                                      <span class="comment">// this happens because, if isView, typedImplicit tries to apply the &quot;current&quot; implicit value to </span>
                                      <span class="comment">// a value that needs to be coerced, so we check whether the implicit value has an `apply` method</span>
                                     <span class="comment">// (if we allow this, we get divergence, e.g., starting at `conforms` during ant quick.bin) </span>
                                     <span class="comment">// note: implicit arguments are still inferred (this kind of &quot;chaining&quot; is allowed)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#576950" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67458" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#576950" title="Typers.this.global.Type">qtpe</a> = <a href="#576950" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105481" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#576486" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="comment">// open the existential</span>
          <a href="#576486" title="Typers.this.global.Tree">qual</a> <span title="(tp: Typers.this.global.Type)qual.type">setType</span> <a href="#576950" title="Typers.this.global.Type">qtpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="576974">coercion</a> = <a href="#105964" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#576486" title="Typers.this.global.Tree">qual</a>, <a href="#576486" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#576487" title="Typers.this.global.Type">searchTemplate</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#576974" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <a href="#106068" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyImplicitView)Typers.this.global.ApplyImplicitView">atPos</a><span class="delimiter">(</span><a href="#576486" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../ast/Trees.scala.html#67832" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#576974" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#576486" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#576486" title="Typers.this.global.Tree">qual</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#576486" title="Typers.this.global.Tree">qual</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Try to apply an implicit conversion to `qual' to that it contains
     *  a method `name` which can be applied to arguments `args' with expected type `pt'.
     *  If `pt' is defined, there is a fallback to try again with pt = ?.
     *  This helps avoiding propagating result information too far and solves
     *  #1756.
     *  If no conversion is found, return `qual' unchanged.
     * 
     */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree" id="106008">adaptToArguments</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577009">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="577010">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="577011">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="577012">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(restpe: Typers.this.global.Type)Typers.this.global.Tree" id="577014">doAdapt</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="577015">restpe</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span class="comment">//util.trace(&quot;adaptToArgs &quot;+qual+&quot;, name = &quot;+name+&quot;, argtpes = &quot;+(args map (_.tpe))+&quot;, pt = &quot;+pt+&quot; = &quot;)</span>
        <a href="#106007" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#577009" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#538884" title="(name: Typers.this.global.Name, argtpes: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">HasMethodMatching</a><span class="delimiter">(</span><a href="#577010" title="Typers.this.global.Name">name</a>, <a href="#577011" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#577035" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#577015" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#577012" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="577072">_</a> =&gt; <a href="#577014" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#577012" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="577078">result</a>: <span title="Typers.this.global.Tree">Tree</span> <span class="keyword">if</span> <a href="#577078" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#577009" title="Typers.this.global.Tree">qual</a> =&gt; 
            <a href="#577078" title="Typers.this.global.Tree">result</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt; 
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fallback on implicits in adaptToArguments: &quot;)" class="string">&quot;fallback on implicits in adaptToArguments: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#577009" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#577010" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#577014" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> 
        <a href="#577014" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#577012" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Try o apply an implicit conversion to `qual' to that it contains
     *  a method `name`. If that's ambiguous try taking arguments into account using `adaptToArguments`.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree" id="106009">adaptToMemberWithArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577086">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="577087">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="577088">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a>, <a title="Int" id="577089">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#106007" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#577087" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#538826" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#577088" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="577091">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
        <span class="comment">// this happens if implicits are ambiguous; try again with more context info.</span>
        <span class="comment">// println(&quot;last ditch effort: &quot;+qual+&quot; . &quot;+name) </span>
        <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577094">tree1</a>, <a title="List[Typers.this.global.Tree]" id="577095">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#577094" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#577086" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#577095" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt; <span class="comment">// try handling the arguments</span>
            <span class="comment">// println(&quot;typing args: &quot;+args)</span>
            <a href="#106001" title="(op: Typers.this.Typer =&gt; List[Typers.this.global.Tree], reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#577101" title="Typers.this.Typer">_</a>.<a href="#106042" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#577095" title="List[Typers.this.global.Tree]">args</a>, <a href="#577089" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="577370">args</a>: <span title="List[_]">List</span><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
                <a href="#106008" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#577087" title="Typers.this.global.Tree">qual</a>, <a href="#577088" title="Typers.this.global.Name">name</a>, <a href="#577370" title="List[_]">args</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[Typers.this.global.Tree]" class="delimiter">[</span><span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <span title="Nothing" class="keyword">throw</span> <a href="#577091" title="Typers.this.global.TypeError">ex</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
            <span class="comment">// println(&quot;not in an apply: &quot;+context.tree+&quot;/&quot;+tree)</span>
            <span title="Nothing" class="keyword">throw</span> <a href="#577091" title="Typers.this.global.TypeError">ex</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Try to apply an implicit conversion to `qual' to that it contains a
     *  member `name` of arbitrary type.
     *  If no conversion is found, return `qual' unchanged.
     */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="106010">adaptToName</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="576477">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="576478">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#106000" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#576477" title="Typers.this.global.Tree">qual</a>, <a href="#576478" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#576477" title="Typers.this.global.Tree">qual</a>
      <span class="keyword">else</span> <a href="#106007" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#576477" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#538826" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#576478" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree" id="106011">typePrimaryConstrBody</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577372">clazz</a> : <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Tree" id="577373">cbody</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Symbol]" id="577374">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Symbol]" id="577375">enclTparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[List[Typers.this.global.ValDef]]" id="577376">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">// XXX: see about using the class's symbol....</span>
      <a href="#577375" title="List[Typers.this.global.Symbol]">enclTparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577397">sym</a> =&gt; <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#577397" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527610" title="(owner: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]])List[List[Typers.this.global.Symbol]]">enterValueParams</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#577376" title="List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
      <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#577373" title="Typers.this.global.Tree">cbody</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Unit" id="106012">validateNoCaseAncestor</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577415">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="577431">ancestor</a> &lt;- <a href="#577415" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107613" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">find</span> <span class="delimiter">(</span><a href="#577426" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isCase</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96453" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#577415" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <span class="delimiter">(</span> 
            <span class="string">&quot;case class `%s' has case ancestor `%s'.  Case-to-case inheritance has potentially &quot;</span>+
            <span class="string">&quot;dangerous bugs which are unlikely to be fixed.  You are strongly encouraged to &quot;</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span>
            <span class="string">&quot;instead use extractors to pattern match on non-leaf nodes.&quot;</span>
          <span class="delimiter">)</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#577415" title="Typers.this.global.Symbol">clazz</a>, <a href="#577431" title="Typers.this.global.Symbol">ancestor</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]" id="106013">parentTypes</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="553171">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = 
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#553171" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="577443">clazz</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>

        <span class="comment">// Normalize supertype and mixins so that supertype is always a class, not a trait.</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="577444">supertpt</a> = <a href="#106077" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#553171" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="577445">firstParent</a> = <a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="keyword">var</span> <a title="List[Typers.this.global.Tree]" id="577446">mixins</a> = <a href="#553171" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; List[Typers.this.global.Tree]">tail</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#106072" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a>
        <span class="comment">// If first parent is a trait, make it first mixin and add its superclass as first parent </span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; Typers.this.global.Symbol">initialize</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#577450" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="577523">supertpt1</a> = <a href="#106072" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#577444" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577523" title="Typers.this.global.Tree">supertpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#577446" title="List[Typers.this.global.Tree]">mixins</a> = <a href="#577523" title="Typers.this.global.Tree">supertpt1</a> <a href="#577528" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#577446" title="List[Typers.this.global.Tree]">mixins</a>
            <a href="#577444" title="Typers.this.global.Tree">supertpt</a> = <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#577523" title="Typers.this.global.Tree">supertpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Determine </span>
        <span class="comment">//  - supertparams: Missing type parameters from supertype</span>
        <span class="comment">//  - supertpe: Given supertype, polymorphic in supertparams</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="577447">supertparams</a> = <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="keyword">else</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="577448">supertpe</a> = <a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#577448" title="Typers.this.global.Type">supertpe</a> = <a href="../symtab/Types.scala.html#148921" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#577448" title="Typers.this.global.Type">supertpe</a>, <a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#577568" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// A method to replace a super reference by a New in a supercall</span>
        <span class="keyword">def</span> <a title="(scall: Typers.this.global.Tree)Typers.this.global.Tree" id="577449">transformSuperCall</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577596">scall</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">(</span><a href="#577596" title="Typers.this.global.Tree">scall</a>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577599">fn</a>, <a title="List[Typers.this.global.Tree]" id="577600">args</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162546" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#577596" title="Typers.this.global.Tree">scall</a>, <a href="#577449" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#577599" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>, <a href="#577600" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#577623" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$15.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162550" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
              <a href="#577596" title="Typers.this.global.Tree">scall</a>, 
              <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.New)Typers.this.global.New">atPos</a><span class="delimiter">(</span><a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#577448" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span> <a href="#577448" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span>,
              <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153040" title="(stats: List[Typers.this.global.treeInfo.trees.Tree])Typers.this.global.treeInfo.trees.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#553171" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[Unit]" id="577690">constr</a> @ DefDef<span class="delimiter">(</span>_, _, _, <a title="List[List[Typers.this.global.ValDef]]" id="577713">vparamss</a>, _, <a title="Typers.this.global.Block" id="577714">cbody</a> @ Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="577719">cstats</a>, <a title="Typers.this.global.Tree" id="577720">cunit</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="comment">// Convert constructor body to block in environment and typecheck it</span>
            <span class="keyword">val</span> <a href="#577722" title="(List[Typers.this.global.Tree], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#577721" title="List[Typers.this.global.Tree]" id="577722">preSuperStats</a>, <a href="#577721" title="List[Typers.this.global.Tree]" id="577723">rest</a><span class="delimiter">)</span> = <a href="#577719" title="List[Typers.this.global.Tree]">cstats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)(List[Typers.this.global.Tree], List[Typers.this.global.Tree])">span</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153037" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSuperConstrCall</a><span class="delimiter">(</span><a href="#577737" title="Typers.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="#577725" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#577724" title="Typers.this.global.Tree" id="577725">scall</a>, <a href="#577724" title="List[Typers.this.global.Tree]" id="577726">upToSuperStats</a><span class="delimiter">)</span> = 
              <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">if</span> <span class="delimiter">(</span><a href="#577723" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(_1: Typers.this.global.EmptyTree.type, _2: List[Typers.this.global.Tree])(Typers.this.global.EmptyTree.type, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#577722" title="List[Typers.this.global.Tree]">preSuperStats</a><span class="delimiter">)</span> 
              <span class="keyword">else</span> <span title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#577723" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Typers.this.global.Tree">head</span>, <a href="#577722" title="List[Typers.this.global.Tree]">preSuperStats</a> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="#577723" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="577727">cstats1</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#577726" title="List[Typers.this.global.Tree]">upToSuperStats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#577831" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$19.type">duplicate</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Block" id="577728">cbody1</a> = <a href="#577725" title="Typers.this.global.Tree">scall</a> <span title="Typers.this.global.Block" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Block">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162528" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#577714" title="Typers.this.global.Block">cbody</a>, <a href="#577727" title="List[Typers.this.global.Tree]">cstats1</a>.<span title="=&gt; List[Typers.this.global.Tree]">init</span>, 
                           <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#577720" title="Typers.this.global.Tree">cunit</a>.<span title="=&gt; cunit.type">duplicate</span> 
                           <span class="keyword">else</span> <a href="#577449" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#577725" title="Typers.this.global.Tree">scall</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Block">_</span> =&gt;
                <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162528" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#577714" title="Typers.this.global.Block">cbody</a>, <a href="#577727" title="List[Typers.this.global.Tree]">cstats1</a>, <a href="#577720" title="Typers.this.global.Tree">cunit</a>.<span title="=&gt; cunit.type">duplicate</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.Context" id="577729">outercontext</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106761" title="=&gt; Typers.this.Context">outer</a> 
            <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#577443" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="577730">cscope</a> = <a href="#577729" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#577690" title="Typers.this.global.DefDef">constr</a>, <a href="#577729" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="577731">cbody2</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#577730" title="Typers.this.Context">cscope</a><span class="delimiter">)</span> <span class="comment">// called both during completion AND typing.</span>
                .<a href="#106011" title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree">typePrimaryConstrBody</a><span class="delimiter">(</span><a href="#577443" title="Typers.this.global.Symbol">clazz</a>,  
                  <a href="#577728" title="Typers.this.global.Block">cbody1</a>, <a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="#577443" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107578" title="=&gt; List[Typers.this.global.Symbol]">unsafeTypeParams</a>, <a href="#577713" title="List[List[Typers.this.global.ValDef]]">vparamss</a> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Typers.this.global.ValDef]],List[Typers.this.global.ValDef],List[List[Typers.this.global.ValDef]]])List[List[Typers.this.global.ValDef]]">map</span> <span class="delimiter">(</span><a href="#577905" title="List[Typers.this.global.ValDef]">_</a>.<span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.ValDef,List[Typers.this.global.ValDef]]" class="delimiter">(</span><a href="#577922" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; x$21.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#577725" title="Typers.this.global.Tree">scall</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.treeInfo.trees.Tree" id="577993">sarg</a> = <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153067" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">firstArgument</a><span class="delimiter">(</span><a href="#577725" title="Typers.this.global.Tree">scall</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#577993" title="Typers.this.global.treeInfo.trees.Tree">sarg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#577448" title="Typers.this.global.Type">supertpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#577445" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span> 
                  <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577993" title="Typers.this.global.treeInfo.trees.Tree">sarg</a>.<span title="=&gt; Typers.this.global.treeInfo.trees.Position">pos</span>, <a href="#577445" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">firstParent</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is a trait; does not take constructor arguments&quot;)" class="string">&quot; is a trait; does not take constructor arguments&quot;</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#577444" title="Typers.this.global.Tree">supertpt</a> = <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#577731" title="Typers.this.global.Tree">cbody2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.treeInfo.trees.ValDef])(List[Typers.this.global.Tree], List[Typers.this.global.treeInfo.trees.ValDef])" class="delimiter">(</span><a href="#577727" title="List[Typers.this.global.Tree]">cstats1</a>, <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153042" title="(stats: List[Typers.this.global.treeInfo.trees.Tree])List[Typers.this.global.treeInfo.trees.ValDef]">preSuperFields</a><span class="delimiter">(</span><a href="#553171" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.treeInfo.trees.ValDef] =&gt; scala.collection.IterableLike[Typers.this.global.treeInfo.trees.ValDef,List[Typers.this.global.treeInfo.trees.ValDef]])(List[Typers.this.global.Tree], List[Typers.this.global.treeInfo.trees.ValDef])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.treeInfo.trees.ValDef],Typers.this.global.treeInfo.trees.ValDef]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.treeInfo.trees.ValDef) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">{</span>
              <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578077">ldef</a>, <a title="Typers.this.global.treeInfo.trees.ValDef" id="578078">gdef</a><span class="delimiter">)</span> =&gt; <a href="#578078" title="Typers.this.global.treeInfo.trees.ValDef">gdef</a>.<span title="=&gt; Typers.this.global.treeInfo.trees.Tree">tpt</span>.<span title="(t: Typers.this.global.treeInfo.trees.Type)Unit">tpe</span> = <a href="#578077" title="Typers.this.global.Tree">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#577447" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577444" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
<span class="comment">/* experimental: early types as type arguments
        val hasEarlyTypes = templ.body exists (treeInfo.isEarlyTypeDef)
        val earlyMap = new EarlyMap(clazz)
        List.mapConserve(supertpt :: mixins){ tpt =&gt; 
          val tpt1 = checkNoEscaping.privates(clazz, tpt)
          if (hasEarlyTypes) tpt1 else tpt1 setType earlyMap(tpt1.tpe)
        }
*/</span>

        <span class="comment">//Console.println(&quot;parents(&quot;+clazz&quot;) = &quot;+supertpt :: mixins);//DEBUG</span>
        <a href="#577444" title="Typers.this.global.Tree">supertpt</a> <a href="#578122" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#577446" title="List[Typers.this.global.Tree]">mixins</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578132">tpt</a> =&gt; <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575237" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#577443" title="Typers.this.global.Symbol">clazz</a>, <a href="#578132" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="List[Typers.this.global.TypeTree]" id="578139">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#553171" title="Typers.this.global.Template">templ</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <a href="TypeDiagnostics.scala.html#105955" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#553171" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#578139" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** &lt;p&gt;Check that&lt;/p&gt;
     *  &lt;ul&gt;
     *    &lt;li&gt;all parents are class types,&lt;/li&gt;
     *    &lt;li&gt;first parent class is not a mixin; following classes are mixins,&lt;/li&gt;
     *    &lt;li&gt;final classes are not inherited,&lt;/li&gt;
     *    &lt;li&gt;
     *      sealed classes are only inherited by classes which are
     *      nested within definition of base class, or that occur within same
     *      statement sequence,
     *    &lt;/li&gt;
     *    &lt;li&gt;self-type of current class is a subtype of self-type of each parent class.&lt;/li&gt;
     *    &lt;li&gt;no two parents define same symbol.&lt;/li&gt;
     *  &lt;/ul&gt;
     */</span>
    <span class="keyword">def</span> <a title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit" id="106014">validateParentClasses</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="578150">parents</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="578151">selfType</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit" id="578153">validateParentClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578154">parent</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="578155">superclazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578156">psym</a> = <a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; Typers.this.global.Symbol">initialize</a>
          <a href="#105976" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#578154" title="Typers.this.global.Tree">parent</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578156" title="Typers.this.global.Symbol">psym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#578155" title="Typers.this.global.Symbol">superclazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578156" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="578162">ps</a> = <a href="#578156" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578162" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578155" title="Typers.this.global.Symbol">superclazz</a>.<a href="../symtab/Symbols.scala.html#107589" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#578162" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance; super&quot;)" class="string">&quot;illegal inheritance; super&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578155" title="Typers.this.global.Symbol">superclazz</a><span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 is not a subclass of the super&quot;)" class="string">&quot;\n is not a subclass of the super&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578162" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 of the mixin &quot;)" class="string">&quot;\n of the mixin &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#578156" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#578156" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; needs to be a trait to be mixed in&quot;)" class="string">&quot; needs to be a trait to be mixed in&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578156" title="Typers.this.global.Symbol">psym</a>.<span title="=&gt; Boolean">isFinal</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance from final &quot;)" class="string">&quot;illegal inheritance from final &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578156" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578156" title="Typers.this.global.Symbol">psym</a>.<span title="=&gt; Boolean">isSealed</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// AnyVal is sealed, but we have to let the value classes through manually</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96521" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#578156" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Definitions.scala.html#106661" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#578156" title="Typers.this.global.Symbol">psym</a> <span title="(sym: Typers.this.global.Symbol)Unit">addChild</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="keyword">else</span>
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance from sealed &quot;)" class="string">&quot;illegal inheritance from sealed &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578156" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#578151" title="Typers.this.global.Type">selfType</a> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105460" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
              <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>     
              <span title="=&gt; Boolean">!</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isSynthetic</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>   <span class="comment">// don't check synthetic concrete classes for virtuals (part of DEVIRTUALIZE)</span>
              <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36823" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noSelfCheck</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>  <span class="comment">// setting to suppress this very check</span>
              <span title="=&gt; Boolean">!</span><a href="#578151" title="Typers.this.global.Type">selfType</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
              <span title="=&gt; Boolean">!</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <span class="delimiter">{</span> 
            <span class="comment">//Console.println(context.owner);//DEBUG</span>
            <span class="comment">//Console.println(context.owner.unsafeTypeParams);//DEBUG</span>
            <span class="comment">//Console.println(List.fromArray(context.owner.info.closure));//DEBUG</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal inheritance;\012 self-type &quot;)" class="string">&quot;illegal inheritance;\n self-type &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#578151" title="Typers.this.global.Type">selfType</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not conform to &quot;)" class="string">&quot; does not conform to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578154" title="Typers.this.global.Tree">parent</a> <span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;\'s selftype &quot;)" class="string">&quot;'s selftype &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105460" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#36862" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#106099" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#578151" title="Typers.this.global.Type">selfType</a>, <a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105460" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578150" title="List[Typers.this.global.Tree]">parents</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578193">p</a> =&gt; <a href="#578193" title="Typers.this.global.Tree">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#578154" title="Typers.this.global.Tree">parent</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578193" title="Typers.this.global.Tree">p</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#578156" title="Typers.this.global.Symbol">psym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578156" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#107478" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578154" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#578156" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is inherited twice&quot;)" class="string">&quot; is inherited twice&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578150" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578150" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578225">p</a> &lt;- <a href="#578150" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#578153" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit">validateParentClass</a><span class="delimiter">(</span><a href="#578225" title="Typers.this.global.Tree">p</a>, <a href="#578150" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

<span class="comment">/*
      if (settings.Xshowcls.value != &quot;&quot; &amp;&amp;
          settings.Xshowcls.value == context.owner.fullName)
        println(&quot;INFO &quot;+context.owner+
                &quot;, baseclasses = &quot;+(context.owner.info.baseClasses map (_.fullName))+
                &quot;, lin = &quot;+(context.owner.info.baseClasses map (context.owner.thisType.baseType)))
*/</span> 
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(classinfo: Typers.this.global.ClassInfoType)Unit" id="106015">checkFinitary</a><span class="delimiter">(</span><a title="Typers.this.global.ClassInfoType" id="578228">classinfo</a>: <a href="../symtab/Types.scala.html#67431" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578230">clazz</a> = <a href="#578228" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148673" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="578252">tparam</a> &lt;- <a href="#578230" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107579" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#578228" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148687" title="(tparam: Typers.this.global.Symbol)Set[Typers.this.global.Symbol]">expansiveRefs</a><span class="delimiter">(</span><a href="#578252" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Symbol)Boolean">contains</span> <a href="#578252" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578252" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;class graph is not finitary because type parameter &quot;)" class="string">&quot;class graph is not finitary because type parameter &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#578252" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is expansively recursive&quot;)" class="string">&quot; is expansively recursive&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ClassInfoType" id="578264">newinfo</a> = <a href="../symtab/Types.scala.html#148665" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="#578228" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148669" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#578287" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#578252" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, 
            <a href="#578228" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#148671" title="=&gt; Typers.this.global.Scope">decls</a>, 
            <a href="#578230" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <a href="#578230" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)clazz.type">setInfo</a> <span class="delimiter">{</span>
            <a href="#578230" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.PolyType">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="578334">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#148921" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#578334" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#578264" title="Typers.this.global.ClassInfoType">newinfo</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.ClassInfoType">_</span> =&gt; <a href="#578264" title="Typers.this.global.ClassInfoType">newinfo</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param cdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree" id="106016">typedClassDef</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="578344">cdef</a>: <span title="Typers.this.global.ClassDef">ClassDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
<span class="comment">//      attributes(cdef)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578346">clazz</a> = <a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="578347">typedMods</a> = <a href="#106024" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#578346" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#105986" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="578348">tparams1</a> = <a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <span class="delimiter">(</span><a href="#106030" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578349">impl1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106838" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#578346" title="Typers.this.global.Symbol">clazz</a>, <a href="../symtab/Scopes.scala.html#113079" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="#106023" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#106013" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578350">impl2</a> = <a href="#106018" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">typerAddSyntheticMethods</a><span class="delimiter">(</span><a href="#578349" title="Typers.this.global.Template">impl1</a>, <a href="#578346" title="Typers.this.global.Symbol">clazz</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#578346" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106252" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#578346" title="Typers.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#107588" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106252" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="TypeDiagnostics.scala.html#105913" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionWarning</a><span class="delimiter">(</span><a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>,
          <span class="string">&quot;subclassing Classfile does not\n&quot;</span>+
          <span class="string">&quot;make your annotation visible at runtime.  If that is what\n&quot;</span><span title="java.lang.String(&quot;subclassing Classfile does not\012make your annotation visible at runtime.  If that is what\012you want, you must write the annotation class in Java.&quot;)">+</span> 
          <span class="string">&quot;you want, you must write the annotation class in Java.&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578408">ann</a> &lt;- <a href="#578346" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107415" title="(cls: Typers.this.global.Symbol)Option[Typers.this.global.AnnotationInfo]">getAnnotation</a><span title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit" class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106608" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578409">m</a> = <a href="Namers.scala.html#105679" title="(clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionModuleOf</a><span class="delimiter">(</span><a href="#578346" title="Typers.this.global.Symbol">clazz</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578409" title="Typers.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#578409" title="Typers.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; Typers.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#107413" title="(annot: Typers.this.global.AnnotationInfo)Unit">addAnnotation</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134310" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#578408" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; Typers.this.global.Type">atp</a>, <a href="#578408" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133493" title="=&gt; List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162518" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], impl: Typers.this.global.Template)Typers.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#578344" title="Typers.this.global.ClassDef">cdef</a>, <a href="#578347" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#578344" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#578348" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#578350" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span>
        .<span title="(tp: Typers.this.global.Type)Typers.this.global.ClassDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
 
    <span class="comment">/**
     *  @param mdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree" id="106017">typedModuleDef</a><span class="delimiter">(</span><a title="Typers.this.global.ModuleDef" id="578447">mdef</a>: <span title="Typers.this.global.ModuleDef">ModuleDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">//Console.println(&quot;sourcefile of &quot; + mdef.symbol + &quot;=&quot; + mdef.symbol.sourceFile)</span>
<span class="comment">//      attributes(mdef)</span>
      <span class="comment">// initialize all constructors of the linked class: the type completer (Namer.methodSig)</span>
      <span class="comment">// might add default getters to this object. example: &quot;object T; class T(x: Int = 1)&quot;</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578449">linkedClass</a> = <a href="Namers.scala.html#105680" title="(module: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionClassOf</a><span class="delimiter">(</span><a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578449" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="578486">c</a> &lt;- <a href="#578449" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107591" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">alternatives</a><span class="delimiter">)</span>
          <a href="#578486" title="Typers.this.global.Symbol">c</a>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; c.type">initialize</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578450">clazz</a> = <a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; Typers.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree] =&gt; List[Typers.this.global.Tree]" id="578451">maybeAddSerializable</a> = <span class="delimiter">(</span>l: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#578449" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#578449" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../symtab/Symbols.scala.html#107503" title="=&gt; Boolean">isSerializable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#578450" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107503" title="=&gt; Boolean">isSerializable</a><span class="delimiter">)</span> <a href="#578493" title="List[Typers.this.global.Tree]">l</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#578450" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107585" title="()Unit">makeSerializable</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#578493" title="List[Typers.this.global.Tree]">l</a> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106346" title="=&gt; Typers.this.global.Symbol">SerializableClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="578452">typedMods</a> = <a href="#106024" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#578450" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578453">impl1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106838" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#578450" title="Typers.this.global.Symbol">clazz</a>, <a href="../symtab/Scopes.scala.html#113079" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="#106023" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#578451" title="(v1: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">maybeAddSerializable</a><span class="delimiter">(</span><a href="#106013" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="578454">impl2</a> = <a href="#106018" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">typerAddSyntheticMethods</a><span class="delimiter">(</span><a href="#578453" title="Typers.this.global.Template">impl1</a>, <a href="#578450" title="Typers.this.global.Symbol">clazz</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162520" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, impl: Typers.this.global.Template)Typers.this.global.ModuleDef">ModuleDef</a><span class="delimiter">(</span><a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>, <a href="#578452" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#578447" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#578454" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ModuleDef">setType</span> <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>
    <span class="comment">/** In order to override this in the TreeCheckers Typer so synthetics aren't re-added
     *  all the time, it is exposed here the module/class typing methods go through it.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template" id="106018">typerAddSyntheticMethods</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="568883">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="Typers.this.global.Symbol" id="568884">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.Context" id="568885">context</a>: <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <a href="SyntheticMethods.scala.html#105846" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">addSyntheticMethods</a><span class="delimiter">(</span><a href="#568883" title="Typers.this.global.Template">templ</a>, <a href="#568884" title="Typers.this.global.Symbol">clazz</a>, <a href="#568885" title="Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param stat ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="106019">addGetterSetter</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578569">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#578569" title="Typers.this.global.Tree">stat</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="578580">mods</a>, <a title="Typers.this.global.TermName" id="578581">name</a>, <a title="Typers.this.global.Tree" id="578582">tpt</a>, <a title="Typers.this.global.Tree" id="578583">rhs</a><span class="delimiter">)</span> 
        <span class="comment">// PRIVATE | LOCAL are fields generated for primary constructor arguments</span>
        <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#578580" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isPrivateLocal</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#578569" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107524" title="=&gt; Boolean">isModuleVar</a> =&gt;
        <span class="keyword">val</span> <a title="Boolean" id="578584">isDeferred</a> = <a href="#578580" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isDeferred</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578585">value</a> = <a href="#578569" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="578586">allAnnots</a> = <a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#578584" title="Boolean">isDeferred</a><span class="delimiter">)</span>
          <span class="comment">// keepClean: by default annotations go to the field, except if the field is</span>
          <span class="comment">// generated for a class parameter (PARAMACCESSOR).</span>
          <a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107412" title="(annots: List[Typers.this.global.AnnotationInfoBase])value.type">setAnnotations</a><span class="delimiter">(</span><a href="#106020" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578586" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#106274" title="=&gt; Typers.this.global.Symbol">FieldTargetClass</a>, keepClean = <span title="=&gt; Boolean">!</span><a href="#578580" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578587">getter</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#578584" title="Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#578585" title="Typers.this.global.Symbol">value</a> <span class="keyword">else</span> <a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107635" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#578587" title="Typers.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#578569" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578587" title="Typers.this.global.Symbol">getter</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> 
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578587" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#578587" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">getter</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is defined twice&quot;)" class="string">&quot; is defined twice&quot;</span><span class="delimiter">)</span>

        <a href="#578587" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107412" title="(annots: List[Typers.this.global.AnnotationInfoBase])getter.type">setAnnotations</a><span class="delimiter">(</span><a href="#106020" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578586" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#106276" title="=&gt; Typers.this.global.Symbol">GetterTargetClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#578585" title="Typers.this.global.Symbol">value</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span> <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#578569" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="578680">vdef</a> = <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162521" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#578569" title="Typers.this.global.Tree">stat</a>, <a href="#578580" title="Typers.this.global.Modifiers">mods</a> <span title="(flag: Long)Typers.this.global.Modifiers">|</span> <span title="Long(4L)">PRIVATE</span> <span title="(flag: Long)Typers.this.global.Modifiers">|</span> <span title="Long(524288L)">LOCAL</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115757" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#578581" title="Typers.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#578582" title="Typers.this.global.Tree">tpt</a>, <a href="#578583" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="578681">getterDef</a>: <span title="Typers.this.global.DefDef">DefDef</span> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.DefDef)Typers.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#578680" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#578584" title="Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="578699">r</a> = <a href="../ast/Trees.scala.html#67801" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#578587" title="Typers.this.global.Symbol">getter</a>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
              <a href="#578699" title="Typers.this.global.DefDef">r</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TypeTree" class="delimiter">[</span><a href="../ast/Trees.scala.html#67815" title="Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">]</span>.<a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#578582" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <span class="comment">// keep type tree of original abstract field</span>
              <a href="#578699" title="Typers.this.global.DefDef">r</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="578722">rhs</a> = <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105583" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67811" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#578585" title="Typers.this.global.Symbol">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="578723">r</a> = <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.DefDef)Typers.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#578587" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../ast/Trees.scala.html#67801" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#578587" title="Typers.this.global.Symbol">getter</a>, <a href="#578722" title="Typers.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.DefDef" class="delimiter">[</span><span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">]</span>
              <a href="#578723" title="Typers.this.global.DefDef">r</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(pos: Typers.this.global.Position)r.tpt.type">setPos</span><span class="delimiter">(</span><a href="#578582" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span>
              <a href="#578723" title="Typers.this.global.DefDef">r</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575237" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#578587" title="Typers.this.global.Symbol">getter</a>, <a href="#578681" title="Typers.this.global.DefDef">getterDef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef" id="578682">setterDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="578788">setter</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Boolean" id="578790">isBean</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Typers.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
            <a href="#578788" title="Typers.this.global.Symbol">setter</a> <a href="../symtab/Symbols.scala.html#107412" title="(annots: List[Typers.this.global.AnnotationInfoBase])setter.type">setAnnotations</a> <a href="#106020" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578586" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#578790" title="Boolean">isBean</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106282" title="=&gt; Typers.this.global.Symbol">BeanSetterTargetClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106278" title="=&gt; Typers.this.global.Symbol">SetterTargetClass</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable" id="578791">defTree</a> =
              <span title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#578580" title="Typers.this.global.Modifiers">mods</a> <span title="(flag: Long)Boolean">hasFlag</span> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#578788" title="Typers.this.global.Symbol">setter</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(8589934592L)">OVERLOADED</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
              <span class="keyword">else</span> <a href="Analyzer.scala.html#105627" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67811" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#578585" title="Typers.this.global.Symbol">value</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67813" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#578788" title="Typers.this.global.Symbol">setter</a>.<a href="../symtab/Symbols.scala.html#107580" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Typers.this.global.Symbol]">head</span>.<span title="=&gt; Typers.this.global.Symbol">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
            
            
            <a href="#106064" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#578680" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#578788" title="Typers.this.global.Symbol">setter</a>, <a href="#578791" title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable">defTree</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.DefDef" class="delimiter">[</span><span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">]</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]" id="578683">gs</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">ListBuffer</span><span class="delimiter">[</span>DefDef<span class="delimiter">]</span>
          <a href="#578683" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="(elems: Typers.this.global.DefDef*)Unit">append</span><span class="delimiter">(</span><a href="#578681" title="Typers.this.global.DefDef">getterDef</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578580" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isMutable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578873">setter</a> = <a href="#578587" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#107636" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#578683" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="(elems: Typers.this.global.DefDef*)Unit">append</span><span class="delimiter">(</span><a href="#578682" title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef">setterDef</a><span class="delimiter">(</span><a href="#578873" title="Typers.this.global.Symbol">setter</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#65003" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106602" title="=&gt; Typers.this.global.Symbol">BeanPropertyAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
              <a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106604" title="=&gt; Typers.this.global.Symbol">BooleanBeanPropertyAttr</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="578880">nameSuffix</a> = <a href="#578581" title="Typers.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#96604" title="()String">toString</a><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; String">capitalize</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="578881">beanGetterName</a> =
              <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106604" title="=&gt; Typers.this.global.Symbol">BooleanBeanPropertyAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;get&quot;)" class="string">&quot;get&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
              <a href="#578880" title="String">nameSuffix</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578882">beanGetter</a> = <a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">beanGetterName</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578882" title="Typers.this.global.Symbol">beanGetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// the namer decides wether to generate these symbols or not. at that point, we don't</span>
              <span class="comment">// have symbolic information yet, so we only look for annotations named &quot;BeanProperty&quot;.</span>
              <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#578569" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;implementation limitation: the BeanProperty annotation cannot be used in a type alias or renamed import&quot;)" class="string">&quot;implementation limitation: the BeanProperty annotation cannot be used in a type alias or renamed import&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#578882" title="Typers.this.global.Symbol">beanGetter</a>.<a href="../symtab/Symbols.scala.html#107412" title="(annots: List[Typers.this.global.AnnotationInfoBase])beanGetter.type">setAnnotations</a><span class="delimiter">(</span><a href="#106020" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#578586" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#106280" title="=&gt; Typers.this.global.Symbol">BeanGetterTargetClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#578580" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isMutable</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578882" title="Typers.this.global.Symbol">beanGetter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="java.lang.String" id="578902">beanSetterName</a> = <span title="java.lang.String(&quot;set&quot;)" class="string">&quot;set&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#578880" title="String">nameSuffix</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578903">beanSetter</a> = <a href="#578585" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">beanSetterName</a><span class="delimiter">)</span>
              <span class="comment">// unlike for the beanGetter, the beanSetter body is generated here. see comment in Namers.</span>
              <a href="#578683" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="(elems: Typers.this.global.DefDef*)Unit">append</span><span class="delimiter">(</span><a href="#578682" title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef">setterDef</a><span class="delimiter">(</span><a href="#578903" title="Typers.this.global.Symbol">beanSetter</a>, isBean = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#578580" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <a href="#578683" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="=&gt; List[Typers.this.global.DefDef]">toList</span> <span class="keyword">else</span> <a href="#578680" title="Typers.this.global.ValDef">vdef</a> <a href="#578909" title="(x: Typers.this.global.ValOrDefDef with Serializable)List[Typers.this.global.ValOrDefDef with Serializable]">::</a> <a href="#578683" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<span title="=&gt; List[Typers.this.global.DefDef]">toList</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="578931">dd</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="578934">comment</a>, <a title="Typers.this.global.Tree" id="578935">defn</a><span class="delimiter">)</span> =&gt;
        <a href="#106019" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a><span class="delimiter">(</span><a href="#578935" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.DocDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.DocDef,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578955">stat</a> =&gt; <a href="../ast/Trees.scala.html#146395" title="(comment: Typers.this.global.DocComment, definition: Typers.this.global.Tree)Typers.this.global.DocDef">DocDef</a><span class="delimiter">(</span><a href="#578934" title="Typers.this.global.DocComment">comment</a>, <a href="#578955" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.DocDef">setPos</span> <a href="#578931" title="Typers.this.global.DocDef">dd</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="578993">annot</a>, <a title="Typers.this.global.Tree" id="578994">defn</a><span class="delimiter">)</span> =&gt;
        <a href="#106019" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a><span class="delimiter">(</span><a href="#578994" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Annotated)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Annotated,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579014">stat</a> =&gt; <a href="Analyzer.scala.html#105627" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><span class="delimiter">(</span><a href="#578993" title="Typers.this.global.Tree">annot</a>, <a href="#579014" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">_</span> =&gt;
        <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#578569" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The annotations amongst `annots` that should go on a member of class
     * `memberClass` (field, getter, setter, beanGetter, beanSetter, param)
     * If 'keepClean' is true, annotations without any meta-annotation are kept
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]" id="106020">memberAnnots</a><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="578589">annots</a>: <span title="List[Typers.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="578590">memberClass</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Boolean" id="578594">keepClean</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean" id="578595">hasMatching</a><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="578597">metaAnnots</a>: <span title="List[Typers.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, <a title="=&gt; Boolean" id="578598">orElse</a>: =&gt; Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="comment">// either one of the meta-annotations matches the `memberClass`</span>
        <a href="#578597" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>.<span title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#578605" title="Typers.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#578590" title="Typers.this.global.Symbol">memberClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <span class="comment">// else, if there is no `target` meta-annotation at all, use the default case</span>
        <span class="delimiter">(</span><a href="#578597" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>.<span title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578617">ann</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="578618">annClass</a> = <a href="#578617" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
          <a href="#578618" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106274" title="=&gt; Typers.this.global.Symbol">FieldTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578618" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106276" title="=&gt; Typers.this.global.Symbol">GetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#578618" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106278" title="=&gt; Typers.this.global.Symbol">SetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578618" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106280" title="=&gt; Typers.this.global.Symbol">BeanGetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#578618" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106282" title="=&gt; Typers.this.global.Symbol">BeanSetterTargetClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578618" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106284" title="=&gt; Typers.this.global.Symbol">ParamTargetClass</a>
        <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#578598" title="=&gt; Boolean">orElse</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// there was no meta-annotation on `ann`. Look if the class annotations of</span>
      <span class="comment">// `ann` has a `target` annotation, otherwise put `ann` only on fields.</span>
      <span class="keyword">def</span> <a title="(ann: Typers.this.global.AnnotationInfo)Boolean" id="578596">noMetaAnnot</a><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578643">ann</a>: <a href="../symtab/AnnotationInfos.scala.html#67754" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#578595" title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean">hasMatching</a><span class="delimiter">(</span><a href="#578643" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>, <a href="#578594" title="Boolean">keepClean</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#578589" title="List[Typers.this.global.AnnotationInfo]">annots</a>.<span title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)List[Typers.this.global.AnnotationInfo]">filter</span><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="578648">ann</a> =&gt; <a href="#578648" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; Typers.this.global.Type">atp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="comment">// the annotation type has meta-annotations, e.g. @(foo @getter)</span>
        <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="578652">metaAnnots</a>, _, _<span class="delimiter">)</span> =&gt;
          <a href="#578595" title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean">hasMatching</a><span class="delimiter">(</span><a href="#578652" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>, <a href="#578596" title="(ann: Typers.this.global.AnnotationInfo)Boolean">noMetaAnnot</a><span class="delimiter">(</span><a href="#578648" title="Typers.this.global.AnnotationInfo">ann</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// there are no meta-annotations, e.g. @foo</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <a href="#578596" title="(ann: Typers.this.global.AnnotationInfo)Boolean">noMetaAnnot</a><span class="delimiter">(</span><a href="#578648" title="Typers.this.global.AnnotationInfo">ann</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit" id="106021">enterSyms</a><span class="delimiter">(</span><a title="Typers.this.Context" id="579053">txt</a>: <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a>, <a title="List[Typers.this.global.Tree]" id="579054">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.Context" id="579057">txt0</a> = <a href="#579053" title="Typers.this.Context">txt</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579077">tree</a> &lt;- <a href="#579054" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span> <a href="#579057" title="Typers.this.Context">txt0</a> = <a href="#106022" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#579057" title="Typers.this.Context">txt0</a>, <a href="#579077" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context" id="106022">enterSym</a><span class="delimiter">(</span><a title="Typers.this.Context" id="537319">txt</a>: <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Tree" id="537320">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a> =
      <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><a href="#537319" title="Typers.this.Context">txt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527598" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#537320" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="Namers.scala.html#105665" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#537319" title="Typers.this.Context">txt</a><span class="delimiter">)</span>.<a href="Namers.scala.html#527598" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#537320" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="comment">/**
     *  @param templ    ...
     *  @param parents1 ...
     *    &lt;li&gt; &lt;!-- 2 --&gt;
     *      Check that inner classes do not inherit from Annotation
     *    &lt;/li&gt;
     *  @return         ...
     */</span>
    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template" id="106023">typedTemplate</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="578388">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="List[Typers.this.global.Tree]" id="578389">parents1</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579081">clazz</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="579082">annots</a> = <a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#578388" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#578388" title="Typers.this.global.Template">templ</a> <span title="(sym: Typers.this.global.Symbol)templ.type">setSymbol</span> <a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107424" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#578388" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="579083">self1</a> = <a href="#578388" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.ValDef">self</span> <span title="Typers.this.global.ValDef" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="579102">vd</a> @ ValDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="579109">mods</a>, <a title="Typers.this.global.TermName" id="579110">name</a>, <a title="Typers.this.global.Tree" id="579111">tpt</a>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="579112">tpt1</a> = 
            <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575237" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.TypeTree)Typers.this.global.TypeTree">privates</a><span class="delimiter">(</span>
              <a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107598" title="=&gt; Typers.this.global.Symbol">thisSym</a>, 
              <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162553" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#579111" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#579111" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span> <a href="#579102" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162521" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#579102" title="Typers.this.global.ValDef">vd</a>, <a href="#579109" title="Typers.this.global.Modifiers">mods</a>, <a href="#579110" title="Typers.this.global.TermName">name</a>, <a href="#579112" title="Typers.this.global.TypeTree">tpt1</a>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>
<span class="comment">// was: </span>
<span class="comment">//          val tpt1 = checkNoEscaping.privates(clazz.thisSym, typedType(tpt))</span>
<span class="comment">//          treeCopy.ValDef(vd, mods, name, tpt1, EmptyTree) setType NoType</span>
<span class="comment">// but this leads to cycles for existential self types ==&gt; #2545</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#579083" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.TermName">name</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#579083" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="579084">selfType</a> =
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107487" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> 
          <a href="../symtab/Types.scala.html#67487" title="(tps: List[Typers.this.global.Type], owner: Typers.this.global.Symbol)Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a>, <a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107599" title="=&gt; Typers.this.global.Type">typeOfThis</a>
      <span class="comment">// the following is necessary for templates generated later</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Scopes.scala.html#67693" title="object Typers.this.global.EmptyScope">EmptyScope</a><span class="delimiter">)</span>
      <a href="#106021" title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106761" title="=&gt; Typers.this.Context">outer</a>.<a href="Contexts.scala.html#106838" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#578388" title="Typers.this.global.Template">templ</a>, <a href="#579081" title="Typers.this.global.Symbol">clazz</a>, <a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#578388" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
      <a href="#106014" title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit">validateParentClasses</a><span class="delimiter">(</span><a href="#578389" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#579084" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isCase</span><span class="delimiter">)</span>
        <a href="#106012" title="(clazz: Typers.this.global.Symbol)Unit">validateNoCaseAncestor</a><span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#107589" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a> <a href="../symtab/Definitions.scala.html#106252" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span>
        <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;inner classes cannot be classfile annotations&quot;)" class="string">&quot;inner classes cannot be classfile annotations&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Typers.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="comment">// @S: prevent crash for duplicated type members</span>
        <a href="#106015" title="(classinfo: Typers.this.global.ClassInfoType)Unit">checkFinitary</a><span class="delimiter">(</span><a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Typers.this.global.Type">resultType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.ClassInfoType" class="delimiter">[</span><a href="../symtab/Types.scala.html#67431" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="579085">body</a> = 
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68004" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> 
          <a href="#578388" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">flatMap</span> <a href="#106019" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a>
        <span class="keyword">else</span> <a href="#578388" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span> 
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="579086">body1</a> = <a href="#106040" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#579085" title="List[Typers.this.global.Tree]">body</a>, <a href="#578388" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162527" title="(tree: Typers.this.global.Tree, parents: List[Typers.this.global.Tree], self: Typers.this.global.ValDef, body: List[Typers.this.global.Tree])Typers.this.global.Template">Template</a><span class="delimiter">(</span><a href="#578388" title="Typers.this.global.Template">templ</a>, <a href="#578389" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#579083" title="Typers.this.global.ValDef">self1</a>, <a href="#579086" title="List[Typers.this.global.Tree]">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Template">setType</span> <a href="#579081" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Remove definition annotations from modifiers (they have been saved
     *  into the symbol's ``annotations'' in the type completer / namer)
     */</span>
    <span class="keyword">def</span> <a title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers" id="106024">removeAnnotations</a><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="578351">mods</a>: <span title="Typers.this.global.Modifiers">Modifiers</span><span class="delimiter">)</span>: <span title="Typers.this.global.Modifiers">Modifiers</span> =
      <a href="#578351" title="Typers.this.global.Modifiers">mods</a>.<a title="Long" id="579238">copy</a><span class="delimiter">(</span>annotations = <a title="scala.collection.immutable.Nil.type" id="579235">Nil</a><span class="delimiter">)</span>

    <span class="comment">/**
     *  @param vdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef" id="106025">typedValDef</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="400744">vdef</a>: <span title="Typers.this.global.ValDef">ValDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.ValDef">ValDef</span> = <span class="delimiter">{</span>
<span class="comment">//      attributes(vdef)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579239">sym</a> = <a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.Typer" id="579240">typer1</a> = <a href="#105988" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="579241">typedMods</a> = <a href="#106024" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="579242">annots</a> = <a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="579243">tpt1</a> = <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575237" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>, <a href="#579240" title="Typers.this.Typer">typer1</a>.<a href="#106072" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105980" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>, <a href="#579243" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67699" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106630" title="=&gt; Typers.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMutable</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;values cannot be volatile&quot;)" class="string">&quot;values cannot be volatile&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isFinal</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;final vars cannot be volatile&quot;)" class="string">&quot;final vars cannot be volatile&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="579244">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;local variables must be initialized&quot;)" class="string">&quot;local variables must be initialized&quot;</span><span class="delimiter">)</span>
          <a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="579263">tpt2</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasDefault</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// When typechecking default parameter, replace all type parameters in the expected type by Wildcard.</span>
            <span class="comment">// This allows defining &quot;def foo[T](a: T = 1)&quot;</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579264">tparams</a> =
              <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
              <span class="keyword">else</span> <a href="#579239" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="Typers.this.global.SubstTypeMap" id="579265">subst</a> = <a href="#579269" title="Typers.this.global.SubstTypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67535" title="anonymous class $anon extends Typers.this.global.SubstTypeMap" id="579269">SubstTypeMap</a><span class="delimiter">(</span><a href="#579264" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#579264" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579299">_</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean" id="579271">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579272">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="579273">sym1</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#579272" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSkolem</span><span class="delimiter">)</span> <a href="#579271" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#579272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107639" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, <a href="#579273" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#579273" title="Typers.this.global.Symbol">sym1</a>.<span title="=&gt; Boolean">isSkolem</span><span class="delimiter">)</span> <a href="#579271" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#579272" title="Typers.this.global.Symbol">sym</a>, <a href="#579273" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107639" title="=&gt; Typers.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#579269" title="Typers.this.global.SubstTypeMap" class="keyword">super</a><span class="delimiter">[</span>SubstTypeMap<span class="delimiter">]</span>.<a href="../symtab/Types.scala.html#167444" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#579272" title="Typers.this.global.Symbol">sym</a>, <a href="#579273" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span> 
            <span class="delimiter">}</span>
            <span class="comment">// allow defaults on by-name parameters</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579239" title="Typers.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(65536L)">BYNAMEPARAM</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#579243" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a> <span class="comment">// during erasure tpt1 is Function0</span>
              <span class="keyword">else</span> <a href="../symtab/Types.scala.html#167447" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#579243" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105467" title="(n: Int)Typers.this.global.Type">typeArgs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#167447" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#579243" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#579243" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#579240" title="Typers.this.Typer">typer1</a>.<a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106841" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>, <a href="#579239" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106079" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#579263" title="Typers.this.global.Type">tpt2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162521" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#400744" title="Typers.this.global.ValDef">vdef</a>, <a href="#579241" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#400744" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#579243" title="Typers.this.global.Tree">tpt1</a>, <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#579244" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Enter all aliases of local parameter accessors.
     *
     *  @param clazz    ...
     *  @param vparamss ...
     *  @param rhs      ...
     */</span>
    <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit" id="106026">computeParamAliases</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579385">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[List[Typers.this.global.ValDef]]" id="579386">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Typers.this.global.Tree" id="579387">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;computing param aliases for &quot;)" class="string">&quot;computing param aliases for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579385" title="Typers.this.global.Symbol">clazz</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579385" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107597" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579387" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span class="keyword">def</span> <a title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="579389">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579397">call</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#579397" title="Typers.this.global.Tree">call</a> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579400">fn</a>, <a title="List[Typers.this.global.Tree]" id="579401">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="#579403" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#579402" title="Typers.this.global.Tree" id="579403">superConstr</a>, <a href="#579402" title="List[Typers.this.global.Tree]" id="579404">args1</a><span class="delimiter">)</span> = <a href="#579389" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#579400" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579405">params</a> = <a href="#579400" title="Typers.this.global.Tree">fn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Typers.this.global.Symbol]">params</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="579406">args2</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#579405" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106359" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#579405" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#579401" title="List[Typers.this.global.Tree]">args</a>
                      <span class="keyword">else</span> <a href="#579401" title="List[Typers.this.global.Tree]">args</a>.<span title="(n: Int)List[Typers.this.global.Tree]">take</span><span class="delimiter">(</span><a href="#579405" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#579406" title="List[Typers.this.global.Tree]">args2</a>, <a href="#579405" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;mismatch &quot;)" class="string">&quot;mismatch &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579385" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#579405" title="List[Typers.this.global.Symbol]">params</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span> <span class="delimiter">(</span><a href="#579493" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579406" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span><span class="comment">//debug </span>
          <span title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#579403" title="Typers.this.global.Tree">superConstr</a>, <a href="#579404" title="List[Typers.this.global.Tree]">args1</a> <a href="#579525" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#579406" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="579539">stats</a>, <a title="Typers.this.global.Tree" id="579540">expr</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#579539" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
          <a href="#579389" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span class="delimiter">(</span><a href="#579539" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Typers.this.global.Tree">last</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Nothing])">_</span> =&gt;
          <span title="(_1: Typers.this.global.Tree, _2: List[Nothing])(Typers.this.global.Tree, List[Nothing])" class="delimiter">(</span><a href="#579397" title="Typers.this.global.Tree">call</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a href="#579391" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#579390" title="Typers.this.global.Tree" id="579391">superConstr</a>, <a href="#579390" title="List[Typers.this.global.Tree]" id="579392">superArgs</a><span class="delimiter">)</span> = <a href="#579389" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#579387" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#579391" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="comment">//debug</span>
      
      <span class="comment">// an object cannot be allowed to pass a reference to itself to a superconstructor</span>
      <span class="comment">// because of initialization issues; bug #473</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579585">arg</a> &lt;- <a href="#579392" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">superArgs</a> ; <a title="Typers.this.global.Tree" id="579672">tree</a> &lt;- <a href="../ast/Trees.scala.html#109174" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579673">sym</a> = <a href="#579672" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579673" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#579673" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105526" title="=&gt; List[Typers.this.global.Symbol]">baseClasses</a> <span title="(elem: Any)Boolean">contains</span> <a href="#579385" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579673" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579672" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;)" class="string">&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;</span><span class="delimiter">)</span>
          <a href="#579672" title="Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="579681">qual</a><span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579672" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;super constructor arguments cannot reference unconstructed `this`&quot;)" class="string">&quot;super constructor arguments cannot reference unconstructed `this`&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579391" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579683">superClazz</a> = <a href="#579391" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#579683" title="Typers.this.global.Symbol">superClazz</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579685">superParamAccessors</a> = <a href="#579683" title="Typers.this.global.Symbol">superClazz</a>.<a href="../symtab/Symbols.scala.html#107602" title="=&gt; List[Typers.this.global.Symbol]">constrParamAccessors</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#579685" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#579392" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(_1: List[Typers.this.global.Symbol], _2: List[Typers.this.global.Tree])(List[Typers.this.global.Symbol], List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#579685" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#579392" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Symbol] =&gt; scala.collection.TraversableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]], implicit w2: List[Typers.this.global.Tree] =&gt; scala.collection.IterableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]])(List[Typers.this.global.Symbol], List[Typers.this.global.Tree])#Zipped[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Tree],Typers.this.global.Tree]">zipped</span> <span title="(f: (Typers.this.global.Symbol, Typers.this.global.Tree) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Unit,Any])Any">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579744">superAcc</a>, <a title="Typers.this.global.Tree" id="579745">superArg</a><span class="delimiter">)</span> =&gt;
              <a href="#579745" title="Typers.this.global.Tree">superArg</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Any">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="579749">name</a><span class="delimiter">)</span> =&gt;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#579386" title="List[List[Typers.this.global.ValDef]]">vparamss</a>.<span title="(p: List[Typers.this.global.ValDef] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#579756" title="List[Typers.this.global.ValDef]">_</a>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#579763" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#579745" title="Typers.this.global.Tree">superArg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="579769">alias</a> = <a href="#579744" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; superAcc.type">initialize</a>.<a href="../symtab/Symbols.scala.html#107607" title="=&gt; Typers.this.global.Symbol">alias</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579769" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                      <a href="#579769" title="Typers.this.global.Symbol">alias</a> = <a href="#579744" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#107635" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#579744" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579769" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                        <a href="#579683" title="Typers.this.global.Symbol">superClazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105496" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#579769" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#579769" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                      <a href="#579769" title="Typers.this.global.Symbol">alias</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
                    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#579769" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="579793">ownAcc</a> = <a href="#579385" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#579749" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107593" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#579800" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#579793" title="Typers.this.global.Symbol">ownAcc</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579793" title="Typers.this.global.Symbol">ownAcc</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
                        <a href="#579793" title="Typers.this.global.Symbol">ownAcc</a> = <a href="#579793" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../symtab/Symbols.scala.html#107603" title="=&gt; Typers.this.global.Symbol">accessed</a>
                      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#579793" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#579769" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107603" title="=&gt; Typers.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579793" title="Typers.this.global.Symbol">ownAcc</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has alias &quot;)" class="string">&quot; has alias &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#579769" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579769" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a><span class="delimiter">)</span> <span class="comment">//debug</span>
                        <a href="#579793" title="Typers.this.global.Symbol">ownAcc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TermSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67332" title="Typers.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../symtab/Symbols.scala.html#152465" title="(alias: Typers.this.global.Symbol)Typers.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#579769" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                      <span class="delimiter">}</span>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
      
    <span class="comment">/** Check if a method is defined in such a way that it can be called.
      * A method cannot be called if it is a non-private member of a structural type
      * and if its parameter's types are not one of
      * - this.type
      * - a type member of the structural type
      * - an abstract type declared outside of the structural type. */</span>
    <span class="keyword">def</span> <a title="(meth: Typers.this.global.Symbol)Unit" id="106027">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="579846">meth</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107534" title="=&gt; Boolean">isStructuralRefinement</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107632" title="=&gt; List[Typers.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#579846" title="Typers.this.global.Symbol">meth</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">||</span> <a href="#579846" title="Typers.this.global.Symbol">meth</a>.<span title="=&gt; Boolean">hasAccessBoundary</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="579849">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.MethodType" id="579850">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#579850" title="Typers.this.global.MethodType">mt</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="579852">res</a><span class="delimiter">)</span> =&gt; <a href="#579852" title="Typers.this.global.Type">res</a>
 <span class="comment">// TODO_NMT: drop NullaryMethodType from resultType?</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Type" id="579853">pt</a>: <a href="../symtab/Types.scala.html#67455" title="Typers.this.global.PolyType">PolyType</a> =&gt; <a href="#579853" title="Typers.this.global.PolyType">pt</a>.<a href="../symtab/Types.scala.html#148926" title="=&gt; Typers.this.global.Type">resultType</a>
          <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="579878">paramType</a> &lt;- <a href="#579849" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105476" title="(f: Typers.this.global.Type =&gt; Unit)Unit">paramTypes</a><span class="delimiter">)</span>  <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579878" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#579878" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107547" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579878" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#579878" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107547" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#579846" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#579878" title="Typers.this.global.Type">paramType</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67410" title="Typers.this.global.ThisType">ThisType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#579878" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#579846" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(useCase: Typers.this.global.UseCase)Unit" id="106028">typedUseCase</a><span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="579885">useCase</a>: <a href="../ast/DocComments.scala.html#67938" title="Typers.this.global.UseCase">UseCase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(str: String)Typers.this.global.syntaxAnalyzer.Parser" id="579887">stringParser</a><span class="delimiter">(</span><a title="String" id="579891">str</a>: <span title="String">String</span><span class="delimiter">)</span>: syntaxAnalyzer.<a href="../ast/parser/Parsers.scala.html#96030" title="Typers.this.global.syntaxAnalyzer.Parser">Parser</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.BatchSourceFile" id="579892">file</a> = <a href="#579894" title="scala.tools.nsc.util.BatchSourceFile" class="keyword">new</a> <a href="../util/SourceFile.scala.html#30801" title="anonymous class $anon extends scala.tools.nsc.util.BatchSourceFile" id="579894">BatchSourceFile</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96521" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="#579891" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString">str</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)scala.tools.nsc.util.Position" id="579896">positionInUltimateSource</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="579897">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="#579897" title="Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97224" title="(source: scala.tools.nsc.util.SourceFile, shift: Int)scala.tools.nsc.util.Position">withSource</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#579885" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130522" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97214" title="=&gt; Int">start</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.CompilationUnit" id="579893">unit</a> = <span title="Typers.this.global.CompilationUnit" class="keyword">new</span> <a href="../CompilationUnits.scala.html#67953" title="Typers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">(</span><a href="#579892" title="scala.tools.nsc.util.BatchSourceFile">file</a><span class="delimiter">)</span>
        <a href="../ast/parser/Parsers.scala.html#171730" title="(unit: Typers.this.global.syntaxAnalyzer.global.CompilationUnit)Typers.this.global.syntaxAnalyzer.UnitParser" class="keyword">new</a> <a href="../Global.scala.html#64909" title="object Typers.this.global.syntaxAnalyzer">syntaxAnalyzer</a>.<a href="../ast/parser/Parsers.scala.html#96022" title="Typers.this.global.syntaxAnalyzer.UnitParser">UnitParser</a><span class="delimiter">(</span><a href="#579893" title="Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.syntaxAnalyzer.global.Tree]" id="579888">trees</a> = <a href="#579887" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#579885" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130520" title="=&gt; String">body</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#169282" title="=&gt; List[Typers.this.global.syntaxAnalyzer.global.Tree]">nonLocalDefOrDcl</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="579889">enclClass</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Any" id="579890">defineAlias</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="579924">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113093" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#579924" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/DocComments.scala.html#67933" title="(vble: String, site: Typers.this.global.Symbol)Option[String]">lookupVariable</a><span class="delimiter">(</span><a href="#579924" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96604" title="()String">toString</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#579889" title="Typers.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Any">Some</span><span class="delimiter">(</span><a title="String" id="579936">repl</a><span class="delimiter">)</span> =&gt;
              <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#579942" title="Typers.this.Typer">_</a>.<a href="#106077" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#579887" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#579936" title="String">repl</a><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#169247" title="()Typers.this.global.syntaxAnalyzer.global.Tree">typ</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Symbol" id="579950">tpt</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.TypeSymbol" id="579951">alias</a> = <a href="#579889" title="Typers.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#107438" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="#579885" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130522" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#579924" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96599" title="=&gt; Typers.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="579952">tparams</a> = <a href="../symtab/Symbols.scala.html#67344" title="(syms: List[Typers.this.global.Symbol], owner: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#579950" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#579951" title="Typers.this.global.TypeSymbol">alias</a><span class="delimiter">)</span>
                  <a href="#579951" title="Typers.this.global.TypeSymbol">alias</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)alias.type">setInfo</a> <a href="../symtab/Types.scala.html#67492" title="(tps: List[Typers.this.global.Symbol], body: Typers.this.global.Type)Typers.this.global.Type">typeFun</a><span class="delimiter">(</span><a href="#579952" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#579950" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#579952" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#580017" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#579951" title="Typers.this.global.TypeSymbol">alias</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="580082">tree</a> &lt;- <a href="#579888" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">trees</a>; <a title="Typers.this.global.Tree" id="580168">t</a> &lt;- <a href="../ast/Trees.scala.html#109174" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">tree</a><span class="delimiter">)</span>
        <a href="#580168" title="Typers.this.global.Tree">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="580172">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#580172" title="Typers.this.global.Name">name</a> <a href="../symtab/Names.scala.html#96626" title="(char: Char)Boolean">startsWith</a> <span title="Char(\'$\')" class="char">'$'</span> =&gt; <a href="#579890" title="(name: Typers.this.global.Name)Any">defineAlias</a><span title="Unit" class="delimiter">(</span><a href="#580172" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#579885" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130529" title="(x$1: List[Typers.this.global.Symbol])Unit">aliases</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113097" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
      <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527591" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#579888" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a><span class="delimiter">)</span>
      <a href="#106040" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#579888" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a>, <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#579885" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130526" title="(x$1: List[Typers.this.global.Symbol])Unit">defined</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113097" title="=&gt; List[Typers.this.global.Symbol]">toList</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#579885" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130528" title="=&gt; List[Typers.this.global.Symbol]">aliases</a> <span title="(elem: Any)Boolean">contains</span> <a href="#580191" title="Typers.this.global.Symbol">_</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#579885" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130525" title="=&gt; List[Typers.this.global.Symbol]">defined</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580216">sym</a> =&gt; <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;defined use cases: %s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#580216" title="Typers.this.global.Symbol">sym</a>, <a href="#580216" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param ddef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef" id="106029">typedDefDef</a><span class="delimiter">(</span><a title="Typers.this.global.DefDef" id="580224">ddef</a>: <span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="580226">meth</a> = <a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
   
      <a href="#105986" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <a href="#105985" title="(vparamss: List[List[Typers.this.global.ValDef]])Unit">reenterValueParams</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span><span class="delimiter">)</span>

      <span class="comment">// for `val` and `var` parameter, look at `target` meta-annotation</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="580256">vparams</a> &lt;- <a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</span>; <a title="Typers.this.global.ValDef" id="580276">vd</a> &lt;- <a href="#580256" title="(f: Typers.this.global.ValDef =&gt; Any)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#580276" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="580277">sym</a> = <a href="#580276" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
            <a href="#580277" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107412" title="(annots: List[Typers.this.global.AnnotationInfoBase])sym.type">setAnnotations</a><span class="delimiter">(</span><a href="#106020" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#580277" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>, <a href="../symtab/Definitions.scala.html#106284" title="=&gt; Typers.this.global.Symbol">ParamTargetClass</a>, keepClean = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="580227">tparams1</a> = <a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <a href="#106030" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="List[List[Typers.this.global.ValDef]]" id="580228">vparamss1</a> = <a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])List[List[Typers.this.global.ValDef]]">mapConserve</span> <span class="delimiter">(</span><a href="#580303" title="List[Typers.this.global.ValDef]">_</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <a href="#106025" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
      
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="580229">annots</a> = <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="580332">vparams1</a> &lt;- <a href="#580228" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="580358">vparam1</a> &lt;- <a href="#580332" title="List[Typers.this.global.ValDef]">vparams1</a> <span title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106359" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#580358" title="Typers.this.global.ValDef">vparam1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580358" title="Typers.this.global.ValDef">vparam1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;*-parameter must come last&quot;)" class="string">&quot;*-parameter must come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="580230">tpt1</a> = <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575237" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#580226" title="Typers.this.global.Symbol">meth</a>, <a href="#106072" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36819" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="580393">vparams</a> &lt;- <a href="#580228" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="580413">vparam</a> &lt;- <a href="#580393" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575240" title="(scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: Typers.this.global.Tree)Typers.this.global.Tree">locals</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#580413" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span>; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575240" title="(scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: Typers.this.global.Tree)Typers.this.global.Tree">locals</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#580230" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#105980" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>, <a href="#580230" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(tp: Typers.this.global.Type)ddef.tpt.type">setType</span><span class="delimiter">(</span><a href="#580230" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="580231">typedMods</a> = <a href="#106024" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="580232">rhs1</a> = 
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.TermName">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">hasStaticFlag</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// need this to make it possible to generate static ctors</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span>
               <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">||</span>
               <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107489" title="=&gt; Boolean">isAnonOrRefinementClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;constructor definition not allowed here&quot;)" class="string">&quot;constructor definition not allowed here&quot;</span><span class="delimiter">)</span>
          <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#106079" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <span title="Int(1)">EXPRmode</span>, <a href="#580230" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107473" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68004" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#106026" title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit">computeParamAliases</a><span class="delimiter">(</span><a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#580228" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#580232" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580230" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106794" title="=&gt; Boolean">returnsSeen</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580232" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a><span class="delimiter">)</span>
        <a href="#580232" title="Typers.this.global.Tree">rhs1</a> = <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#580232" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107580" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="580481">ps</a> =&gt; <a href="#580481" title="List[Typers.this.global.Symbol]">ps</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#580488" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106359" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#580481" title="List[Typers.this.global.Symbol]">ps</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;a parameter section with a `*\'-parameter is not allowed to have default arguments&quot;)" class="string">&quot;a parameter section with a `*'-parameter is not allowed to have default arguments&quot;</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="580494">allParams</a> = <a href="#580226" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#107580" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Symbol] =&gt; scala.collection.TraversableOnce[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">flatten</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580552">p</a> &lt;- <a href="#580494" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">allParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="NamesDefaults.scala.html#105902" title="(sym: Typers.this.global.Symbol)Option[Typers.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#580552" title="Typers.this.global.Symbol">p</a><span class="delimiter">)</span>.<span title="(f: Typers.this.global.Name =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="580558">n</a> =&gt; <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580494" title="List[Typers.this.global.Symbol]">allParams</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580565">p1</a> =&gt; <a href="#580565" title="Typers.this.global.Symbol">p1</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#580558" title="Typers.this.global.Name">n</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#580552" title="Typers.this.global.Symbol">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#580565" title="Typers.this.global.Symbol">p1</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="NamesDefaults.scala.html#105902" title="(sym: Typers.this.global.Symbol)Option[Typers.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#580565" title="Typers.this.global.Symbol">p1</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="(x: Typers.this.global.Name)Some[Typers.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#580558" title="Typers.this.global.Name">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580552" title="Typers.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;deprecated parameter name &quot;)" class="string">&quot;deprecated parameter name &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#580558" title="Typers.this.global.Name">n</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has to be distinct from any other parameter name (deprecated or not).&quot;)" class="string">&quot; has to be distinct from any other parameter name (deprecated or not).&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#106027" title="(meth: Typers.this.global.Symbol)Unit">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a href="#580226" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162522" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], vparamss: List[List[Typers.this.global.ValDef]], tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#580224" title="Typers.this.global.DefDef">ddef</a>, <a href="#580231" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#580224" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580227" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#580228" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#580230" title="Typers.this.global.Tree">tpt1</a>, <a href="#580232" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.DefDef">setType</span> <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="106030">typedTypeDef</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="578364">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Typers.this.Typer" id="580602">typeDefTyper</a> = <span class="delimiter">{</span>
        <span title="Typers.this.Typer" class="keyword">if</span><span class="delimiter">(</span><a href="#578364" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#105749" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>
        <span class="keyword">else</span> <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#578364" title="Typers.this.global.TypeDef">tdef</a>, <a href="#578364" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#580602" title="=&gt; Typers.this.Typer">typeDefTyper</a>.<a href="#106031" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef0</a><span class="delimiter">(</span><a href="#578364" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// call typedTypeDef instead</span>
    <span class="comment">// a TypeDef with type parameters must always be type checked in a new scope</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="106031">typedTypeDef0</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="580605">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> = <span class="delimiter">{</span>
      <a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <a href="#105986" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="580607">tparams1</a> = <a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <span class="delimiter">{</span><a href="#106030" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#580619" title="Typers.this.global.TypeDef">_</a><span class="delimiter">)</span><span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="580608">typedMods</a> = <a href="#106024" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="580609">annots</a> = <a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="comment">// @specialized should not be pickled when compiling with -no-specialize</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36655" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72372" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107416" title="(cls: Typers.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67699" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106290" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
        <a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107639" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>.<a href="../symtab/Symbols.scala.html#107416" title="(cls: Typers.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67699" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106290" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580610">rhs1</a> = <a href="#105983" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#575237" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#106072" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105979" title="(sym: Typers.this.global.Symbol)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> 
        <a href="#580610" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="580643">lo1</a>, <a title="Typers.this.global.Type" id="580644">hi1</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#580643" title="Typers.this.global.Type">lo1</a> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#580644" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;lower bound &quot;)" class="string">&quot;lower bound &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#580643" title="Typers.this.global.Type">lo1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not conform to upper bound &quot;)" class="string">&quot; does not conform to upper bound &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#580644" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162523" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], rhs: Typers.this.global.Tree)Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">(</span><a href="#580605" title="Typers.this.global.TypeDef">tdef</a>, <a href="#580608" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#580605" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#580607" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#580610" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeDef">setType</span> <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Unit" id="106032">enterLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="575607">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#575607" title="Typers.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="580659">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#580659" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#580659" title="Typers.this.global.LabelDef">ldef</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527586" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
              <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107427" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#580659" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#580659" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148762" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef" id="106033">typedLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="580692">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.LabelDef">LabelDef</span> = <span class="delimiter">{</span>
      <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115747" title="(name: Typers.this.global.Name)Boolean">isLoopHeaderLabel</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="580700">restpe</a> = <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580701">rhs1</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <a href="#580700" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="580729">param</a> =&gt; <a href="#580729" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#580729" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162524" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>, <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#580701" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#580700" title="Typers.this.global.Type">restpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="580744">initpe</a> = <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580745">rhs1</a> = <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="580746">restpe</a> = <a href="#580745" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#580746" title="Typers.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#580744" title="Typers.this.global.Type">initpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// stable result, no need to check again</span>
          <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="580769">param</a> =&gt; <a href="#580769" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#580769" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162524" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>, <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#580745" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#580746" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113092" title="(sym: Typers.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="580773">sym2</a> = <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527586" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
            <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107427" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148762" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#580746" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580774">rhs2</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67860" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>, <a href="#580746" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
          <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="580808">param</a> =&gt; <a href="#580808" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#580808" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162524" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#580692" title="Typers.this.global.LabelDef">ldef</a>, <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#580692" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#580774" title="Typers.this.global.Tree">rhs2</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.LabelDef">setSymbol</span> <a href="#580773" title="Typers.this.global.Symbol">sym2</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#580746" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param block ...
     *  @param mode  ...
     *  @param pt    ...
     *  @return      ...
     */</span>
    <span class="keyword">def</span> <a title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block" id="106034">typedBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Block" id="580815">block</a>: <span title="Typers.this.global.Block">Block</span>, <a title="Int" id="580816">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="580817">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Block">Block</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="580819">syntheticPrivates</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527591" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#580815" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="580841">stat</a> &lt;- <a href="#580815" title="Typers.this.global.Block">block</a>.<span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">stats</span><span class="delimiter">)</span> <a href="#106032" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#580841" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64810" title="(period: Typers.this.global.Period)Int">phaseId</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64812" title="=&gt; Typers.this.global.Period">currentPeriod</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// This is very tricky stuff, because we are navigating</span>
          <span class="comment">// the Skylla and Charybdis of anonymous classes and what to return</span>
          <span class="comment">// from them here. On the one hand, we cannot admit</span>
          <span class="comment">// every non-private member of an anonymous class as a part of</span>
          <span class="comment">// the structural type of the enclosing block. This runs afoul of</span>
          <span class="comment">// the restriction that a structural type may not refer to an enclosing</span>
          <span class="comment">// type parameter or abstract types (which in turn is necessitated</span>
          <span class="comment">// by what can be done in Java reflection. On the other hand,</span>
          <span class="comment">// making every term member private conflicts with private escape checking</span>
          <span class="comment">// see ticket #3174 for an example.</span>
          <span class="comment">// The cleanest way forward is if we would find a way to suppress</span>
          <span class="comment">// structural type checking for these members and maybe defer </span>
          <span class="comment">// type errors to the places where members are called. But that would</span>
          <span class="comment">// be a big refactoring and also a  big departure from existing code.</span>
          <span class="comment">// The probably safest fix for 2.8 is to keep members of an anonymous</span>
          <span class="comment">// class that are not mentioned in a parent type private (as before)</span>
          <span class="comment">// but to disable escape checking for code that's in the same anonymous class.</span>
          <span class="comment">// That's what's done here. </span>
          <span class="comment">// We really should go back and think hard whether we find a better</span>
          <span class="comment">// way to address the problem of escaping idents on the one hand and well-formed</span>
          <span class="comment">// structural types on the other.</span>
          <a href="#580815" title="Typers.this.global.Block">block</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Unit" id="580848">block</a> @ Block<span class="delimiter">(</span><a href="#580854" title="(x: List[Typers.this.global.Tree])Some[List[Typers.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="580865">classDef</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Typers.this.global.Apply" id="580880">newInst</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="comment">// The block is an anonymous class definitions/instantiation pair</span>
              <span class="comment">//   -&gt; members that are hidden by the type of the block are made private</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="580890">visibleMembers</a> = <a href="#580817" title="Typers.this.global.Type">pt</a> <span title="List[Typers.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67401" title="List[Typers.this.global.Symbol]">WildcardType</a> =&gt; <a href="#580865" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113097" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">BoundedWildcardType</span><span class="delimiter">(</span>TypeBounds<span class="delimiter">(</span><a title="Typers.this.global.Type" id="580896">lo</a>, <a title="Typers.this.global.Type" id="580897">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#580896" title="Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105490" title="=&gt; List[Typers.this.global.Symbol]">members</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">_</span> =&gt; <a href="#580817" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105490" title="=&gt; List[Typers.this.global.Symbol]">members</a>
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580928">member</a> &lt;- <a href="#580865" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113097" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">toList</a>
                   <span class="keyword">if</span> <a href="#580928" title="Typers.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107632" title="=&gt; List[Typers.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#580928" title="Typers.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#580928" title="Typers.this.global.Symbol">member</a>.<span title="=&gt; Boolean">hasAccessBoundary</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#580890" title="List[Typers.this.global.Symbol]">visibleMembers</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="580913">visible</a> =&gt;
                        <a href="#580913" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                        <a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#580913" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105506" title="(from: Typers.this.global.Symbol, to: Typers.this.global.Type)Typers.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#580913" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="../symtab/Types.scala.html#148254" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">ThisType</a><span class="delimiter">(</span><a href="#580865" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span><span class="delimiter">)</span>
              <span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)member.type">resetFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
                <a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)member.type">resetFlag</a><span class="delimiter">(</span><span title="Long(524288L)">LOCAL</span><span class="delimiter">)</span>
                <a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)member.type">setFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(274877906948L)">|</span> SYNTHETIC_PRIVATE<span class="delimiter">)</span>
                <a href="#580819" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <span title="(x: Typers.this.global.Symbol)syntheticPrivates.type">+=</span> <a href="#580928" title="Typers.this.global.Symbol">member</a>
                <a href="#580928" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107419" title="(sym: Typers.this.global.Symbol)Unit">privateWithin</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="580820">stats1</a> = <a href="#106040" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#580815" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580821">expr1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580815" title="Typers.this.global.Block">block</a>.<span title="=&gt; Typers.this.global.Tree">expr</span>, <a href="#580816" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span class="delimiter">(</span>FUNmode <span title="Int(80)">|</span> QUALmode<span class="delimiter">)</span>, <a href="#580817" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162528" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#580815" title="Typers.this.global.Block">block</a>, <a href="#580820" title="List[Typers.this.global.Tree]">stats1</a>, <a href="#580821" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.Block">setType</span><span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153033" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#580815" title="Typers.this.global.Block">block</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#580821" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="#580821" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <span class="comment">// enable escaping privates checking from the outside and recycle</span>
        <span class="comment">// transient flag</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="580979">sym</a> &lt;- <a href="#580819" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">syntheticPrivates</a><span class="delimiter">)</span> <a href="#580979" title="Typers.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)sym.type">resetFlag</a> <span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
 
    <span class="comment">/**
     *  @param cdef   ...
     *  @param pattpe ...
     *  @param pt     ...
     *  @return       ...
     */</span>
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef" id="106035">typedCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="580984">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="580985">pattpe</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="580986">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> = <span class="delimiter">{</span>
      <span class="comment">// verify no _* except in last position      </span>
      <span class="keyword">for</span> <span class="delimiter">(</span>Apply<span class="delimiter">(</span>_, <a title="List[Typers.this.global.Tree]" id="581083">xs</a><span class="delimiter">)</span> &lt;- <a href="#580984" title="Typers.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#109176" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a> ; <a title="Typers.this.global.Tree" id="581095">x</a> &lt;- <a href="#581083" title="List[Typers.this.global.Tree]">xs</a> <span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span> ; <span class="keyword">if</span> <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a> <a href="../ast/TreeInfo.scala.html#153065" title="(x: Typers.this.global.treeInfo.trees.Tree)Boolean">isStar</a> <a href="#581095" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581095" title="Typers.this.global.Tree">x</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;_* may only come last&quot;)" class="string">&quot;_* may only come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580988">pat1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#106070" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">(</span><a href="#580984" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#580985" title="Typers.this.global.Type">pattpe</a><span class="delimiter">)</span>
      <span class="comment">// When case classes have more than two parameter lists, the pattern ends</span>
      <span class="comment">// up typed as a method.  We only pattern match on the first parameter</span>
      <span class="comment">// list, so substitute the final result type of the method, i.e. the type</span>
      <span class="comment">// of the case class.</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#580988" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105473" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#580988" title="Typers.this.global.Tree">pat1</a> <span title="(tp: Typers.this.global.Type)pat1.type">setType</span> <a href="#580988" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105472" title="=&gt; Typers.this.global.Type">finalResultType</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#65004" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Bind" id="581208">bind</a> @ Bind<span class="delimiter">(</span><a title="Typers.this.global.Name" id="581213">name</a>, _<span class="delimiter">)</span> &lt;- <a href="#580984" title="Typers.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#109176" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#581213" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96598" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581208" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581208" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> 
            <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527597" title="(sym: Typers.this.global.Symbol)Unit">enterIfNotThere</a><span class="delimiter">(</span><a href="#581208" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
        
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="580989">guard1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#580984" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>
                         <span class="keyword">else</span> <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580984" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="../symtab/Definitions.scala.html#106734" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="580990">body1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#580984" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#580986" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106818" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#580990" title="Typers.this.global.Tree">body1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106862" title="(tp: Typers.this.global.Type)Typers.this.global.Type">restoreTypeBounds</a><span class="delimiter">(</span><a href="#580990" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#580986" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#580990" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#580986" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#580990" title="Typers.this.global.Tree">body1</a> =
            <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span>
              <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.TypeApply)Typers.this.global.TypeApply">atPos</a><span class="delimiter">(</span><a href="#580990" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#580990" title="Typers.this.global.Tree">body1</a>, <a href="../symtab/Definitions.scala.html#106533" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#580986" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// @M no need for pt.normalize here, is done in erasure</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
<span class="comment">//    body1 = checkNoEscaping.locals(context.scope, pt, body1)</span>
      <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162529" title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#580984" title="Typers.this.global.CaseDef">cdef</a>, <a href="#580988" title="Typers.this.global.Tree">pat1</a>, <a href="#580989" title="Typers.this.global.Tree">guard1</a>, <a href="#580990" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.CaseDef">setType</span> <a href="#580990" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]" id="106036">typedCases</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="533651">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.CaseDef]" id="533652">cases</a>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="533653">pattp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="533654">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span> =
      <a href="#533652" title="List[Typers.this.global.CaseDef]">cases</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)List[Typers.this.global.CaseDef]">mapConserve</span> <span class="delimiter">{</span> <a title="Typers.this.global.CaseDef" id="581306">cdef</a> =&gt;
        <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#581306" title="Typers.this.global.CaseDef">cdef</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106035" title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef">typedCase</a><span class="delimiter">(</span><a href="#581306" title="Typers.this.global.CaseDef">cdef</a>, <a href="#533653" title="Typers.this.global.Type">pattp</a>, <a href="#533654" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param fun  ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106037">typedFunction</a><span class="delimiter">(</span><a title="Typers.this.global.Function" id="581308">fun</a>: <span title="Typers.this.global.Function">Function</span>, <a title="Int" id="581309">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="581310">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="581312">numVparams</a> = <a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="=&gt; Int">length</span>
      <span class="keyword">val</span> <a title="Boolean" id="581313">codeExpected</a> = <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#65003" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#581310" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107588" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106426" title="=&gt; Typers.this.global.Symbol">CodeClass</a><span class="delimiter">)</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#581312" title="Int">numVparams</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../symtab/Definitions.scala.html#67699" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106461" title="=&gt; Int">MaxFunctionArity</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>, <span title="java.lang.String(&quot;implementation restricts functions to &quot;)" class="string">&quot;implementation restricts functions to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/Definitions.scala.html#67699" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106461" title="=&gt; Int">MaxFunctionArity</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; parameters&quot;)" class="string">&quot; parameters&quot;</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" id="581314">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="581324">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span>Symbol, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =
        <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106493" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#581324" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">||</span> 
             <a href="#581324" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106296" title="=&gt; Typers.this.global.Symbol">PartialFunctionClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
             <a href="#581312" title="Int">numVparams</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Match">Match</span><span class="delimiter">]</span><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// see bug901 for a reason why next conditions are needed</span>
            <span class="delimiter">(</span><a href="#581324" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span title="(x: Int)Boolean">==</span> <a href="#581312" title="Int">numVparams</a>
             <span title="(x: Boolean)Boolean">||</span> 
             <a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#581350" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span><a href="#581324" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#581324" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; List[Typers.this.global.Type]">init</span>, <a href="#581324" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">last</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.WildcardType.type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.WildcardType.type)" class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106469" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#581312" title="Int">numVparams</a><span class="delimiter">)</span>, <a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.NoType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.NoType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="581383">x</a> =&gt; <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#581316" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="#581315" title="Typers.this.global.Symbol" id="581316">clazz</a>, <a href="#581315" title="List[Typers.this.global.Type]" id="581317">argpts</a>, <a href="#581315" title="Typers.this.global.Type" id="581318">respt</a><span class="delimiter">)</span> = <a href="#581314" title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)">decompose</a><span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type) @unchecked" class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#581313" title="Boolean">codeExpected</a><span class="delimiter">)</span> <a href="#581310" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">head</span> <span class="keyword">else</span> <a href="#581310" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#581317" title="List[Typers.this.global.Type]">argpts</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><a href="#581312" title="Int">numVparams</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>, <span title="java.lang.String(&quot;wrong number of parameters; expected = &quot;)" class="string">&quot;wrong number of parameters; expected = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#581317" title="List[Typers.this.global.Type]">argpts</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="581435">vparamSyms</a> = <span title="(_1: List[Typers.this.global.ValDef], _2: List[Typers.this.global.Type])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])" class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>, <a href="#581317" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.ValDef] =&gt; scala.collection.TraversableLike[Typers.this.global.ValDef,List[Typers.this.global.ValDef]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</span> <span title="(f: (Typers.this.global.ValDef, Typers.this.global.Type) =&gt; Typers.this.global.Symbol)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="581498">vparam</a>, <a title="Typers.this.global.Type" id="581499">argpt</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = 
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#581499" title="Typers.this.global.Type">argpt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#581499" title="Typers.this.global.Type">argpt</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#581308" title="Typers.this.global.Function">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="EtaExpansion.scala.html#537868" title="Unit">etaExpansion</a><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="581504">vparams</a>, <a title="Typers.this.global.Tree" id="581505">fn</a>, <a title="List[Typers.this.global.Tree]" id="581506">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#581313" title="Boolean">codeExpected</a> =&gt;
                    <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#581512" title="Typers.this.Typer">_</a>.<a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581505" title="Typers.this.global.Tree">fn</a>, <a href="Modes.scala.html#105721" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#581309" title="Int">mode</a><span class="delimiter">)</span>, <a href="#581310" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <a title="Unit" id="581520">fn1</a>: <span title="Typers.this.global.Tree">Tree</span> <span class="keyword">if</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
                        <span class="comment">// if context,undetparams is not empty, the function was polymorphic, </span>
                        <span class="comment">// so we need the missing arguments to infer its type. See #871</span>
                        <span class="comment">//println(&quot;typing eta &quot;+fun+&quot;:&quot;+fn1.tpe+&quot;/&quot;+context.undetparams)</span>
                        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="581522">ftpe</a> = <a href="Infer.scala.html#105771" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#581520" title="Typers.this.global.Tree">fn1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105499" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../symtab/Definitions.scala.html#106469" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#581312" title="Int">numVparams</a><span class="delimiter">)</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106493" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#581522" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#581522" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                          <span title="Nothing" class="keyword">return</span> <a href="#106037" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>, <a href="#581309" title="Int">mode</a>, <a href="#581522" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span>
                      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
                <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="TypeDiagnostics.scala.html#105926" title="(fun: Typers.this.global.Tree, vparam: Typers.this.global.ValDef, pt: Typers.this.global.Type)java.lang.String">missingParameterTypeMsg</a><span class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>, <a href="#581498" title="Typers.this.global.ValDef">vparam</a>, <a href="#581310" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a>
              <span class="delimiter">}</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97209" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span> <span title="(pos: Typers.this.global.Position)vparam.tpt.type">setPos</span> <a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
          <a href="#106022" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>, <a href="#581498" title="Typers.this.global.ValDef">vparam</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106815" title="=&gt; Boolean">retyping</a><span class="delimiter">)</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#581498" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="581436">vparams</a> = <a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <span class="delimiter">(</span><a href="#106025" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
<span class="comment">//        for (vparam &lt;- vparams) {</span>
<span class="comment">//          checkNoEscaping.locals(context.scope, WildcardType, vparam.tpt); ()</span>
<span class="comment">//        }</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="581437">body</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#581318" title="Typers.this.global.Type">respt</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="581438">formals</a> = <a href="#581435" title="List[Typers.this.global.Symbol]">vparamSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#581610" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="581439">restpe</a> = <a href="#106052" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#581437" title="Typers.this.global.Tree">body</a>, <a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Typers.this.global.Type">deconst</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="581440">funtpe</a> = <a href="../symtab/Types.scala.html#67483" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#581316" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105464" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#581316" title="Typers.this.global.Symbol">clazz</a>, <a href="#581438" title="List[Typers.this.global.Type]">formals</a> <span title="(elem: Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">:+</span> <a href="#581439" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
<span class="comment">//        body = checkNoEscaping.locals(context.scope, restpe, body)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Function" id="581441">fun1</a> = <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162535" title="(tree: Typers.this.global.Tree, vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>, <a href="#581436" title="List[Typers.this.global.ValDef]">vparams</a>, <a href="#581437" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.Function">setType</span><span class="delimiter">(</span><a href="#581440" title="Typers.this.global.Type">funtpe</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#581313" title="Boolean">codeExpected</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="581694">liftPoint</a> = <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67813" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106428" title="=&gt; Typers.this.global.Symbol">CodeModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115540" title="=&gt; Typers.this.global.nme.NameType">lift_</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Function*)List[Typers.this.global.Function]">List</span><span class="delimiter">(</span><a href="#581441" title="Typers.this.global.Function">fun1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Apply)Typers.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#581308" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#581694" title="Typers.this.global.Apply">liftPoint</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#581441" title="Typers.this.global.Function">fun1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])Unit" id="106038">typedRefinement</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="581745">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527591" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#581745" title="List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
      <span class="comment">// need to delay rest of typedRefinement to avoid cyclic reference errors</span>
      <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96445" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a> <span title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
        <span class="comment">// go to next outer context which is not silent, see #3614</span>
        <span class="keyword">var</span> <a title="Typers.this.Context" id="581774">c</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581774" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#106803" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#581774" title="Typers.this.Context">c</a> = <a href="#581774" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#106761" title="=&gt; Typers.this.Context">outer</a>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="581775">stats1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#581774" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#106040" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#581745" title="List[Typers.this.global.Tree]">stats</a>, <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581785">stat</a> &lt;- <a href="#581775" title="(f: Typers.this.global.Tree =&gt; Any)Unit">stats1</a> <span class="keyword">if</span> <a href="#581785" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="581786">member</a> = <a href="#581785" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107613" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span>
                <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="581795">bc</a> =&gt; <a href="#581786" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107628" title="(ofclazz: Typers.this.global.Symbol, site: Typers.this.global.Type)Typers.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#581795" title="Typers.this.global.Symbol">bc</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#581786" title="Typers.this.global.Symbol">member</a> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)member.type">setFlag</a> <span title="Long(2L)">OVERRIDE</span>
                <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(imp: Typers.this.global.Import)Typers.this.global.Import" id="106039">typedImport</a><span class="delimiter">(</span><a title="Typers.this.global.Import" id="581818">imp</a> : <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> : <span title="Typers.this.global.Import">Import</span> = <span class="delimiter">(</span><a href="#105738" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">remove</span> <a href="#581818" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span> <span title="Typers.this.global.Import" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Import" id="581823">imp1</a>: <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> =&gt; <a href="#581823" title="Typers.this.global.Import">imp1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">None</span> =&gt; <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unhandled import: &quot;)" class="string">&quot;unhandled import: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#581818" title="Typers.this.global.Import">imp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>; <a href="#581818" title="Typers.this.global.Import">imp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]" id="106040">typedStats</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="579217">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="579218">exprOwner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="581824">inBlock</a> = <a href="#579218" title="Typers.this.global.Symbol">exprOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="581825">includesTargetPos</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581835">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = 
        <a href="#581835" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97211" title="=&gt; Boolean">isRange</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#581835" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <a href="../util/Position.scala.html#97229" title="(pos: scala.tools.nsc.util.Position)Boolean">includes</a> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96448" title="=&gt; Typers.this.global.Position">targetPos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="581826">localTarget</a> = <a href="#579217" title="List[Typers.this.global.Tree]">stats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#581825" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a>
      <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Typers.this.global.Tree" id="581827">typedStat</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581848">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isRefinementClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153030" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isDeclaration</a><span class="delimiter">(</span><a href="#581848" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#581848" title="Typers.this.global.Tree">stat</a>, <span title="java.lang.String(&quot;only declarations allowed here&quot;)" class="string">&quot;only declarations allowed here&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> 
          <a href="#581848" title="Typers.this.global.Tree">stat</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Import" id="581850">imp</a> @ Import<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="#105971" title="(x$1: Typers.this.Context)Unit">context</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106837" title="(imp: Typers.this.global.Import)Typers.this.Context">makeNewImport</a><span class="delimiter">(</span><a href="#581850" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
              <a href="#581850" title="Typers.this.global.Import">imp</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; Typers.this.global.Symbol">initialize</a>
              <a href="#106039" title="(imp: Typers.this.global.Import)Typers.this.global.Import">typedImport</a><span class="delimiter">(</span><a href="#581850" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#581826" title="Boolean">localTarget</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581825" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a><span class="delimiter">(</span><a href="#581848" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="comment">// skip typechecking of statements in a sequence where some other statement includes</span>
                <span class="comment">// the targetposition</span>
                <a href="#581848" title="Typers.this.global.Tree">stat</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.Typer" id="581854">localTyper</a> = <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#581824" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#581848" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581848" title="Typers.this.global.Tree">stat</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105749" title="Typers.this.Typer" class="keyword">this</a>
                                 <span class="keyword">else</span> <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106841" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#581848" title="Typers.this.global.Tree">stat</a>, <a href="#579218" title="Typers.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="581855">result</a> = <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#581854" title="Typers.this.Typer">localTyper</a>.<a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581848" title="Typers.this.global.Tree">stat</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153038" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#581855" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106792" title="(x$1: Boolean)Unit">inConstructorSuffix</a> = <span title="Boolean(true)" class="keyword">true</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153036" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfConstrCall</a><span class="delimiter">(</span><a href="#581855" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581855" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97217" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#579218" title="Typers.this.global.Symbol">exprOwner</a>.<span title="=&gt; Typers.this.global.Symbol">enclMethod</span>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97217" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581848" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;called constructor\'s definition must precede calling constructor\'s definition&quot;)" class="string">&quot;called constructor's definition must precede calling constructor's definition&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#581855" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** 'accessor' and 'accessed' are so similar it becomes very difficult to
       *  follow the logic, so I renamed one to something distinct.
       */</span>
      <span class="keyword">def</span> <a title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean" id="581828">accesses</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="581869">looker</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="581870">accessed</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#581870" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">hasLocalFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
        <a href="#581870" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">isParamAccessor</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#581869" title="Typers.this.global.Symbol">looker</a>.<span title="=&gt; Boolean">hasAccessorFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581870" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">hasAccessorFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581870" title="Typers.this.global.Symbol">accessed</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="581829">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="581871">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="581872">scope</a> = <span title="Typers.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#581824" title="Boolean">inBlock</a><span class="delimiter">)</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a> <span class="keyword">else</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a>
        <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="581873">newStats</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
        <span class="keyword">var</span> <a title="Boolean" id="581874">needsCheck</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">var</span> <a title="Boolean" id="581875">moreToAdd</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#581875" title="Boolean">moreToAdd</a><span class="delimiter">)</span> <a href="#581876" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Int" id="581878">initSize</a> = <a href="#581872" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113084" title="=&gt; Int">size</a>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="581879">e</a> = <a href="#581872" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113061" title="=&gt; Typers.this.global.ScopeEntry">elems</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113277" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#581872" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#581880" title="()Unit" class="delimiter">{</a>

            <span class="comment">// check no double def</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#581874" title="Boolean">needsCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="581886">e1</a> = <a href="#581872" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113096" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#581886" title="Typers.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#581886" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113277" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#581872" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#581888" title="()Unit" class="delimiter">{</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581828" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#581886" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581828" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#581886" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                    <span class="delimiter">(</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">||</span> <a href="#581824" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105522" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#581886" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="comment">// default getters are defined twice when multiple overloads have defaults. an</span>
                  <span class="comment">// error for this is issued in RefChecks.checkDefaultsInOverloaded</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107479" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581886" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107479" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasDefaultFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span title="=&gt; Boolean">!</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106292" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#581886" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107414" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106292" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>                    
                    <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#581886" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#113275" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is defined twice&quot;)" class="string">&quot; is defined twice&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                    <span class="delimiter">{</span><span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96459" title="()String">toString</a><span class="delimiter">}</span><span class="delimiter">)</span>
                    <a href="#581872" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113091" title="(e: Typers.this.global.ScopeEntry)Unit">unlink</a><span class="delimiter">(</span><a href="#581886" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span> <span class="comment">// need to unlink to avoid later problems with lub; see #2779</span>
                  <span class="delimiter">}</span>
                <a href="#581886" title="Typers.this.global.ScopeEntry">e1</a> = <a href="#581872" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113096" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#581886" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="comment">// add synthetics</span>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96443" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)Option[Typers.this.global.Tree]">get</span> <a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree])Unit">foreach</span> <span class="delimiter">{</span> <a title="Typers.this.global.Tree" id="581931">tree</a> =&gt;
            <a href="#581873" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> <span title="(x: Typers.this.global.Tree)scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">+=</span> <a href="#581827" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">(</span><a href="#581931" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="comment">// might add even more synthetics to the scope</span>
            <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96443" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">-=</span> <a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>
          <span class="delimiter">}</span>

          <a href="#581879" title="Typers.this.global.ScopeEntry">e</a> = <a href="#581879" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#113283" title="=&gt; Typers.this.global.ScopeEntry">next</a>
        <span class="delimiter">}</span>
        <a href="#581874" title="Boolean">needsCheck</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="comment">// the type completer of a synthetic might add more synthetics. example: if the</span>
        <span class="comment">// factory method of a case class (i.e. the constructor) has a default.</span>
        <a href="#581875" title="Boolean">moreToAdd</a> = <a href="#581878" title="Int">initSize</a> <span title="(x: Int)Boolean">!=</span> <a href="#581872" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113084" title="=&gt; Int">size</a>
        <span class="delimiter">}</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#581873" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#581871" title="List[Typers.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// put default getters next to the method they belong to,</span>
          <span class="comment">// same for companion objects. fixes #2489 and #4036.</span>
          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean" id="581973">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581975">stat</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="581976">synt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Tree)" class="delimiter">(</span><a href="#581975" title="Typers.this.global.Tree">stat</a>, <a href="#581976" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>DefDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="581993">statName</a>, _, _, _, _<span class="delimiter">)</span>, DefDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="582002">mods</a>, <a title="Typers.this.global.TermName" id="582003">syntName</a>, _, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#582002" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">hasDefaultFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#582003" title="Typers.this.global.TermName">syntName</a>.<a href="../symtab/Names.scala.html#96604" title="()String">toString</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#581993" title="Typers.this.global.TermName">statName</a>.<a href="../symtab/Names.scala.html#96604" title="()String">toString</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>ClassDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="582014">className</a>, _, _<span class="delimiter">)</span>, ModuleDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="582022">moduleName</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#582014" title="Typers.this.global.TypeName">className</a>.<a href="../symtab/Names.scala.html#97265" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#582022" title="Typers.this.global.TermName">moduleName</a>

            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="581974">matching</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582028">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#582030" title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])" class="delimiter">(</a><a href="#582029" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="582030">pos</a>, <a href="#582029" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="582031">neg</a><span class="delimiter">)</span> = <a href="#581873" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="(p: Typers.this.global.Tree =&gt; Boolean)(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])">partition</span><span title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a title="Typers.this.global.Tree" id="582037">synt</a> =&gt; <a href="#581973" title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean">matches</a><span class="delimiter">(</span><a href="#582028" title="Typers.this.global.Tree">stat</a>, <a href="#582037" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#581873" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> = <a href="#582031" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">neg</a>
            <a href="#582030" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">pos</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
          <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="#581871" title="List[Typers.this.global.Tree]">stats</a> <span title="(z: List[Typers.this.global.Tree])(f: (Typers.this.global.Tree, List[Typers.this.global.Tree]) =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">foldRight</span> List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582076">stat</a>, <a title="List[Typers.this.global.Tree]" id="582077">res</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#582076" title="Typers.this.global.Tree">stat</a> <a href="#582078" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#581974" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">matching</a><span class="delimiter">(</span><a href="#582076" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="#582079" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#582077" title="List[Typers.this.global.Tree]">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="#582048" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#581873" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="581830">result</a> = <a href="#579217" title="List[Typers.this.global.Tree]">stats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#581827" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">)</span>
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#581830" title="List[Typers.this.global.Tree]">result</a>
      <span class="keyword">else</span> <a href="#581829" title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a href="#581830" title="List[Typers.this.global.Tree]">result</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106041">typedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577321">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="577322">mode</a>: <span title="Int">Int</span>, <a title="Int" id="577323">newmode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="577324">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="582108">typedMode</a> = <a href="Modes.scala.html#105720" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#577322" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#577323" title="Int">newmode</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582109">t</a> = <a href="#105988" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#577322" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8)">SCCmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#577321" title="Typers.this.global.Tree">arg</a>, <a href="#582108" title="Int">typedMode</a>, <a href="#577324" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="TypeDiagnostics.scala.html#105950" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#574599" title="(mode: Int, tree: Typers.this.global.Tree)Typers.this.global.Tree">inMode</a><span class="delimiter">(</span><a href="#582108" title="Int">typedMode</a>, <a href="#582109" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]" id="106042">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="577353">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="577354">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
      <a href="#577353" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577363">arg</a> =&gt; <a href="#106041" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#577363" title="Typers.this.global.Tree">arg</a>, <a href="#577354" title="Int">mode</a>, <span title="Int(0)" class="int">0</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="106043">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="577104">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="577105">mode</a>: <span title="Int">Int</span>, <a title="List[Typers.this.global.Type]" id="577106">originalFormals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="577107">adaptedFormals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Int]" id="577110">newmodes</a> = <a href="#577106" title="List[Typers.this.global.Type]">originalFormals</a> <span title="(f: Typers.this.global.Type =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Int,List[Int]])List[Int]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="577127">tp</a> =&gt; <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106356" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#577127" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(32768)">BYVALmode</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106362" title="(formals: List[Typers.this.global.Type])Boolean">isVarArgTypes</a><span class="delimiter">(</span><a href="#577106" title="List[Typers.this.global.Type]">originalFormals</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// TR check really necessary?</span>
        <a href="#577110" title="List[Int]">newmodes</a> = <a href="#577110" title="List[Int]">newmodes</a>.<span title="=&gt; List[Int]">init</span> <span title="(that: scala.collection.GenTraversableOnce[Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">++</span> <span title="object List">List</span>.<span title="(n: Int)(elem: =&gt; Int)List[Int]">fill</span><span class="delimiter">(</span><a href="#577104" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <a href="#577106" title="List[Typers.this.global.Type]">originalFormals</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">(</span>STARmode <span title="Int(36864)">|</span> BYVALmode<span class="delimiter">)</span>

      <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type], _3: List[Int])(List[Typers.this.global.Tree], List[Typers.this.global.Type], List[Int])" class="delimiter">(</span><a href="#577104" title="List[Typers.this.global.Tree]">args</a>, <a href="#577107" title="List[Typers.this.global.Type]">adaptedFormals</a>, <a href="#577110" title="List[Int]">newmodes</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w3: List[Int] =&gt; scala.collection.IterableLike[Int,List[Int]])(List[Typers.this.global.Tree], List[Typers.this.global.Type], List[Int])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type,List[Int],Int]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Type, Int) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577318">arg</a>, <a title="Typers.this.global.Type" id="577319">formal</a>, <a title="Int" id="577320">m</a><span class="delimiter">)</span> =&gt; 
        <a href="#106041" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#577318" title="Typers.this.global.Tree">arg</a>, <a href="#577105" title="Int">mode</a>, <a href="#577320" title="Int">m</a>, <a href="#577319" title="Typers.this.global.Type">formal</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Does function need to be instantiated, because a missing parameter
     *  in an argument closure overlaps with an uninstantiated formal?
     */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean" id="106044">needsInstantiation</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="582127">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="582128">formals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Tree]" id="582129">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tparam: Typers.this.global.Symbol)Boolean" id="582132">isLowerBounded</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="582133">tparam</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582134">losym</a> = <a href="#582133" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <a href="#582134" title="Typers.this.global.Symbol">losym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#582134" title="Typers.this.global.Symbol">losym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106226" title="=&gt; Typers.this.global.Symbol">NullClass</a>
      <span class="delimiter">}</span>
      <span title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.Tree])(List[Typers.this.global.Type], List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#582128" title="List[Typers.this.global.Type]">formals</a>, <a href="#582129" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.Tree] =&gt; scala.collection.IterableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]])(List[Typers.this.global.Type], List[Typers.this.global.Tree])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Tree],Typers.this.global.Tree]">zipped</span> <span title="(f: (Typers.this.global.Type, Typers.this.global.Tree) =&gt; Boolean)Boolean">exists</span> <a href="#582194" title="Boolean" class="delimiter">{</a> 
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Typers.this.global.Type" id="582204">formal</a>, Function<span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="582207">vparams</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#582207" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#582214" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#582207" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../symtab/Definitions.scala.html#106461" title="=&gt; Int">MaxFunctionArity</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#582204" title="Typers.this.global.Type">formal</a> <a href="../symtab/Types.scala.html#105499" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../symtab/Definitions.scala.html#106469" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#582207" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, _, <a title="List[Typers.this.global.Type]" id="582223">formalargs</a><span class="delimiter">)</span> =&gt;
              <span title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.ValDef])(List[Typers.this.global.Type], List[Typers.this.global.ValDef])" class="delimiter">(</span><a href="#582223" title="List[Typers.this.global.Type]">formalargs</a>, <a href="#582207" title="List[Typers.this.global.ValDef]">vparams</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.ValDef] =&gt; scala.collection.IterableLike[Typers.this.global.ValDef,List[Typers.this.global.ValDef]])(List[Typers.this.global.Type], List[Typers.this.global.ValDef])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.ValDef],Typers.this.global.ValDef]">zipped</span>.<span title="(f: (Typers.this.global.Type, Typers.this.global.ValDef) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582274">formalarg</a>, <a title="Typers.this.global.ValDef" id="582275">vparam</a><span class="delimiter">)</span> =&gt;
                <a href="#582275" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#582127" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#582274" title="Typers.this.global.Type">formalarg</a> <a href="../symtab/Types.scala.html#105513" title="(sym: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#582127" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <a href="#582132" title="(tparam: Typers.this.global.Symbol)Boolean">isLowerBounded</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; 
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Is `tree' a block created by a named application?
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="106045">isNamedApplyBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="557198">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =
      <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106785" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a> <span title="(p: (Typers.this.global.Tree, Typers.this.NamedApplyInfo) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#557203" title="(Typers.this.global.Tree, Typers.this.NamedApplyInfo)">_</a>.<span title="=&gt; Typers.this.global.Tree">_1</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#557198" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean" id="106046">callToCompanionConstr</a><span class="delimiter">(</span><a title="Typers.this.Context" id="582291">context</a>: <a href="Contexts.scala.html#105654" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="582292">calledFun</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#582292" title="Typers.this.global.Symbol">calledFun</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="582295">methCtx</a> = <a href="#582291" title="Typers.this.Context">context</a>.<a href="Contexts.scala.html#106767" title="=&gt; Typers.this.Context">enclMethod</a>
        <span class="delimiter">(</span><a href="#582295" title="Typers.this.Context">methCtx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#105643" title="=&gt; Typers.this.Context">NoContext</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582300">contextFun</a> = <a href="#582295" title="Typers.this.Context">methCtx</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#582300" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#582300" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="Namers.scala.html#105679" title="(clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionModuleOf</a><span class="delimiter">(</span><a href="#582292" title="Typers.this.global.Symbol">calledFun</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#582291" title="Typers.this.Context">context</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#582300" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106047">doTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="557269">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="557270">fun0</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="557271">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="557272">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="557273">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">// TODO_NMT: check the assumption that args nonEmpty</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="582307">fun</a> = <a href="#557270" title="Typers.this.global.Tree">fun0</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// remove alternatives with wrong number of parameters without looking at types.</span>
        <span class="comment">// less expensive than including them in inferMethodAlternatvie (see below).</span>
        <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree)Typers.this.global.Type" id="582308">shapeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582312">arg</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <a href="#582312" title="Typers.this.global.Tree">arg</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">Function</span><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="582315">vparams</a>, <a title="Typers.this.global.Tree" id="582316">body</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Definitions.scala.html#106491" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#582315" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="582333">vparam</a> =&gt; <a href="../symtab/Definitions.scala.html#106216" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#582308" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#582316" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.NamedType">AssignOrNamedArg</span><span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="582366">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="582367">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#455662" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#582366" title="Typers.this.global.Name">name</a>, <a href="#582308" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#582367" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582309">argtypes</a> = <a href="#557271" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <a href="#582308" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="582310">pre</a> = <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105464" title="=&gt; Typers.this.global.Type">prefix</a>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="582311">sym</a> = <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="582418">alt</a> =&gt;
          <span class="comment">// must use pt as expected type, not WildcardType (a tempting quick fix to #2665)</span>
          <span class="comment">// now fixed by using isWeaklyCompatible in exprTypeArgs</span>
          <span class="comment">// TODO: understand why exactly -- some types were not inferred anymore (`ant clean quick.bin` failed)</span>
          <span class="comment">// (I had expected inferMethodAlternative to pick up the slack introduced by using WildcardType here)</span>
          <a href="Infer.scala.html#106123" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>, <a href="Infer.scala.html#106118" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#582310" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#582418" title="Typers.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#582309" title="List[Typers.this.global.Type]">argtypes</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582311" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isOverloaded</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582425">sym1</a> = <a href="#582311" title="Typers.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="582427">alt</a> =&gt; <span class="delimiter">{</span>
            <span class="comment">// eliminate functions that would result from tupling transforms</span>
            <span class="comment">// keeps alternatives with repeated params</span>
            <a href="Infer.scala.html#106119" title="(tp: Typers.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="Infer.scala.html#106118" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#582427" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#582309" title="List[Typers.this.global.Type]">argtypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
            <span class="comment">// also keep alts which define at least one default</span>
            <a href="#582427" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105474" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#582438" title="List[Typers.this.global.Symbol]">_</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#582445" title="Typers.this.global.Symbol">_</a>.<span title="=&gt; Boolean">hasDefault</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582425" title="Typers.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#582311" title="Typers.this.global.Symbol">sym</a> = <a href="#582425" title="Typers.this.global.Symbol">sym1</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582311" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#582307" title="Typers.this.global.Tree">fun</a> = <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">setSymbol</span> <a href="#582311" title="Typers.this.global.Symbol">sym</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#582310" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#582311" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="Modes.scala.html#105721" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#557272" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      
      <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582463">pre</a>, <a title="List[Typers.this.global.Symbol]" id="582464">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="582465">undetparams</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106828" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" id="582466">argtpes</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">ListBuffer</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="keyword">val</span> <a title="Int" id="582467">amode</a> = <a href="#105737" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#557272" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582468">args1</a> = <a href="#557271" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#582479" title="Typers.this.global.Tree" class="delimiter">{</a>
            <span class="keyword">case</span> <a title="Typers.this.global.AssignOrNamedArg" id="582480">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="582486">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="582487">rhs</a><span class="delimiter">)</span> =&gt;
              <span class="comment">// named args: only type the righthand sides (&quot;unknown identifier&quot; errors otherwise)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582488">rhs1</a> = <a href="#106041" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#582487" title="Typers.this.global.Tree">rhs</a>, <a href="#582467" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#582466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="../symtab/Types.scala.html#455662" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#582486" title="Typers.this.global.Name">name</a>, <a href="#582488" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
              <span class="comment">// the assign is untyped; that's ok because we call doTypedApply</span>
              <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#582480" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#67822" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="#582480" title="Typers.this.global.AssignOrNamedArg">arg</a>.<a href="../ast/Trees.scala.html#160133" title="=&gt; Typers.this.global.Tree">lhs</a> , <a href="#582488" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="582504">arg</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582505">arg1</a> = <a href="#106041" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#582504" title="Typers.this.global.Tree">arg</a>, <a href="#582467" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#582466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="#582505" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Typers.this.global.Type">deconst</a>
              <a href="#582505" title="Typers.this.global.Tree">arg1</a>
          <span class="delimiter">}</span>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#582465" title="List[Typers.this.global.Symbol]">undetparams</a>
          <a href="Infer.scala.html#106157" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], argtpes: List[Typers.this.global.Type], pt0: Typers.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582465" title="List[Typers.this.global.Symbol]">undetparams</a>, <a href="#582466" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a>.<span title="=&gt; List[Typers.this.global.Type]">toList</span>, <a href="#557273" title="Typers.this.global.Type">pt</a>, varArgsOnly = <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153056" title="(trees: List[Typers.this.global.treeInfo.trees.Tree])Boolean">isWildcardStarArgList</a><span class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105721" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#557272" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#582468" title="List[Typers.this.global.Tree]">args1</a>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="582541">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="582544">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582545">paramTypes</a> = <a href="#582541" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148777" title="=&gt; List[Typers.this.global.Type]">paramTypes</a>
          <span class="comment">// repeat vararg as often as needed, remove by-name</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582546">formals</a> = <a href="Infer.scala.html#105757" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#582545" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

          <span class="comment">/** Try packing all arguments into a Tuple and apply `fun'
           *  to that. This is the last thing which is tried (after
           *  default arguments)
           */</span>
          <span class="keyword">def</span> <a title="=&gt; Option[Typers.this.global.Tree]" id="582547">tryTupleApply</a>: <span title="Option[Typers.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="comment">// if 1 formal, 1 arg (a tuple), otherwise unmodified args</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582553">tupleArgs</a> = <a href="Infer.scala.html#105759" title="(pos: Typers.this.global.Position, actuals: List[Typers.this.global.Tree], nformals: Int)List[Typers.this.global.Tree]">actualArgs</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97213" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#582546" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

            <span title="Option[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582553" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#106121" title="(args: List[AnyRef], params: List[Typers.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#582544" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// expected one argument, but got 0 or &gt;1 ==&gt;  try applying to tuple</span>
              <span class="comment">// the inner &quot;doTypedApply&quot; does &quot;extractUndetparams&quot; =&gt; restore when it fails</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="582561">savedUndetparams</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
              <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#582567" title="Typers.this.Typer">_</a>.<a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582553" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Some[Typers.this.global.Tree]" id="582573">t</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; 
<span class="comment">//                  println(&quot;tuple conversion to &quot;+t+&quot; for &quot;+mt)//DEBUG</span>
                  <span title="(x: Typers.this.global.Tree)Some[Typers.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="#582573" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="None.type" id="582577">ex</a> =&gt;
                  <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#582561" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
                  <span title="object None">None</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
          <span class="delimiter">}</span>

          <span class="comment">/** Treats an application which uses named or default arguments.
           *  Also works if names + a vararg used: when names are used, the vararg
           *  parameter has to be specified exactly once. Note that combining varargs
           *  and defaults is ruled out by typedDefDef.
           */</span>
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="582548">tryNamesDefaults</a>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="582578">lencmp</a> = <a href="../symtab/Types.scala.html#67585" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#582546" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
            
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582541" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105729" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557272" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="comment">// #2064</span>
              <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#105927" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582578" title="Int">lencmp</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#582547" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;too many arguments for &quot;)" class="string">&quot;too many arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105927" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582578" title="Int">lencmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// we don't need defaults. names were used, so this application is transformed</span>
              <span class="comment">// into a block (@see transformNamedApplication in NamesDefaults)</span>
              <span class="keyword">val</span> <a href="#582599" title="(List[Typers.this.global.Tree], Array[Int])" class="delimiter">(</a><a href="#582598" title="List[Typers.this.global.Tree]" id="582599">namelessArgs</a>, <a href="#582598" title="Array[Int]" id="582600">argPos</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#105900" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#105749" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span title="(List[Typers.this.global.Tree], Array[Int]) @unchecked" class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#582544" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582599" title="List[Typers.this.global.Tree]">namelessArgs</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../ast/Trees.scala.html#109172" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#105893" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#582600" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582546" title="List[Typers.this.global.Type]">formals</a>, <a href="#582544" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="comment">// !isIdentity indicates that named arguments are used to re-order arguments</span>
                <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <span class="string">&quot;when using named arguments, the vararg parameter &quot;</span><span title="java.lang.String(&quot;when using named arguments, the vararg parameter has to be specified exactly once&quot;)">+</span>
                                <span class="string">&quot;has to be specified exactly once&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#105893" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#582600" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#106045" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// if there's no re-ordering, and fun is not transformed, no need to transform</span>
                <span class="comment">// more than an optimization, e.g. important in &quot;synchronized { x = update-x }&quot;</span>
                <a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582599" title="List[Typers.this.global.Tree]">namelessArgs</a>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="NamesDefaults.scala.html#105894" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#105749" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span>
                                          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162546" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582599" title="List[Typers.this.global.Tree]">namelessArgs</a><span class="delimiter">)</span>, <a href="#582600" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// defaults are needed. they are added to the argument list in named style as</span>
              <span class="comment">// calls to the default getters. Example:</span>
              <span class="comment">//  foo[Int](a)()  ==&gt;  foo[Int](a)(b = foo$qual.foo$default$2[Int](a))</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="582641">fun1</a> = <a href="NamesDefaults.scala.html#105894" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#105749" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a title="Int" id="582643">x</a> =&gt; <a href="#582643" title="Int">x</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun1</a>.<a href="../ast/Trees.scala.html#109172" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#106045" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#582641" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>, <a href="#582641" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> NamedApplyInfo<a href="#582650" title="(Option[Typers.this.global.Tree], List[Typers.this.global.Tree], List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#582649" title="Option[Typers.this.global.Tree]" id="582650">qual</a>, <a href="#582649" title="List[Typers.this.global.Tree]" id="582651">targs</a>, <a href="#582649" title="List[List[Typers.this.global.Tree]]" id="582652">previousArgss</a>, _<span class="delimiter">)</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106785" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<span title="=&gt; (Typers.this.global.Tree, Typers.this.NamedApplyInfo)">get</span>.<span title="=&gt; Typers.this.NamedApplyInfo">_2</span>
                <span class="keyword">val</span> <a title="Boolean" id="582653">blockIsEmpty</a> = <a href="#582641" title="Typers.this.global.Tree">fun1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Boolean">Block</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt;
                    <span class="comment">// if the block does not have any ValDef we can remove it. Note that the call to</span>
                    <span class="comment">// &quot;transformNamedApplication&quot; is always needed in order to obtain targs/previousArgss</span>
                    <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106786" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <span title="object None">None</span>
                    <span title="Boolean(true)" class="keyword">true</span>
                  <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
                <span class="delimiter">}</span>
                <span class="keyword">val</span> <a href="#582655" title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#582654" title="List[Typers.this.global.Tree]" id="582655">allArgs</a>, <a href="#582654" title="List[Typers.this.global.Symbol]" id="582656">missing</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#105898" title="(givenArgs: List[Typers.this.global.Tree], qual: Option[Typers.this.global.Tree], targs: List[Typers.this.global.Tree], previousArgss: List[List[Typers.this.global.Tree]], params: List[Typers.this.global.Symbol], pos: scala.tools.nsc.util.Position, context: Typers.this.Context)(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])">addDefaults</a><span title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#582650" title="Option[Typers.this.global.Tree]">qual</a>, <a href="#582651" title="List[Typers.this.global.Tree]">targs</a>, <a href="#582652" title="List[List[Typers.this.global.Tree]]">previousArgss</a>, <a href="#582544" title="List[Typers.this.global.Symbol]">params</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="582657">funSym</a> = <a href="#582641" title="Typers.this.global.Tree">fun1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="582714">expr</a><span class="delimiter">)</span> =&gt; <a href="#582714" title="Typers.this.global.Tree">expr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span class="delimiter">}</span>
                <span class="keyword">val</span> <a title="Int" id="582658">lencmp2</a> = <a href="../symtab/Types.scala.html#67585" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#582655" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#582546" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
                
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582655" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#106046" title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean">callToCompanionConstr</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>, <a href="#582657" title="Typers.this.global.Symbol">funSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;module extending its companion class cannot use default constructor arguments&quot;)" class="string">&quot;module extending its companion class cannot use default constructor arguments&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582658" title="Int">lencmp2</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="NamesDefaults.scala.html#105900" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#105749" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#582655" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#582544" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span> <span class="comment">// #3818</span>
                  <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582658" title="Int">lencmp2</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// useful when a default doesn't match parameter type, e.g. def f[T](x:T=&quot;a&quot;); f[Int]()</span>
                  <span class="keyword">val</span> <a title="java.lang.String" id="582730">note</a> = <span title="java.lang.String(&quot;Error occurred in an application involving default arguments.&quot;)" class="string">&quot;Error occurred in an application involving default arguments.&quot;</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106806" title="=&gt; List[String]">diagnostic</a> <span title="(elem: Any)Boolean">contains</span> <a href="#582730" title="java.lang.String">note</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106807" title="(x$1: List[String])Unit">diagnostic</a> = <a href="#582730" title="java.lang.String">note</a> <a href="#582731" title="(x: String)List[String]">::</a> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106806" title="=&gt; List[String]">diagnostic</a>
                  <a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582653" title="Boolean">blockIsEmpty</a><span class="delimiter">)</span> <a href="#582307" title="Typers.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="#582641" title="Typers.this.global.Tree">fun1</a>, <a href="#582655" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#582547" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#105928" title="(fun: Typers.this.global.Tree, missing: List[Typers.this.global.Symbol])String">notEnoughArgumentsMsg</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582656" title="List[Typers.this.global.Symbol]">missing</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#582546" title="List[Typers.this.global.Type]">formals</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>   <span class="comment">// wrong nb of arguments</span>
              <span class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="NamesDefaults.scala.html#105886" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>        <span class="comment">// uses a named argument</span>
              <a href="#106045" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>       <span class="comment">// fun was transformed to a named apply block =&gt;</span>
                                              <span class="comment">// integrate this application into the block</span>
            <a href="#582548" title="=&gt; Typers.this.global.Tree">tryNamesDefaults</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="582752">tparams</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106828" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// all type params are defined</span>
              <span class="comment">// In order for checkDead not to be misled by the unfortunate special</span>
              <span class="comment">// case of AnyRef#synchronized (which is implemented with signature T =&gt; T</span>
              <span class="comment">// but behaves as if it were (=&gt; T) =&gt; T) we need to know what is the actual</span>
              <span class="comment">// target of a call.  Since this information is no longer available from</span>
              <span class="comment">// typedArg, it is recorded here.</span>
              <a href="TypeDiagnostics.scala.html#105950" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#574597" title="(fn: Typers.this.global.Tree)Unit">updateExpr</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582753">args1</a> = <a href="#106043" title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#105737" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#557272" title="Int">mode</a><span class="delimiter">)</span>, <a href="#582545" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#582546" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
              <span class="comment">// instantiate dependent method types, must preserve singleton types where possible (stableTypeFor) -- example use case:</span>
              <span class="comment">// val foo = &quot;foo&quot;; def precise(x: String)(y: x.type): x.type = {...}; val bar : foo.type = precise(foo)(foo)</span>
              <span class="comment">// precise(foo) : foo.type =&gt; foo.type</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="582754">restpe</a> = <a href="#582541" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148781" title="(actuals: List[Typers.this.global.Type])Typers.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#582753" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.gen.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.gen.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582781">arg</a> =&gt; <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105571" title="(tree: Typers.this.global.gen.global.Tree)Option[Typers.this.global.gen.global.Type]">stableTypeFor</a><span class="delimiter">(</span><a href="#582781" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span> <span title="(default: =&gt; Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Type">getOrElse</span> <a href="#582781" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="582755">ifPatternSkipFormals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582816">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#582816" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">MethodType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="582819">rtp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#105729" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557272" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#582819" title="Typers.this.global.Type">rtp</a>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#582816" title="Typers.this.global.Type">tp</a>
              <span class="delimiter">}</span>

              <span class="comment">// Replace the Delegate-Chainer methods += and -= with corresponding</span>
              <span class="comment">// + and - calls, which are translated in the code generator into</span>
              <span class="comment">// Combine and Remove</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#65003" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#582307" title="Typers.this.global.Tree">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582824">qual</a>, <a title="Typers.this.global.Name" id="582825">name</a><span class="delimiter">)</span> =&gt;
                   <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67594" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#582824" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="../symtab/Definitions.scala.html#106504" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#582825" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105627" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#582825" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105627" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;-=&quot;)" class="string">&quot;-=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">{</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.TermName" id="582841">n</a> = <span title="Typers.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="#582825" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105627" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115704" title="=&gt; Typers.this.global.TermName">PLUS</a> <span class="keyword">else</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115694" title="=&gt; Typers.this.global.TermName">MINUS</a>
                       <span class="keyword">val</span> <a title="Typers.this.global.Select" id="582842">f</a> = <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#582824" title="Typers.this.global.Tree">qual</a>, <a href="#582841" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
                       <span class="comment">// the compiler thinks, the PLUS method takes only one argument,</span>
                       <span class="comment">// but he thinks it's an instance method -&gt; still two ref's on the stack</span>
                       <span class="comment">//  -&gt; translated by backend</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="582843">rhs</a> = <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162546" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582842" title="Typers.this.global.Select">f</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                       <span title="Nothing" class="keyword">return</span> <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#582824" title="Typers.this.global.Tree">qual</a>, <a href="#582843" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              <span class="comment">/** This is translating uses of List() into Nil.  This is less
               *  than ideal from a consistency standpoint, but it shouldn't be
               *  altered without due caution.
               */</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106385" title="=&gt; Typers.this.global.Symbol">List_apply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#557271" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#65004" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105585" title="=&gt; Typers.this.global.gen.global.Tree">mkNil</a> <span title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">setType</span> <a href="#582754" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="ConstantFolder.scala.html#106945" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162546" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582753" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Apply">setType</span> <a href="#582755" title="(tp: Typers.this.global.Type)Typers.this.global.Type">ifPatternSkipFormals</a><span class="delimiter">(</span><a href="#582754" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#106044" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean">needsInstantiation</a><span class="delimiter">(</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582546" title="List[Typers.this.global.Type]">formals</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//println(&quot;needs inst &quot;+fun+&quot; &quot;+tparams+&quot;/&quot;+(tparams map (_.info)))</span>
              <a href="Infer.scala.html#106133" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#105729" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557272" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// this case cannot arise for patterns</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582896">lenientTargs</a> = <a href="Infer.scala.html#106113" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.Type]">protoTypeArgs</a><span class="delimiter">(</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582546" title="List[Typers.this.global.Type]">formals</a>, <a href="#582541" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#105470" title="=&gt; Typers.this.global.Type">resultApprox</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="582897">strictTargs</a> = <span title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.Symbol])(List[Typers.this.global.Type], List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#582896" title="List[Typers.this.global.Type]">lenientTargs</a>, <a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.Symbol] =&gt; scala.collection.IterableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]])(List[Typers.this.global.Type], List[Typers.this.global.Symbol])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Symbol],Typers.this.global.Symbol]">zipped</span> <span title="(f: (Typers.this.global.Type, Typers.this.global.Symbol) =&gt; Typers.this.global.Type)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="582963">targ</a>, <a title="Typers.this.global.Symbol" id="582964">tparam</a><span class="delimiter">)</span> =&gt;
                <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#582963" title="Typers.this.global.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="#582964" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#582963" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span> <span class="comment">//@M TODO: should probably be .tpeHK</span>
              <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="582898">remainingParams</a> = <a href="#582545" title="List[Typers.this.global.Type]">paramTypes</a>
              <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree" id="582899">typedArgToPoly</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="582996">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="582997">formal</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span> <span class="comment">//TR TODO: cleanup</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Type" id="582998">lenientPt</a> = <a href="#582997" title="Typers.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582896" title="List[Typers.this.global.Type]">lenientTargs</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Int" id="582999">newmode</a> = 
                  <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106356" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#582898" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(32)">POLYmode</span>
                  <span class="keyword">else</span> POLYmode <span title="Int(32800)">|</span> BYVALmode
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#582898" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#582898" title="List[Typers.this.global.Type]">remainingParams</a> = <a href="#582898" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="583000">arg1</a> = <a href="#106041" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#582996" title="Typers.this.global.Tree">arg</a>, <a href="#105737" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#557272" title="Int">mode</a><span class="delimiter">)</span>, <a href="#582999" title="Int">newmode</a>, <a href="#582998" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="583001">argtparams</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106828" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#583001" title="List[Typers.this.global.Symbol]">argtparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583012">strictPt</a> = <a href="#582997" title="Typers.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582897" title="List[Typers.this.global.Type]">strictTargs</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#106132" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], strictPt: Typers.this.global.Type, lenientPt: Typers.this.global.Type)Unit">inferArgumentInstance</a><span class="delimiter">(</span><a href="#583000" title="Typers.this.global.Tree">arg1</a>, <a href="#583001" title="List[Typers.this.global.Symbol]">argtparams</a>, <a href="#583012" title="Typers.this.global.Type">strictPt</a>, <a href="#582998" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#583000" title="Typers.this.global.Tree">arg1</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="582900">args1</a> = <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type])(List[Typers.this.global.Tree], List[Typers.this.global.Type])" class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#582546" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.Tree], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#582899" title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree">typedArgToPoly</a>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#582900" title="List[Typers.this.global.Tree]">args1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#583108" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer method inst &quot;)" class="string">&quot;infer method inst &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582307" title="Typers.this.global.Tree">fun</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, tparams = &quot;)" class="string">&quot;, tparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, args = &quot;)" class="string">&quot;, args = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582900" title="List[Typers.this.global.Tree]">args1</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#583133" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557273" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, lobounds = &quot;)" class="string">&quot;, lobounds = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#583177" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Typers.this.global.Type">lo</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, parambounds = &quot;)" class="string">&quot;, parambounds = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#583215" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//debug</span>
                <span class="comment">// define the undetparams which have been fixed by this param list, replace the corresponding symbols in &quot;fun&quot;</span>
                <span class="comment">// returns those undetparams which have not been instantiated.</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="583112">undetparams</a> = <a href="Infer.scala.html#106135" title="(fn: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], args: List[Typers.this.global.Tree], pt0: Typers.this.global.Type)List[Typers.this.global.Symbol]">inferMethodInstance</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582752" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#582900" title="List[Typers.this.global.Tree]">args1</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="583113">result</a> = <a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#582900" title="List[Typers.this.global.Tree]">args1</a>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#583112" title="List[Typers.this.global.Symbol]">undetparams</a>
                <a href="#583113" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#557272" title="Int">mode</a>, <a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Typers.this.global.Apply">ErrorType</a> =&gt;
          <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162546" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">/* --- begin unapply  --- */</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="583255">otpe</a> <span class="keyword">if</span> <a href="Modes.scala.html#105729" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#557272" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Unapplies.scala.html#105857" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#583255" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <a href="../symtab/Definitions.scala.html#106457" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;too many arguments for unapply pattern, maximum = &quot;)" class="string">&quot;too many arguments for unapply pattern, maximum = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Definitions.scala.html#106457" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])" id="583256">freshArgType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="583266">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</span>Type, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#583266" title="Typers.this.global.Type">tp</a>: @<a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type @unchecked">unchecked</a><span class="delimiter">)</span> <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Type, scala.collection.immutable.Nil.type)">MethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="583273">param</a> :: _, _<span class="delimiter">)</span> =&gt; 
              <span title="(_1: Typers.this.global.Type, _2: scala.collection.immutable.Nil.type)(Typers.this.global.Type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="#583273" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="583282">tparams</a>, <a title="Typers.this.global.Type" id="583283">restype</a><span class="delimiter">)</span> =&gt; 
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="583284">tparams1</a> = <a href="../symtab/Symbols.scala.html#67341" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#583282" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.Type, _2: List[Typers.this.global.Symbol])(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#583256" title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])">freshArgType</a><span class="delimiter">(</span><a href="#583283" title="Typers.this.global.Type">restype</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">_1</span>.<a href="../symtab/Types.scala.html#105505" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#583282" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#583284" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#583284" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.ErrorType.type, scala.collection.immutable.Nil.type)">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;cannot resolve overloaded unapply&quot;)" class="string">&quot;cannot resolve overloaded unapply&quot;</span><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.ErrorType.type, _2: scala.collection.immutable.Nil.type)(Typers.this.global.ErrorType.type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="583257">unapp</a>     = <a href="Unapplies.scala.html#105857" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#583255" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>          
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583258">unappType</a> = <a href="#583255" title="Typers.this.global.Type">otpe</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#583257" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="583259">argDummy</a>  = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107420" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="Analyzer.scala.html#105627" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">SELECTOR_DUMMY</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)Typers.this.global.TermSymbol">setFlag</a> <span title="Long(2097152L)">SYNTHETIC</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="#557273" title="Typers.this.global.Type">pt</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="583260">arg</a>       = <a href="../ast/Trees.scala.html#67813" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#583259" title="Typers.this.global.TermSymbol">argDummy</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="#557273" title="Typers.this.global.Type">pt</a>
          
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Infer.scala.html#106123" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#583258" title="Typers.this.global.Type">unappType</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(&quot;UNAPP: need to typetest, arg.tpe = &quot;+arg.tpe+&quot;, unappType = &quot;+unappType)</span>
            <span class="keyword">val</span> <a href="#583376" title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#583375" title="Typers.this.global.Type" id="583376">unappFormal</a>, <a href="#583375" title="List[Typers.this.global.Symbol]" id="583377">freeVars</a><span class="delimiter">)</span> = <a href="#583256" title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])">freshArgType</a><span title="(Typers.this.global.Type, List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#583258" title="Typers.this.global.Type">unappType</a>.<a href="../symtab/Types.scala.html#105481" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#557269" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="583378">context1</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#583377" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <a href="#583378" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a>
            
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="583379">typer1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#583378" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583380">pattp</a>  = <a href="#583379" title="Typers.this.Typer">typer1</a>.<a href="#105961" title="=&gt; Typers.this.Inferencer">infer</a>.<a href="Infer.scala.html#106143" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#583376" title="Typers.this.global.Type">unappFormal</a>, <a href="#583260" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            
            <span class="comment">// turn any unresolved type variables in freevars into existential skolems</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.TypeSkolem]" id="583381">skolems</a> = <a href="#583377" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeSkolem)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeSkolem,List[Typers.this.global.TypeSkolem]])List[Typers.this.global.TypeSkolem]">map</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="583452">fv</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.TypeSkolem" id="583453">skolem</a> = <span title="Typers.this.global.TypeSkolem" class="keyword">new</span> <a href="../symtab/Symbols.scala.html#67336" title="Typers.this.global.TypeSkolem">TypeSkolem</a><span class="delimiter">(</span><a href="#583378" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#583452" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96599" title="=&gt; Typers.this.global.TypeName">toTypeName</a>, <a href="#583452" title="Typers.this.global.Symbol">fv</a><span class="delimiter">)</span>
              <a href="#583453" title="Typers.this.global.TypeSkolem">skolem</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)skolem.type">setInfo</a><span class="delimiter">(</span><a href="#583452" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105528" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#583453" title="Typers.this.global.TypeSkolem">skolem</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)skolem.type">setFlag</a><span class="delimiter">(</span><a href="#583452" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)skolem.type">resetFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span>
              <a href="#583453" title="Typers.this.global.TypeSkolem">skolem</a>
            <span class="delimiter">}</span>
            <a href="#583260" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#583380" title="Typers.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#105505" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#583377" title="List[Typers.this.global.Symbol]">freeVars</a>, <a href="#583381" title="List[Typers.this.global.TypeSkolem]">skolems</a><span class="delimiter">)</span>
            <a href="#583259" title="Typers.this.global.TermSymbol">argDummy</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)argDummy.type">setInfo</a> <a href="#583260" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span>

          <span class="comment">// setType null is necessary so that ref will be stabilized; see bug 881</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="583261">fun1</a> = <a href="#106064" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <span title="Null(null)" class="keyword">null</span>, <a href="#583257" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Ident*)List[Typers.this.global.Ident]">List</span><span class="delimiter">(</span><a href="#583260" title="Typers.this.global.Ident">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#583261" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="583534">formals0</a> = <a href="Unapplies.scala.html#105853" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#583261" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#583261" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="583535">formals1</a> = <a href="Infer.scala.html#105757" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#583534" title="List[Typers.this.global.Type]">formals0</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#583535" title="List[Typers.this.global.Type]">formals1</a>, <a href="#557271" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="583540">args1</a> = <a href="#106043" title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#557271" title="List[Typers.this.global.Tree]">args</a>, <a href="#557272" title="Int">mode</a>, <a href="#583534" title="List[Typers.this.global.Type]">formals0</a>, <a href="#583535" title="List[Typers.this.global.Type]">formals1</a><span class="delimiter">)</span>
              <span class="comment">// This used to be the following (failing) assert:</span>
              <span class="comment">//   assert(isFullyDefined(pt), tree+&quot; ==&gt; &quot;+UnApply(fun1, args1)+&quot;, pt = &quot;+pt)</span>
              <span class="comment">// I modified as follows.  See SI-1048.</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583541">pt1</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#557273" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="Infer.scala.html#106111" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#557273" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583542">itype</a> = <a href="../symtab/Types.scala.html#67658" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#583541" title="Typers.this.global.Type">pt1</a>, <a href="#583260" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#583260" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#583541" title="Typers.this.global.Type">pt1</a>    <span class="comment">// restore type (arg is a dummy tree, just needs to pass typechecking)</span>
              <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#583261" title="Typers.this.global.Tree">fun1</a>, <a href="#583540" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.UnApply">setPos</span> <a href="#557269" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#583542" title="Typers.this.global.Type">itype</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105927" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#582307" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          
<span class="comment">/* --- end unapply  --- */</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#557269" title="Typers.this.global.Tree">tree</a>, <a href="#582307" title="Typers.this.global.Tree">fun</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not take parameters&quot;)" class="string">&quot; does not take parameters&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Convert an annotation constructor call into an AnnotationInfo.
     *
     * @param annClass the expected annotation class
     */</span>
    <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo" id="106048">typedAnnotation</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="554926">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="554932">mode</a>: <span title="Int">Int</span> = <span title="Int(1)">EXPRmode</span>, <a title="Typers.this.global.Symbol" id="554933">selfsym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a title="Typers.this.global.Symbol" id="554934">annClass</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Definitions.scala.html#106250" title="=&gt; Typers.this.global.Symbol">AnnotationClass</a>, <a title="Boolean" id="554935">requireJava</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../symtab/AnnotationInfos.scala.html#67754" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="583571">annotationError</a> = <a href="../symtab/AnnotationInfos.scala.html#134310" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="583572">hasError</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo" id="583573">error</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="583580">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a>, <a title="String" id="583581">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106850" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#583580" title="Typers.this.global.Position">pos</a>, <a href="#583581" title="String">msg</a><span class="delimiter">)</span>
        <a href="#583572" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#583570" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Calling constfold right here is necessary because some trees (negated
       *  floats and literals in particular) are not yet folded.
       */</span>
      <span class="keyword">def</span> <a title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]" id="583574">tryConst</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583586">tr</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="583587">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.LiteralAnnotArg]">Option</span><span class="delimiter">[</span>LiteralAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Constant" id="583588">const</a>: <span title="Typers.this.global.Constant">Constant</span> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="ConstantFolder.scala.html#106945" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#583586" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>, <span title="Int(1)">EXPRmode</span>, <a href="#583587" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="583600">l</a> @ Literal<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="583604">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">l</a>.<a href="../ast/Trees.scala.html#109172" title="=&gt; Boolean">isErroneous</a> =&gt; <a href="#583604" title="Typers.this.global.Constant">c</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="583607">tree</a> =&gt; <a href="#583607" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Constant">ConstantType</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="583609">c</a><span class="delimiter">)</span>  =&gt; <a href="#583609" title="Typers.this.global.Constant">c</a>
            <span class="keyword">case</span> <a title="Null(null)" id="583610">tpe</a>              =&gt; <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(msg: String)None.type" id="583589">fail</a><span class="delimiter">(</span><a title="String" id="583611">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583586" title="Typers.this.global.Tree">tr</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#583611" title="String">msg</a><span class="delimiter">)</span> ; <span title="object None">None</span> <span class="delimiter">}</span>

        <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583588" title="Typers.this.global.Constant">const</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#583589" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;annotation argument needs to be a constant; found: &quot;)" class="string">&quot;annotation argument needs to be a constant; found: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583586" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583588" title="Typers.this.global.Constant">const</a>.<span title="=&gt; Any">value</span> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#583589" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;annotation argument cannot be null&quot;)" class="string">&quot;annotation argument cannot be null&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="(x: Typers.this.global.LiteralAnnotArg)Some[Typers.this.global.LiteralAnnotArg]">Some</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#234830" title="(const: Typers.this.global.Constant)Typers.this.global.LiteralAnnotArg">LiteralAnnotArg</a><span class="delimiter">(</span><a href="#583588" title="Typers.this.global.Constant">const</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Converts an untyped tree to a ClassfileAnnotArg. If the conversion fails,
       *  an error message is reported and None is returned.
       */</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]" id="583575">tree2ConstArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583621">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="583622">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ClassfileAnnotArg]">Option</span><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span> = <a href="#583621" title="Typers.this.global.Tree">tree</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="None.type">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583632">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="583633">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#583622" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106394" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583621" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;Array constants have to be specified using the `Array(...)\' factory method&quot;)" class="string">&quot;Array constants have to be specified using the `Array(...)' factory method&quot;</span><span class="delimiter">)</span>
          <span title="object None">None</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="583639">ann</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583649">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="583650">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="583651">annInfo</a> = <a href="#106048" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#583639" title="Typers.this.global.Apply">ann</a>, <a href="#554932" title="Int">mode</a>, <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#583622" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583651" title="Typers.this.global.AnnotationInfo">annInfo</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// recursive typedAnnotation call already printed an error, so don't call &quot;error&quot;</span>
            <a href="#583572" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span title="object None">None</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(x: Typers.this.global.NestedAnnotArg)Some[Typers.this.global.NestedAnnotArg]">Some</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#236061" title="(annInfo: Typers.this.global.AnnotationInfo)Typers.this.global.NestedAnnotArg">NestedAnnotArg</a><span class="delimiter">(</span><a href="#583651" title="Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// use of Array.apply[T: ClassManifest](xs: T*): Array[T]</span>
        <span class="comment">// and    Array.apply(x: Int, xs: Int*): Array[Int]       (and similar)</span>
        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583659">fun</a>, <a title="List[Typers.this.global.Tree]" id="583660">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="583661">typedFun</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#583659" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105721" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#554932" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583661" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106391" title="=&gt; Typers.this.global.Symbol">ArrayModule</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#583661" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <a href="#583622" title="Typers.this.global.Type">pt</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Option[Typers.this.global.ArrayAnnotArg]">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106394" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>, <a title="Typers.this.global.Type" id="583685">targ</a> :: _<span class="delimiter">)</span> =&gt;
                <a href="#583576" title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]">trees2ConstArg</a><span class="delimiter">(</span><a href="#583660" title="List[Typers.this.global.Tree]">args</a>, <a href="#583685" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
                <span class="comment">// For classfile annotations, pt can only be T:</span>
                <span class="comment">//   BT = Int, .., String, Class[_], JavaAnnotClass</span>
                <span class="comment">//   T = BT | Array[BT]</span>
                <span class="comment">// So an array literal as argument can only be valid if pt is Array[_]</span>
                <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583621" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;found array constant, expected argument of type &quot;)" class="string">&quot;found array constant, expected argument of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583622" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="#583574" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#583621" title="Typers.this.global.Tree">tree</a>, <a href="#583622" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583690">t</a>, _<span class="delimiter">)</span> =&gt; <a href="#583575" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#583690" title="Typers.this.global.Tree">t</a>, <a href="#583622" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.LiteralAnnotArg]" id="583691">tree</a> =&gt;
          <a href="#583574" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#583691" title="Typers.this.global.Tree">tree</a>, <a href="#583622" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]" id="583576">trees2ConstArg</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="583686">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="583687">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ArrayAnnotArg]">Option</span><span class="delimiter">[</span>ArrayAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Option[Typers.this.global.ClassfileAnnotArg]]" id="583692">args</a> = <a href="#583686" title="List[Typers.this.global.Tree]">trees</a>.<span title="(f: Typers.this.global.Tree =&gt; Option[Typers.this.global.ClassfileAnnotArg])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]])List[Option[Typers.this.global.ClassfileAnnotArg]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]]" class="delimiter">(</span><a href="#583575" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#583709" title="Typers.this.global.Tree">_</a>, <a href="#583687" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[Typers.this.global.ArrayAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583692" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<span title="(p: Option[Typers.this.global.ClassfileAnnotArg] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#583743" title="Option[Typers.this.global.ClassfileAnnotArg]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object None">None</span>
        <span class="keyword">else</span> <span title="(x: Typers.this.global.ArrayAnnotArg)Some[Typers.this.global.ArrayAnnotArg]">Some</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#235295" title="(args: Array[Typers.this.global.ClassfileAnnotArg])Typers.this.global.ArrayAnnotArg">ArrayAnnotArg</a><span class="delimiter">(</span><a href="#583692" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="#583781" title="(implicit asTraversable: Option[Typers.this.global.ClassfileAnnotArg] =&gt; scala.collection.TraversableOnce[Typers.this.global.ClassfileAnnotArg])List[Typers.this.global.ClassfileAnnotArg]">flatten</a>.<a href="Analyzer.scala.html#105627" title="(implicit evidence$1: ClassManifest[Typers.this.global.ClassfileAnnotArg])Array[Typers.this.global.ClassfileAnnotArg]">toArray</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// begin typedAnnotation</span>
      <span class="keyword">val</span> <a href="#583578" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#583577" title="Typers.this.global.Tree" id="583578">fun</a>, <a href="#583577" title="List[List[Typers.this.global.Tree]]" id="583579">argss</a><span class="delimiter">)</span> = <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]]) @unchecked" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="583811">extract</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583812">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[List[Typers.this.global.Tree]]" id="583813">outerArgss</a>: <span title="List[List[Typers.this.global.Tree]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
          <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#583812" title="Typers.this.global.Tree">fun</a> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583816">f</a>, <a title="List[Typers.this.global.Tree]" id="583817">args</a><span class="delimiter">)</span> =&gt;
              <a href="#583811" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#583816" title="Typers.this.global.Tree">f</a>, <a href="#583817" title="List[Typers.this.global.Tree]">args</a> <a href="#583818" title="(x: List[Typers.this.global.Tree])List[List[Typers.this.global.Tree]]">::</a> <a href="#583813" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="583831">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="#583812" title="Typers.this.global.Tree">fun</a>, <a href="#583813" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">_</span> =&gt;
              <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583812" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;unexpected tree in annotation: &quot;)" class="string">&quot;unexpected tree in annotation: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583812" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#583812" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>, <a href="#583813" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <a href="#583811" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#554926" title="Typers.this.global.Tree">ann</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun</a>.<a href="../ast/Trees.scala.html#109172" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#583570" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="(Typers.this.global.Select, Typers.this.global.Tree)" id="583867">typedFun</a> @ Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a href="#583866" title="Typers.this.global.Tree" id="583868">tpt</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span title="Typers.this.global.Tree @unchecked" class="delimiter">(</span><a href="#583578" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105721" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#554932" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="583869">annType</a> = <a href="#583868" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>

        <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">typedFun</a>.<a href="../ast/Trees.scala.html#109172" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#583570" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
        <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#583869" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107588" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106252" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// annotation to be saved as java classfile annotation</span>
          <span class="keyword">val</span> <a title="Boolean" id="583891">isJava</a> = <a href="#583867" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isJavaDefined</span>
          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#583869" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107588" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="#554934" title="Typers.this.global.Symbol">annClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583868" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;expected annotation of type &quot;)" class="string">&quot;expected annotation of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#554934" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, found &quot;)" class="string">&quot;, found &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583869" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#583579" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#554926" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;multiple argument lists on classfile annotation&quot;)" class="string">&quot;multiple argument lists on classfile annotation&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="583897">args</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583579" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#105886" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">(</span><a href="#583579" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(xs: Typers.this.global.AssignOrNamedArg*)List[Typers.this.global.AssignOrNamedArg]">List</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#67822" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115602" title="=&gt; Typers.this.global.nme.NameType">value</a><span class="delimiter">)</span>, <a href="#583579" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#583579" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="583898">annScope</a> = <a href="#583869" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a>
                .<a href="../symtab/Scopes.scala.html#113103" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="583935">sym</a> =&gt; <a href="#583935" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#583935" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#583935" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]" id="583899">names</a> = <span title="()scala.collection.mutable.HashSet[Typers.this.global.Symbol]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#583899" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])names.type">++=</span> <span class="delimiter">(</span><span title="scala.collection.TraversableOnce[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#583891" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#583898" title="Typers.this.global.Scope">annScope</a>.<a href="../symtab/Scopes.scala.html#113099" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a>
                       <span class="keyword">else</span> <a href="#583867" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]" id="583900">nvPairs</a> = <a href="#583897" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]))(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]),List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]])List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">map</span> <a href="#583955" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="583956">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="583962">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="583963">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="583964">sym</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#583891" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#583898" title="Typers.this.global.Scope">annScope</a>.<a href="../symtab/Scopes.scala.html#113093" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#583962" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <a href="#583867" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="583974">p</a> =&gt; <a href="#583974" title="Typers.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#583962" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">getOrElse</span><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="#583964" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583956" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;unknown annotation argument name: &quot;)" class="string">&quot;unknown annotation argument name: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583962" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115034" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#583899" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a>.<span title="(elem: Typers.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#583964" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#583956" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;duplicate value for annotation argument &quot;)" class="string">&quot;duplicate value for annotation argument &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583962" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115034" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#583899" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(elem: Typers.this.global.Symbol)names.type">-=</span> <a href="#583964" title="Typers.this.global.Symbol">sym</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#583891" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#583964" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107575" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// #3429</span>
                  <span class="keyword">val</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="584004">annArg</a> = <a href="#583575" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#583963" title="Typers.this.global.Tree">rhs</a>, <a href="#583964" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.Name, _2: Option[Typers.this.global.ClassfileAnnotArg])(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">(</span><a href="#583964" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a>, <a href="#584004" title="Option[Typers.this.global.ClassfileAnnotArg]">annArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <a title="(Typers.this.global.nme.NameType, None.type)" id="584022">arg</a> =&gt;
                <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#584022" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;classfile annotation arguments have to be supplied as named arguments&quot;)" class="string">&quot;classfile annotation arguments have to be supplied as named arguments&quot;</span><span class="delimiter">)</span>
                <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115034" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584075">name</a> &lt;- <a href="#583899" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">names</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#584075" title="Typers.this.global.Symbol">name</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134310" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106632" title="=&gt; Typers.this.global.Symbol">AnnotationDefaultAttr</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <span title="=&gt; Boolean">!</span><a href="#584075" title="Typers.this.global.Symbol">name</a>.<span title="=&gt; Boolean">hasDefaultFlag</span><span class="delimiter">)</span>
                <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#554926" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;annotation &quot;)" class="string">&quot;annotation &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#583869" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is missing argument &quot;)" class="string">&quot; is missing argument &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#584075" title="Typers.this.global.Symbol">name</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#583572" title="Boolean">hasError</a><span class="delimiter">)</span> <a href="#583570" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
            <span class="keyword">else</span> <a href="../symtab/AnnotationInfos.scala.html#134310" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#583869" title="Typers.this.global.Type">annType</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#583900" title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">nvPairs</a> <span title="(f: (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]) =&gt; (Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])],(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg),List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]])List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]">map</span> <span class="delimiter">{</span><a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="584135">p</a> =&gt; <span title="(_1: Typers.this.global.Name, _2: Typers.this.global.ClassfileAnnotArg)(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)" class="delimiter">(</span><a href="#584135" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Typers.this.global.Name">_1</span>, <a href="#584135" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Option[Typers.this.global.ClassfileAnnotArg]">_2</span>.<span title="=&gt; Typers.this.global.ClassfileAnnotArg">get</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../symtab/AnnotationInfos.scala.html#133502" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#554926" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#554935" title="Boolean">requireJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#554926" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;nested classfile annotations must be defined in java; found: &quot;)" class="string">&quot;nested classfile annotations must be defined in java; found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#583869" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="584173">typedAnn</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#554933" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#554926" title="Typers.this.global.Tree">ann</a>, <a href="#554932" title="Int">mode</a>, <a href="#554934" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// Since a selfsym is supplied, the annotation should have</span>
            <span class="comment">// an extra &quot;self&quot; identifier in scope for type checking.</span>
            <span class="comment">// This is implemented by wrapping the rhs</span>
            <span class="comment">// in a function like &quot;self =&gt; rhs&quot; during type checking,</span>
            <span class="comment">// and then stripping the &quot;self =&gt;&quot; and substituting</span>
            <span class="comment">// in the supplied selfsym.</span>
            <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="584183">funcparm</a> = <a href="Analyzer.scala.html#105627" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="=&gt; Typers.this.global.Modifiers">NoMods</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115572" title="=&gt; Typers.this.global.nme.NameType">self</a>, <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#554933" title="Typers.this.global.Symbol">selfsym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Function" id="584184">func</a> = <a href="Analyzer.scala.html#105627" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.ValDef*)List[Typers.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#584183" title="Typers.this.global.ValDef">funcparm</a><span class="delimiter">)</span>, <a href="#554926" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; ann.type">duplicate</span><span class="delimiter">)</span>
                                         <span class="comment">// The .duplicate of annot.constr</span>
                                         <span class="comment">// deals with problems that</span>
                                         <span class="comment">// accur if this annotation is</span>
                                         <span class="comment">// later typed again, which</span>
                                         <span class="comment">// the compiler sometimes does.</span>
                                         <span class="comment">// The problem is that &quot;self&quot;</span>
                                         <span class="comment">// ident's within annot.constr</span>
                                         <span class="comment">// will retain the old symbol</span>
                                         <span class="comment">// from the previous typing.</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="584185">fun1clazz</a> = <a href="../symtab/Definitions.scala.html#106469" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584186">funcType</a> = <a href="../symtab/Types.scala.html#67483" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#584185" title="Typers.this.global.Symbol">fun1clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105464" title="=&gt; Typers.this.global.Type">prefix</a>, 
                                   <a href="#584185" title="Typers.this.global.Symbol">fun1clazz</a>, 
                                   <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#554933" title="Typers.this.global.Symbol">selfsym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>, <a href="#554934" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#584184" title="Typers.this.global.Function">func</a>, <a href="#554932" title="Int">mode</a>, <a href="#584186" title="Typers.this.global.Type">funcType</a><span class="delimiter">)</span>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="584229">t</a> @ Function<span class="delimiter">(</span><a href="#584233" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="584244">arg</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="584245">rhs</a><span class="delimiter">)</span> =&gt; 
                <span class="keyword">val</span> <a title="Typers.this.global.TreeSymSubstituter" id="584246">subs</a> =
                  <span title="Typers.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#67847" title="Typers.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#584244" title="Typers.this.global.ValDef">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>,<span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#554933" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#167654" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">subs</a><span class="delimiter">(</span><a href="#584245" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo" id="584174">annInfo</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584268">t</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../symtab/AnnotationInfos.scala.html#67754" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <a href="#584268" title="Typers.this.global.Tree">t</a> <span title="Typers.this.global.AnnotationInfo" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584278">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="584279">args</a><span class="delimiter">)</span> =&gt;
              <a href="../symtab/AnnotationInfos.scala.html#134310" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#583869" title="Typers.this.global.Type">annType</a>, <a href="#584279" title="List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/AnnotationInfos.scala.html#133502" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#584268" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="584291">stats</a>, <a title="Typers.this.global.Tree" id="584292">expr</a><span class="delimiter">)</span> =&gt;
              <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106851" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#584268" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Usage of named or default arguments transformed this annotation\n&quot;</span>+
                                <span class="string">&quot;constructor call into a block. The corresponding AnnotationInfo\n&quot;</span>+
                                <span class="string">&quot;will contain references to local values and default getters instead\n&quot;</span><span title="java.lang.String(&quot;Usage of named or default arguments transformed this annotation\012constructor call into a block. The corresponding AnnotationInfo\012will contain references to local values and default getters instead\012of the actual argument trees&quot;)">+</span>
                                <span class="string">&quot;of the actual argument trees&quot;</span><span class="delimiter">)</span>
              <a href="#584174" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#584292" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584297">fun</a>, <a title="List[Typers.this.global.Tree]" id="584298">args</a><span class="delimiter">)</span> =&gt;
              <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106851" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#584268" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Implementation limitation: multiple argument lists on annotations are\n&quot;</span><span title="java.lang.String(&quot;Implementation limitation: multiple argument lists on annotations are\012currently not supported; ignoring arguments &quot;)">+</span>
                                     <span class="string">&quot;currently not supported; ignoring arguments &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#584298" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#584174" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#584297" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">_</span> =&gt;
              <a href="#583573" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#584268" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;unexpected tree after typing annotation: &quot;)" class="string">&quot;unexpected tree after typing annotation: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#584173" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#583869" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106608" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#583579" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableOnce[Typers.this.global.Tree])List[Typers.this.global.Tree]">flatten</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96453" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#554926" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;@deprecated now takes two arguments; see the scaladoc.&quot;)" class="string">&quot;@deprecated now takes two arguments; see the scaladoc.&quot;</span><span class="delimiter">)</span>

          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#584173" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#584173" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#583570" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
          <span class="keyword">else</span> <a href="#584174" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#584173" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="106049">isRawParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584352">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="comment">// is it a type parameter leaked by a raw type?</span>
      <a href="#584352" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTypeParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584352" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isJavaDefined</span>

    <span class="comment">/** Given a set `rawSyms` of term- and type-symbols, and a type
     *  `tp`, produce a set of fresh type parameters and a type so that
     *  it can be abstracted to an existential type. Every type symbol
     *  `T` in `rawSyms` is mapped to a clone. Every term symbol `x` of
     *  type `T` in `rawSyms` is given an associated type symbol of the
     *  following form:
     *
     *    type x.type &lt;: T with Singleton
     *
     *  The name of the type parameter is `x.type`, to produce nice
     *  diagnostics. The Singleton parent ensures that the type
     *  parameter is still seen as a stable type. Type symbols in
     *  rawSyms are fully replaced by the new symbols. Term symbols are
     *  also replaced, except for term symbols of an Ident tree, where
     *  only the type of the Ident is changed.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="106050">existentialTransform</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="584355">rawSyms</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="584356">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="584359">typeParams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#584355" title="List[Typers.this.global.Symbol]">rawSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="584377">sym</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.TypeName" id="584378">name</a> = <a href="#584377" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="Typers.this.global.TypeName" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="584382">x</a>: <a href="../symtab/Names.scala.html#66927" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#584382" title="Typers.this.global.TypeName">x</a>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="584383">x</a>            =&gt; <a href="../symtab/Names.scala.html#66917" title="(s: String)Typers.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#584383" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">x</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584379">bound</a>      = <a href="#584377" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107583" title="=&gt; Typers.this.global.Type">existentialBound</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="584380">sowner</a>     = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#106049" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#584377" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#584377" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="584381">quantified</a> = <a href="#584380" title="Typers.this.global.Symbol">sowner</a>.<a href="../symtab/Symbols.scala.html#107444" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.Symbol">newExistential</a><span class="delimiter">(</span><a href="#584377" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#584378" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
        
        <a href="#584381" title="Typers.this.global.Symbol">quantified</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)quantified.type">setInfo</a> <a href="#584379" title="Typers.this.global.Type">bound</a>.<a href="../symtab/Types.scala.html#105528" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#584381" title="Typers.this.global.Symbol">quantified</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="comment">// Higher-kinded existentials are not yet supported, but this is</span>
      <span class="comment">// tpeHK for when they are: &quot;if a type constructor is expected/allowed,</span>
      <span class="comment">// tpeHK must be called instead of tpe.&quot;</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="584360">typeParamTypes</a> = <a href="#584359" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#584438" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107563" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
      <span title="(_1: List[Typers.this.global.Symbol], _2: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</span>
        <a href="#584359" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584480">tparam</a> =&gt; <a href="#584480" title="Typers.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)tparam.type">setInfo</a> <a href="#584480" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#584355" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#584360" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="#584356" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#584355" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#584360" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Compute an existential type from raw hidden symbols `syms' and type `tp'
     */</span>
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type" id="106051">packSymbols</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="575343">hidden</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="575344">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = 
      <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#575343" title="List[Typers.this.global.Symbol]">hidden</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#575344" title="Typers.this.global.Type">tp</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//          Console.println(&quot;original type: &quot;+tp)</span>
<span class="comment">//          Console.println(&quot;hidden symbols: &quot;+hidden)</span>
        <span class="keyword">val</span> <a href="#584519" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="#584518" title="List[Typers.this.global.Symbol]" id="584519">tparams</a>, <a href="#584518" title="Typers.this.global.Type" id="584520">tp1</a><span class="delimiter">)</span> = <a href="#106050" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">existentialTransform</a><span title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#575343" title="List[Typers.this.global.Symbol]">hidden</a>, <a href="#575344" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
<span class="comment">//          Console.println(&quot;tparams: &quot;+tparams+&quot;, result: &quot;+tp1)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584521">res</a> = <a href="../symtab/Types.scala.html#67493" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#584519" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#584520" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
<span class="comment">//          Console.println(&quot;final result: &quot;+res)</span>
        <a href="#584521" title="Typers.this.global.Type">res</a>
      <span class="delimiter">}</span>

    <span class="comment">/** convert skolems to existentials */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type" id="106052">packedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="564636">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="564637">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean" id="584534">defines</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584544">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="584545">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
        <a href="#584545" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107484" title="=&gt; Boolean">isExistentialSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584545" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107640" title="=&gt; AnyRef">unpackLocation</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#584544" title="Typers.this.global.Tree">tree</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#584544" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584544" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#584545" title="Typers.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="584535">isVisibleParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584556">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
        <a href="#584556" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#584556" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#564637" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#584556" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#564637" title="Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107488" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean" id="584536">containsDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584562">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="584563">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
        <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#584563" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasPackageFlag</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="584564">o</a> = <a href="#584563" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#584564" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#584562" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584564" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584564" title="Typers.this.global.Symbol">o</a>.<span title="=&gt; Boolean">hasPackageFlag</span><span class="delimiter">)</span> <a href="#584564" title="Typers.this.global.Symbol">o</a> = <a href="#584564" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>
          <a href="#584564" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#584562" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584535" title="(sym: Typers.this.global.Symbol)Boolean">isVisibleParameter</a><span class="delimiter">(</span><a href="#584563" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="584537">localSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="584538">boundSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="584539">isLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584584">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#584584" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#584584" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isRefinementClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#584584" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107471" title="=&gt; Boolean">isLocalDummy</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#564637" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a> <a href="../ast/Trees.scala.html#109179" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#584534" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean">defines</a><span class="delimiter">(</span><a href="#584659" title="Typers.this.global.Tree">_</a>, <a href="#584584" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#584536" title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean">containsDef</a><span class="delimiter">(</span><a href="#564637" title="Typers.this.global.Symbol">owner</a>, <a href="#584584" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#106049" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#584584" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Boolean" id="584540">containsLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584660">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
        <a href="#584660" title="Typers.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105512" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="584663">t</a> =&gt; <a href="#584539" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#584663" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#584539" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#584663" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105453" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.TypeMap" id="584541">normalizeLocals</a> = <a href="#584664" title="Typers.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67514" title="anonymous class $anon extends Typers.this.global.TypeMap" id="584664">TypeMap</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="584666">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584667">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <a href="#584667" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584673">pre</a>, <a title="Typers.this.global.Symbol" id="584674">sym</a>, <a title="List[Typers.this.global.Type]" id="584675">args</a><span class="delimiter">)</span> =&gt;
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#584674" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#584540" title="(tp: Typers.this.global.Type)Boolean">containsLocal</a><span class="delimiter">(</span><a href="#584667" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#584666" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#584667" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584673" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> 
                <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106850" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#564636" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;Inferred type &quot;)" class="string">&quot;Inferred type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#564636" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; contains type selection from volatile type &quot;)" class="string">&quot; contains type selection from volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#584673" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#133458" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#584667" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> 
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../symtab/Types.scala.html#133458" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#584667" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">// add all local symbols of `tp' to `localSyms'</span>
      <span class="comment">// TODO: expand higher-kinded types into individual copies for each instance.</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Unit" id="584542">addLocals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="584712">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="584713">remainingSyms</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit" id="584714">addIfLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584715">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="584716">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584539" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#584715" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584537" title="(elem: Typers.this.global.Symbol)Boolean">localSyms</a><span class="delimiter">(</span><a href="#584715" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#584538" title="(elem: Typers.this.global.Symbol)Boolean">boundSyms</a><span class="delimiter">(</span><a href="#584715" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584715" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#584537" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a> <span title="(elem: Typers.this.global.Symbol)scala.collection.immutable.Set[Typers.this.global.Symbol]">+=</span> <a href="#584715" title="Typers.this.global.Symbol">sym</a>
              <a href="#584713" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">remainingSyms</a> <span title="(x: Typers.this.global.Symbol)remainingSyms.type">+=</span> <a href="#584715" title="Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96451" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#564636" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, 
                <span title="java.lang.String(&quot;can\'t existentially abstract over parameterized type &quot;)" class="string">&quot;can't existentially abstract over parameterized type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#584716" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> 
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="584766">t</a> &lt;- <a href="../symtab/Types.scala.html#105510" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#584766" title="Typers.this.global.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="584769">tparams</a>, _<span class="delimiter">)</span> =&gt; 
              <a href="#584538" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">boundSyms</a> <span title="(elems: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])scala.collection.immutable.Set[Typers.this.global.Symbol]">++=</span> <a href="#584769" title="List[Typers.this.global.Symbol]">tparams</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="584827">annots</a>, _, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="584847">annot</a> &lt;- <a href="#584827" title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit">annots</a>; <a title="Typers.this.global.Tree" id="584867">arg</a> &lt;- <a href="#584847" title="Typers.this.global.AnnotationInfo">annot</a>.<a href="../symtab/AnnotationInfos.scala.html#133493" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#584867" title="Typers.this.global.Tree">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                    <span class="comment">// Check the symbol of an Ident, unless the</span>
                    <span class="comment">// Ident's type is already over an existential.</span>
                    <span class="comment">// (If the type is already over an existential,</span>
                    <span class="comment">// then remap the type, not the core symbol.)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#584867" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <a href="#584714" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#584867" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#584867" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
          <a href="#584714" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#584766" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105453" title="=&gt; Typers.this.global.Symbol">termSymbol</a>, <a href="#584766" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
          <a href="#584714" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#584766" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#584766" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="584894">sym</a> &lt;- <a href="#584713" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">remainingSyms</a><span class="delimiter">)</span> <a href="#584542" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#584894" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107583" title="=&gt; Typers.this.global.Type">existentialBound</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="584543">normalizedTpe</a> = <a href="#584541" title="(v1: Typers.this.global.Type)Typers.this.global.Type">normalizeLocals</a><span class="delimiter">(</span><a href="#564636" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <a href="#584542" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#584543" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
      <a href="#106051" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#584537" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a>.<span title="=&gt; List[Typers.this.global.Symbol]">toList</span>, <a href="#584543" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree" id="106053">typedExistentialTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.ExistentialTypeTree" id="584898">tree</a>: <span title="Typers.this.global.ExistentialTypeTree">ExistentialTypeTree</span>, <a title="Int" id="584899">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="584925">wc</a> &lt;- <a href="#584898" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)Unit">whereClauses</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#584925" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527598" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#584925" title="Typers.this.global.Tree">wc</a><span class="delimiter">)</span>; <a href="#584925" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">EXISTENTIAL</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#584925" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="584901">whereClauses1</a> = <a href="#106040" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#584898" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="584977">vd</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> &lt;- <a href="#584898" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="#584947" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">whereClauses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584977" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#584977" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal abstraction from value with volatile type &quot;)" class="string">&quot;illegal abstraction from value with volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#584977" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="584902">tpt1</a> = <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#584898" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>, <a href="#584899" title="Int">mode</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#584904" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="#584903" title="List[Typers.this.global.Symbol]" id="584904">typeParams</a>, <a href="#584903" title="Typers.this.global.Type" id="584905">tpe</a><span class="delimiter">)</span> = <a href="#106050" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">existentialTransform</a><span title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#584898" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#585007" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>, <a href="#584902" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="comment">//println(tpe + &quot;: &quot; + tpe.getClass )</span>
      <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#149138" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#584904" title="List[Typers.this.global.Symbol]">typeParams</a>, <a href="#584905" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#584898" title="Typers.this.global.ExistentialTypeTree">tree</a>
    <span class="delimiter">}</span>

    <span class="comment">// lifted out of typed1 because it's needed in typedImplicit0</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="106054">typedTypeApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="540982">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="540983">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Tree" id="540984">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="540985">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#540984" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="585053">pre</a>, <a title="List[Typers.this.global.Symbol]" id="585054">alts</a><span class="delimiter">)</span> =&gt;
        <a href="Infer.scala.html#106159" title="(tree: Typers.this.global.Tree, argtypes: List[Typers.this.global.Type])Unit">inferPolyAlternatives</a><span class="delimiter">(</span><a href="#540984" title="Typers.this.global.Tree">fun</a>, <a href="#540985" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585075" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="585055">tparams</a> = <a href="#540984" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="comment">//@M TODO: fun.symbol.info.typeParams ? (as in typedAppliedTypeTree)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="585056">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#540985" title="List[Typers.this.global.Tree]">args</a>, <a href="#585055" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//@M: in case TypeApply we can't check the kind-arities of the type arguments,</span>
          <span class="comment">// as we don't know which alternative to choose... here we do</span>
          <a href="../symtab/Types.scala.html#67618" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#540985" title="List[Typers.this.global.Tree]">args</a>, <a href="#585055" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
            <span class="comment">//@M! the polytype denotes the expected kind</span>
            <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585138">arg</a>, <a title="Typers.this.global.Symbol" id="585139">tparam</a><span class="delimiter">)</span> =&gt; <a href="#106073" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#585138" title="Typers.this.global.Tree">arg</a>, <a href="#540983" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67490" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#585139" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#106216" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> 
          <span class="delimiter">}</span>          
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="comment">// @M: there's probably something wrong when args.length != tparams.length... (triggered by bug #320)</span>
         <span class="comment">// Martin, I'm using fake trees, because, if you use args or arg.map(typedType), </span>
         <span class="comment">// inferPolyAlternatives loops...  -- I have no idea why :-(</span>
         <span class="comment">// ...actually this was looping anyway, see bug #278.</span>
          <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#540984" title="Typers.this.global.Tree">fun</a>, <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105927" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#540984" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <a href="#106054" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>, <a href="#540983" title="Int">mode</a>, <a href="#540984" title="Typers.this.global.Tree">fun</a>, <a href="#585056" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
        <a href="#106054" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>, <a href="#540983" title="Int">mode</a>, <a href="#540984" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#540984" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#540985" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="585160">tparams</a>, <a title="Typers.this.global.Type" id="585161">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#585160" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#585160" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#540985" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="585164">targs</a> = <a href="#540985" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585175" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#106130" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/Types.scala.html#67408" title="object Typers.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#585160" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#585164" title="List[Typers.this.global.Type]">targs</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#540984" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106314" title="=&gt; Typers.this.global.Symbol">Predef_classOf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#105976" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#540985" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Typers.this.global.Tree">head</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> 
            <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105582" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkClassOf</a><span class="delimiter">(</span><a href="#585164" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#540984" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106530" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#585164" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#106141" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585164" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Typers.this.global.Type">head</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585222">resultpe</a> = <a href="#585161" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105480" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#585160" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#585164" title="List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>
            <span class="comment">//@M substitution in instantiateParams needs to be careful!</span>
            <span class="comment">//@M example: class Foo[a] { def foo[m[x]]: m[a] = error(&quot;&quot;) } (new Foo[Int]).foo[List] : List[Int]</span>
            <span class="comment">//@M    --&gt; first, m[a] gets changed to m[Int], then m gets substituted for List, </span>
            <span class="comment">//          this must preserve m's type argument, so that we end up with List[Int], and not List[a]</span>
            <span class="comment">//@M related bug: #1438 </span>
            <span class="comment">//println(&quot;instantiating type params &quot;+restpe+&quot; &quot;+tparams+&quot; &quot;+targs+&quot; = &quot;+resultpe)</span>
            <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162545" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>, <a href="#540984" title="Typers.this.global.Tree">fun</a>, <a href="#540985" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeApply">setType</span> <a href="#585222" title="Typers.this.global.Type">resultpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105927" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#540984" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Typers.this.global.Tree">ErrorType</a> =&gt;
        <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#540982" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#105927" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#540984" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not take type parameters.&quot;)" class="string">&quot; does not take type parameters.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="106055">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106822" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="106056">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106822" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">+=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="106057">printTyping</a><span class="delimiter">(</span><a title="=&gt; String" id="538383">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64903" title="=&gt; Boolean">printTypings</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106824" title="=&gt; String">typingIndent</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#538383" title="=&gt; String">s</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">replaceAll</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106824" title="=&gt; String">typingIndent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="106058">printInference</a><span class="delimiter">(</span><a title="=&gt; String" id="538373">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64906" title="=&gt; Boolean">printInfers</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#538373" title="=&gt; String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106059">typed1</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="501331">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="501332">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="501333">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="585249">isPatternMode</a> = <a href="Modes.scala.html#105729" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
      
      <span class="comment">//Console.println(&quot;typed1(&quot;+tree.getClass()+&quot;,&quot;+Integer.toHexString(mode)+&quot;,&quot;+pt+&quot;)&quot;)</span>
      <span class="keyword">def</span> <a title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)" id="585250">ptOrLub</a><span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="585273">tps</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(Typers.this.global.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67639" title="(ts: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">weakLub</a><span class="delimiter">(</span><a href="#585273" title="List[Typers.this.global.Type]">tps</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585297" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <span class="comment">//@M! get the type of the qualifier in a Select tree, otherwise: NoType</span>
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Type" id="585251">prefixType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585325">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <a href="#585325" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span> 
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585330">qualifier</a>, _<span class="delimiter">)</span> =&gt; <a href="#585330" title="Typers.this.global.Tree">qualifier</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
<span class="comment">//        case Ident(name) =&gt; ??</span>
        <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree" id="585252">typedAnnotated</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585331">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585332">arg1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="comment">/** mode for typing the annotation itself */</span>
        <span class="keyword">val</span> <a title="Int" id="585333">annotMode</a> = <a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(4)">TYPEmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67788" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">arg1</a>.<a href="../ast/Trees.scala.html#109171" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// make sure the annotation is only typechecked once</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// an annotated type</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585349">selfsym</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36771" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">selfInAnnots</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">else</span>
                <a href="#585332" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105547" title="=&gt; Typers.this.global.Symbol">selfsym</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#67339" title="Typers.this.global.TermSymbol">NoSymbol</a> =&gt;
                    <span class="comment">/* Implementation limitation: Currently this
                     * can cause cyclical reference errors even
                     * when the self symbol is not referenced at all.
                     * Surely at least some of these cases can be
                     * fixed by proper use of LazyType's.  Lex tinkered
                     * on this but did not succeed, so is leaving
                     * it alone for now. Example code with the problem:
                     *  class peer extends Annotation
                     *  class NPE[T &lt;: NPE[T] @peer]
                     *
                     * (Note: -Yself-in-annots must be on to see the problem)
                     * */</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="585356">sym</a> = 
                      <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107424" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
                        .<a href="../symtab/Symbols.scala.html#107420" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115572" title="=&gt; Typers.this.global.nme.NameType">self</a><span class="delimiter">)</span>
                    <a href="#585356" title="Typers.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#585332" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105544" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>
                    <a href="#585356" title="Typers.this.global.TermSymbol">sym</a>
                  <span class="keyword">case</span> <a title="Typers.this.global.Symbol" id="585374">sym</a> =&gt; <a href="#585374" title="Typers.this.global.Symbol">sym</a>
                <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="585350">ainfo</a> = <a href="#106048" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#585331" title="Typers.this.global.Tree">ann</a>, <a href="#585333" title="Int">annotMode</a>, <a href="#585349" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585351">atype0</a> = <a href="#585332" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105542" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#585350" title="Typers.this.global.AnnotationInfo">ainfo</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585352">atype</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#585349" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585350" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../symtab/AnnotationInfos.scala.html#133507" title="(sym: Typers.this.global.Symbol)Boolean">refsSymbol</a><span class="delimiter">(</span><a href="#585349" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#585351" title="Typers.this.global.Type">atype0</a>.<a href="../symtab/Types.scala.html#105546" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">withSelfsym</a><span class="delimiter">(</span><a href="#585349" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#585351" title="Typers.this.global.Type">atype0</a> <span class="comment">// do not record selfsym if</span>
                       <span class="comment">// this annotation did not need it</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585350" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../symtab/AnnotationInfos.scala.html#133506" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#585332" title="Typers.this.global.Tree">arg1</a>  <span class="comment">// simply drop erroneous annotations</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#585352" title="Typers.this.global.Type">atype</a>
              <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#585352" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#501331" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// the annotation was typechecked before</span>
            <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#501331" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="585393">annotInfo</a> = <a href="#106048" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#585331" title="Typers.this.global.Tree">ann</a>, <a href="#585333" title="Int">annotMode</a><span class="delimiter">)</span>
            <a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#585332" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105542" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#585393" title="Typers.this.global.AnnotationInfo">annotInfo</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585387">atype</a> = <a href="#585331" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="Analyzer.scala.html#105627" title="(expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#585332" title="Typers.this.global.Tree">arg1</a>, <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#585387" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Typed">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#585387" title="Typers.this.global.Type">atype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree" id="585253">typedBind</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="585411">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Tree" id="585412">body</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="585413">vble</a> = <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TypeName)Typers.this.global.Tree" id="585414">typedBindType</a><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="585416">name</a>: <a href="../symtab/Names.scala.html#66927" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#585412" title="Typers.this.global.Tree">body</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">unit</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; typedBind: &quot;)" class="string">&quot; typedBind: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585416" title="Typers.this.global.TypeName">name</a>.<a href="../symtab/Names.scala.html#96605" title="()java.lang.String">debugString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585412" title="Typers.this.global.Tree">body</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585412" title="Typers.this.global.Tree">body</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585413" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> 
            <a href="#585413" title="Typers.this.global.Symbol">vble</a> = 
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107438" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585416" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="#501333" title="Typers.this.global.Type">pt</a>
              <span class="keyword">else</span> 
                <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107440" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAbstractType</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585416" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="../symtab/Types.scala.html#67423" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#148498" title="=&gt; Typers.this.global.TypeBounds">empty</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585417">rawInfo</a> = <a href="#585413" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107570" title="=&gt; Typers.this.global.Type">rawInfo</a>
          <a href="#585413" title="Typers.this.global.Symbol">vble</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#585413" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67720" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#585413" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527586" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#585413" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#585413" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#585413" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TermName)Typers.this.global.Bind" id="585415">typedBindTerm</a><span class="delimiter">(</span><a title="Typers.this.global.TermName" id="585486">name</a>: <a href="../symtab/Names.scala.html#66926" title="Typers.this.global.TermName">TermName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585413" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> 
            <a href="#585413" title="Typers.this.global.Symbol">vble</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107420" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585486" title="Typers.this.global.TermName">name</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585413" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96598" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8192)">ALTmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal variable in pattern alternative&quot;)" class="string">&quot;illegal variable in pattern alternative&quot;</span><span class="delimiter">)</span>
            <a href="#585413" title="Typers.this.global.Symbol">vble</a> = <a href="#105969" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#527586" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#585413" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585487">body1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585412" title="Typers.this.global.Tree">body</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#585413" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153063" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSequenceValued</a><span class="delimiter">(</span><a href="#585412" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106496" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#585487" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#585487" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162532" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Bind">Bind</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585486" title="Typers.this.global.TermName">name</a>, <a href="#585487" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Bind">setSymbol</span> <a href="#585413" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Bind">setType</span> <a href="#585487" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>   <span class="comment">// burak, was: pt</span>
        <span class="delimiter">}</span>
        <a href="#585411" title="Typers.this.global.Name">name</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="585546">x</a>: <a href="../symtab/Names.scala.html#66927" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#585414" title="(name: Typers.this.global.TypeName)Typers.this.global.Tree">typedBindType</a><span class="delimiter">(</span><a href="#585546" title="Typers.this.global.TypeName">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Bind" id="585547">x</a>: <a href="../symtab/Names.scala.html#66926" title="Typers.this.global.TermName">TermName</a>  =&gt; <a href="#585415" title="(name: Typers.this.global.TermName)Typers.this.global.Bind">typedBindTerm</a><span class="delimiter">(</span><a href="#585547" title="Typers.this.global.TermName">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue" id="585254">typedArrayValue</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585548">elemtpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="585549">elems</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585550">elemtpt1</a> = <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#585548" title="Typers.this.global.Tree">elemtpt</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="585551">elems1</a> = <a href="#585549" title="List[Typers.this.global.Tree]">elems</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585562">elem</a> =&gt; <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585562" title="Typers.this.global.Tree">elem</a>, <a href="#501332" title="Int">mode</a>, <a href="#585550" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162534" title="(tree: Typers.this.global.Tree, elemtpt: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">ArrayValue</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585550" title="Typers.this.global.Tree">elemtpt1</a>, <a href="#585551" title="List[Typers.this.global.Tree]">elems1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.ArrayValue">setType</span><span class="delimiter">(</span>
            <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#501333" title="Typers.this.global.Type">pt</a>
             <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106394" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#107577" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#585550" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105479" title="=&gt; Typers.this.global.Type">notNull</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree" id="585255">typedAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585584">lhs</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585585">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585586">lhs1</a>    = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585584" title="Typers.this.global.Tree">lhs</a>, EXPRmode <span title="Int(1025)">|</span> LHSmode, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585587">varsym</a>  = <a href="#585586" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="585588">failMsg</a> =
          <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#585587" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585587" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;reassignment to val&quot;)" class="string">&quot;reassignment to val&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;assignment to non variable&quot;)" class="string">&quot;assignment to non variable&quot;</span>
        
        <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="585589">fail</a> = <span class="delimiter">{</span>    
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#585586" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585588" title="=&gt; java.lang.String">failMsg</a><span class="delimiter">)</span>
          
          <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585587" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#585589" title="=&gt; Typers.this.global.Tree">fail</a>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153034" title="(sym: Typers.this.global.treeInfo.trees.Symbol)Boolean">mayBeVarGetter</a><span class="delimiter">(</span><a href="#585587" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153066" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">methPart</a><span class="delimiter">(</span><a href="#585586" title="Typers.this.global.Tree">lhs1</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Nothing">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585615">qual</a>, <a title="Typers.this.global.Name" id="585616">name</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="585617">sel</a> = <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#585615" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115758" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#585616" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96598" title="=&gt; Typers.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#585584" title="Typers.this.global.Tree">lhs</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="585618">app</a> = <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#585617" title="Typers.this.global.Select">sel</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#585585" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>              
              <span title="Nothing" class="keyword">return</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585618" title="Typers.this.global.Apply">app</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585587" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#585587" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585661">rhs1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585585" title="Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#585586" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162536" title="(tree: Typers.this.global.Tree, lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585586" title="Typers.this.global.Tree">lhs1</a>, <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#585661" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Assign">setType</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#585589" title="=&gt; Typers.this.global.Tree">fail</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If" id="585256">typedIf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585679">cond</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585680">thenp</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="585681">elsep</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585682">cond1</a> = <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585679" title="Typers.this.global.Tree">cond</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Definitions.scala.html#106734" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.If" class="keyword">if</span> <span class="delimiter">(</span><a href="#585681" title="Typers.this.global.Tree">elsep</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// in the future, should be unnecessary</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585691">thenp1</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585680" title="Typers.this.global.Tree">thenp</a>, <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162538" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585682" title="Typers.this.global.Tree">cond1</a>, <a href="#585691" title="Typers.this.global.Tree">thenp1</a>, <a href="#585681" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#585691" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> 
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="585707">thenp1</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585680" title="Typers.this.global.Tree">thenp</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="585708">elsep1</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585681" title="Typers.this.global.Tree">elsep</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#585710" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#585709" title="Typers.this.global.Type" id="585710">owntype</a>, <a href="#585709" title="Boolean" id="585711">needAdapt</a><span class="delimiter">)</span> = <a href="#585250" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#585707" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#585708" title="Typers.this.global.Tree">elsep1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585711" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">//isNumericValueType(owntype)) {</span>
            <a href="#585707" title="Typers.this.global.Tree">thenp1</a> = <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585707" title="Typers.this.global.Tree">thenp1</a>, <a href="#501332" title="Int">mode</a>, <a href="#585710" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#585708" title="Typers.this.global.Tree">elsep1</a> = <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585708" title="Typers.this.global.Tree">elsep1</a>, <a href="#501332" title="Int">mode</a>, <a href="#585710" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162538" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585682" title="Typers.this.global.Tree">cond1</a>, <a href="#585707" title="Typers.this.global.Tree">thenp1</a>, <a href="#585708" title="Typers.this.global.Tree">elsep1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#585710" title="Typers.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr: Typers.this.global.Tree)Typers.this.global.Tree" id="585257">typedReturn</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585737">expr</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="585738">enclMethod</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106767" title="=&gt; Typers.this.Context">enclMethod</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585738" title="Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Contexts.scala.html#105643" title="=&gt; Typers.this.Context">NoContext</a> <span title="(x: Boolean)Boolean">||</span> 
            <a href="#585738" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">||</span> 
            <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106767" title="=&gt; Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#585738" title="Typers.this.Context">enclMethod</a> <span class="comment">// i.e., we are in a constructor of a local class</span>
            <span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;return outside method definition&quot;)" class="string">&quot;return outside method definition&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="#585749" title="(Typers.this.global.TermName, Typers.this.global.Tree)" class="delimiter">(</a>_, <a href="#585748" title="Typers.this.global.TermName" id="585749">name</a>, _, _, <a href="#585748" title="Typers.this.global.Tree" id="585750">restpt</a>, _<span class="delimiter">)</span> = <a href="#585738" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585750" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585738" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106755" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">owner</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; has return statement; needs result type&quot;)" class="string">&quot; has return statement; needs result type&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106767" title="=&gt; Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106795" title="(x$1: Boolean)Unit">returnsSeen</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585769">expr1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585737" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#585750" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="comment">// Warn about returning a value if no value can be returned.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585750" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// The typing in expr1 says expr is Unit (it has already been coerced if</span>
              <span class="comment">// it is non-Unit) so we have to retype it.  Fortunately it won't come up much</span>
              <span class="comment">// unless the warning is legitimate.</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585737" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
                <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;enclosing method &quot;)" class="string">&quot;enclosing method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585749" title="Typers.this.global.TermName">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has result type Unit: return value discarded&quot;)" class="string">&quot; has result type Unit: return value discarded&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162540" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Return">Return</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#585769" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Return">setSymbol</span> <a href="#585738" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Return">setType</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Typers.this.global.New" id="585258">typedNew</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585804">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585805">tpt1</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="585809">tpt0</a> = <a href="#106077" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#585804" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
          <a href="#105976" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#585809" title="Typers.this.global.Tree">tpt0</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585809" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#585809" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106827" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="../symtab/Symbols.scala.html#67341" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#585809" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#135853" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#585809" title="Typers.this.global.Tree">tpt0</a><span class="delimiter">)</span>
                      .<span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#585809" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#585871" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107563" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// @PP: tpeHK! #3343, #4018, #4347.</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#585809" title="Typers.this.global.Tree">tpt0</a>
        <span class="delimiter">}</span>

        <span class="comment">/** If current tree &lt;tree&gt; appears in &lt;val x(: T)? = &lt;tree&gt;&gt;
         *  return `tp with x.type' else return `tp'.
         */</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="585806">narrowRhs</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="585899">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585900">sym</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="585907">mods</a>, _, _, Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">`tree`</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#585907" title="Typers.this.global.Modifiers">mods</a>.<span title="=&gt; Boolean">isMutable</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585900" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585900" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585922">sym1</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#585900" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585900" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107635" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#585900" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#585900" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107635" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#585900" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#585900" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107609" title="=&gt; Typers.this.global.Symbol">lazyAccessorOrSelf</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585923">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#585922" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#585922" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67408" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="../symtab/Types.scala.html#67488" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#585899" title="Typers.this.global.Type">tp</a>, <a href="../symtab/Types.scala.html#67479" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#585923" title="Typers.this.global.Type">pre</a>, <a href="#585922" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#585899" title="Typers.this.global.Type">tp</a>
          <span class="delimiter">}</span><span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="585807">tp</a> = <a href="#585805" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585808">sym</a> = <a href="#585807" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585808" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> <span title="(x: Boolean)Boolean">||</span> <a href="#585808" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAbstractFlag</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585808" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is abstract; cannot be instantiated&quot;)" class="string">&quot; is abstract; cannot be instantiated&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span>  <a href="#585807" title="Typers.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#585808" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; sym.type">initialize</a>.<a href="../symtab/Symbols.scala.html#107598" title="=&gt; Typers.this.global.Symbol">thisSym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <span class="comment">// when there's no explicit self type -- with (#3612) or without self variable</span>
                     <span class="comment">// sym.thisSym.tpe == tp.typeOfThis (except for objects)</span>
                  <span title="(x: Boolean)Boolean">||</span> <a href="#585806" title="(tp: Typers.this.global.Type)Typers.this.global.Type">narrowRhs</a><span class="delimiter">(</span><a href="#585807" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#585807" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105460" title="=&gt; Typers.this.global.Type">typeOfThis</a>
                  <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a>
                  <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#585808" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; cannot be instantiated because it does not conform to its self-type &quot;)" class="string">&quot; cannot be instantiated because it does not conform to its self-type &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <a href="#585807" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105460" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162543" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585805" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span><span class="delimiter">(</span><a href="#585807" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree" id="585259">typedEta</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585955">expr1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#585955" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106365" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="585959">expr2</a> = <a href="Analyzer.scala.html#105627" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#585955" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#585955" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#67848" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#585959" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162861" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#585959" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#585959" title="Typers.this.global.Function">expr2</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="585981">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="585982">expr2</a> = <a href="Analyzer.scala.html#105627" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#585955" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#585955" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#67848" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#585982" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#162861" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#585982" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#585982" title="Typers.this.global.Function">expr2</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="585999">formals</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106493" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585955" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585955" title="Typers.this.global.Tree">expr1</a>, <a href="#501332" title="Int">mode</a>, <a href="../symtab/Definitions.scala.html#106491" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#585999" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="586016">t</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="586046">formals</a>, _<span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106493" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585955" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#585955" title="Typers.this.global.Tree">expr1</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586051">qual</a>, <a title="Typers.this.global.Name" id="586052">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#65003" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                                        <a href="#501333" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                                        <a href="#501333" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                                        <a href="../symtab/Types.scala.html#67594" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a>, <a href="../symtab/Definitions.scala.html#106504" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="586063">scalaCaller</a> = <a href="../symtab/Definitions.scala.html#106673" title="(delegateType: Typers.this.global.Type)Typers.this.global.Symbol">newScalaCaller</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../symtab/Definitions.scala.html#106674" title="(scalaCaller: Typers.this.global.Symbol, methSym: Typers.this.global.Symbol)Unit">addScalaCallerInfo</a><span class="delimiter">(</span><a href="#586063" title="Typers.this.global.Symbol">scalaCaller</a>, <a href="#585955" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Name" id="586064">n</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a> = <a href="#586063" title="Typers.this.global.Symbol">scalaCaller</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="586065">del</a> = <a href="../ast/Trees.scala.html#67813" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106504" title="=&gt; Typers.this.global.Symbol">DelegateClass</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="../symtab/Definitions.scala.html#106504" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="586066">f</a> = <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586065" title="Typers.this.global.Ident">del</a>, <a href="#586064" title="Typers.this.global.Name">n</a><span class="delimiter">)</span>
              <span class="comment">//val f1 = TypeApply(f, List(Ident(pt.symbol) setType pt))</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="586067">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><a href="#585955" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107525" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                                     <span class="keyword">else</span> <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#586051" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="comment">// where the scala-method is located</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="586068">rhs</a> = <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#586066" title="Typers.this.global.Select">f</a>, <a href="#586067" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#586068" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt; 
              <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#585955" title="Typers.this.global.Tree">expr1</a>, <a href="#501332" title="Int">mode</a>, <a href="../symtab/Definitions.scala.html#106491" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#586046" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="586158">t</a> =&gt; <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67399" title="Typers.this.global.Tree">ErrorType</a> =&gt;
          <a href="#585955" title="Typers.this.global.Tree">expr1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#585955" title="Typers.this.global.Tree">expr1</a>, <span title="java.lang.String(&quot;_ must follow method; cannot follow &quot;)" class="string">&quot;_ must follow method; cannot follow &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585955" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/**
       *  @param args ...
       *  @return     ...
       */</span>
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]" id="585260">tryTypedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="586186">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="586187">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.TypeError" id="586188">other</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="586189">c</a> = <a href="#105971" title="Typers.this.Context" id="586190">context</a>.<a href="Contexts.scala.html#314593" title="Typers.this.global.Tree" id="586192">makeSilent</a><span class="delimiter">(</span><a title="Boolean(false)" id="586191" class="keyword">false</a><span class="delimiter">)</span>
        <a href="#586189" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#106816" title="(x$1: Boolean)Unit">retyping</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#586189" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#106042" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#586186" title="List[Typers.this.global.Tree]">args</a>, <a href="#586187" title="Int">mode</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="586195">ex</a>: <a href="../symtab/Symbols.scala.html#67347" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#586195" title="Typers.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="Null(null)" id="586196">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Try to apply function to arguments; if it does not work, try to convert Java raw to existentials, or try to
       *  insert an implicit conversion.
       */</span>
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="585261">tryTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586197">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="586198">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="586199">start</a> = <a href="../util/Statistics.scala.html#67166" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67249" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
        <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#586205" title="Typers.this.Typer">_</a>.<a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#586197" title="Typers.this.global.Tree">fun</a>, <a href="#586198" title="List[Typers.this.global.Tree]">args</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586211">t</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
            <a href="#586211" title="Typers.this.global.Tree">t</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586212">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <a href="../util/Statistics.scala.html#67167" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67249" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#586199" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
            
            <span class="comment">// If the problem is with raw types, copnvert to existentials and try again.</span>
            <span class="comment">// See #4712 for a case where this situation arises, </span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586197" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586197" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="586216">newtpe</a> = <a href="../symtab/Types.scala.html#258577" title="(tp: Typers.this.global.Type)Typers.this.global.Type">rawToExistential</a><span class="delimiter">(</span><a href="#586197" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586197" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#586216" title="Typers.this.global.Type">newtpe</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// println(&quot;late cooking: &quot;+fun+&quot;:&quot;+fun.tpe) // DEBUG</span>
                <span title="Nothing" class="keyword">return</span> <a href="#585261" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#586197" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#586216" title="Typers.this.global.Type">newtpe</a>, <a href="#586198" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="586213">treesInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586220">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#586220" title="Typers.this.global.Tree">tree</a> <a href="#586221" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span class="delimiter">(</span><a href="#586220" title="Typers.this.global.Tree">tree</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="586226">r</a><span class="delimiter">)</span>                        =&gt; <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586226" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.CaseDef]">Match</span><span class="delimiter">(</span>_, <a title="List[Typers.this.global.CaseDef]" id="586229">cases</a><span class="delimiter">)</span>                    =&gt; <a href="#586229" title="List[Typers.this.global.CaseDef]">cases</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">CaseDef</span><span class="delimiter">(</span>_, _, <a title="Typers.this.global.Tree" id="586237">r</a><span class="delimiter">)</span>                   =&gt; <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586237" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="586240">r</a><span class="delimiter">)</span>                    =&gt; <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586240" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">If</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="586244">t</a>, <a title="Typers.this.global.Tree" id="586245">e</a><span class="delimiter">)</span>                        =&gt; <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586244" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586245" title="Typers.this.global.Tree">e</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586308">b</a>, <a title="List[Typers.this.global.CaseDef]" id="586309">catches</a>, _<span class="delimiter">)</span>                 =&gt; <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586308" title="Typers.this.global.Tree">b</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#586309" title="List[Typers.this.global.CaseDef]">catches</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586382">r</a>, Function<span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586382" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                  =&gt; <span title="object Nil">Nil</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="586214">errorInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586390">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#586213" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#586390" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#586399" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#586212" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#313952" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="586215">retry</a> = <a href="#586197" title="Typers.this.global.Tree">fun</a> <a href="#586405" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#501331" title="Typers.this.global.Tree">tree</a> <a href="#586406" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#586198" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#586214" title="(tree: Typers.this.global.Tree)Boolean">errorInResult</a>
            <a href="#106057" title="(s: =&gt; String)Unit">printTyping</a> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="java.lang.String" id="586426">funStr</a> = <a href="../symtab/TypeDebugging.scala.html#151739" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#586197" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#586198" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span> <a href="../symtab/TypeDebugging.scala.html#151739" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a> <span title="(sep: String)String">mkString</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#586215" title="Boolean">retry</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;second try: &quot;)" class="string">&quot;second try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#586426" title="java.lang.String">funStr</a>
              <span class="keyword">else</span> <span title="java.lang.String(&quot;no second try: &quot;)" class="string">&quot;no second try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#586426" title="java.lang.String">funStr</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; because error not in result: &quot;)" class="string">&quot; because error not in result: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#586212" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#313952" title="=&gt; Typers.this.global.Position">pos</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;!=&quot;)" class="string">&quot;!=&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586215" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> Select<a href="#586476" title="(Typers.this.global.Tree, Typers.this.global.Name)" class="delimiter">(</a><a href="#586475" title="Typers.this.global.Tree" id="586476">qual</a>, <a href="#586475" title="Typers.this.global.Name" id="586477">name</a><span class="delimiter">)</span> = <a href="#586197" title="Typers.this.global.Tree">fun</a>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="586478">args1</a> = <a href="#585260" title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]">tryTypedArgs</a><span class="delimiter">(</span><a href="#586198" title="List[Typers.this.global.Tree]">args</a>, <a href="#105737" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#586197" title="Typers.this.global.Tree">fun</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>, <a href="#586212" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586479">qual1</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586478" title="List[Typers.this.global.Tree]">args1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#501333" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#106008" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#586476" title="Typers.this.global.Tree">qual</a>, <a href="#586477" title="Typers.this.global.Name">name</a>, <a href="#586478" title="List[Typers.this.global.Tree]">args1</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> 
                <span class="keyword">else</span> <a href="#586476" title="Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586479" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#586476" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="586492">tree1</a> = <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586479" title="Typers.this.global.Tree">qual1</a>, <a href="#586477" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586197" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586478" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
                <span title="Nothing" class="keyword">return</span> <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#586492" title="Typers.this.global.Apply">tree1</a>, <a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(512)">SNDTRYmode</span>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="TypeDiagnostics.scala.html#105955" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586212" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="585262">typedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586526">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="586527">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="586528">stableApplication</a> = <span class="delimiter">(</span><a href="#586526" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586526" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586526" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; Boolean">isStable</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586528" title="Boolean">stableApplication</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#585249" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// treat stable function applications f() as expressions.</span>
          <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="586537">funpt</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#585249" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="#501333" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="586538">appStart</a> = <a href="../util/Statistics.scala.html#67166" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67249" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="586539">opeqStart</a> = <a href="../util/Statistics.scala.html#67166" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67251" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a><span class="delimiter">)</span>
          <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#586545" title="Typers.this.Typer">_</a>.<a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#586526" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105721" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#501332" title="Int">mode</a><span class="delimiter">)</span>, <a href="#586537" title="Typers.this.global.Type">funpt</a><span class="delimiter">)</span>,  
                 <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106800" title="=&gt; Boolean">reportAmbiguousErrors</a>,  
                 <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#501331" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586569">fun1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586570">fun2</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586528" title="Boolean">stableApplication</a><span class="delimiter">)</span> <a href="#105999" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilizeFun</a><span class="delimiter">(</span><a href="#586569" title="Typers.this.global.Tree">fun1</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#586569" title="Typers.this.global.Tree">fun1</a>
              <a href="../util/Statistics.scala.html#67162" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67239" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedApplyCount</a><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="586571">isImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="586575">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#586575" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean" id="586576">mt</a>: <a href="../symtab/Types.scala.html#67448" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#586576" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#148773" title="=&gt; Boolean">isImplicit</a>
                <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586572">res</a> = 
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#586570" title="Typers.this.global.Tree">fun2</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Select">Select</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                    <span title="=&gt; Boolean">!</span><a href="#586571" title="(tpe: Typers.this.global.Type)Boolean">isImplicitMethod</a><span class="delimiter">(</span><a href="#586570" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586570" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#586570" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(513)">|</span> SNDTRYmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="#585261" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#586570" title="Typers.this.global.Tree">fun2</a>, <a href="#586527" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      <a href="#106047" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#586570" title="Typers.this.global.Tree">fun2</a>, <a href="#586527" title="List[Typers.this.global.Tree]">args</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
            <span class="comment">/*
              if (fun2.hasSymbol &amp;&amp; fun2.symbol.isConstructor &amp;&amp; (mode &amp; EXPRmode) != 0) {
                res.tpe = res.tpe.notNull
              }
              */</span>
              <span class="comment">// TODO: In theory we should be able to call:</span>
              <span class="comment">//if (fun2.hasSymbol &amp;&amp; fun2.symbol.name == nme.apply &amp;&amp; fun2.symbol.owner == ArrayClass) {</span>
              <span class="comment">// But this causes cyclic reference for Array class in Cleanup. It is easy to overcome this</span>
              <span class="comment">// by calling ArrayClass.info here (or some other place before specialize).</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586570" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106396" title="=&gt; Typers.this.global.Symbol">Array_apply</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="586599">checked</a> = <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105583" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#586572" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span>
                <span class="comment">// this check is needed to avoid infinite recursion in Duplicators</span>
                <span class="comment">// (calling typed1 more than once for the same tree)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#586599" title="Typers.this.global.gen.global.Tree">checked</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#586572" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span> <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#586599" title="Typers.this.global.gen.global.Tree">checked</a><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#586572" title="Typers.this.global.Tree">res</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#586572" title="Typers.this.global.Tree">res</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="586611">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="#586526" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586616">qual</a>, <a title="Typers.this.global.Name" id="586617">name</a><span class="delimiter">)</span> 
                <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#585249" title="=&gt; Boolean">isPatternMode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115752" title="(name: Typers.this.global.Name)Boolean">isOpAssignmentName</a><span class="delimiter">(</span><a href="#586617" title="Typers.this.global.Name">name</a>.<a href="Analyzer.scala.html#105627" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">decode</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586619">qual1</a> = <a href="#106068" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#586616" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
                  <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153035" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isVariableOrGetter</a><span class="delimiter">(</span><a href="#586619" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../util/Statistics.scala.html#67167" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67251" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a>, <a href="#586539" title="scala.tools.nsc.util.Statistics.LongPair">opeqStart</a><span class="delimiter">)</span>
                    <a href="#585263" title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree">convertToAssignment</a><span class="delimiter">(</span><a href="#586526" title="Typers.this.global.Tree">fun</a>, <a href="#586619" title="Typers.this.global.Tree">qual1</a>, <a href="#586617" title="Typers.this.global.Name">name</a>, <a href="#586527" title="List[Typers.this.global.Tree]">args</a>, <a href="#586611" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span> 
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    <a href="../util/Statistics.scala.html#67167" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67249" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#586538" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586619" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#586619" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> 
                      <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;reassignment to val&quot;)" class="string">&quot;reassignment to val&quot;</span><span class="delimiter">)</span>
                    <span class="keyword">else</span>
                      <a href="TypeDiagnostics.scala.html#105955" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#586526" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586611" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                    <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>                           
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
                  <a href="../util/Statistics.scala.html#67167" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67249" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#586538" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                  <a href="TypeDiagnostics.scala.html#105955" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#586526" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586611" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>                           
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree" id="585263">convertToAssignment</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586625">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="586626">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="586627">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="586628">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.TypeError" id="586629">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Name" id="586636">prefix</a> = <a href="#586627" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96635" title="(from: Int, to: Int)Typers.this.global.Name">subName</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#586627" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96593" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115678" title="=&gt; Typers.this.global.TermName">EQL</a>.<a href="../symtab/Names.scala.html#96593" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(vble: Typers.this.global.Tree)Typers.this.global.Tree" id="586637">mkAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586644">vble</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = 
          <a href="Analyzer.scala.html#105627" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span>
            <a href="#586644" title="Typers.this.global.Tree">vble</a>,
            <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586644" title="Typers.this.global.Tree">vble</a>.<span title="=&gt; vble.type">duplicate</span>, <a href="#586636" title="Typers.this.global.Name">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586625" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#586628" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97213" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>
          <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Assign">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
        
        <span class="keyword">def</span> <a title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree" id="586638">mkUpdate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586679">table</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="586680">indices</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105610" title="(exprs: List[Typers.this.global.gen.global.Tree], owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: List[() =&gt; Typers.this.global.gen.global.Tree] =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnceAll</a><span class="delimiter">(</span><a href="#586679" title="Typers.this.global.Tree">table</a> <a href="#586686" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#586680" title="List[Typers.this.global.Tree]">indices</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="586693">ts</a> =&gt;
            <span class="keyword">val</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="586694">tab</a> = <a href="#586693" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; () =&gt; Typers.this.global.gen.global.Tree">head</span>
            <span class="keyword">val</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="586695">is</a> = <a href="#586693" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; List[() =&gt; Typers.this.global.gen.global.Tree]">tail</span>
            <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
               <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586694" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115600" title="=&gt; Typers.this.global.nme.NameType">update</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586679" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
               <span class="delimiter">(</span><span class="delimiter">(</span><a href="#586695" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: () =&gt; Typers.this.global.gen.global.Tree =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="586737">i</a> =&gt; <a href="#586737" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#586720" title="(prefix: List[Typers.this.global.gen.global.Tree])List[Typers.this.global.gen.global.Tree]">:::</a> <span title="(xs: Typers.this.global.Apply*)List[Typers.this.global.Apply]">List</span><span class="delimiter">(</span>
                 <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                   <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
                     <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                       <a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586694" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586679" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                       <a href="#586695" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: () =&gt; Typers.this.global.gen.global.Tree =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="586815">i</a> =&gt; <a href="#586815" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#586626" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                     <a href="#586636" title="Typers.this.global.Name">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586625" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, 
                   <a href="#586628" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
               <span class="delimiter">)</span>
             <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
           <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586639">tree1</a> = <a href="#586626" title="Typers.this.global.Tree">qual</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#586637" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="#586626" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            
          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586876">qualqual</a>, <a title="Typers.this.global.Name" id="586877">vname</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105609" title="(expr: Typers.this.global.gen.global.Tree, owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: () =&gt; Typers.this.global.gen.global.Tree =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#586876" title="Typers.this.global.Tree">qualqual</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="586884">qq</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="586885">qq1</a> = <a href="#586884" title="()Typers.this.global.gen.global.Tree">qq</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#586637" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#586885" title="Typers.this.global.gen.global.Tree">qq1</a>, <a href="#586877" title="Typers.this.global.Name">vname</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#586626" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          
          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586908">fn</a>, <a title="List[Typers.this.global.Tree]" id="586909">indices</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#67784" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#153066" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">methPart</a><span class="delimiter">(</span><a href="#586908" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586914">table</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> =&gt; <a href="#586638" title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree">mkUpdate</a><span class="delimiter">(</span><a href="#586914" title="Typers.this.global.Tree">table</a>, <a href="#586909" title="List[Typers.this.global.Tree]">indices</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>                        =&gt; <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#586626" title="Typers.this.global.Tree">qual</a>, <span title="java.lang.String(&quot;Unexpected tree during assignment conversion.&quot;)" class="string">&quot;Unexpected tree during assignment conversion.&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#586639" title="Typers.this.global.Tree">tree1</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
<span class="comment">/*
        if (settings.debug.value) log(&quot;retry assign: &quot;+tree1)
        silent(_.typed1(tree1, mode, pt)) match {
          case t: Tree =&gt; 
            t
          case _ =&gt;
            reportTypeError(tree.pos, ex)
            setError(tree)                           
        }
*/</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Symbol" id="585264">qualifyingClassSym</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="586915">qual</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> =
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span class="keyword">else</span> <a href="#105987" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol">qualifyingClass</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#586915" title="Typers.this.global.Name">qual</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super" id="585265">typedSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="586921">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.TypeName" id="586922">mix</a>: <a href="../symtab/Names.scala.html#66927" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="586923">qual1</a> = <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#586921" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
        
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="586924">clazz</a> = <a href="#586923" title="Typers.this.global.Tree">qual1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#586923" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#586923" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="delimiter">}</span>
        <span class="comment">//println(clazz+&quot;/&quot;+qual1.tpe.typeSymbol+&quot;/&quot;+qual1)</span>

        <span class="keyword">def</span> <a title="(site: Typers.this.global.Type)Typers.this.global.Type" id="586925">findMixinSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="586935">site</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="586936">ps</a> = <a href="#586935" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#586942" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#586922" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#586936" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
            <a href="#586936" title="List[Typers.this.global.Type]">ps</a> = <a href="#586935" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#586955" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107626" title="=&gt; Typers.this.global.Symbol">toInterface</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#586922" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#586936" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#586935" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Name,Any])Any">map</span> <span class="delimiter">(</span><a href="#586987" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="comment">//debug</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// println(qual1)</span>
              <span class="comment">// println(clazz)</span>
              <span class="comment">// println(site)</span>
              <span class="comment">// println(site.parents)</span>
              <span class="comment">// println(mix)</span>
              <span class="comment">// the reference to super class got lost during erasure</span>
              <a href="TypeDiagnostics.scala.html#105914" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <span title="java.lang.String(&quot;traits may not select fields or methods from super[C] where C is a class&quot;)" class="string">&quot;traits may not select fields or methods from super[C] where C is a class&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#586922" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">mix</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not name a parent class of &quot;)" class="string">&quot; does not name a parent class of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#586924" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#586936" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;ambiguous parent class qualifier&quot;)" class="string">&quot;ambiguous parent class qualifier&quot;</span><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#586936" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="586926">owntype</a> =
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#586922" title="Typers.this.global.TypeName">mix</a>.<a href="../symtab/Names.scala.html#96594" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(256)">SUPERCONSTRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> 
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#586924" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <span class="comment">// can happen due to cyclic references ==&gt; #1036</span>
              <span class="keyword">else</span> <a href="#586924" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67488" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#586924" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[Typers.this.global.Type]">parents</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#586925" title="(site: Typers.this.global.Type)Typers.this.global.Type">findMixinSuper</a><span class="delimiter">(</span><a href="#586924" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162548" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">Super</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#586923" title="Typers.this.global.Tree">qual1</a>, <a href="#586922" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Super">setType</span> <a href="../symtab/Types.scala.html#149262" title="(thistp: Typers.this.global.Type, supertp: Typers.this.global.Type)Typers.this.global.Type">SuperType</a><span class="delimiter">(</span><a href="#586924" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#586926" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Tree" id="585266">typedThis</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="587050">qual</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="587051">clazz</a> = <a href="#585264" title="(qual: Typers.this.global.Name)Typers.this.global.Symbol">qualifyingClassSym</a><span class="delimiter">(</span><a href="#587050" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587051" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#587051" title="Typers.this.global.Symbol">clazz</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#587051" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105457" title="=&gt; Typers.this.global.Type">underlying</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#105994" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#587051" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a>
          <a href="#501331" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Attribute a selection where &lt;code&gt;tree&lt;/code&gt; is &lt;code&gt;qual.name&lt;/code&gt;.
       *  &lt;code&gt;qual&lt;/code&gt; is already attributed.
       *
       *  @param qual ...
       *  @param name ...
       *  @return     ...
       */</span>
      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="585267">typedSelect</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587069">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="587070">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="587071">sym</a> =
          <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Super">Super</span><span class="delimiter">]</span><span class="delimiter">)</span>
              <a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// todo: replace by settings.check.value?</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="587083">alts</a> = <a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105495" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107591" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#587083" title="List[Typers.this.global.Symbol]">alts</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="587091">alt</a> =&gt;
                <a href="#587091" title="Typers.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587091" title="Typers.this.global.Symbol">alt</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#587091" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105522" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;symbol &quot;)" class="string">&quot;symbol &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107659" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587083" title="List[Typers.this.global.Symbol]">alts</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 members = &quot;)" class="string">&quot;\n members = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105490" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 type history = &quot;)" class="string">&quot;\n type history = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105453" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#107662" title="=&gt; java.lang.String">infosString</a><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 phase = &quot;)" class="string">&quot;\n phase = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#106000" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587071" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587070" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587116">qual1</a> = 
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#106000" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#587069" title="Typers.this.global.Tree">qual</a>
            <span class="keyword">else</span> <a href="#106009" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587116" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#587069" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162550" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587116" title="Typers.this.global.Tree">qual1</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105992" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587071" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107618" title="=&gt; Typers.this.global.Symbol">toplevelClass</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587070" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96597" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable" id="587127">tree1</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree with Serializable)Typers.this.global.gen.global.Tree with Serializable">atPos</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105608" title="(qual: Typers.this.global.gen.global.Tree, origName: Typers.this.global.gen.global.Name)Typers.this.global.gen.global.Tree with Serializable">convertToSelectFromType</a><span class="delimiter">(</span><a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>  <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587127" title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable">tree1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#587127" title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable">tree1</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="comment">// try to expand according to Dynamic rules.</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36723" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xexperimental</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#107588" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#106307" title="=&gt; Typers.this.global.Symbol">DynamicClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Apply" id="587146">dynInvoke</a> = <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115522" title="=&gt; Typers.this.global.nme.NameType">applyDynamic</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#587070" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587194">tree1</a>, <a title="List[Typers.this.global.Tree]" id="587195">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#587194" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#501331" title="Typers.this.global.Tree">tree</a> =&gt; 
                ;
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; 
                <a href="#587146" title="Typers.this.global.Apply">dynInvoke</a> = <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#587146" title="Typers.this.global.Apply">dynInvoke</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Nothing" class="keyword">return</span> <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span>util.<a href="../util/trace.scala.html#587206" title="(msg: String)(value: Typers.this.global.Apply)Typers.this.global.Apply">trace</a><span class="delimiter">(</span><span title="java.lang.String(&quot;dynatype: &quot;)" class="string">&quot;dynatype: &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#587146" title="Typers.this.global.Apply">dynInvoke</a><span class="delimiter">)</span>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
                  
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
              <span title="java.lang.String(&quot;qual = &quot;)" class="string">&quot;qual = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012Symbol=&quot;)" class="string">&quot;\nSymbol=&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105453" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012symbol-info = &quot;)" class="string">&quot;\nsymbol-info = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105453" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012scope-id = &quot;)" class="string">&quot;\nscope-id = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105453" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012members = &quot;)" class="string">&quot;\nmembers = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105490" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012name = &quot;)" class="string">&quot;\nname = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587070" title="Typers.this.global.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012found = &quot;)" class="string">&quot;\nfound = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587071" title="Typers.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012owner = &quot;)" class="string">&quot;\nowner = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.RefTree with Serializable" id="587126">makeErrorTree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="587230">tree1</a> = <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162550" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162557" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">setError</a><span class="delimiter">(</span><a href="#587230" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587070" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115034" title="=&gt; Typers.this.global.nme.NameType">ERROR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#65004" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#587126" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a>
            
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
            <a href="TypeDiagnostics.scala.html#105922" title="(sel: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Unit">notAMember</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#65004" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <a href="#587126" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a> <span class="keyword">else</span> <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> 
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="587272">tree1</a> = <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162550" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162557" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#587274" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="#587273" title="Typers.this.global.Tree" id="587274">tree2</a>, <a href="#587273" title="Typers.this.global.Type" id="587275">pre2</a><span class="delimiter">)</span> = <a href="#105995" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#587272" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#587071" title="Typers.this.global.Symbol">sym</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#587069" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587276">result</a> = <a href="#105997" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#587274" title="Typers.this.global.Tree">tree2</a>, <a href="#587275" title="Typers.this.global.Type">pre2</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="()Boolean" id="587277">isPotentialNullDeference</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#587071" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106336" title="=&gt; Typers.this.global.Symbol">NotNullClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105448" title="=&gt; Boolean">isNotNull</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106530" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a>, <a href="../symtab/Definitions.scala.html#106533" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span> <span title="(elem: Any)Boolean">contains</span> <a href="#587276" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>  <span class="comment">// null.is/as is not a dereference</span>
          <span class="delimiter">}</span>
          <span class="comment">// unit is null here sometimes; how are we to know when unit might be null? (See bug #2467.)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36898" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587277" title="()Boolean">isPotentialNullDeference</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;potential null pointer dereference: &quot;)" class="string">&quot;potential null pointer dereference: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587278">selection</a> = <a href="#587276" title="Typers.this.global.Tree">result</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="comment">// could checkAccessible (called by makeAccessible) potentially have skipped checking a type application in qual?</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.TypeTree" id="587335">qual</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Typers.this.global.TypeName" id="587338">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#587335" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt; <span class="comment">// TODO: somehow the new qual is not checked in refchecks</span>
              <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162557" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span>
                <a href="#587276" title="Typers.this.global.Tree">result</a>,
                <span class="delimiter">(</span><a href="../ast/Trees.scala.html#160730" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="keyword">val</span> <a title="Typers.this.global.Type" id="587342">tp</a> = <a href="#587335" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>; <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="587343">sym</a> = <a href="#587342" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105456" title="=&gt; Typers.this.global.Symbol">typeSymbolDirect</a>
                  <span class="comment">// will execute during refchecks -- TODO: make private checkTypeRef in refchecks public and call that one?</span>
                  <a href="Infer.scala.html#106130" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#587335" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#587342" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105464" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#587343" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#587343" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#587342" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <a href="#587335" title="Typers.this.global.TypeTree">qual</a> <span class="comment">// you only get to see the wrapped tree after running this check :-p</span>
                <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span> <a href="#587335" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>,
                <a href="#587338" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587347">accErr</a>: Inferencer#<a href="Infer.scala.html#106160" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt; 
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587350">qual1</a> =
                <span class="keyword">try</span> <a href="#106009" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587069" title="Typers.this.global.Tree">qual</a>, <a href="#587070" title="Typers.this.global.Name">name</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
                <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt; <a href="#587069" title="Typers.this.global.Tree">qual</a> <span class="delimiter">}</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587350" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#587069" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#587350" title="Typers.this.global.Tree">qual1</a>, <a href="#587070" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#587347" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#543752" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#587276" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
          <span class="comment">// To fully benefit from special casing the return type of</span>
          <span class="comment">// getClass, we have to catch it immediately so expressions</span>
          <span class="comment">// like x.getClass().newInstance() are typed with the type of x.</span>
          <span class="keyword">val</span> <a title="Boolean" id="587279">isRefinableGetClass</a> = <span class="delimiter">(</span>
               <a href="#587278" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115665" title="=&gt; Typers.this.global.TermName">getClass_</a>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587278" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105475" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span>
            <span class="comment">// TODO: If the type of the qualifier is inaccessible, we can cause private types</span>
            <span class="comment">// to escape scope here, e.g. pos/t1107.  I'm not sure how to properly handle this</span>
            <span class="comment">// so for now it requires the type symbol be public.</span>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isPublic</span>
          <span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587279" title="Boolean">isRefinableGetClass</a><span class="delimiter">)</span>
              <a href="#587278" title="Typers.this.global.Tree">selection</a> <span title="(tp: Typers.this.global.Type)selection.type">setType</span> <a href="../symtab/Types.scala.html#148762" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../Global.scala.html#64929" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#111735" title="(tp: Typers.this.global.erasure.global.Type)Typers.this.global.erasure.global.Type">getClassReturnType</a><span class="delimiter">(</span><a href="#587069" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#587278" title="Typers.this.global.Tree">selection</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Attribute an identifier consisting of a simple name or an outer reference.
       *
       *  @param tree      The tree representing the identifier. 
       *  @param name      The name of the identifier.
       *  Transformations: (1) Prefix class members with this.
       *                   (2) Change imported symbols to selections
       */</span>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Typers.this.global.Tree" id="585268">typedIdent</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="587383">name</a>: <a href="../symtab/Names.scala.html#66925" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="587384">ambiguousError</a><span class="delimiter">(</span><a title="String" id="587392">msg</a>: <span title="String">String</span><span class="delimiter">)</span> =
          <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;reference to &quot;)" class="string">&quot;reference to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#587383" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is ambiguous;\012&quot;)" class="string">&quot; is ambiguous;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#587392" title="String">msg</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587385">defSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>  <span class="comment">// the directly found symbol</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="587386">pre</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#67408" title="object Typers.this.global.NoPrefix">NoPrefix</a>          <span class="comment">// the prefix type of defSym, if a class member</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="587387">qual</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>        <span class="comment">// the qualifier tree if transformed tree is a select</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587388">inaccessibleSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span class="comment">// the first symbol that was found but that was discarded</span>
                                          <span class="comment">// for being inaccessible; used for error reporting</span>
        <span class="keyword">var</span> <a title="String" id="587389">inaccessibleExplanation</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        
        <span class="comment">// If a special setting is given, the empty package will be checked as a</span>
        <span class="comment">// last ditch effort before failing.  This method sets defSym and returns</span>
        <span class="comment">// true if a member of the given name exists.</span>
        <span class="keyword">def</span> <a title="()Boolean" id="587390">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#587385" title="Typers.this.global.Symbol">defSym</a> = <a href="../symtab/Definitions.scala.html#106181" title="=&gt; Typers.this.global.Symbol">EmptyPackageClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105496" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <a href="#587385" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>

        <span class="comment">// A symbol qualifies if it exists and is not stale. Stale symbols</span>
        <span class="comment">// are made to disappear here. In addition,</span>
        <span class="comment">// if we are in a constructor of a pattern, we ignore all definitions</span>
        <span class="comment">// which are methods (note: if we don't do that</span>
        <span class="comment">// case x :: xs in class List would return the :: method)</span>
        <span class="comment">// unless they are stable or are accessors (the latter exception is for better error messages).</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="587391">qualifies</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="587398">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#105992" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587398" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#587398" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSourceMethod</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587398" title="Typers.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="587421">defEntry</a>: <a href="../symtab/Scopes.scala.html#67689" title="Typers.this.global.ScopeEntry">ScopeEntry</a> = <span title="Null(null)" class="keyword">null</span> <span class="comment">// the scope entry of defSym, if defined in a local scope</span>

          <span class="keyword">var</span> <a title="Typers.this.Context" id="587422">cx</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(65538)">|</span> TYPEPATmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// println(&quot;ignoring scope: &quot;+name+&quot; &quot;+cx.scope+&quot; &quot;+cx.outer.scope)</span>
            <span class="comment">// ignore current variable scope in patterns to enforce linearity</span>
            <a href="#587422" title="Typers.this.Context">cx</a> = <a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106761" title="=&gt; Typers.this.Context">outer</a> 
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587422" title="Typers.this.Context">cx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#105643" title="=&gt; Typers.this.Context">NoContext</a><span class="delimiter">)</span> <a href="#587426" title="()Unit" class="delimiter">{</a>
            <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72386" title="(context: Typers.this.global.analyzer.Context, name: Typers.this.global.Name)Boolean">compileSourceFor</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#105654" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#587386" title="Typers.this.global.Type">pre</a> = <a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106788" title="=&gt; Typers.this.global.Type">prefix</a>
            <a href="#587421" title="Typers.this.global.ScopeEntry">defEntry</a> = <a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113095" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#587421" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587391" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a><span class="delimiter">(</span><a href="#587421" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#587385" title="Typers.this.global.Symbol">defSym</a> = <a href="#587421" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#113275" title="=&gt; Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#587422" title="Typers.this.Context">cx</a> = <a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="587459">foundSym</a> = <a href="#587386" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#105495" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <a href="#587391" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a>
              <a href="#587385" title="Typers.this.global.Symbol">defSym</a> = <a href="#587459" title="Typers.this.global.Symbol">foundSym</a> <a href="../symtab/Symbols.scala.html#107592" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106860" title="(sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#587464" title="Typers.this.global.Symbol">_</a>, <a href="#587386" title="Typers.this.global.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#587459" title="Typers.this.global.Symbol">foundSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#587388" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#587388" title="Typers.this.global.Symbol">inaccessibleSym</a> = <a href="#587459" title="Typers.this.global.Symbol">foundSym</a>
                  <a href="#587389" title="String">inaccessibleExplanation</a> = <a href="../Global.scala.html#64911" title="object Typers.this.global.analyzer">analyzer</a>.<a href="Contexts.scala.html#105647" title="=&gt; String">lastAccessCheckDetails</a>
                <span class="delimiter">}</span>
                <a href="#587422" title="Typers.this.Context">cx</a> = <a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106761" title="=&gt; Typers.this.Context">outer</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Int" id="587423">symDepth</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#587421" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106776" title="=&gt; Int">depth</a>
                         <span class="keyword">else</span> <a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106776" title="=&gt; Int">depth</a> <span title="(x: Int)Int">-</span> <span class="delimiter">(</span><a href="#587422" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#106758" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#113098" title="=&gt; Int">nestingLevel</a> <span title="(x: Int)Int">-</span> <a href="#587421" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#113277" title="=&gt; Typers.this.global.Scope">owner</a>.<a href="../symtab/Scopes.scala.html#113098" title="=&gt; Int">nestingLevel</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587424">impSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>      <span class="comment">// the imported symbol</span>
          <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="587425">imports</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106779" title="=&gt; List[Typers.this.ImportInfo]">imports</a>      <span class="comment">// impSym != NoSymbol =&gt; it is imported from imports.head</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105992" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587424" title="Typers.this.global.Symbol">impSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314460" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#587423" title="Int">symDepth</a><span class="delimiter">)</span> <a href="#587427" title="()Unit" class="delimiter">{</a>
            <a href="#587424" title="Typers.this.global.Symbol">impSym</a> = <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314465" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587424" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
          <span class="delimiter">}</span>

          <span class="comment">// detect ambiguous definition/import,</span>
          <span class="comment">// update `defSym' to be the final resolved symbol,</span>
          <span class="comment">// update `pre' to be `sym's prefix type in case it is an imported member,</span>
          <span class="comment">// and compute value of:</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587424" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// imported symbols take precedence over package-owned symbols in different</span>
            <span class="comment">// compilation units. Defined symbols take precedence over erroneous imports.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107492" title="=&gt; Boolean">definedInPackage</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72372" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                 <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96521" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#587385" title="Typers.this.global.Symbol">defSym</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587424" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107478" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#587424" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#587424" title="Typers.this.global.Symbol">impSym</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587424" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
              <a href="#587384" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                <span title="java.lang.String(&quot;it is both defined in &quot;)" class="string">&quot;it is both defined in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; and imported subsequently by \012&quot;)" class="string">&quot; and imported subsequently by \n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span> <span title="(x: Boolean)Boolean">||</span> <a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107481" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span>
              <a href="#587386" title="Typers.this.global.Type">pre</a> = <a href="../symtab/Types.scala.html#67408" title="object Typers.this.global.NoPrefix">NoPrefix</a>
            <span class="keyword">else</span>
              <a href="#587387" title="Typers.this.global.Tree">qual</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97226" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105564" title="(tpe: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#587386" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587424" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#107537" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.NoSymbol.type" id="587522">impSym1</a> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="587523">imports1</a> = <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="keyword">def</span> <a title="()Unit" id="587524">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314463" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105520" title="(that: Typers.this.global.Type)Boolean">=:=</a> <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314463" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#587384" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                    <span title="java.lang.String(&quot;it is imported twice in the same scope by\012&quot;)" class="string">&quot;it is imported twice in the same scope by\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span> <span title="(x$1: Any)java.lang.String">+</span>  <span title="java.lang.String(&quot;\012and &quot;)" class="string">&quot;\nand &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                     <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314464" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                      <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314460" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314460" title="=&gt; Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#587526" title="()Unit" class="delimiter">{</a>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="587543">impSym1</a> = <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314465" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105992" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#587543" title="Typers.this.global.Symbol">impSym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314464" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314464" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                        <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314460" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">!=</span> <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314460" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#587524" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                    <a href="#587424" title="Typers.this.global.Symbol">impSym</a> = <a href="#587543" title="Typers.this.global.Symbol">impSym1</a>
                    <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314464" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                             <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314460" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314460" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#587524" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a> = <a href="#587523" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="delimiter">}</span>
              <a href="#587385" title="Typers.this.global.Symbol">defSym</a> = <a href="#587424" title="Typers.this.global.Symbol">impSym</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587525">qual0</a> = <a href="#587425" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#314463" title="=&gt; Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="Boolean(false)">shortenImports</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587525" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isPackage</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// optimization: don't write out package prefixes</span>
                <a href="#587387" title="Typers.this.global.Tree">qual</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97226" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162672" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">resetPos</a><span class="delimiter">(</span><a href="#587525" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; qual0.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#587386" title="Typers.this.global.Type">pre</a> = <a href="#587387" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36827" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">exposeEmptyPackage</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#587390" title="()Boolean">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Allowing empty package member &quot;)" class="string">&quot;Allowing empty package member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#587383" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; due to settings.&quot;)" class="string">&quot; due to settings.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106779" title="=&gt; List[Typers.this.ImportInfo]">imports</a><span class="delimiter">)</span><span class="comment">//debug</span>
              <span class="delimiter">}</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#587388" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;not found: &quot;)" class="string">&quot;not found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#105920" title="(name: Typers.this.global.Name, owner: Typers.this.global.Symbol)String">decodeWithKind</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span title="Typer.this.infer.AccessError" class="keyword">new</span> <a href="Infer.scala.html#106160" title="Typer.this.infer.AccessError">AccessError</a><span class="delimiter">(</span>
                <a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587388" title="Typers.this.global.Symbol">inaccessibleSym</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a>, 
                <a href="#587389" title="String">inaccessibleExplanation</a>
              <span class="delimiter">)</span>.<a href="Infer.scala.html#543752" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#587385" title="Typers.this.global.Symbol">defSym</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107458" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">newErrorSymbol</a><span class="delimiter">(</span><a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span> <a href="#587386" title="Typers.this.global.Type">pre</a> = <a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; Typers.this.global.Type">thisType</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107477" title="=&gt; Boolean">isThisSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67811" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#587385" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Tree">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587615">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587387" title="Typers.this.global.Tree">qual</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>
                      <span class="keyword">else</span> <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#587387" title="Typers.this.global.Tree">qual</a>, <a href="#587383" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="comment">// atPos necessary because qualifier might come from startContext</span>
          <span class="keyword">val</span> <a href="#587617" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="#587616" title="Typers.this.global.Tree" id="587617">tree2</a>, <a href="#587616" title="Typers.this.global.Type" id="587618">pre2</a><span class="delimiter">)</span> = <a href="#105995" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#587615" title="Typers.this.global.Tree">tree1</a>, <a href="#587385" title="Typers.this.global.Symbol">defSym</a>, <a href="#587386" title="Typers.this.global.Type">pre</a>, <a href="#587387" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="comment">// assert(pre.typeArgs isEmpty) // no need to add #2416-style check here, right?</span>
          <a href="#105997" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#587617" title="Typers.this.global.Tree">tree2</a>, <a href="#587618" title="Typers.this.global.Type">pre2</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587656">accErr</a>: Inferencer#<a href="Infer.scala.html#106160" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt; <a href="#587656" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#543752" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="587659">result</a> =&gt; <a href="#587659" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)Typers.this.global.Tree" id="585269">typedCompoundTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="587660">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="587661">parents1</a> = <a href="#587660" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#587668" title="Typers.this.global.Tree">_</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="tree.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#587661" title="List[Typers.this.global.Tree]">parents1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#587680" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../symtab/Types.scala.html#67399" title="object Typers.this.global.ErrorType">ErrorType</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="587682">decls</a> = <a href="../symtab/Scopes.scala.html#113079" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="Typers.this.global.Scope">Scope</a>
          <span class="comment">//Console.println(&quot;Owner: &quot; + context.enclClass.owner + &quot; &quot; + context.enclClass.owner.id)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="587683">self</a> = <a href="../symtab/Types.scala.html#67480" title="(parents: List[Typers.this.global.Type], owner: Typers.this.global.Symbol, decls: Typers.this.global.Scope, pos: Typers.this.global.Position)Typers.this.global.Type">refinedType</a><span class="delimiter">(</span><a href="#587661" title="List[Typers.this.global.Tree]">parents1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#587710" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106764" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#587682" title="Typers.this.global.Scope">decls</a>, <a href="#587660" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106838" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#587660" title="Typers.this.global.Template">templ</a>, <a href="#587683" title="Typers.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#587682" title="Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106038" title="(stats: List[Typers.this.global.Tree])Unit">typedRefinement</a><span class="delimiter">(</span><a href="#587660" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
          <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#587683" title="Typers.this.global.Type">self</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="585270">typedAppliedTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587740">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="587741">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="587742">tpt1</a> = <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#587740" title="Typers.this.global.Tree">tpt</a>, <a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105485" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="587756">tparams</a> = <a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#587756" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#587741" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="587759">args1</a> = 
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107570" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="=&gt; Boolean">isComplete</span><span class="delimiter">)</span>
                <a href="#587741" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#106074" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#587770" title="Typers.this.global.Tree">_</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="comment">// if symbol hasn't been fully loaded, can't check kind-arity</span>
              <span class="keyword">else</span> <a href="../symtab/Types.scala.html#67618" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#587741" title="List[Typers.this.global.Tree]">args</a>, <a href="#587756" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
                <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587809">arg</a>, <a title="Typers.this.global.Symbol" id="587810">tparam</a><span class="delimiter">)</span> =&gt; 
                  <a href="#106073" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#587809" title="Typers.this.global.Tree">arg</a>, <a href="#501332" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67490" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#587810" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#106216" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> 
                  <span class="comment">//@M! the polytype denotes the expected kind</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="587760">argtypes</a> = <a href="#587759" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#587831" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

            <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#587741" title="List[Typers.this.global.Tree]">args</a>, <a href="#587756" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Symbol] =&gt; scala.collection.IterableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]])(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Symbol],Typers.this.global.Symbol]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="587911">arg</a>, <a title="Typers.this.global.Symbol" id="587912">tparam</a><span class="delimiter">)</span> =&gt; <a href="#587911" title="Typers.this.global.Tree">arg</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="comment">// note: can't use args1 in selector, because Bind's got replaced </span>
              <span class="keyword">case</span> <span title="Any">Bind</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; 
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#587911" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isAbstractType</span><span class="delimiter">)</span>
                  <a href="#587911" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <span class="comment">// XXX, feedback. don't trackSymInfo here! </span>
                    <a href="../symtab/Types.scala.html#148501" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span>
                      <a href="../symtab/Types.scala.html#67649" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">lub</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#587911" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Typers.this.global.Type">lo</a>, <a href="#587912" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#587756" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#587760" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      <a href="../symtab/Types.scala.html#67658" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#587911" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; Typers.this.global.Type">hi</a>, <a href="#587912" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; Typers.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#587756" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#587760" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span><span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AppliedTypeTree" id="587761">original</a> = <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162559" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.AppliedTypeTree">AppliedTypeTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587742" title="Typers.this.global.Tree">tpt1</a>, <a href="#587759" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="587762">result</a> = <a href="../ast/Trees.scala.html#67818" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#587760" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#135862" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a>  <a href="#587761" title="Typers.this.global.AppliedTypeTree">original</a>
            <span title="&lt;none&gt; extends Typers.this.global.AbsTypeTree with Serializable" class="keyword">if</span><span class="delimiter">(</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67455" title="Typers.this.global.PolyType">PolyType</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="comment">// did the type application (performed by appliedType) involve an unchecked beta-reduction?</span>
              <span class="delimiter">(</span><a href="../ast/Trees.scala.html#160730" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                <span class="comment">// wrap the tree and include the bounds check -- refchecks will perform this check (that the beta reduction was indeed allowed) and unwrap</span>
                <span class="comment">// we can't simply use original in refchecks because it does not contains types</span>
                <span class="comment">// (and the only typed trees we have have been mangled so they're not quite the original tree anymore)</span>
                <a href="Infer.scala.html#106130" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#587762" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105464" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#587760" title="List[Typers.this.global.Type]">argtypes</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                <a href="#587762" title="Typers.this.global.TypeTree">result</a> <span class="comment">// you only get to see the wrapped tree after running this check :-p</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span><span class="delimiter">(</span><a href="#587762" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#587762" title="Typers.this.global.TypeTree">result</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#587756" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</span><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(&quot;\{tpt1}:\{tpt1.symbol}:\{tpt1.symbol.info}&quot;)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#587742" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpt1</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="comment">//debug</span>
            <a href="Infer.scala.html#106095" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of type arguments for &quot;)" class="string">&quot;wrong number of type arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587742" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, should be &quot;)" class="string">&quot;, should be &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#587756" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef" id="585271">adaptCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="587989">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="587990">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> = 
        <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162529" title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#587989" title="Typers.this.global.CaseDef">cdef</a>, <a href="#587989" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#587989" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#587989" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#501332" title="Int">mode</a>, <a href="#587990" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// begin typed1</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="585272">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a> = <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107572" title="=&gt; sym.type">initialize</a> 
      <span class="comment">//if (settings.debug.value &amp;&amp; tree.isDef) log(&quot;typing definition of &quot;+sym);//DEBUG</span>
      <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="Typers.this.global.RefTree" id="588001">pid</a>, <a title="List[Typers.this.global.Tree]" id="588002">stats</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.RefTree" id="588003">pid1</a> = <a href="#106068" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#588001" title="Typers.this.global.RefTree">pid</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.RefTree" class="delimiter">[</span><span title="Typers.this.global.RefTree">RefTree</span><span class="delimiter">]</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#585272" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="comment">// complete lazy annotations</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="588004">annots</a> = <a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107411" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="588005">stats1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106838" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; Typers.this.global.Symbol">moduleClass</a>, <a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#106040" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#588002" title="List[Typers.this.global.Tree]">stats</a>, <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162519" title="(tree: Typers.this.global.Tree, pid: Typers.this.global.RefTree, stats: List[Typers.this.global.Tree])Typers.this.global.PackageDef">PackageDef</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588003" title="Typers.this.global.RefTree">pid1</a>, <a href="#588005" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.PackageDef">setType</span> <a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588023">tree</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#588023" title="Typers.this.global.ClassDef">tree</a>, <a href="#585272" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106016" title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree">typedClassDef</a><span class="delimiter">(</span><a href="#588023" title="Typers.this.global.ClassDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588030">tree</a> @ ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#588030" title="Typers.this.global.ModuleDef">tree</a>, <a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; Typers.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106017" title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree">typedModuleDef</a><span class="delimiter">(</span><a href="#588030" title="Typers.this.global.ModuleDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="588036">vdef</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#106025" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">(</span><a href="#588036" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.DefDef" id="588043">ddef</a> @ DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt; 
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#585272" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106029" title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef">typedDefDef</a><span class="delimiter">(</span><a href="#588043" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeDef" id="588052">tdef</a> @ TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#106030" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#588052" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.LabelDef" id="588062">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#105989" title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer">labelTyper</a><span class="delimiter">(</span><a href="#588062" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>.<a href="#106033" title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef">typedLabelDef</a><span class="delimiter">(</span><a href="#588062" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588068">ddef</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="588071">comment</a>, <a title="Typers.this.global.Tree" id="588072">defn</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#65005" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../ast/DocComments.scala.html#67907" title="(key: Typers.this.global.Symbol, value: Typers.this.global.DocComment)Unit">docComments</a><span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#588071" title="Typers.this.global.DocComment">comment</a>
            <a href="#588071" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#130115" title="(sym: Typers.this.global.Symbol)Unit">defineVariables</a><span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="588073">typer1</a> = <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="588098">useCase</a> &lt;- <a href="#588071" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#130111" title="(f: Typers.this.global.UseCase =&gt; Unit)Unit">useCases</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#588073" title="Typers.this.Typer">typer1</a>.<a href="#106001" title="(op: Typers.this.Typer =&gt; Unit, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#588104" title="Typers.this.Typer">_</a>.<a href="#106028" title="(useCase: Typers.this.global.UseCase)Unit">typedUseCase</a><span class="delimiter">(</span><a href="#588098" title="Typers.this.global.UseCase">useCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="588110">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#588098" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130522" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#588110" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#313955" title="=&gt; String">msg</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="588132">useCaseSym</a> &lt;- <a href="#588098" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130525" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">defined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#588132" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96452" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#588098" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#130522" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;@usecase &quot;)" class="string">&quot;@usecase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#588132" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not match commented symbol: &quot;)" class="string">&quot; does not match commented symbol: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#585272" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96640" title="=&gt; String">decode</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588072" title="Typers.this.global.Tree">defn</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588146">constr</a>, <a title="Typers.this.global.Tree" id="588147">arg</a><span class="delimiter">)</span> =&gt;
          <a href="#585252" title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree">typedAnnotated</a><span class="delimiter">(</span><a href="#588146" title="Typers.this.global.Tree">constr</a>, <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588147" title="Typers.this.global.Tree">arg</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Block" id="588152">tree</a> @ Block<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#588152" title="Typers.this.global.Block">tree</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#106034" title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block">typedBlock</a><span class="delimiter">(</span><a href="#588152" title="Typers.this.global.Block">tree</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Alternative">Alternative</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="588158">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="588159">alts1</a> = <a href="#588158" title="List[Typers.this.global.Tree]">alts</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588166">alt</a> =&gt; <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588166" title="Typers.this.global.Tree">alt</a>, <a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8192)">ALTmode</span>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162530" title="(tree: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.Alternative">Alternative</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588159" title="List[Typers.this.global.Tree]">alts1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Alternative">setType</span> <a href="#501333" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Star">Star</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588184">elem</a><span class="delimiter">)</span> =&gt;
          <a href="#105982" title="(pos: Typers.this.global.Position, mode: Int)Unit">checkStarPatOK</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588185">elem1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588184" title="Typers.this.global.Tree">elem</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162531" title="(tree: Typers.this.global.Tree, elem: Typers.this.global.Tree)Typers.this.global.Star">Star</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588185" title="Typers.this.global.Tree">elem1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Star">setType</span> <a href="Infer.scala.html#106111" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Bind</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="588201">name</a>, <a title="Typers.this.global.Tree" id="588202">body</a><span class="delimiter">)</span> =&gt;
          <a href="#585253" title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree">typedBind</a><span class="delimiter">(</span><a href="#588201" title="Typers.this.global.Name">name</a>, <a href="#588202" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.UnApply">UnApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588205">fun</a>, <a title="List[Typers.this.global.Tree]" id="588206">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588207">fun1</a> = <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588205" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="588208">tpes</a> = <a href="Infer.scala.html#105757" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="Unapplies.scala.html#105853" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#588205" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#588207" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#588206" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="588209">args1</a> = <span title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type])(List[Typers.this.global.Tree], List[Typers.this.global.Type])" class="delimiter">(</span><a href="#588206" title="List[Typers.this.global.Tree]">args</a>, <a href="#588208" title="List[Typers.this.global.Type]">tpes</a><span class="delimiter">)</span>.<span title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.Tree], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</span> <span title="(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#106070" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162533" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588207" title="Typers.this.global.Tree">fun1</a>, <a href="#588209" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#501333" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.ArrayValue">ArrayValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588308">elemtpt</a>, <a title="List[Typers.this.global.Tree]" id="588309">elems</a><span class="delimiter">)</span> =&gt;
          <a href="#585254" title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">typedArrayValue</a><span class="delimiter">(</span><a href="#588308" title="Typers.this.global.Tree">elemtpt</a>, <a href="#588309" title="List[Typers.this.global.Tree]">elems</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588310">tree</a> @ Function<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588310" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#588310" title="Typers.this.global.Function">tree</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107420" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#588310" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<span title="=&gt; Typers.this.global.nme.NameType">ANON_FUN_NAME</span><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)Typers.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67406" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#588310" title="Typers.this.global.Function">tree</a>, <a href="#588310" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106037" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#588310" title="Typers.this.global.Function">tree</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Assign</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588342">lhs</a>, <a title="Typers.this.global.Tree" id="588343">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#585255" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#588342" title="Typers.this.global.Tree">lhs</a>, <a href="#588343" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AssignOrNamedArg</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588346">lhs</a>, <a title="Typers.this.global.Tree" id="588347">rhs</a><span class="delimiter">)</span> =&gt; <span class="comment">// called by NamesDefaults in silent typecheck</span>
          <a href="#585255" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#588346" title="Typers.this.global.Tree">lhs</a>, <a href="#588347" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.If">If</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588351">cond</a>, <a title="Typers.this.global.Tree" id="588352">thenp</a>, <a title="Typers.this.global.Tree" id="588353">elsep</a><span class="delimiter">)</span> =&gt;
          <a href="#585256" title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">typedIf</a><span class="delimiter">(</span><a href="#588351" title="Typers.this.global.Tree">cond</a>, <a href="#588352" title="Typers.this.global.Tree">thenp</a>, <a href="#588353" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="588354">tree</a> @ Match<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588357">selector</a>, <a title="List[Typers.this.global.CaseDef]" id="588358">cases</a><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588357" title="Typers.this.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="588363">arity</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106493" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#501333" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="588364">params</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="588414">i</a> &lt;- <span title="object List">List</span>.<span title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</span><span title="(f: Int =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]" class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#588363" title="Int">arity</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> 
              <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ValDef)Typers.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#588354" title="Typers.this.global.Match">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97226" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Analyzer.scala.html#105627" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(flags: Long)Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span>PARAM <span title="Long(2105344L)">|</span> SYNTHETIC<span class="delimiter">)</span>, 
                       <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96429" title="(prefix: String)Typers.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;x&quot;)" class="string">&quot;x&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#588414" title="Int">i</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#135853" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Ident]" id="588365">ids</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="588497">p</a> &lt;- <a href="#588364" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Ident,List[Typers.this.global.Ident]])List[Typers.this.global.Ident]">params</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="Analyzer.scala.html#105627" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#588497" title="Typers.this.global.ValDef">p</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="588366">selector1</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#588354" title="Typers.this.global.Match">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97226" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588363" title="Int">arity</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#588365" title="List[Typers.this.global.Ident]">ids</a>.<span title="=&gt; Typers.this.global.Ident">head</span> <span class="keyword">else</span> <a href="../Global.scala.html#64843" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105587" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#588365" title="List[Typers.this.global.Ident]">ids</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Match" id="588367">body</a> = <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162539" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#588354" title="Typers.this.global.Match">tree</a>, <a href="#588366" title="Typers.this.global.gen.global.Tree">selector1</a>, <a href="#588358" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>
            <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Function)Typers.this.global.Function">atPos</a><span class="delimiter">(</span><a href="#588354" title="Typers.this.global.Match">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="Analyzer.scala.html#105627" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#588364" title="List[Typers.this.global.ValDef]">params</a>, <a href="#588367" title="Typers.this.global.Match">body</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588563">selector1</a> = <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588357" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="588564">cases1</a> = <a href="#106036" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#588354" title="Typers.this.global.Match">tree</a>, <a href="#588358" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#588563" title="Typers.this.global.Tree">selector1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="#588566" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#588565" title="Typers.this.global.Type" id="588566">owntype</a>, <a href="#588565" title="Boolean" id="588567">needAdapt</a><span class="delimiter">)</span> = <a href="#585250" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#588564" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#588599" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588567" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#588564" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#588564" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#585271" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#588656" title="Typers.this.global.CaseDef">_</a>, <a href="#588566" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162539" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#588354" title="Typers.this.global.Match">tree</a>, <a href="#588563" title="Typers.this.global.Tree">selector1</a>, <a href="#588564" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</span> <a href="#588566" title="Typers.this.global.Type">owntype</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Return</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588688">expr</a><span class="delimiter">)</span> =&gt;
          <a href="#585257" title="(expr: Typers.this.global.Tree)Typers.this.global.Tree">typedReturn</a><span class="delimiter">(</span><a href="#588688" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Try">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588692">block</a>, <a title="List[Typers.this.global.CaseDef]" id="588693">catches</a>, <a title="Typers.this.global.Tree" id="588694">finalizer</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="588695">block1</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588692" title="Typers.this.global.Tree">block</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="588696">catches1</a> = <a href="#106036" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588693" title="List[Typers.this.global.CaseDef]">catches</a>, <a href="../symtab/Definitions.scala.html#106246" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588697">finalizer1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#588694" title="Typers.this.global.Tree">finalizer</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#588694" title="Typers.this.global.Tree">finalizer</a>
                           <span class="keyword">else</span> <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588694" title="Typers.this.global.Tree">finalizer</a>, <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#588699" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#588698" title="Typers.this.global.Type" id="588699">owntype</a>, <a href="#588698" title="Boolean" id="588700">needAdapt</a><span class="delimiter">)</span> = <a href="#585250" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#588695" title="Typers.this.global.Tree">block1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="#588709" title="(x: Typers.this.global.Type)List[Typers.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#588696" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#588729" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#588700" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#588695" title="Typers.this.global.Tree">block1</a> = <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#588695" title="Typers.this.global.Tree">block1</a>, <a href="#501332" title="Int">mode</a>, <a href="#588699" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#588696" title="List[Typers.this.global.CaseDef]">catches1</a> = <a href="#588696" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#585271" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#588791" title="Typers.this.global.CaseDef">_</a>, <a href="#588699" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162541" title="(tree: Typers.this.global.Tree, block: Typers.this.global.Tree, catches: List[Typers.this.global.CaseDef], finalizer: Typers.this.global.Tree)Typers.this.global.Try">Try</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588695" title="Typers.this.global.Tree">block1</a>, <a href="#588696" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#588697" title="Typers.this.global.Tree">finalizer1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Try">setType</span> <a href="#588699" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Throw">Throw</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588831">expr</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588832">expr1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588831" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Definitions.scala.html#106246" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162542" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Throw">Throw</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588832" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Throw">setType</span> <a href="../symtab/Definitions.scala.html#106228" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>

        <span class="keyword">case</span> <span title="Typers.this.global.New">New</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588851">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =&gt;
          <a href="#585258" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">typedNew</a><span class="delimiter">(</span><a href="#588851" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588854">expr</a>, Function<span class="delimiter">(</span><a href="#588858" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#585259" title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree">typedEta</a><span class="delimiter">(</span><a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#588854" title="Typers.this.global.Tree">expr</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588871">expr</a>, <a title="Typers.this.global.Ident" id="588872">tpt</a> @ Ident<span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115051" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588876">expr0</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588871" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#105720" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501332" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)Typers.this.global.Type" id="588877">subArrayType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="588885">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106661" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#588885" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#105768" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#588885" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106497" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#588885" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="588887">tparam</a> = <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107445" title="(suffix: String)Typers.this.global.Symbol">freshExistential</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../symtab/Symbols.scala.html#107566" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../symtab/Types.scala.html#67423" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#148499" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#588885" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#149138" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#588887" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106497" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#588887" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#588879" title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</a><a href="#588878" title="Typers.this.global.Tree" id="588879">expr1</a>, <a href="#588878" title="Typers.this.global.Symbol" id="588880">baseClass</a><span class="delimiter">)</span> = <a href="#588876" title="Typers.this.global.Tree">expr0</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106394" title="(Typers.this.global.Tree, Typers.this.global.Symbol)">ArrayClass</a> =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#588876" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#105720" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501332" title="Int">mode</a><span class="delimiter">)</span>, <a href="#588877" title="(pt: Typers.this.global.Type)Typers.this.global.Type">subArrayType</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106394" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)">_</span>          =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#588876" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#105720" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501332" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106496" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106377" title="=&gt; Typers.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#588879" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105499" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#588880" title="Typers.this.global.Symbol">baseClass</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Typed">TypeRef</span><span class="delimiter">(</span>_, _, <a href="#588927" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="588938">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162544" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588879" title="Typers.this.global.Tree">expr1</a>, <a href="#588872" title="Typers.this.global.Ident">tpt</a> <span title="(tp: Typers.this.global.Type)tpt.type">setType</span> <a href="#588938" title="Typers.this.global.Type">elemtp</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#588938" title="Typers.this.global.Type">elemtp</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588954">expr</a>, <a title="Typers.this.global.Tree" id="588955">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588956">tpt1</a> = <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#588955" title="Typers.this.global.Tree">tpt</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588957">expr1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588954" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#105720" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#501332" title="Int">mode</a><span class="delimiter">)</span>, <a href="#588956" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105459" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="588958">owntype</a> = 
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#585249" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="Infer.scala.html#106143" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#588956" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#588956" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> 
            <span class="keyword">else</span> <a href="#588956" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="comment">//Console.println(typed pattern: &quot;+tree+&quot;:&quot;+&quot;, tp = &quot;+tpt1.tpe+&quot;, pt = &quot;+pt+&quot; ==&gt; &quot;+owntype)//DEBUG</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162544" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#588957" title="Typers.this.global.Tree">expr1</a>, <a href="#588956" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#588958" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="588972">fun</a>, <a title="List[Typers.this.global.Tree]" id="588973">args</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)        </span>
          <span class="comment">//@M! we must type fun in order to type the args, as that requires the kinds of fun's type parameters.</span>
          <span class="comment">// However, args should apparently be done first, to save context.undetparams. Unfortunately, the args</span>
          <span class="comment">// *really* have to be typed *after* fun. We escape from this classic Catch-22 by simply saving&amp;restoring undetparams.</span>

          <span class="comment">// @M TODO: the compiler still bootstraps&amp;all tests pass when this is commented out..</span>
          <span class="comment">//val undets = context.undetparams </span>
          
          <span class="comment">// @M: fun is typed in TAPPmode because it is being applied to its actual type parameters</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="588974">fun1</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#588972" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#105721" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#501332" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> 
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="588975">tparams</a> = <a href="#588974" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>

          <span class="comment">//@M TODO: val undets_fun = context.undetparams  ?</span>
          <span class="comment">// &quot;do args first&quot; (by restoring the context.undetparams) in order to maintain context.undetparams on the function side.</span>
          
          <span class="comment">// @M TODO: the compiler still bootstraps when this is commented out.. TODO: run tests</span>
          <span class="comment">//context.undetparams = undets</span>
          
          <span class="comment">// @M maybe the well-kindedness check should be done when checking the type arguments conform to the type parameters' bounds?          </span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="588976">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67584" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#588973" title="List[Typers.this.global.Tree]">args</a>, <a href="#588975" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#67618" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#588973" title="List[Typers.this.global.Tree]">args</a>, <a href="#588975" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span class="comment">//@M! the polytype denotes the expected kind</span>
                        <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589020">arg</a>, <a title="Typers.this.global.Symbol" id="589021">tparam</a><span class="delimiter">)</span> =&gt; <a href="#106073" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#589020" title="Typers.this.global.Tree">arg</a>, <a href="#501332" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67490" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#589021" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#106216" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> 
                      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> 
                      <span class="comment">//@M  this branch is correctly hit for an overloaded polymorphic type. It also has to handle erroneous cases.</span>
                      <span class="comment">// Until the right alternative for an overloaded method is known, be very liberal, </span>
                      <span class="comment">// typedTypeApply will find the right alternative and then do the same check as </span>
                      <span class="comment">// in the then-branch above. (see pos/tcpoly_overloaded.scala)</span>
                      <span class="comment">// this assert is too strict: be tolerant for errors like trait A { def foo[m[x], g]=error(&quot;&quot;); def x[g] = foo[g/*ERR: missing argument type*/] }</span>
                      <span class="comment">//assert(fun1.symbol.info.isInstanceOf[OverloadedType] || fun1.symbol.isError) //, (fun1.symbol,fun1.symbol.info,fun1.symbol.info.getClass,args,tparams))</span>
                        <a href="#588973" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#106074" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#589032" title="Typers.this.global.Tree">_</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> 
                      <span class="delimiter">}</span>

          <span class="comment">//@M TODO: context.undetparams = undets_fun ?</span>
          <a href="#106054" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#501332" title="Int">mode</a>, <a href="#588974" title="Typers.this.global.Tree">fun1</a>, <a href="#588976" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="589044">stats</a>, <a title="Typers.this.global.Tree" id="589045">expr</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="589046">args</a><span class="delimiter">)</span> =&gt;
          <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#589044" title="List[Typers.this.global.Tree]">stats</a>, <a href="Analyzer.scala.html#105627" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#589045" title="Typers.this.global.Tree">expr</a>, <a href="#589046" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589075">fun</a>, <a title="List[Typers.this.global.Tree]" id="589076">args</a><span class="delimiter">)</span> =&gt;
          <a href="#585262" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedApply</a><span class="delimiter">(</span><a href="#589075" title="Typers.this.global.Tree">fun</a>, <a href="#589076" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589086">tpt</a><span class="delimiter">)</span>, <a title="Typers.this.global.Name" id="589087">name</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="589088">args</a><span class="delimiter">)</span> 
            <span class="keyword">if</span> <span class="delimiter">(</span><a href="#589086" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#589086" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106394" title="=&gt; Typers.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <a href="#589088" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <a href="../Global.scala.html#64929" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#111733" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../transform/Erasure.scala.html#498708" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span class="delimiter">(</span><a href="#589086" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> =&gt; <span class="comment">// !!! todo simplify by using extractor</span>
              <span class="comment">// convert new Array[T](len) to evidence[ClassManifest[T]].newArray(len)</span>
              <span class="comment">// convert new Array^N[T](len) for N &gt; 1 to evidence[ClassManifest[T]].newArrayN(len)</span>
              <span class="keyword">val</span> Some<a href="#589107" title="(Int, Typers.this.global.erasure.global.Type)" class="delimiter">(</a><span class="delimiter">(</span><a href="#589106" title="Int" id="589107">level</a>, <a href="#589106" title="Typers.this.global.erasure.global.Type" id="589108">manifType</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="../Global.scala.html#64929" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#111733" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../transform/Erasure.scala.html#498708" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span title="Option[(Int, Typers.this.global.erasure.global.Type)] @unchecked" class="delimiter">(</span><a href="#589086" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589107" title="Int">level</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../symtab/Definitions.scala.html#106463" title="=&gt; Int">MaxArrayDims</a><span class="delimiter">)</span> 
                <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;cannot create a generic multi-dimensional array of more than &quot;)" class="string">&quot;cannot create a generic multi-dimensional array of more than &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Definitions.scala.html#106463" title="=&gt; Int">MaxArrayDims</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; dimensions&quot;)" class="string">&quot; dimensions&quot;</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.ApplyToImplicitArgs" id="589109">newArrayApp</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyToImplicitArgs)Typers.this.global.ApplyToImplicitArgs">atPos</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589129">manif</a> = <a href="#106081" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589108" title="Typers.this.global.erasure.global.Type">manifType</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#67831" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#589129" title="Typers.this.global.Tree">manif</a>, <a href="Analyzer.scala.html#105627" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName" class="keyword">if</a> <span class="delimiter">(</span><a href="#589107" title="Int">level</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589107" title="Int">level</a><span class="delimiter">)</span>, <a href="#589088" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589109" title="Typers.this.global.ApplyToImplicitArgs">newArrayApp</a>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589166">tree1</a> =&gt;
              <a href="#589166" title="Typers.this.global.Tree">tree1</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.ApplyDynamic">ApplyDynamic</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589169">qual</a>, <a title="List[Typers.this.global.Tree]" id="589170">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="589171">reflectiveCalls</a> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36789" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">refinementMethodDispatch</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; java.lang.String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;invoke-dynamic&quot;)" class="string">&quot;invoke-dynamic&quot;</span><span class="delimiter">)</span> 
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589172">qual1</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589169" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="589173">args1</a> = <a href="#589170" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589192">arg</a> =&gt; <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589171" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589192" title="Typers.this.global.Tree">arg</a>, <a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589192" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162547" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.ApplyDynamic">ApplyDynamic</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#589172" title="Typers.this.global.Tree">qual1</a>, <a href="#589173" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ApplyDynamic">setType</span> <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#589171" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Super">Super</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589218">qual</a>, <a title="Typers.this.global.TypeName" id="589219">mix</a><span class="delimiter">)</span> =&gt;
          <a href="#585265" title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">typedSuper</a><span class="delimiter">(</span><a href="#589218" title="Typers.this.global.Tree">qual</a>, <a href="#589219" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="589223">qual</a><span class="delimiter">)</span> =&gt;
          <a href="#585266" title="(qual: Typers.this.global.Name)Typers.this.global.Tree">typedThis</a><span class="delimiter">(</span><a href="#589223" title="Typers.this.global.TypeName">qual</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Super" id="589228">qual</a> @ Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589233">qual1</a> = 
            <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589228" title="Typers.this.global.Super">qual</a>, EXPRmode | QUALmode | POLYmode <span title="Int(353)">|</span> SUPERCONSTRmode, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="comment">// the qualifier type of a supercall constructor is its first parent class</span>
          <a href="#585267" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589233" title="Typers.this.global.Tree">qual1</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589254">qual</a>, <a title="Typers.this.global.Name" id="589255">name</a><span class="delimiter">)</span> =&gt;
          <a href="../util/Statistics.scala.html#67162" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67243" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedSelectCount</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="589256">qual1</a> = <a href="TypeDiagnostics.scala.html#574598" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#106067" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#589254" title="Typers.this.global.Tree">qual</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589255" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96597" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#589256" title="Typers.this.global.Tree">qual1</a> = <a href="#105974" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#589256" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589257">tree1</a> = <span class="comment">// temporarily use `filter' and an alternative for `withFilter'</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589255" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115608" title="=&gt; Typers.this.global.nme.NameType">withFilter</a><span class="delimiter">)</span>
              <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="589273">_</a> =&gt; <a href="#585267" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589256" title="Typers.this.global.Tree">qual1</a>, <a href="#589255" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589279">result1</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt; 
                  <a href="#589279" title="Typers.this.global.Tree">result1</a>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589280">ex1</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="#106001" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="589286">_</a> =&gt; <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#589256" title="Typers.this.global.Tree">qual1</a>, <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115496" title="=&gt; Typers.this.global.nme.NameType">filter</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#501332" title="Int">mode</a>, <a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589312">result2</a>: <span title="Typers.this.global.Tree">Tree</span> =&gt;
                      <a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96453" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
                        <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;`withFilter\' method does not yet exist on &quot;)" class="string">&quot;`withFilter' method does not yet exist on &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589256" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a><span title="(x$1: Any)java.lang.String">+</span>
                        <span title="java.lang.String(&quot;, using `filter\' method instead&quot;)" class="string">&quot;, using `filter' method instead&quot;</span><span class="delimiter">)</span>
                      <a href="#589312" title="Typers.this.global.Tree">result2</a>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589313">ex2</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                      <a href="TypeDiagnostics.scala.html#105955" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589280" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
                      <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span>
              <a href="#585267" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589256" title="Typers.this.global.Tree">qual1</a>, <a href="#589255" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589256" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106175" title="=&gt; Typers.this.global.Symbol">RootPackage</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162551" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#589257" title="Typers.this.global.Tree">tree1</a>, <a href="#589255" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#589257" title="Typers.this.global.Tree">tree1</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="589329">name</a><span class="delimiter">)</span> =&gt;
          <a href="../util/Statistics.scala.html#67162" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67241" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedIdentCount</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#589329" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67724" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
              <span class="delimiter">(</span><a href="#589329" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67720" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115038" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4)">TYPEmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="Infer.scala.html#106111" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#501333" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span> 
            <a href="#585268" title="(name: Typers.this.global.Name)Typers.this.global.Tree">typedIdent</a><span class="delimiter">(</span><a href="#589329" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          
        <span class="keyword">case</span> <span title="tree.type">Literal</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="589366">value</a><span class="delimiter">)</span> =&gt;
          <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#589366" title="Typers.this.global.Constant">value</a>.<span title="=&gt; Int">tag</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#148410" title="(value: Typers.this.global.Constant)Typers.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#589366" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="tree.type">SingletonTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589374">ref</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589375">ref1</a> = <a href="#105974" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span>
            <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#589374" title="Typers.this.global.Tree">ref</a>, EXPRmode <span title="Int(65)">|</span> QUALmode <span title="(x: Int)Int">|</span> <span class="delimiter">(</span><a href="#501332" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106218" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#589375" title="Typers.this.global.Tree">ref1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105468" title="=&gt; Typers.this.global.Type">resultType</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589396">qual</a>, <a title="Typers.this.global.TypeName" id="589397">selector</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589398">qual1</a> = <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589396" title="Typers.this.global.Tree">qual</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589398" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105447" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="java.lang.String(&quot;illegal type selection from volatile type &quot;)" class="string">&quot;illegal type selection from volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589396" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> 
          <a href="#585267" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#589398" title="Typers.this.global.Tree">qual1</a>, <a href="#589397" title="Typers.this.global.TypeName">selector</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">CompoundTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Template" id="589404">templ</a><span class="delimiter">)</span> =&gt;
          <a href="#585269" title="(templ: Typers.this.global.Template)Typers.this.global.Tree">typedCompoundTypeTree</a><span class="delimiter">(</span><a href="#589404" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AppliedTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589407">tpt</a>, <a title="List[Typers.this.global.Tree]" id="589408">args</a><span class="delimiter">)</span> =&gt;
          <a href="#585270" title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedAppliedTypeTree</a><span class="delimiter">(</span><a href="#589407" title="Typers.this.global.Tree">tpt</a>, <a href="#589408" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.TypeBoundsTree">TypeBoundsTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589411">lo</a>, <a title="Typers.this.global.Tree" id="589412">hi</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589413">lo1</a> = <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589411" title="Typers.this.global.Tree">lo</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589414">hi1</a> = <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589412" title="Typers.this.global.Tree">hi</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#67786" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162560" title="(tree: Typers.this.global.Tree, lo: Typers.this.global.Tree, hi: Typers.this.global.Tree)Typers.this.global.TypeBoundsTree">TypeBoundsTree</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#589413" title="Typers.this.global.Tree">lo1</a>, <a href="#589414" title="Typers.this.global.Tree">hi1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeBoundsTree">setType</span> <a href="../symtab/Types.scala.html#148501" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#589413" title="Typers.this.global.Tree">lo1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#589414" title="Typers.this.global.Tree">hi1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589432">etpt</a> @ ExistentialTypeTree<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106840" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#501331" title="Typers.this.global.Tree">tree</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#106053" title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree">typedExistentialTypeTree</a><span class="delimiter">(</span><a href="#589432" title="Typers.this.global.ExistentialTypeTree">etpt</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeTreeWithDeferredRefCheck" id="589435">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#589435" title="Typers.this.global.TypeTreeWithDeferredRefCheck">dc</a> <span class="comment">// TODO: should we re-type the wrapped tree? then we need to change TypeTreeWithDeferredRefCheck's representation to include the wrapped tree explicitly (instead of in its closure)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589437">tpt</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589437" title="Typers.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135861" title="=&gt; Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#589437" title="Typers.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#135861" title="=&gt; Typers.this.global.Tree">original</a>, <a href="#501332" title="Int">mode</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="keyword">else</span>
            <span class="comment">// we should get here only when something before failed </span>
            <span class="comment">// and we try again (@see tryTypedApply). In that case we can assign </span>
            <span class="comment">// whatever type to tree; we just have to survive until a real error message is issued.</span>
            <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../symtab/Definitions.scala.html#106216" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="tree.type">Import</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589452">expr</a>, <a title="List[Typers.this.global.ImportSelector]" id="589453">selectors</a><span class="delimiter">)</span> =&gt;
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="../Global.scala.html#65004" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="comment">// should not happen in normal circumstances.</span>
          <a href="#501331" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unexpected tree: &quot;)" class="string">&quot;unexpected tree: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#501331" title="Typers.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#501331" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106060">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="106929">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="106930">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="106931">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#106056" title="()Unit">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="589461">dropExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="589463">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <a href="#589463" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="589466">tparams</a>, <a title="Typers.this.global.Type" id="589467">tpe</a><span class="delimiter">)</span> =&gt; 
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Dropping existential: &quot;)" class="string">&quot;Dropping existential: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106929" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#589463" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="Typers.this.global.SubstWildcardMap" class="keyword">new</span> <a href="../symtab/Types.scala.html#67538" title="Typers.this.global.SubstWildcardMap">SubstWildcardMap</a><span class="delimiter">(</span><a href="#589466" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#458720" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#589463" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="589479">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#589479" title="Typers.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="589480">tp0</a> = <a href="#589463" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="589481">tp1</a> = <a href="#589461" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#589480" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#589481" title="Typers.this.global.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#589480" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span> <a href="#589463" title="Typers.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#589481" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#589463" title="Typers.this.global.Type">tp</a>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Boolean" id="589462">alreadyTyped</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#30925" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#67155" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="589484">t</a> = <a href="../util/Statistics.scala.html#67160" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#67187" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../util/Statistics.scala.html#67181" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67187" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#589547" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#589484" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#67190" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <span class="delimiter">}</span>
          <a href="../util/Statistics.scala.html#67191" title="(x$1: Long)Unit">typerTime</a> = <a href="#589484" title="Long">t</a>
          <a href="../util/Statistics.scala.html#67188" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span> <a href="#589577" title="(x: Class[_])List[Class[_]]">::</a> <a href="../util/Statistics.scala.html#67187" title="=&gt; List[Class[_]]">pendingTreeTypes</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106815" title="=&gt; Boolean">retyping</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105486" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105515" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#106931" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../symtab/Symbols.scala.html#67339" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        
        <a href="#589462" title="Boolean">alreadyTyped</a> = <a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="589482">tree1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589462" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <a href="#106929" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#106057" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
            <a href="../symtab/TypeDebugging.scala.html#151738" title="(label: String, pairs: (String, Any)*)String">ptLine</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typing %s: pt = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="../symtab/TypeDebugging.scala.html#151739" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#106931" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;undetparams&quot;</span>      <span title="(y: List[Typers.this.global.Symbol])(java.lang.String, List[Typers.this.global.Symbol])">-&gt;</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106826" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;implicitsEnabled&quot;</span> <span title="(y: Boolean)(java.lang.String, Boolean)">-&gt;</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106809" title="=&gt; Boolean">implicitsEnabled</a>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;silent&quot;</span>           <span title="(y: Boolean)(java.lang.String, Boolean)">-&gt;</span> <span title="=&gt; Boolean">!</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106803" title="=&gt; Boolean">reportGeneralErrors</a>,
              <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;context.owner&quot;</span>    <span title="(y: Typers.this.global.Symbol)(java.lang.String, Typers.this.global.Symbol)">-&gt;</span> <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589600">tree1</a> = <a href="#106059" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a>, <a href="#106930" title="Int">mode</a>, <a href="#589461" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#106931" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#106057" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed %s: %s%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="../symtab/TypeDebugging.scala.html#151739" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#589600" title="Typers.this.global.Tree">tree1</a><span class="delimiter">)</span>, <a href="#589600" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, 
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#67599" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#589600" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; with underlying &quot;)" class="string">&quot; with underlying &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#589600" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#589600" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>
       
        <a href="#589482" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../symtab/AnnotationCheckers.scala.html#67774" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#589482" title="Typers.this.global.Tree">tree1</a>, <a href="#589482" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589483">result</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589482" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#589482" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#106005" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#589482" title="Typers.this.global.Tree">tree1</a>, <a href="#106930" title="Int">mode</a>, <a href="#106931" title="Typers.this.global.Type">pt</a>, <a href="#106929" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#589462" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#106057" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;adapted %s: %s to %s, %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#589482" title="Typers.this.global.Tree">tree1</a>, <a href="#589482" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105458" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#106931" title="Typers.this.global.Type">pt</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106825" title="=&gt; java.lang.String">undetparamsString</a><span class="delimiter">)</span>
          <span class="delimiter">)</span> <span class="comment">//DEBUG</span>
        <span class="delimiter">}</span>

<span class="comment">//      for (t &lt;- tree1.tpe) assert(t != WildcardType)</span>
<span class="comment">//      if ((mode &amp; TYPEmode) != 0) println(&quot;type: &quot;+tree1+&quot; has type &quot;+tree1.tpe)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#102966" title="=&gt; Int">id</a><span class="delimiter">)</span> <a href="../Global.scala.html#64867" title="(context: Typers.this.global.analyzer.Context, old: Typers.this.global.Tree, result: Typers.this.global.Tree)Unit">signalDone</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#105654" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#106929" title="Typers.this.global.Tree">tree</a>, <a href="#589483" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span>
        <a href="#589483" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="589683">ex</a>: <a href="../symtab/Types.scala.html#67669" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <a href="#106057" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;caught %s: while typing %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#589683" title="Typers.this.global.TypeError">ex</a>, <a href="#106929" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//DEBUG</span>
          <a href="TypeDiagnostics.scala.html#105955" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589683" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#106091" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="589691">ex</a>: <span title="Exception">Exception</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="comment">// @M causes cyclic reference error</span>
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106929" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#106931" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#64882" title="(msg: String, t: Throwable)Unit">logError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;AT: &quot;)" class="string">&quot;AT: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#106929" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>.<a href="../util/Position.scala.html#97240" title="=&gt; java.lang.String">dbgString</a>, <a href="#589691" title="Exception">ex</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#589691" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#106055" title="()Unit">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>
          
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#30925" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#67155" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="589701">t</a> = <a href="../util/Statistics.scala.html#67160" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#67181" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67187" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#589748" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#589701" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#67190" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <a href="../util/Statistics.scala.html#67184" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">visitsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#67187" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#589821" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="../util/Statistics.scala.html#67191" title="(x$1: Long)Unit">typerTime</a> = <a href="#589701" title="Long">t</a>
          <a href="../util/Statistics.scala.html#67188" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="../util/Statistics.scala.html#67187" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; List[Class[_]]">tail</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol)Typers.this.Typer" id="106061">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="495175">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#105749" title="Typers.this.Typer">Typer</a> =
      <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106841" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106752" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#495175" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Typer" id="106062">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="495170">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="495171">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#105749" title="Typers.this.Typer">Typer</a> =
      <a href="#105745" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106841" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#495170" title="Typers.this.global.Tree">tree</a>, <a href="#495171" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Types expression or definition &lt;code&gt;tree&lt;/code&gt;.
     *
     *  @param tree ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="106063">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="106926">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589847">ret</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#106926" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <a href="#589847" title="Typers.this.global.Tree">ret</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="106064">typedPos</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="496279">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="496280">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#106063" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#496279" title="Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#496280" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Types expression &lt;code&gt;tree&lt;/code&gt; with given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106065">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="106085">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="106086">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#106085" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="#106086" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="comment">/** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106066">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="314543">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="314544">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="314545">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#314543" title="Typers.this.global.Tree">tree</a>, EXPRmode | QUALmode <span title="Int(97)">|</span> POLYmode <span title="(x: Int)Int">|</span> <a href="#314544" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span>, <a href="#314545" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="comment">// TR: don't set BYVALmode, since qualifier might end up as by-name param to an implicit</span>

    <span class="comment">/** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="106067">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="314538">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="314539">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#106066" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#314538" title="Typers.this.global.Tree">tree</a>, <a href="#314539" title="Int">mode</a>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="106068">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="314535">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#106066" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#314535" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types function part of an application */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="106069">typedOperator</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="526016">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#526016" title="Typers.this.global.Tree">tree</a>, EXPRmode | FUNmode | POLYmode <span title="Int(177)">|</span> TAPPmode, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types a pattern with prototype &lt;code&gt;pt&lt;/code&gt; */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106070">typedPattern</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="581098">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="581099">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="comment">// We disable implicits because otherwise some constructs will</span>
      <span class="comment">// type check which should not.  The pattern matcher does not</span>
      <span class="comment">// perform implicit conversions in an attempt to consummate a match.</span>
      <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106832" title="(op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#581098" title="Typers.this.global.Tree">tree</a>, <span title="Int(2)">PATTERNmode</span>, <a href="#581099" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Types a (fully parameterized) type tree */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="106071">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="552953">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="552954">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#552953" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#105722" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#552954" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types a (fully parameterized) type tree */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="106072">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="552950">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#552950" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="comment">/** Types a higher-kinded type tree -- pt denotes the expected kind*/</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106073">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585149">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="585150">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="585151">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#585151" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#106071" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#585149" title="Typers.this.global.Tree">tree</a>, <a href="#585150" title="Int">mode</a><span class="delimiter">)</span> <span class="comment">// kind is known and it's *</span>
      <span class="keyword">else</span> <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585149" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="#585151" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="106074">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585146">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="585147">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = 
      <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#585146" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
             
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="106075">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="585144">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#106074" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#585144" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="comment">/** Types a type constructor tree used in a new or supertype */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="106076">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577457">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="577458">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589932">result</a> = <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#577457" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#105722" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#577458" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span>, <a href="../symtab/Types.scala.html#67401" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="589933">restpe</a> = <a href="#589932" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105483" title="=&gt; Typers.this.global.Type">normalize</a> <span class="comment">// normalize to get rid of type aliases for the following check (#1241)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589933" title="Typers.this.global.Type">restpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67444" title="Typers.this.global.TypeRef">TypeRef</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#589933" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105464" title="=&gt; Typers.this.global.Type">prefix</a>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106749" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96457" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// The isJava exception if OK only because the only type constructors scalac gets </span>
        <span class="comment">// to see are those in the signatures. These do not need a unique object as a prefix. </span>
        <span class="comment">// The situation is different for new's and super's, but scalac does not look deep </span>
        <span class="comment">// enough to see those. See #3938</span>
        <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#577457" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#589933" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#105464" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">prefix</a><span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; is not a legal prefix for a constructor&quot;)" class="string">&quot; is not a legal prefix for a constructor&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">//@M fix for #2208</span>
      <span class="comment">// if there are no type arguments, normalization does not bypass any checks, so perform it to get rid of AnyRef</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span><span class="delimiter">(</span><a href="#589932" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// minimal check: if(result.tpe.typeSymbolDirect eq AnyRefClass) {</span>
        <span class="comment">// must expand the fake AnyRef type alias, because bootstrapping (init in Definitions) is not</span>
        <span class="comment">// designed to deal with the cycles in the scala package (ScalaObject extends</span>
        <span class="comment">// AnyRef, but the AnyRef type alias is entered after the scala package is</span>
        <span class="comment">// loaded and completed, so that ScalaObject is unpickled while AnyRef is not</span>
        <span class="comment">// yet defined )</span>
        <a href="#589932" title="Typers.this.global.Tree">result</a> <span title="(tp: Typers.this.global.Type)result.type">setType</span><span class="delimiter">(</span><a href="#589933" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// must not normalize: type application must be (bounds-)checked (during RefChecks), see #2208</span>
        <span class="comment">// during uncurry (after refchecks), all types are normalized</span>
        <a href="#589932" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="106077">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="577455">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#106076" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#577455" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Type" id="106078">computeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="411592">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="411593">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="589950">tree1</a> = <a href="#106065" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#411592" title="Typers.this.global.Tree">tree</a>, <a href="#411593" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#105738" title="(key: Typers.this.global.Tree, value: Typers.this.global.Tree)Unit">transformed</a><span class="delimiter">(</span><a href="#411592" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#589950" title="Typers.this.global.Tree">tree1</a>
      <a href="#106052" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#589950" title="Typers.this.global.Tree">tree1</a>, <a href="#105971" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#106755" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="106079">transformedOrTyped</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="579373">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="579374">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="579375">pt</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#105738" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">get</span><span class="delimiter">(</span><a href="#579373" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="589963">tree1</a><span class="delimiter">)</span> =&gt; <a href="#105738" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Typers.this.transformed.type">-=</span> <a href="#579373" title="Typers.this.global.Tree">tree</a>; <a href="#589963" title="Typers.this.global.Tree">tree1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">None</span> =&gt; <a href="#106060" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#579373" title="Typers.this.global.Tree">tree</a>, <a href="#579374" title="Int">mode</a>, <a href="#579375" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult" id="106080">findManifest</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="532479">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="532480">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Typers.this.SearchResult)Typers.this.SearchResult">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Implicits.scala.html#105783" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span>
        <a href="Analyzer.scala.html#105627" title="object Typers.this.global.EmptyTree">EmptyTree</a>, 
        <a href="../symtab/Types.scala.html#67489" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><span class="delimiter">(</span><span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#532480" title="Boolean">full</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106418" title="=&gt; Typers.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106414" title="=&gt; Typers.this.global.Symbol">PartialManifestClass</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107577" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#532479" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#105971" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree" id="106081">getManifestTree</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="532511">pos</a>: <a href="../util/Position.scala.html#30588" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="532512">tp</a>: <a href="../symtab/Types.scala.html#67392" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="532513">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="589976">manifestOpt</a> = <a href="#106080" title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult">findManifest</a><span class="delimiter">(</span><a href="#532512" title="Typers.this.global.Type">tp</a>, <a href="#532513" title="Boolean">full</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589976" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#314574" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="Infer.scala.html#106094" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#532511" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cannot find &quot;)" class="string">&quot;cannot find &quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#532513" title="Boolean">full</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;class &quot;)" class="string">&quot;class &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;manifest for element type &quot;)" class="string">&quot;manifest for element type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#532512" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#105627" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="Analyzer.scala.html#105627" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#589976" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#314574" title="=&gt; Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="comment">/*
    def convertToTypeTree(tree: Tree): Tree = tree match {
      case TypeTree() =&gt; tree
      case _ =&gt; TypeTree(tree.tpe)
    }
*/</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>