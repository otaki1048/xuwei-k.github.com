<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/util/ClassPath.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2006-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> util

<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> io.<span class="delimiter">{</span> File, Directory, Path, Jar, AbstractFile, ClassAndJarInfo <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#31727" title="object scala.tools.util.StringOps">StringOps</a>.splitWhere
<span class="keyword">import</span> <a href="../io/Jar.scala.html#21334" title="object scala.tools.nsc.io.Jar">Jar</a>.isJarOrZip
<span class="keyword">import</span> <a href="../io/File.scala.html#20974" title="object scala.tools.nsc.io.File">File</a>.pathSeparator

<span class="comment">/** &lt;p&gt;
 *    This module provides star expansion of '-classpath' option arguments, behaves the same as
 *    java, see [http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html]
 *  &lt;/p&gt;
 *
 *  @author Stepan Koltsov
 */</span>
<span class="keyword">object</span> <a title="object scala.tools.nsc.util.ClassPath" id="30879">ClassPath</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Option[scala.tools.nsc.io.Path]" id="69781">scalaLibrary</a>  = <a href="#391798" title="[T](implicit evidence$2: ClassManifest[T])Option[scala.tools.nsc.io.Path]">locate</a><span title="(implicit evidence$2: ClassManifest[ScalaObject])Option[scala.tools.nsc.io.Path]" class="delimiter">[</span><span title="ScalaObject">ScalaObject</span><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; Option[scala.tools.nsc.io.Path]" id="69782">scalaCompiler</a> = <a href="#391798" title="[T](implicit evidence$2: ClassManifest[T])Option[scala.tools.nsc.io.Path]">locate</a><span title="(implicit evidence$2: ClassManifest[scala.tools.nsc.Global])Option[scala.tools.nsc.io.Path]" class="delimiter">[</span><a href="../Global.scala.html#10573" title="scala.tools.nsc.Global">Global</a><span class="delimiter">]</span>
  
  <span class="keyword">def</span> <a title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" id="391801">info</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69785">T</a>: ClassManifest<span class="delimiter">]</span>      = <a href="#391801" title="scala.tools.nsc.io.ClassAndJarInfo[T]" class="keyword">new</a> <a href="../io/ClassAndJarInfo.scala.html#21276" title="scala.tools.nsc.io.ClassAndJarInfo[T]">ClassAndJarInfo</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[T](implicit evidence$2: ClassManifest[T])Option[scala.tools.nsc.io.Path]" id="391798">locate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69788">T</a>: ClassManifest<span class="delimiter">]</span>    = <a href="#391801" title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]">info</a><a href="#391798" title="(implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" class="delimiter">[</a><a href="#69788" title="T">T</a><span class="delimiter">]</span> <a href="../io/ClassAndJarInfo.scala.html#382389" title="=&gt; Option[scala.tools.nsc.io.Path]">rootClasspath</a>
  <span class="keyword">def</span> <a title="[T](implicit evidence$3: ClassManifest[T])Option[scala.tools.nsc.io.File]" id="593816">locateJar</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69791">T</a>: ClassManifest<span class="delimiter">]</span> = <a href="#391801" title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]">info</a><a href="#593816" title="(implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" class="delimiter">[</a><a href="#69791" title="T">T</a><span class="delimiter">]</span>.<a href="../io/ClassAndJarInfo.scala.html#382392" title="=&gt; Iterator[scala.tools.nsc.io.Path]">rootPossibles</a> <span title="(p: scala.tools.nsc.io.Path =&gt; Boolean)Option[scala.tools.nsc.io.Path]">find</span> <span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="593826">x</a> =&gt; <a href="../io/Jar.scala.html#103573" title="(f: scala.tools.nsc.io.Path)Boolean">isJarOrZip</a><span class="delimiter">(</span><a href="#593826" title="scala.tools.nsc.io.Path">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: scala.tools.nsc.io.Path =&gt; scala.tools.nsc.io.File)Option[scala.tools.nsc.io.File]">map</span> <span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="593833">x</a> =&gt; <a href="../io/File.scala.html#71799" title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File">File</a><span title="=&gt; scala.io.Codec" class="delimiter">(</span><a href="#593833" title="scala.tools.nsc.io.Path">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](implicit evidence$4: ClassManifest[T])Option[scala.tools.nsc.io.Directory]" id="593836">locateDir</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69794">T</a>: ClassManifest<span class="delimiter">]</span> = <a href="#391801" title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]">info</a><a href="#593836" title="(implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" class="delimiter">[</a><a href="#69794" title="T">T</a><span class="delimiter">]</span>.<a href="../io/ClassAndJarInfo.scala.html#382392" title="=&gt; Iterator[scala.tools.nsc.io.Path]">rootPossibles</a> <span title="(p: scala.tools.nsc.io.Path =&gt; Boolean)Option[scala.tools.nsc.io.Path]">find</span> <span class="delimiter">(</span><a href="#593846" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#68106" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <span title="(f: scala.tools.nsc.io.Path =&gt; scala.tools.nsc.io.Directory)Option[scala.tools.nsc.io.Directory]">map</span> <span class="delimiter">(</span><a href="#593850" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#68069" title="=&gt; scala.tools.nsc.io.Directory">toDirectory</a><span class="delimiter">)</span>
  
  <span class="comment">/** Expand single path entry */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pattern: String)List[String]" id="69795">expandS</a><span class="delimiter">(</span><a title="String" id="593853">pattern</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="593855">wildSuffix</a> = <a href="../io/File.scala.html#20974" title="object scala.tools.nsc.io.File">File</a>.<a href="../io/File.scala.html#71798" title="=&gt; java.lang.String">separator</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>
    
    <span class="comment">/** Get all subdirectories, jars, zips out of a directory. */</span>
    <span class="keyword">def</span> <a title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]" id="593856">lsDir</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Directory" id="593858">dir</a>: <a href="../io/Directory.scala.html#21564" title="scala.tools.nsc.io.Directory">Directory</a>, <a title="String =&gt; Boolean" id="593860">filt</a>: String =&gt; Boolean = <a title="String" id="593886">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =
      <a href="#593858" title="scala.tools.nsc.io.Directory">dir</a>.<a href="../io/Directory.scala.html#70949" title="=&gt; Iterator[scala.tools.nsc.io.Path]">list</a> <span title="(p: scala.tools.nsc.io.Path =&gt; Boolean)Iterator[scala.tools.nsc.io.Path]">filter</span> <span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="593863">x</a> =&gt; <a href="#593860" title="(v1: String)Boolean">filt</a><span class="delimiter">(</span><a href="#593863" title="scala.tools.nsc.io.Path">x</a>.<a href="../io/Path.scala.html#68080" title="=&gt; String">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#593863" title="scala.tools.nsc.io.Path">x</a>.<a href="../io/Path.scala.html#68106" title="=&gt; Boolean">isDirectory</a> <span title="(x: Boolean)Boolean">||</span> <a href="../io/Jar.scala.html#103573" title="(f: scala.tools.nsc.io.Path)Boolean">isJarOrZip</a><span class="delimiter">(</span><a href="#593863" title="scala.tools.nsc.io.Path">x</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: scala.tools.nsc.io.Path =&gt; String)Iterator[String]">map</span> <span class="delimiter">(</span><a href="#593871" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#68081" title="=&gt; String">path</a><span class="delimiter">)</span> <span title="=&gt; List[String]">toList</span>

    <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="593857">basedir</a><span class="delimiter">(</span><a title="String" id="593876">s</a>: <span title="String">String</span><span class="delimiter">)</span> = 
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#593876" title="String">s</a> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <a href="../io/File.scala.html#20974" title="object scala.tools.nsc.io.File">File</a>.<a href="../io/File.scala.html#71798" title="=&gt; java.lang.String">separator</a><span class="delimiter">)</span> <a href="#593876" title="String">s</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#593876" title="String">s</a>.<span title="(x$1: java.lang.String)Int">lastIndexOf</span><span class="delimiter">(</span><a href="../io/File.scala.html#20974" title="object scala.tools.nsc.io.File">File</a>.<a href="../io/File.scala.html#71798" title="=&gt; java.lang.String">separator</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
    
    <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#593853" title="String">pattern</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span><span class="delimiter">)</span> <a href="#593856" title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]">lsDir</a><span class="delimiter">(</span><a href="../io/Directory.scala.html#92557" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="../io/Path.scala.html#68024" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path" class="string">&quot;.&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#593853" title="String">pattern</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <a href="#593855" title="java.lang.String">wildSuffix</a><span class="delimiter">)</span> <a href="#593856" title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]">lsDir</a><span class="delimiter">(</span><a href="../io/Directory.scala.html#92557" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="#593853" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">pattern</a> <a href="../io/Path.scala.html#68024" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">dropRight</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#593853" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">pattern</a> <span title="(elem: Any)Boolean">contains</span> <span title="Char(\'*\')" class="char">'*'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="593937">regexp</a> = <span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;^%s$&quot;</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">format</span> <a href="#593853" title="String">pattern</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">replaceAll</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\\*&quot;)" class="string">&quot;&quot;&quot;\*&quot;&quot;&quot;</span>, <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;&quot;&quot;.*&quot;&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
      <a href="#593856" title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]">lsDir</a><span class="delimiter">(</span><a href="../io/Directory.scala.html#92557" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="../io/Path.scala.html#68024" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">pattern</a><span class="delimiter">)</span>.<a href="../io/Path.scala.html#68088" title="=&gt; scala.tools.nsc.io.Directory">parent</a>, <a href="#593937" title="scala.util.matching.Regex">regexp</a> <span title="(source: java.lang.CharSequence)Option[String]">findFirstIn</span> <a href="#593945" title="String">_</a> <span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#593853" title="String">pattern</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Return duplicated classpath entries as
   *    (name, list of origins)
   *  in the order they occur on the path.
   */</span>
  <span class="comment">// def findDuplicates(cp: ClassPath[_]) = {</span>
  <span class="comment">//   def toFullName(x: (String, _, cp.AnyClassRep)) = x._1 + &quot;.&quot; + x._3.name</span>
  <span class="comment">//   def toOriginString(x: ClassPath[_]) = x.origin getOrElse x.name</span>
  <span class="comment">//   </span>
  <span class="comment">//   /** Flatten everything into tuples, recombine grouped by name, filter down to 2+ entries. */</span>
  <span class="comment">//   val flattened = (</span>
  <span class="comment">//     for ((pkgName, pkg) &lt;- cp.allPackagesWithNames ; clazz &lt;- pkg.classes) yield</span>
  <span class="comment">//       (pkgName, pkg, clazz)</span>
  <span class="comment">//   )</span>
  <span class="comment">//   val multipleAppearingEntries = flattened groupBy toFullName filter (_._2.size &gt; 1)</span>
  <span class="comment">// </span>
  <span class="comment">//   /** Extract results. */</span>
  <span class="comment">//   for (name &lt;- flattened map toFullName distinct ; dups &lt;- multipleAppearingEntries get name) yield</span>
  <span class="comment">//     (name, dups map { case (_, cp, _) =&gt; toOriginString(cp) })</span>
  <span class="comment">// }</span>

  <span class="comment">/** Split classpath using platform-dependent path separator */</span>
  <span class="keyword">def</span> <a title="(path: String)List[String]" id="69796">split</a><span class="delimiter">(</span><a title="String" id="593953">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#593953" title="String">path</a> <span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">split</span> <a href="../io/File.scala.html#71797" title="=&gt; java.lang.String">pathSeparator</a><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span> <span title="(p: java.lang.String =&gt; Boolean)List[java.lang.String]">filterNot</span> <span class="delimiter">(</span><a href="#594065" title="java.lang.String">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="=&gt; List[java.lang.String]">distinct</span>
  
  <span class="comment">/** Join classpath using platform-dependent path separator */</span>
  <span class="keyword">def</span> <a title="(paths: String*)String" id="69797">join</a><span class="delimiter">(</span><a title="String*" id="69819">paths</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="String">String</span>  = <a href="#69819" title="String*">paths</a> <span title="(p: String =&gt; Boolean)Seq[String]">filterNot</span> <span class="delimiter">(</span><a href="#594074" title="String">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(sep: String)String">mkString</span> <a href="../io/File.scala.html#71797" title="=&gt; java.lang.String">pathSeparator</a>
  
  <span class="comment">/** Split the classpath, apply a transformation function, and reassemble it. */</span>
  <span class="keyword">def</span> <a title="(cp: String, f: String =&gt; String)String" id="69798">map</a><span class="delimiter">(</span><a title="String" id="415126">cp</a>: <span title="String">String</span>, <a title="String =&gt; String" id="415127">f</a>: String =&gt; String<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#69797" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#69796" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#415126" title="String">cp</a><span class="delimiter">)</span> <span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</span> <a href="#415127" title="String =&gt; String">f</a>: _*<span class="delimiter">)</span>
  
  <span class="comment">/** Split the classpath, filter according to predicate, and reassemble. */</span>
  <span class="keyword">def</span> <a title="(cp: String, p: String =&gt; Boolean)String" id="69799">filter</a><span class="delimiter">(</span><a title="String" id="594127">cp</a>: <span title="String">String</span>, <a title="String =&gt; Boolean" id="594128">p</a>: String =&gt; Boolean<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#69797" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#69796" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#594127" title="String">cp</a><span class="delimiter">)</span> <span title="(p: String =&gt; Boolean)List[String]">filter</span> <a href="#594128" title="String =&gt; Boolean">p</a>: _*<span class="delimiter">)</span>
  
  <span class="comment">/** Split the classpath and map them into Paths */</span>
  <span class="keyword">def</span> <a title="(cp: String)List[scala.tools.nsc.io.Path]" id="69800">toPaths</a><span class="delimiter">(</span><a title="String" id="391188">cp</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[scala.tools.nsc.io.Path]">List</span><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="#69796" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#391188" title="String">cp</a><span class="delimiter">)</span> <span title="(f: String =&gt; scala.tools.nsc.io.Path)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.io.Path,List[scala.tools.nsc.io.Path]])List[scala.tools.nsc.io.Path]">map</span> <span class="delimiter">(</span><a title="String" id="594153">x</a> =&gt; <a href="../io/Path.scala.html#68032" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#594153" title="String">x</a><span class="delimiter">)</span>.<a href="../io/Path.scala.html#68070" title="=&gt; scala.tools.nsc.io.Path">toAbsolute</a><span class="delimiter">)</span>
  
  <span class="comment">/** Make all classpath components absolute. */</span>
  <span class="keyword">def</span> <a title="(cp: String)String" id="69801">makeAbsolute</a><span class="delimiter">(</span><a title="String" id="594189">cp</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#69802" title="(paths: scala.tools.nsc.io.Path*)String">fromPaths</a><span class="delimiter">(</span><a href="#69800" title="(cp: String)List[scala.tools.nsc.io.Path]">toPaths</a><span class="delimiter">(</span><a href="#594189" title="String">cp</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
  
  <span class="comment">/** Join the paths as a classpath */</span>
  <span class="keyword">def</span> <a title="(paths: scala.tools.nsc.io.Path*)String" id="69802">fromPaths</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path*" id="594191">paths</a>: <span title="scala.tools.nsc.io.Path*">Path</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#69797" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#594191" title="scala.tools.nsc.io.Path*">paths</a> <span title="(f: scala.tools.nsc.io.Path =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.tools.nsc.io.Path],String,Seq[String]])Seq[String]">map</span> <span class="delimiter">(</span><a href="#594209" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#68081" title="=&gt; String">path</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(urls: java.net.URL*)String" id="69803">fromURLs</a><span class="delimiter">(</span><a title="java.net.URL*" id="594229">urls</a>: <span title="java.net.URL*">URL</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#69802" title="(paths: scala.tools.nsc.io.Path*)String">fromPaths</a><span class="delimiter">(</span><a href="#594229" title="java.net.URL*">urls</a> <span title="(f: java.net.URL =&gt; scala.tools.nsc.io.Path)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.net.URL],scala.tools.nsc.io.Path,Seq[scala.tools.nsc.io.Path]])Seq[scala.tools.nsc.io.Path]">map</span> <span class="delimiter">(</span><a title="java.net.URL" id="594247">x</a> =&gt; <a href="../io/Path.scala.html#68032" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#594247" title="java.net.URL">x</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span><span class="delimiter">)</span> : _*<span class="delimiter">)</span>

  <span class="comment">/** Split the classpath and map them into URLs */</span>
  <span class="keyword">def</span> <a title="(cp: String)List[java.net.URL]" id="69804">toURLs</a><span class="delimiter">(</span><a title="String" id="594275">cp</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[java.net.URL]">List</span><span class="delimiter">[</span>URL<span class="delimiter">]</span> = <a href="#69800" title="(cp: String)List[scala.tools.nsc.io.Path]">toPaths</a><span class="delimiter">(</span><a href="#594275" title="String">cp</a><span class="delimiter">)</span> <span title="(f: scala.tools.nsc.io.Path =&gt; java.net.URL)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.nsc.io.Path],java.net.URL,List[java.net.URL]])List[java.net.URL]">map</span> <span class="delimiter">(</span><a href="#594296" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#68073" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span>

  <span class="comment">/** Expand path and possibly expanding stars */</span>
  <span class="keyword">def</span> <a title="(path: String, expandStar: Boolean)List[String]" id="69805">expandPath</a><span class="delimiter">(</span><a title="String" id="103850">path</a>: <span title="String">String</span>, <a title="Boolean" id="103853">expandStar</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#103853" title="Boolean">expandStar</a><span class="delimiter">)</span> <a href="#69796" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#103850" title="String">path</a><span class="delimiter">)</span> <span title="(f: String =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">flatMap</span> <a href="#69795" title="(pattern: String)List[String]">expandS</a>
    <span class="keyword">else</span> <a href="#69796" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#103850" title="String">path</a><span class="delimiter">)</span>
  
  <span class="comment">/** Expand dir out to contents, a la extdir */</span>
  <span class="keyword">def</span> <a title="(extdir: String)List[String]" id="69806">expandDir</a><span class="delimiter">(</span><a title="String" id="391946">extdir</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../io/AbstractFile.scala.html#21460" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#103880" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#68024" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">extdir</a> <span title="List[String]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type" class="keyword">null</span> =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <a title="List[java.lang.String]" id="594375">dir</a>  =&gt; <a href="#594375" title="scala.tools.nsc.io.AbstractFile">dir</a> <span title="(p: scala.tools.nsc.io.AbstractFile =&gt; Boolean)Iterable[scala.tools.nsc.io.AbstractFile]">filter</span> <span class="delimiter">(</span><a href="#594379" title="scala.tools.nsc.io.AbstractFile">_</a>.<a href="../io/AbstractFile.scala.html#96462" title="=&gt; Boolean">isClassContainer</a><span class="delimiter">)</span> <span title="(f: scala.tools.nsc.io.AbstractFile =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scala.tools.nsc.io.AbstractFile],java.lang.String,Iterable[java.lang.String]])Iterable[java.lang.String]">map</span> <span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="594399">x</a> =&gt; <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#594375" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96459" title="=&gt; scala.tools.nsc.io.package.JFile">file</a>, <a href="#594399" title="scala.tools.nsc.io.AbstractFile">x</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a><span class="delimiter">)</span> <span title="()java.lang.String">getPath</span><span class="delimiter">)</span> <span title="=&gt; List[java.lang.String]">toList</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** A useful name filter. */</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="69807">isTraitImplementation</a><span class="delimiter">(</span><a title="String" id="594421">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#594421" title="String">name</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <span title="java.lang.String(&quot;$class.class&quot;)" class="string">&quot;$class.class&quot;</span>
    
  <span class="keyword">import</span> java.net.MalformedURLException
  <span class="keyword">def</span> <a title="(spec: String)Option[java.net.URL]" id="69809">specToURL</a><span class="delimiter">(</span><a title="String" id="594424">spec</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[java.net.URL]">Option</span><span class="delimiter">[</span>URL<span class="delimiter">]</span> =
    <span class="keyword">try</span> <span title="(x: java.net.URL)Some[java.net.URL]">Some</span><span class="delimiter">(</span><span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#594424" title="String">spec</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span>: <span title="java.net.MalformedURLException">MalformedURLException</span> =&gt; <span title="object None">None</span> <span class="delimiter">}</span>
  
  <span class="comment">/** A class modeling aspects of a ClassPath which should be
   *  propagated to any classpaths it creates.
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ClassPathContext[T] extends java.lang.Object with ScalaObject" id="69810">ClassPathContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="69811">T</a><span class="delimiter">]</span> <a href="#69810" title="ScalaObject" class="delimiter">{</a>
    <span class="comment">/** A filter which can be used to exclude entities from the classpath
     *  based on their name.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)Boolean" id="103825">isValidName</a><span class="delimiter">(</span><a title="String" id="594432">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="comment">/** From the representation to its identifier.
     */</span>
    <span class="keyword">def</span> <a title="(rep: T)String" id="103826">toBinaryName</a><span class="delimiter">(</span><a title="T" id="594434">rep</a>: <a href="#69811" title="T">T</a><span class="delimiter">)</span>: <span title="String">String</span>
    
    <span class="comment">/** Create a new classpath based on the abstract file.
     */</span>
    <span class="keyword">def</span> <a title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]" id="103827">newClassPath</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="103901">file</a>: <a href="../io/AbstractFile.scala.html#21459" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>: <a href="#30878" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
    
    <span class="comment">/** Creators for sub classpaths which preserve this context.
     */</span>
    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="103828">sourcesInPath</a><span class="delimiter">(</span><a title="String" id="104066">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[scala.tools.nsc.util.ClassPath[T]]">List</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="594466">file</a> &lt;- <a href="#69805" title="(path: String, expandStar: Boolean)List[String]">expandPath</a><span title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.SourcePath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.SourcePath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</span><a href="#104066" title="String">path</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> ; <a title="scala.tools.nsc.io.AbstractFile" id="594478">dir</a> &lt;- <span title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</span><span title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.SourcePath[T])Option[scala.tools.nsc.util.SourcePath[T]]" class="delimiter">(</span><a href="../io/AbstractFile.scala.html#21460" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#103880" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#68024" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <span title="scala.tools.nsc.util.SourcePath[T]" class="keyword">new</span> <a href="#30689" title="scala.tools.nsc.util.SourcePath[T]">SourcePath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#594478" title="scala.tools.nsc.io.AbstractFile">dir</a>, <a href="#69810" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" class="keyword">this</a><span class="delimiter">)</span>
    
    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="103829">contentsOfDirsInPath</a><span class="delimiter">(</span><a title="String" id="104026">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[scala.tools.nsc.util.ClassPath[T]]">List</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="594587">dir</a> &lt;- <a href="#69805" title="(path: String, expandStar: Boolean)List[String]">expandPath</a><span title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</span><a href="#104026" title="String">path</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> ; <a title="String" id="594607">name</a> &lt;- <a href="#69806" title="(extdir: String)List[String]">expandDir</a><span title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</span><a href="#594587" title="String">dir</a><span class="delimiter">)</span> ; <a title="scala.tools.nsc.io.AbstractFile" id="594618">entry</a> &lt;- <span title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</span><span title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.ClassPath[T])Option[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</span><a href="../io/AbstractFile.scala.html#21460" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#103880" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#68024" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <a href="#103827" title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]">newClassPath</a><span class="delimiter">(</span><a href="#594618" title="scala.tools.nsc.io.AbstractFile">entry</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="103830">classesAtAllURLS</a><span class="delimiter">(</span><a title="String" id="594711">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[scala.tools.nsc.util.ClassPath[T]]">List</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <span class="delimiter">(</span><a href="#594711" title="String">path</a> <span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">split</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span> <span title="(f: java.lang.String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]">flatMap</span> <a href="#103831" title="(spec: String)List[scala.tools.nsc.util.ClassPath[T]]">classesAtURL</a>

    <span class="keyword">def</span> <a title="(spec: String)List[scala.tools.nsc.util.ClassPath[T]]" id="103831">classesAtURL</a><span class="delimiter">(</span><a title="String" id="594836">spec</a>: <span title="String">String</span><span class="delimiter">)</span> =     
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.net.URL" id="594858">url</a> &lt;- <a href="#69809" title="(spec: String)Option[java.net.URL]">specToURL</a><span class="delimiter">(</span><a href="#594836" title="String">spec</a><span class="delimiter">)</span>.<span title="(f: java.net.URL =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.net.URL],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]">toList</span> ; <a title="scala.tools.nsc.io.AbstractFile" id="594865">location</a> &lt;- <span title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</span><span title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.ClassPath[T])Option[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</span><a href="../io/AbstractFile.scala.html#21460" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#103882" title="(url: java.net.URL)scala.tools.nsc.io.AbstractFile">getURL</a> <a href="#594858" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <a href="#103827" title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]">newClassPath</a><span class="delimiter">(</span><a href="#594865" title="scala.tools.nsc.io.AbstractFile">location</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(path: String)IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="103832">classesInExpandedPath</a><span class="delimiter">(</span><a title="String" id="104037">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#103834" title="(path: String, expand: Boolean)List[scala.tools.nsc.util.ClassPath[T]]">classesInPathImpl</a><span class="delimiter">(</span><a href="#104037" title="String">path</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>.<span title="scala.collection.immutable.IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">toIndexedSeq</span>

    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="103833">classesInPath</a><span class="delimiter">(</span><a title="String" id="103843">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#103834" title="(path: String, expand: Boolean)List[scala.tools.nsc.util.ClassPath[T]]">classesInPathImpl</a><span class="delimiter">(</span><a href="#103843" title="String">path</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="comment">// Internal</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String, expand: Boolean)List[scala.tools.nsc.util.ClassPath[T]]" id="103834">classesInPathImpl</a><span class="delimiter">(</span><a title="String" id="103846">path</a>: <span title="String">String</span>, <a title="Boolean" id="103847">expand</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="103873">file</a> &lt;- <a href="#69805" title="(path: String, expandStar: Boolean)List[String]">expandPath</a><span title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</span><a href="#103846" title="String">path</a>, <a href="#103847" title="Boolean">expand</a><span class="delimiter">)</span> ; <a title="scala.tools.nsc.io.AbstractFile" id="103900">dir</a> &lt;- <span title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</span><span title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.ClassPath[T])Option[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</span><a href="../io/AbstractFile.scala.html#21460" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#103880" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#68024" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <a href="#103827" title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]">newClassPath</a><span class="delimiter">(</span><a href="#103900" title="scala.tools.nsc.io.AbstractFile">dir</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">class</span> <a title="class JavaContext extends scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile] with ScalaObject" id="69812">JavaContext</a> <a href="#69812" title="ScalaObject" class="keyword">extends</a> <a href="#69810" title="scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]">ClassPathContext</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rep: scala.tools.nsc.io.AbstractFile)java.lang.String" id="103836">toBinaryName</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="594984">rep</a>: <a href="../io/AbstractFile.scala.html#21459" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="594988">name</a> = <a href="#594984" title="scala.tools.nsc.io.AbstractFile">rep</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#69815" title="(s: String)Boolean">endsClass</a><span class="delimiter">(</span><a href="#594988" title="String">name</a><span class="delimiter">)</span>, <a href="#594988" title="String">name</a><span class="delimiter">)</span>
      <a href="#594988" title="String">name</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#594988" title="String">name</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(dir: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.DirectoryClassPath" id="103837">newClassPath</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="595015">dir</a>: <a href="../io/AbstractFile.scala.html#21459" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = <span title="scala.tools.nsc.util.DirectoryClassPath" class="keyword">new</span> <a href="#31034" title="scala.tools.nsc.util.DirectoryClassPath">DirectoryClassPath</a><span class="delimiter">(</span><a href="#595015" title="scala.tools.nsc.io.AbstractFile">dir</a>, <a href="#69812" title="scala.tools.nsc.util.ClassPath.JavaContext" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">object</span> <a title="object scala.tools.nsc.util.ClassPath.DefaultJavaContext" id="69813">DefaultJavaContext</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#69812" title="scala.tools.nsc.util.ClassPath.JavaContext">JavaContext</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String)Boolean" id="595042">isValidName</a><span class="delimiter">(</span><a title="String" id="595044">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#69807" title="(name: String)Boolean">isTraitImplementation</a><span class="delimiter">(</span><a href="#595044" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="69815">endsClass</a><span class="delimiter">(</span><a title="String" id="594991">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#594991" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(6)" class="int">6</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#594991" title="String">s</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#594991" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span>
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="69816">endsScala</a><span class="delimiter">(</span><a title="String" id="595047">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#595047" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(6)" class="int">6</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#595047" title="String">s</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#595047" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span>
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="69817">endsJava</a><span class="delimiter">(</span><a title="String" id="595065">s</a>: <span title="String">String</span><span class="delimiter">)</span>  = <a href="#595065" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(5)" class="int">5</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#595065" title="String">s</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#595065" title="String">s</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;.java&quot;)" class="string">&quot;.java&quot;</span>
  
  <span class="comment">/** From the source file to its identifier.
   */</span>
  <span class="keyword">def</span> <a title="(f: scala.tools.nsc.io.AbstractFile)String" id="69818">toSourceName</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="595083">f</a>: <a href="../io/AbstractFile.scala.html#21459" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="595085">name</a> = <a href="#595083" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a>

    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#69816" title="(s: String)Boolean">endsScala</a><span class="delimiter">(</span><a href="#595085" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#595085" title="String">name</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#595085" title="String">name</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#69817" title="(s: String)Boolean">endsJava</a><span class="delimiter">(</span><a href="#595085" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#595085" title="String">name</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#595085" title="String">name</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.FatalError" class="keyword">new</span> <a href="../FatalError.scala.html#10594" title="scala.tools.nsc.FatalError">FatalError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unexpected source file ending: &quot;)" class="string">&quot;Unexpected source file ending: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#595085" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="#30879" title="object scala.tools.nsc.util.ClassPath">ClassPath</a>._

<span class="comment">/**
 * Represents a package which contains classes and other packages
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ClassPath[T] extends java.lang.Object with ScalaObject" id="30878">ClassPath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31295">T</a><span class="delimiter">]</span> <a href="#30878" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">type</span> <a title="scala.tools.nsc.util.ClassPath[T]#ClassRep" id="103755">AnyClassRep</a> = ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span>#<a href="#595132" title="scala.tools.nsc.util.ClassPath[T]#ClassRep">ClassRep</a>

  <span class="comment">/**
   * The short name of the package (without prefix)
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="103756">name</a>: <span title="String">String</span>
  
  <span class="comment">/**
   * A String representing the origin of this classpath element, if known.
   * For example, the path of the directory or jar.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[String]" id="103757">origin</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object None">None</span>
  
  <span class="comment">/** A list of URLs representing this classpath.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="103758">asURLs</a>: <span title="List[java.net.URL]">List</span><span class="delimiter">[</span>URL<span class="delimiter">]</span>
  
  <span class="comment">/** The whole classpath in the form of one String.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="103759">asClasspathString</a>: <span title="String">String</span>

  <span class="comment">/** Info which should be propagated to any sub-classpaths.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="103760">context</a>: <a href="#69810" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

  <span class="comment">/** Lists of entities.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; IndexedSeq[ClassPath.this.AnyClassRep]" id="103761">classes</a>: <span title="IndexedSeq[ClassPath.this.AnyClassRep]">IndexedSeq</span><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="103762">packages</a>: <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="103763">sourcepaths</a>: <span title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</span><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span>
  
  <span class="comment">/** Information which entails walking the tree.  This is probably only
   *  necessary for tracking down problems - it's normally not used.
   */</span>
  <span class="comment">// def allPackages: List[ClassPath[T]] = packages ::: (packages flatMap (_.allPackages))</span>
  <span class="comment">// def allPackageNames: List[String] = {</span>
  <span class="comment">//   def subpackages(prefix: String, cp: ClassPath[T]): List[String] = (</span>
  <span class="comment">//     (cp.packages map (prefix + _.name)) :::</span>
  <span class="comment">//     (cp.packages flatMap (x =&gt; subpackages(prefix + x.name + &quot;.&quot;, x)))</span>
  <span class="comment">//   )</span>
  <span class="comment">//   subpackages(&quot;&quot;, this)</span>
  <span class="comment">// }</span>
  <span class="comment">// def allPackagesWithNames: List[(String, ClassPath[T])] = {</span>
  <span class="comment">//   val root = packages map (p =&gt; p.name -&gt; p)</span>
  <span class="comment">//   val subs =</span>
  <span class="comment">//     for ((prefix, p) &lt;- root ; (k, v) &lt;- p.allPackagesWithNames) yield</span>
  <span class="comment">//       (prefix + &quot;.&quot; + k, v)</span>
  <span class="comment">//   </span>
  <span class="comment">//   root ::: subs</span>
  <span class="comment">// }</span>

  <span class="comment">/**
   * Represents classes which can be loaded with a ClassfileLoader/MSILTypeLoader
   * and / or a SourcefileLoader.
   */</span>
  case <span class="keyword">class</span> <a title="class ClassRep extends java.lang.Object with ScalaObject with Product with Serializable" id="595132">ClassRep</a><a href="#595132" title="ScalaObject" class="delimiter">(</a><a title="Option[T]" id="595356">binary</a>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Option[scala.tools.nsc.io.AbstractFile]" id="595357">source</a>: <span title="Option[scala.tools.nsc.io.AbstractFile]">Option</span><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="440646">name</a>: <span title="String">String</span> = <a href="#595356" title="=&gt; Option[T]">binary</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String">Some</span><span class="delimiter">(</span><a title="T" id="595111">x</a><span class="delimiter">)</span>  =&gt; <a href="#103760" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a>.<a href="#103826" title="(rep: T)String">toBinaryName</a><span class="delimiter">(</span><a href="#595111" title="T">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="String">_</span>        =&gt;
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#595357" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
        <a href="#69818" title="(f: scala.tools.nsc.io.AbstractFile)String">toSourceName</a><span class="delimiter">(</span><a href="#595357" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<span title="=&gt; scala.tools.nsc.io.AbstractFile">get</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Filters for assessing validity of various entities.
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="103767">validClassFile</a><span class="delimiter">(</span><a title="String" id="595175">name</a>: <span title="String">String</span><span class="delimiter">)</span>  = <a href="#69815" title="(s: String)Boolean">endsClass</a><span class="delimiter">(</span><a href="#595175" title="String">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#103760" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a>.<a href="#103825" title="(name: String)Boolean">isValidName</a><span class="delimiter">(</span><a href="#595175" title="String">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="103768">validPackage</a><span class="delimiter">(</span><a title="String" id="595178">name</a>: <span title="String">String</span><span class="delimiter">)</span>    = <span class="delimiter">(</span><a href="#595178" title="String">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;META-INF&quot;)" class="string">&quot;META-INF&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#595178" title="String">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#595178" title="String">name</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Char)Boolean">!=</span> <span title="Char(\'.\')" class="char">'.'</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="103769">validSourceFile</a><span class="delimiter">(</span><a title="String" id="595194">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#69816" title="(s: String)Boolean">endsScala</a><span class="delimiter">(</span><a href="#595194" title="String">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#69817" title="(s: String)Boolean">endsJava</a><span class="delimiter">(</span><a href="#595194" title="String">name</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Find a ClassRep given a class name of the form &quot;package.subpackage.ClassName&quot;.
   * Does not support nested classes on .NET
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Option[ClassPath.this.AnyClassRep]" id="103770">findClass</a><span class="delimiter">(</span><a title="String" id="595197">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[ClassPath.this.AnyClassRep]">Option</span><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span> =
    <a href="../../util/StringOps.scala.html#72447" title="(str: String, f: Char =&gt; Boolean, doDropIndex: Boolean)Option[(String, String)]">splitWhere</a><span class="delimiter">(</span><a href="#595197" title="String">name</a>, <a href="#595200" title="Char">_</a> <span title="(x: Char)Boolean">==</span> <span title="Char(\'.\')" class="char">'.'</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="Option[ClassPath.this.AnyClassRep]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Option[ClassPath.this.AnyClassRep]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="595208">pkg</a>, <a title="String" id="595209">rest</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]" id="595210">rep</a> = <a href="#103762" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">packages</a> <span title="(p: scala.tools.nsc.util.ClassPath[T] =&gt; Boolean)Option[scala.tools.nsc.util.ClassPath[T]]">find</span> <span class="delimiter">(</span><a href="#595226" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#103756" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#595208" title="String">pkg</a><span class="delimiter">)</span> <span title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Option[scala.tools.nsc.util.ClassPath[T]#ClassRep])Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]">flatMap</span> <span class="delimiter">(</span><a href="#595236" title="scala.tools.nsc.util.ClassPath[T]">_</a> <a href="#103770" title="(name: String)Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]">findClass</a> <a href="#595209" title="String">rest</a><span class="delimiter">)</span>
        <a href="#595210" title="Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]">rep</a> <span title="(f: scala.tools.nsc.util.ClassPath[T]#ClassRep =&gt; ClassPath.this.AnyClassRep)Option[ClassPath.this.AnyClassRep]">map</span> <a href="#595244" title="ClassPath.this.AnyClassRep" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="ClassPath.this.ClassRep" id="595245">x</a>: <a href="#595132" title="ClassPath.this.ClassRep">ClassRep</a>  =&gt; <a href="#595245" title="ClassPath.this.ClassRep">x</a>
          <span class="keyword">case</span> <a title="Nothing" id="595246">x</a>            =&gt; <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.FatalError" class="keyword">new</span> <a href="../FatalError.scala.html#10594" title="scala.tools.nsc.FatalError">FatalError</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unexpected ClassRep '%s' found searching for name '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#595246" title="scala.tools.nsc.util.ClassPath[T]#ClassRep">x</a>, <a href="#595197" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Option[ClassPath.this.AnyClassRep]">_</span> =&gt;
        <a href="#103761" title="=&gt; IndexedSeq[ClassPath.this.AnyClassRep]">classes</a> <span title="(p: ClassPath.this.AnyClassRep =&gt; Boolean)Option[ClassPath.this.AnyClassRep]">find</span> <span class="delimiter">(</span><a href="#595266" title="ClassPath.this.AnyClassRep">_</a>.<a href="#440646" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#595197" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(name: String)Option[scala.tools.nsc.io.AbstractFile]" id="103771">findSourceFile</a><span class="delimiter">(</span><a title="String" id="468321">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scala.tools.nsc.io.AbstractFile]">Option</span><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> =
    <a href="#103770" title="(name: String)Option[ClassPath.this.AnyClassRep]">findClass</a><span class="delimiter">(</span><a href="#468321" title="String">name</a><span class="delimiter">)</span> <span title="Option[scala.tools.nsc.io.AbstractFile]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[scala.tools.nsc.io.AbstractFile]">Some</span><span class="delimiter">(</span>ClassRep<span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="595274">x</a>: <a href="../io/AbstractFile.scala.html#21459" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(x: scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]">Some</span><span class="delimiter">(</span><a href="#595274" title="scala.tools.nsc.io.AbstractFile">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>                                        =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="103772">sortString</a> = <a href="#69797" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#69796" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#103759" title="=&gt; String">asClasspathString</a><span class="delimiter">)</span>.<span title="(implicit ord: scala.math.Ordering[String])List[String]">sorted</span>: _*<span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(that: Any)Boolean" id="103773">equals</a><span class="delimiter">(</span><a title="Any" id="595339">that</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#595339" title="Any">that</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean" id="595342">x</a>: <a href="#30878" title="scala.tools.nsc.util.ClassPath[_]">ClassPath</a><span class="delimiter">[</span>_<span class="delimiter">]</span>  =&gt; <a href="#30878" title="ClassPath.this.type" class="keyword">this</a>.<a href="#103772" title="=&gt; String">sortString</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#595342" title="scala.tools.nsc.util.ClassPath[_]">x</a>.<a href="#103772" title="=&gt; String">sortString</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="103774">hashCode</a> = <a href="#103772" title="=&gt; String">sortString</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A Classpath containing source files
 */</span>
<span class="keyword">class</span> <a title="class SourcePath[T] extends scala.tools.nsc.util.ClassPath[T] with ScalaObject" id="30689">SourcePath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31296">T</a><span class="delimiter">]</span><a href="#30689" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.io.AbstractFile" id="594499">dir</a>: <a href="../io/AbstractFile.scala.html#21459" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <span class="keyword">val</span> <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="594500">context</a>: <a href="#69810" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#30878" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>  
  <span class="keyword">def</span> <a title="=&gt; String" id="594485">name</a> = <a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="594486">origin</a> = <a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96460" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">underlyingSource</a> <span title="(f: scala.tools.nsc.io.AbstractFile =&gt; String)Option[String]">map</span> <span class="delimiter">(</span><a href="#595463" title="scala.tools.nsc.io.AbstractFile">_</a>.<a href="../io/AbstractFile.scala.html#96453" title="=&gt; String">path</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="594487">asURLs</a> = <span title="List[java.net.URL]" class="keyword">if</span> <span class="delimiter">(</span><a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96459" title="=&gt; scala.tools.nsc.io.package.JFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span title="(xs: java.net.URL*)List[java.net.URL]">List</span><span class="delimiter">(</span><a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96471" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="594488">asClasspathString</a> = <a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96453" title="=&gt; String">path</a>
  <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="594489">sourcepaths</a>: <span title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</span><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <span title="(elems: scala.tools.nsc.io.AbstractFile*)IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</span><span class="delimiter">(</span><a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a><span class="delimiter">)</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])" id="594491">traverse</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]" id="595366">classBuf</a>   = immutable.<span title="object scala.collection.immutable.Vector">Vector</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]" class="delimiter">[</span><a href="#595132" title="SourcePath.this.ClassRep">ClassRep</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]" id="595367">packageBuf</a> = immutable.<span title="object scala.collection.immutable.Vector">Vector</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]" class="delimiter">[</span><a href="#30689" title="scala.tools.nsc.util.SourcePath[T]">SourcePath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
    <a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a> <span title="(f: scala.tools.nsc.io.AbstractFile =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span> <a title="scala.tools.nsc.io.AbstractFile" id="595390">f</a> =&gt;
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#595390" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96465" title="=&gt; Boolean">isDirectory</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#103769" title="(name: String)Boolean">validSourceFile</a><span class="delimiter">(</span><a href="#595390" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#595366" title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]">classBuf</a> <span title="(elem: SourcePath.this.ClassRep)classBuf.type">+=</span> <a href="#595132" title="(binary: Option[T], source: Option[scala.tools.nsc.io.AbstractFile])SourcePath.this.ClassRep">ClassRep</a><span class="delimiter">(</span><span title="object None">None</span>, <span title="(x: scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]">Some</span><span class="delimiter">(</span><a href="#595390" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#595390" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96465" title="=&gt; Boolean">isDirectory</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#103768" title="(name: String)Boolean">validPackage</a><span class="delimiter">(</span><a href="#595390" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#595367" title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]">packageBuf</a> <span title="(elem: scala.tools.nsc.util.SourcePath[T])packageBuf.type">+=</span> <span title="scala.tools.nsc.util.SourcePath[T]" class="keyword">new</span> <a href="#30689" title="scala.tools.nsc.util.SourcePath[T]">SourcePath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#595390" title="scala.tools.nsc.io.AbstractFile">f</a>, <a href="#594500" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="(_1: scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], _2: scala.collection.immutable.Vector[SourcePath.this.ClassRep])(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])" class="delimiter">(</span><a href="#595367" title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]">packageBuf</a>.<span title="()scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]">result</span>, <a href="#595366" title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]">classBuf</a>.<span title="()scala.collection.immutable.Vector[SourcePath.this.ClassRep]">result</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#594495" title="(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])" id="594493" class="delimiter">(</a><a href="#594492" title="scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]" id="594495">packages</a>, <a href="#594492" title="scala.collection.immutable.Vector[SourcePath.this.ClassRep]" id="594497">classes</a><span class="delimiter">)</span> = <a href="#594491" title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])">traverse</a><span title="(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep]) @unchecked" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="594498">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;sourcepath: &quot;)" class="string">&quot;sourcepath: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#594499" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96485" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A directory (or a .jar file) containing classfiles and packages
 */</span>
<span class="keyword">class</span> <a title="class DirectoryClassPath extends scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile] with ScalaObject" id="31034">DirectoryClassPath</a><a href="#31034" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="595039">dir</a>: <a href="../io/AbstractFile.scala.html#21459" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <span class="keyword">val</span> <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]" id="595040">context</a>: <a href="#69810" title="scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]">ClassPathContext</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#30878" title="scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]">ClassPath</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="595025">name</a> = <a href="#595039" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="595026">origin</a> = <a href="#595039" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96460" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">underlyingSource</a> <span title="(f: scala.tools.nsc.io.AbstractFile =&gt; String)Option[String]">map</span> <span class="delimiter">(</span><a href="#595583" title="scala.tools.nsc.io.AbstractFile">_</a>.<a href="../io/AbstractFile.scala.html#96453" title="=&gt; String">path</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="595027">asURLs</a> = <span title="List[java.net.URL]" class="keyword">if</span> <span class="delimiter">(</span><a href="#595039" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96459" title="=&gt; scala.tools.nsc.io.package.JFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span title="(xs: java.net.URL*)List[java.net.URL]">List</span><span class="delimiter">(</span><a href="#595039" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96471" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="595028">asClasspathString</a> = <a href="#595039" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#96453" title="=&gt; String">path</a>
  <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="595029">sourcepaths</a>: <span title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</span><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <span title="(elems: Nothing*)IndexedSeq[Nothing]">IndexedSeq</span><span class="delimiter">(</span><span class="delimiter">)</span>
  
  <span class="comment">// calculates (packages, classes) in one traversal.</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])" id="595031">traverse</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]" id="595493">classBuf</a>   = immutable.<span title="object scala.collection.immutable.Vector">Vector</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]" class="delimiter">[</span><a href="#595132" title="DirectoryClassPath.this.ClassRep">ClassRep</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]" id="595494">packageBuf</a> = immutable.<span title="object scala.collection.immutable.Vector">Vector</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]" class="delimiter">[</span><a href="#31034" title="scala.tools.nsc.util.DirectoryClassPath">DirectoryClassPath</a><span class="delimiter">]</span>
    <a href="#595039" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a> <span title="(f: scala.tools.nsc.io.AbstractFile =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span> <a title="scala.tools.nsc.io.AbstractFile" id="595511">f</a> =&gt;
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#595511" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96465" title="=&gt; Boolean">isDirectory</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#103767" title="(name: String)Boolean">validClassFile</a><span class="delimiter">(</span><a href="#595511" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#595493" title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]">classBuf</a> <span title="(elem: DirectoryClassPath.this.ClassRep)classBuf.type">+=</span> <a href="#595132" title="(binary: Option[scala.tools.nsc.io.AbstractFile], source: Option[scala.tools.nsc.io.AbstractFile])DirectoryClassPath.this.ClassRep">ClassRep</a><span class="delimiter">(</span><span title="(x: scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]">Some</span><span class="delimiter">(</span><a href="#595511" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#595511" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96465" title="=&gt; Boolean">isDirectory</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#103768" title="(name: String)Boolean">validPackage</a><span class="delimiter">(</span><a href="#595511" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#595494" title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]">packageBuf</a> <span title="(elem: scala.tools.nsc.util.DirectoryClassPath)packageBuf.type">+=</span> <span title="scala.tools.nsc.util.DirectoryClassPath" class="keyword">new</span> <a href="#31034" title="scala.tools.nsc.util.DirectoryClassPath">DirectoryClassPath</a><span class="delimiter">(</span><a href="#595511" title="scala.tools.nsc.io.AbstractFile">f</a>, <a href="#595040" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="(_1: scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], _2: scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])" class="delimiter">(</span><a href="#595494" title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]">packageBuf</a>.<span title="()scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]">result</span>, <a href="#595493" title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]">classBuf</a>.<span title="()scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]">result</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#595035" title="(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])" id="595033" class="delimiter">(</a><a href="#595032" title="scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]" id="595035">packages</a>, <a href="#595032" title="scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]" id="595037">classes</a><span class="delimiter">)</span> = <a href="#595031" title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])">traverse</a><span title="(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]) @unchecked" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="595038">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;directory classpath: &quot;)" class="string">&quot;directory classpath: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#595026" title="=&gt; Option[String]">origin</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A classpath unifying multiple class- and sourcepath entries.
 */</span>
<span class="keyword">class</span> <a title="class MergedClassPath[T] extends scala.tools.nsc.util.ClassPath[T] with ScalaObject" id="30395">MergedClassPath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31297">T</a><span class="delimiter">]</span><a href="#30395" title="ScalaObject" class="delimiter">(</a>
  <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="595616">entries</a>: <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>,
  <span class="keyword">val</span> <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="595617">context</a>: <a href="#69810" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="#30878" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(entries: TraversableOnce[scala.tools.nsc.util.ClassPath[T]], context: scala.tools.nsc.util.ClassPath.ClassPathContext[T])scala.tools.nsc.util.MergedClassPath[T]" id="103782" class="keyword">this</a><span class="delimiter">(</span><a title="TraversableOnce[scala.tools.nsc.util.ClassPath[T]]" id="595621">entries</a>: <span title="TraversableOnce[scala.tools.nsc.util.ClassPath[T]]">TraversableOnce</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="595622">context</a>: <a href="#69810" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#30395" title="MergedClassPath.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#595621" title="TraversableOnce[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<span title="scala.collection.immutable.IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">toIndexedSeq</span>, <a href="#595622" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="=&gt; String" id="103783">name</a> = <a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<span title="=&gt; scala.tools.nsc.util.ClassPath[T]">head</span>.<a href="#103756" title="=&gt; String">name</a>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="103784">asURLs</a> = <a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <span title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; scala.collection.GenTraversableOnce[java.net.URL])(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],java.net.URL,IndexedSeq[java.net.URL]])IndexedSeq[java.net.URL]">flatMap</span> <span class="delimiter">(</span><a href="#104262" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#103758" title="=&gt; List[java.net.URL]">asURLs</a><span class="delimiter">)</span> <span title="=&gt; List[java.net.URL]">toList</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="103786">sourcepaths</a>: <span title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</span><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <span title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.io.AbstractFile])(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],scala.tools.nsc.io.AbstractFile,IndexedSeq[scala.tools.nsc.io.AbstractFile]])IndexedSeq[scala.tools.nsc.io.AbstractFile]">flatMap</span> <span class="delimiter">(</span><a href="#595674" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#103763" title="=&gt; IndexedSeq[scala.tools.nsc.io.AbstractFile]">sourcepaths</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[String]" id="103787">origin</a> = <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <span title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],String,IndexedSeq[String]])IndexedSeq[String]">map</span> <span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="595716">x</a> =&gt; <a href="#595716" title="scala.tools.nsc.util.ClassPath[T]">x</a>.<a href="#103757" title="=&gt; Option[String]">origin</a> <span title="(default: =&gt; String)String">getOrElse</span> <a href="#595716" title="scala.tools.nsc.util.ClassPath[T]">x</a>.<a href="#103756" title="=&gt; String">name</a><span class="delimiter">)</span> <span title="(start: String, sep: String, end: String)String">mkString</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;Merged(&quot;)" class="string">&quot;Merged(&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="103788">asClasspathString</a>: <span title="String">String</span> = <a href="#69797" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <span title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],String,IndexedSeq[String]])IndexedSeq[String]">map</span> <span class="delimiter">(</span><a href="#595760" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#103759" title="=&gt; String">asClasspathString</a><span class="delimiter">)</span> : _*<span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="IndexedSeq[MergedClassPath.this.AnyClassRep]" id="103790">classes</a>: <span title="IndexedSeq[MergedClassPath.this.AnyClassRep]">IndexedSeq</span><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="595785">count</a>   = <span title="Int(0)" class="int">0</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,Int]" id="595786">indices</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</span><span title="(elems: (String, Int)*)scala.collection.mutable.HashMap[String,Int]" class="delimiter">[</span><span title="String">String</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]" id="595787">cls</a>     = <span title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]">ArrayBuffer</span><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(1024)" class="int">1024</span><span class="delimiter">)</span>

    <span class="keyword">for</span> <span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="595807">e</a> &lt;- <a href="#595616" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Unit)Unit">entries</a>; <a title="e.AnyClassRep" id="595830">c</a> &lt;- <a href="#595807" title="scala.tools.nsc.util.ClassPath[T]">e</a>.<a href="#103761" title="(f: e.AnyClassRep =&gt; Unit)Unit">classes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="595831">name</a> = <a href="#595830" title="e.AnyClassRep">c</a>.<a href="#440646" title="=&gt; String">name</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595786" title="scala.collection.mutable.HashMap[String,Int]">indices</a> <span title="(key: String)Boolean">contains</span> <a href="#595831" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="595833">idx</a>      = <a href="#595786" title="(key: String)Int">indices</a><span class="delimiter">(</span><a href="#595831" title="String">name</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="MergedClassPath.this.AnyClassRep" id="595834">existing</a> = <a href="#595787" title="(idx: Int)MergedClassPath.this.AnyClassRep">cls</a><span class="delimiter">(</span><a href="#595833" title="Int">idx</a><span class="delimiter">)</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595834" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#595356" title="=&gt; Option[T]">binary</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#595830" title="e.AnyClassRep">c</a>.<a href="#595356" title="=&gt; Option[T]">binary</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
          <a href="#595787" title="(idx: Int, elem: MergedClassPath.this.AnyClassRep)Unit">cls</a><span class="delimiter">(</span><a href="#595833" title="Int">idx</a><span class="delimiter">)</span> = <a href="#595834" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#595132" title="(binary: Option[T], source: Option[scala.tools.nsc.io.AbstractFile])scala.tools.nsc.util.ClassPath[T]#ClassRep">copy</a><span class="delimiter">(</span>binary = <a href="#595830" title="e.AnyClassRep">c</a>.<a href="#595356" title="=&gt; Option[T]">binary</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595834" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#595357" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#595830" title="e.AnyClassRep">c</a>.<a href="#595357" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
          <a href="#595787" title="(idx: Int, elem: MergedClassPath.this.AnyClassRep)Unit">cls</a><span class="delimiter">(</span><a href="#595833" title="Int">idx</a><span class="delimiter">)</span> = <a href="#595834" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#595356" title="Option[T]" id="595896">copy</a><span class="delimiter">(</span>source = <a href="#595830" title="e.AnyClassRep">c</a>.<a href="#595357" title="Option[scala.tools.nsc.io.AbstractFile]" id="595895">source</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#595786" title="(key: String, value: Int)Unit">indices</a><span class="delimiter">(</span><a href="#595831" title="String">name</a><span class="delimiter">)</span> = <a href="#595785" title="Int">count</a>
        <a href="#595787" title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]">cls</a> <span title="(elem: MergedClassPath.this.AnyClassRep)cls.type">+=</span> <a href="#595830" title="e.AnyClassRep">c</a>
        <a href="#595785" title="Int">count</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#595787" title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]">cls</a>.<span title="scala.collection.immutable.IndexedSeq[MergedClassPath.this.AnyClassRep]">toIndexedSeq</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="103792">packages</a>: <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="595933">count</a>   = <span title="Int(0)" class="int">0</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,Int]" id="595934">indices</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</span><span title="(elems: (String, Int)*)scala.collection.mutable.HashMap[String,Int]" class="delimiter">[</span><span title="String">String</span>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]" id="595935">pkg</a>     = <span title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]">ArrayBuffer</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(256)" class="int">256</span><span class="delimiter">)</span>

    <span class="keyword">for</span> <span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="595955">e</a> &lt;- <a href="#595616" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Unit)Unit">entries</a>; <a title="scala.tools.nsc.util.ClassPath[T]" id="595978">p</a> &lt;- <a href="#595955" title="scala.tools.nsc.util.ClassPath[T]">e</a>.<a href="#103762" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Unit)Unit">packages</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="595979">name</a> = <a href="#595978" title="scala.tools.nsc.util.ClassPath[T]">p</a>.<a href="#103756" title="=&gt; String">name</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#595934" title="scala.collection.mutable.HashMap[String,Int]">indices</a> <span title="(key: String)Boolean">contains</span> <a href="#595979" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="595981">idx</a>  = <a href="#595934" title="(key: String)Int">indices</a><span class="delimiter">(</span><a href="#595979" title="String">name</a><span class="delimiter">)</span>        
        <a href="#595935" title="(idx: Int, elem: scala.tools.nsc.util.ClassPath[T])Unit">pkg</a><span class="delimiter">(</span><a href="#595981" title="Int">idx</a><span class="delimiter">)</span> = <a href="#103793" title="(to: scala.tools.nsc.util.ClassPath[T], pkg: scala.tools.nsc.util.ClassPath[T])scala.tools.nsc.util.MergedClassPath[T]">addPackage</a><span class="delimiter">(</span><a href="#595935" title="(idx: Int)scala.tools.nsc.util.ClassPath[T]">pkg</a><span class="delimiter">(</span><a href="#595981" title="Int">idx</a><span class="delimiter">)</span>, <a href="#595978" title="scala.tools.nsc.util.ClassPath[T]">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#595934" title="(key: String, value: Int)Unit">indices</a><span class="delimiter">(</span><a href="#595979" title="String">name</a><span class="delimiter">)</span> = <a href="#595933" title="Int">count</a>
        <a href="#595935" title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]">pkg</a> <span title="(elem: scala.tools.nsc.util.ClassPath[T])pkg.type">+=</span> <a href="#595978" title="scala.tools.nsc.util.ClassPath[T]">p</a>
        <a href="#595933" title="Int">count</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#595935" title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]">pkg</a>.<span title="scala.collection.immutable.IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">toIndexedSeq</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(to: scala.tools.nsc.util.ClassPath[T], pkg: scala.tools.nsc.util.ClassPath[T])scala.tools.nsc.util.MergedClassPath[T]" id="103793">addPackage</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="596005">to</a>: <a href="#30878" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="scala.tools.nsc.util.ClassPath[T]" id="596006">pkg</a>: <a href="#30878" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="596009">newEntries</a>: <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#596005" title="scala.tools.nsc.util.ClassPath[T]">to</a> <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="596010">cp</a>: <a href="#30395" title="scala.tools.nsc.util.MergedClassPath[_]">MergedClassPath</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#596010" title="scala.tools.nsc.util.MergedClassPath[_]">cp</a>.<a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[_]]">entries</a> <span title="(elem: scala.tools.nsc.util.ClassPath[_])(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[_]],scala.tools.nsc.util.ClassPath[_],IndexedSeq[scala.tools.nsc.util.ClassPath[T]]])IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">:+</span> <a href="#596006" title="scala.tools.nsc.util.ClassPath[T]">pkg</a>
      <span class="keyword">case</span> <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">_</span>                      =&gt; <span title="(elems: scala.tools.nsc.util.ClassPath[T]*)IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</span><span class="delimiter">(</span><a href="#596005" title="scala.tools.nsc.util.ClassPath[T]">to</a>, <a href="#596006" title="scala.tools.nsc.util.ClassPath[T]">pkg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="scala.tools.nsc.util.MergedClassPath[T]" class="keyword">new</span> <a href="#30395" title="scala.tools.nsc.util.MergedClassPath[T]">MergedClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#596009" title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">newEntries</a>, <a href="#595617" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">// </span>
  <span class="comment">// override def allPackages: List[ClassPath[T]] = entries flatMap (_.allPackages)</span>
  <span class="comment">// override def allPackageNames = entries flatMap (_.allPackageNames)</span>
  <span class="comment">// override def allPackagesWithNames = entries flatMap (_.allPackagesWithNames)</span>
  <span class="comment">// </span>
  <span class="comment">// def duplicatedClasses = {    </span>
  <span class="comment">//   def toFullName(x: (String, _, AnyClassRep)) = x._1 + &quot;.&quot; + x._3.name</span>
  <span class="comment">//   </span>
  <span class="comment">//   /** Flatten everything into tuples, recombine grouped by name, filter down to 2+ entries. */</span>
  <span class="comment">//   val flattened = (</span>
  <span class="comment">//     for ((pkgName, pkg) &lt;- allPackagesWithNames ; clazz &lt;- pkg.classes) yield</span>
  <span class="comment">//       (pkgName, pkg, clazz)</span>
  <span class="comment">//   )</span>
  <span class="comment">//   val multipleAppearingEntries = flattened groupBy toFullName filter (_._2.size &gt; 1)</span>
  <span class="comment">// </span>
  <span class="comment">//   /** Using original name list as reference point, return duplicated entries as</span>
  <span class="comment">//    *    (name, list of origins)</span>
  <span class="comment">//    *  in the order they occur on the path.</span>
  <span class="comment">//    */</span>
  <span class="comment">//   for (name &lt;- flattened map toFullName distinct ; dups &lt;- multipleAppearingEntries get name) yield</span>
  <span class="comment">//     (name, dups map {</span>
  <span class="comment">//       case (_, cp, _) if cp.origin.isDefined  =&gt; cp.origin.get</span>
  <span class="comment">//       case (_, cp, _)                         =&gt; cp.asURLs.mkString</span>
  <span class="comment">//     })</span>
  <span class="comment">// }</span>
  <span class="comment">// </span>
  <span class="keyword">def</span> <a title="()Unit" id="103794">show</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;ClassPath %s has %d entries and results in:\n&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#103783" title="=&gt; String">name</a>, <a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#103788" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">asClasspathString</a> <span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">split</span> <span title="Char(\':\')" class="char">':'</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="String" id="596856">x</a> =&gt; <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#596856" title="String">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">// def showDuplicates() =</span>
  <span class="comment">//   ClassPath findDuplicates this foreach {</span>
  <span class="comment">//     case (name, xs) =&gt; println(xs.mkString(name + &quot;:\n  &quot;, &quot;\n  &quot;, &quot;\n&quot;))</span>
  <span class="comment">//   }</span>
  <span class="comment">// </span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="103795">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;merged classpath &quot;)" class="string">&quot;merged classpath &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#595616" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * The classpath when compiling with target:jvm. Binary files (classfiles) are represented
 * as AbstractFile. nsc.io.ZipArchive is used to view zip/jar archives as directories.
 */</span>
<span class="keyword">class</span> <a title="class JavaClassPath extends scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile] with ScalaObject" id="30422">JavaClassPath</a><a href="#30422" title="ScalaObject" class="delimiter">(</a>
  <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]" id="103801">containers</a>: <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]">IndexedSeq</span><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">]</span>,
  <a title="scala.tools.nsc.util.ClassPath.JavaContext" id="103802">context</a>: <a href="#69812" title="scala.tools.nsc.util.ClassPath.JavaContext">JavaContext</a><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="#30395" title="scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]">MergedClassPath</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">(</span><a href="#103801" title="IndexedSeq[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]">containers</a>, <a href="#103802" title="scala.tools.nsc.util.ClassPath.JavaContext">context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>