<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/ast/TreeGen.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> ast

<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> symtab.SymbolTable

<span class="comment">/** XXX to resolve: TreeGen only assumes global is a SymbolTable, but
 *  TreeDSL at the moment expects a Global.  Can we get by with SymbolTable?
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeGen extends java.lang.Object with ScalaObject" id="11885">TreeGen</a> <a href="#11885" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.symtab.SymbolTable" id="105552">global</a>: <a href="../symtab/SymbolTable.scala.html#24367" title="scala.tools.nsc.symtab.SymbolTable">SymbolTable</a>

  <span class="keyword">import</span> <a href="#105552" title="=&gt; scala.tools.nsc.symtab.SymbolTable">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67699" title="object TreeGen.this.global.definitions">definitions</a>._
  
  <span class="keyword">def</span> <a title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select" id="105555">rootId</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151332">name</a>: <a href="../symtab/Names.scala.html#66925" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>          = <a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105552" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<span title="=&gt; TreeGen.this.global.nme.NameType">ROOTPKG</span><span class="delimiter">)</span>, <a href="#151332" title="TreeGen.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select" id="105556">rootScalaDot</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151366">name</a>: <a href="../symtab/Names.scala.html#66925" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>    = <a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105555" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">rootId</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115570" title="=&gt; TreeGen.this.global.nme.NameType">scala_</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">setSymbol</span> <a href="../symtab/Definitions.scala.html#106185" title="=&gt; TreeGen.this.global.Symbol">ScalaPackage</a>, <a href="#151366" title="TreeGen.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select" id="105557">scalaDot</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151185">name</a>: <a href="../symtab/Names.scala.html#66925" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>        = <a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105552" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115570" title="=&gt; TreeGen.this.global.nme.NameType">scala_</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">setSymbol</span> <a href="../symtab/Definitions.scala.html#106185" title="=&gt; TreeGen.this.global.Symbol">ScalaPackage</a>, <a href="#151185" title="TreeGen.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105558">scalaAnyRefConstr</a>           = <a href="#105557" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115055" title="=&gt; TreeGen.this.global.tpnme.NameType">AnyRef</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105559">scalaUnitConstr</a>             = <a href="#105557" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115022" title="=&gt; TreeGen.this.global.tpnme.NameType">Unit</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105560">scalaScalaObjectConstr</a>      = <a href="#105557" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115069" title="=&gt; TreeGen.this.global.tpnme.NameType">ScalaObject</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105561">productConstr</a>               = <a href="#105557" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115067" title="=&gt; TreeGen.this.global.tpnme.NameType">Product</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105562">serializableConstr</a>          = <a href="#105557" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115071" title="=&gt; TreeGen.this.global.tpnme.NameType">Serializable</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(argtpes: List[TreeGen.this.global.Tree], restpe: TreeGen.this.global.Tree, abstractFun: Boolean)TreeGen.this.global.Tree" id="105563">scalaFunctionConstr</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="151400">argtpes</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree" id="151401">restpe</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="Boolean" id="151404">abstractFun</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="151405">cls</a> = <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151404" title="Boolean">abstractFun</a><span class="delimiter">)</span>
      <a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106471" title="(i: Int)TreeGen.this.global.Symbol">AbstractFunctionClass</a><span class="delimiter">(</span><a href="#151400" title="List[TreeGen.this.global.Tree]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106469" title="(i: Int)TreeGen.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#151400" title="List[TreeGen.this.global.Tree]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#105552" title="(tpt: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.AppliedTypeTree">AppliedTypeTree</a><span class="delimiter">(</span><a href="#151405" title="TreeGen.this.global.Tree">cls</a>, <a href="#151400" title="List[TreeGen.this.global.Tree]">argtpes</a> <span title="(elem: TreeGen.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Tree],TreeGen.this.global.Tree,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">:+</span> <a href="#151401" title="TreeGen.this.global.Tree">restpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference to value whose type is given stable prefix.
   *  The type must be suitable for this.  For example, it
   *  must not be a TypeRef pointing to an abstract type variable.
   */</span>
  <span class="keyword">def</span> <a title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105564">mkAttributedQualifier</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151482">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105565" title="(tpe: TreeGen.this.global.Type, termSym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#151482" title="TreeGen.this.global.Type">tpe</a>, <a href="../symtab/Symbols.scala.html#67339" title="object TreeGen.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>

  <span class="comment">/** Builds a reference to value whose type is given stable prefix.
   *  If the type is unsuitable, e.g. it is a TypeRef for an
   *  abstract type variable, then an Ident will be made using
   *  termSym as the Ident's symbol.  In that case, termSym must
   *  not be NoSymbol.
   */</span>
  <span class="keyword">def</span> <a title="(tpe: TreeGen.this.global.Type, termSym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105565">mkAttributedQualifier</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151488">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="151489">termSym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#151488" title="TreeGen.this.global.Type">tpe</a> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67408" title="TreeGen.this.global.EmptyTree.type">NoPrefix</a> =&gt;
      <a href="#105552" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">ThisType</span><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151492">clazz</a><span class="delimiter">)</span> =&gt;
      <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151492" title="TreeGen.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isEffectiveRoot</span><span class="delimiter">)</span> <a href="#105552" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
      <span class="keyword">else</span> <a href="#105575" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#151492" title="TreeGen.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">SingleType</span><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151495">pre</a>, <a title="TreeGen.this.global.Symbol" id="151496">sym</a><span class="delimiter">)</span> =&gt;
      <a href="#105566" title="(qual: TreeGen.this.global.Tree)TreeGen.this.global.Tree">applyIfNoArgs</a><span class="delimiter">(</span><a href="#105573" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedStableRef</a><span class="delimiter">(</span><a href="#151495" title="TreeGen.this.global.Type">pre</a>, <a href="#151496" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">TypeRef</span><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151522">pre</a>, <a title="TreeGen.this.global.Symbol" id="151523">sym</a>, <a title="List[TreeGen.this.global.Type]" id="151524">args</a><span class="delimiter">)</span> =&gt;
      <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151523" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isRoot</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#105575" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#151523" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151523" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#105566" title="(qual: TreeGen.this.global.Tree)TreeGen.this.global.Tree">applyIfNoArgs</a><span class="delimiter">(</span><a href="#105567" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151522" title="TreeGen.this.global.Type">pre</a>, <a href="#151523" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; TreeGen.this.global.Symbol">sourceModule</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151523" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">||</span> <a href="#151523" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a>, <a href="#151488" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#105575" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#151523" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151523" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#151489" title="TreeGen.this.global.Symbol">termSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object TreeGen.this.global.NoSymbol">NoSymbol</a>, <a href="#151488" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#105576" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#151489" title="TreeGen.this.global.Symbol">termSym</a><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Tree">setType</span> <a href="#151488" title="TreeGen.this.global.Type">tpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#105567" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151522" title="TreeGen.this.global.Type">pre</a>, <a href="#151523" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <span title="TreeGen.this.global.Literal">ConstantType</span><span class="delimiter">(</span><a title="TreeGen.this.global.Constant" id="151545">value</a><span class="delimiter">)</span> =&gt;
      <a href="#105552" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#151545" title="TreeGen.this.global.Constant">value</a><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Literal">setType</span> <a href="#151488" title="TreeGen.this.global.Type">tpe</a>

    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">AnnotatedType</span><span class="delimiter">(</span>_, <a title="TreeGen.this.global.Type" id="151570">atp</a>, _<span class="delimiter">)</span> =&gt;
      <a href="#105564" title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#151570" title="TreeGen.this.global.Type">atp</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">RefinedType</span><span class="delimiter">(</span><a title="List[TreeGen.this.global.Type]" id="151577">parents</a>, _<span class="delimiter">)</span> =&gt;
      <span class="comment">// I am unclear whether this is reachable, but</span>
      <span class="comment">// the following implementation looks logical -Lex</span>
      <span class="keyword">val</span> <a title="Option[TreeGen.this.global.Type]" id="151578">firstStable</a> = <a href="#151577" title="List[TreeGen.this.global.Type]">parents</a>.<span title="(p: TreeGen.this.global.Type =&gt; Boolean)Option[TreeGen.this.global.Type]">find</span><span class="delimiter">(</span><a href="#151585" title="TreeGen.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#151578" title="Option[TreeGen.this.global.Type]">firstStable</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#151488" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
      <a href="#105564" title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#151578" title="Option[TreeGen.this.global.Type]">firstStable</a>.<span title="=&gt; TreeGen.this.global.Type">get</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
      <a href="../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;bad qualifier: &quot;)" class="string">&quot;bad qualifier: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#151488" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** If this is a reference to a method with an empty
   *  parameter list, wrap it in an apply.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105566">applyIfNoArgs</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151497">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#151497" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Apply">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a title="TreeGen.this.global.Type" id="151502">restpe</a><span class="delimiter">)</span> =&gt; <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#151497" title="TreeGen.this.global.Tree">qual</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Apply">setType</span> <a href="#151502" title="TreeGen.this.global.Type">restpe</a>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">_</span>                       =&gt; <a href="#151497" title="TreeGen.this.global.Tree">qual</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference to given symbol with given stable prefix. */</span>
  <span class="keyword">def</span> <a title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105567">mkAttributedRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="150742">pre</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="150743">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="151611">qual</a> = <a href="#105564" title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#150742" title="TreeGen.this.global.Type">pre</a><span class="delimiter">)</span>
    <a href="#151611" title="TreeGen.this.global.Tree">qual</a> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#105552" title="TreeGen.this.global.Tree">EmptyTree</a>                                  =&gt; <a href="#105576" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#150743" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">This</span><span class="delimiter">(</span><a title="TreeGen.this.global.TypeName" id="151620">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#151611" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isEffectiveRoot</span> =&gt; <a href="#105576" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#150743" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">_</span>                                          =&gt; <a href="#105577" title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#151611" title="TreeGen.this.global.Tree">qual</a>, <a href="#150743" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference to given symbol. */</span>
  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105568">mkAttributedRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="150739">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#150739" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#105567" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#150739" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; TreeGen.this.global.Type">thisType</a>, <a href="#150739" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#105576" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#150739" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    
  <span class="comment">/** Builds an untyped reference to given symbol. */</span>
  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105569">mkUnattributedRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151628">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151628" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="Trees.scala.html#67812" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="Trees.scala.html#67811" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#151628" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#151628" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="Trees.scala.html#67813" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#151628" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>

  <span class="comment">/** Replaces tree type with a stable type if possible */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105570">stabilize</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151667">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">for</span><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151675">tp</a> &lt;- <a href="#105571" title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.Type]">stableTypeFor</a><span title="(f: TreeGen.this.global.Type =&gt; Unit)Unit" class="delimiter">(</span><a href="#151667" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#151667" title="TreeGen.this.global.Tree">tree</a>.<span title="(t: TreeGen.this.global.Type)Unit">tpe</span> = <a href="#151675" title="TreeGen.this.global.Type">tp</a>
    <a href="#151667" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Computes stable type for a tree if possible */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.Type]" id="105571">stableTypeFor</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151669">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[TreeGen.this.global.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#151669" title="TreeGen.this.global.Tree">tree</a> <span title="Option[TreeGen.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Type]">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#151669" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; Boolean">isStable</a> =&gt;
      <span title="(x: TreeGen.this.global.Type)Some[TreeGen.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67479" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#151669" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; TreeGen.this.global.Type">thisType</a>, <a href="#151669" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Type]">Select</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151709">qual</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#151669" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#151709" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// turned assert into guard for #4064</span>
                            <a href="#151669" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107514" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#151709" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105446" title="=&gt; Boolean">isStable</a> =&gt;
      <span title="(x: TreeGen.this.global.Type)Some[TreeGen.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67479" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#151709" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>, <a href="#151669" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
      <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Cast `tree' to type `pt' */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105572">mkCast</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="106936">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="106937">pt</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64787" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../symtab/SymbolTable.scala.html#64789" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;casting &quot;)" class="string">&quot;casting &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106936" title="TreeGen.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106936" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106937" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106936" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67448" title="TreeGen.this.global.MethodType">MethodType</a><span class="delimiter">]</span>, <a href="#106936" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106937" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span>
    <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106937" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; Boolean">isPackageObjectClass</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#106937" title="TreeGen.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#106937" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; TreeGen.this.global.Type">normalize</a>, <a href="#106936" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/TypeDebugging.scala.html#67950" title="(tp: TreeGen.this.global.Type)String">debugString</a><span class="delimiter">(</span><a href="#106937" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; ~&gt;&quot;)" class="string">&quot; ~&gt;&quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/TypeDebugging.scala.html#67950" title="(tp: TreeGen.this.global.Type)String">debugString</a><span class="delimiter">(</span><a href="#106937" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; TreeGen.this.global.Type">normalize</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@MAT only called during erasure, which already takes care of that</span>
    <a href="Trees.scala.html#67851" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#106936" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#105580" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#106936" title="TreeGen.this.global.Tree">tree</a>, <a href="#106937" title="TreeGen.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference with stable type to given symbol */</span>
  <span class="keyword">def</span> <a title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105573">mkAttributedStableRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151516">pre</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="151517">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105570" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#105567" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151516" title="TreeGen.this.global.Type">pre</a>, <a href="#151517" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105574">mkAttributedStableRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151514">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105570" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151514" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105575">mkAttributedThis</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151241">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105552" title="(qual: TreeGen.this.global.TypeName)TreeGen.this.global.This">This</a><span class="delimiter">(</span><a href="#151241" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; TreeGen.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96599" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.This">setSymbol</span> <a href="#151241" title="TreeGen.this.global.Symbol">sym</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.This">setType</span> <a href="#151241" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; TreeGen.this.global.Type">thisType</a>

  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105576">mkAttributedIdent</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151248">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105552" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#151248" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; TreeGen.this.global.Name">name</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">setSymbol</span> <a href="#151248" title="TreeGen.this.global.Symbol">sym</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#151248" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a>

  <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105577">mkAttributedSelect</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151621">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="151622">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="comment">// Tests involving the repl fail without the .isEmptyPackage condition.</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151621" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#151621" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isEffectiveRoot</span> <span title="(x: Boolean)Boolean">||</span> <a href="#151621" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isEmptyPackage</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105576" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#151622" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="151809">pkgQualifier</a> =
        <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151622" title="TreeGen.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#151622" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; Boolean">isPackageObjectClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#151622" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#151621" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="TreeGen.this.global.Symbol" id="151822">obj</a> = <a href="#151622" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; TreeGen.this.global.Symbol">sourceModule</span>
          <a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#151621" title="TreeGen.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115353" title="=&gt; TreeGen.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">setSymbol</span> <a href="#151822" title="TreeGen.this.global.Symbol">obj</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Select">setType</span> <a href="../symtab/Types.scala.html#67479" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#151621" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>, <a href="#151822" title="TreeGen.this.global.Symbol">obj</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#151621" title="TreeGen.this.global.Tree">qual</a>
      
      <span class="keyword">val</span> <a title="TreeGen.this.global.Select" id="151810">tree</a> = <a href="Trees.scala.html#67812" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#151809" title="TreeGen.this.global.Tree">pkgQualifier</a>, <a href="#151622" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151809" title="TreeGen.this.global.Tree">pkgQualifier</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#151810" title="TreeGen.this.global.Select">tree</a>
      <span class="keyword">else</span> <a href="#151810" title="TreeGen.this.global.Select">tree</a> <span title="(tp: TreeGen.this.global.Type)tree.type">setType</span> <span class="delimiter">(</span><a href="#151621" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105502" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">memberType</a> <a href="#151622" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, what: TreeGen.this.global.Symbol)TreeGen.this.global.Apply" id="105578">mkTypeApply</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151868">value</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="151869">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="151870">what</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span>
      <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span>
        <a href="#105577" title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#151868" title="TreeGen.this.global.Tree">value</a>, <a href="#151870" title="TreeGen.this.global.Symbol">what</a><span class="delimiter">)</span>,
        <span title="(xs: TreeGen.this.global.TypeTree*)List[TreeGen.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67818" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#151869" title="TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; TreeGen.this.global.Type">normalize</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>,
      <span title="object Nil">Nil</span>
    <span class="delimiter">)</span>
  <span class="comment">/** Builds an instance test with given value and type. */</span>
  <span class="keyword">def</span> <a title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree" id="105579">mkIsInstanceOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149980">value</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="149981">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="Boolean" id="149984">any</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105578" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, what: TreeGen.this.global.Symbol)TreeGen.this.global.Apply">mkTypeApply</a><span class="delimiter">(</span><a href="#149980" title="TreeGen.this.global.Tree">value</a>, <a href="#149981" title="TreeGen.this.global.Type">tpe</a>, <span class="delimiter">(</span><span title="TreeGen.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#149984" title="Boolean">any</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106530" title="=&gt; TreeGen.this.global.Symbol">Any_isInstanceOf</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106557" title="=&gt; TreeGen.this.global.Symbol">Object_isInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Builds a cast with given value and type. */</span>
  <span class="keyword">def</span> <a title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree" id="105580">mkAsInstanceOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149960">value</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="149961">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="Boolean" id="149964">any</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105578" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, what: TreeGen.this.global.Symbol)TreeGen.this.global.Apply">mkTypeApply</a><span class="delimiter">(</span><a href="#149960" title="TreeGen.this.global.Tree">value</a>, <a href="#149961" title="TreeGen.this.global.Type">tpe</a>, <span class="delimiter">(</span><span title="TreeGen.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#149964" title="Boolean">any</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106533" title="=&gt; TreeGen.this.global.Symbol">Any_asInstanceOf</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106559" title="=&gt; TreeGen.this.global.Symbol">Object_asInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Cast `tree' to 'pt', unless tpe is a subtype of pt, or pt is Unit.  */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type, tpe: TreeGen.this.global.Type, beforeRefChecks: Boolean)TreeGen.this.global.Tree" id="105581">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151933">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="151934">pt</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Type" id="151935">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="Boolean" id="151938">beforeRefChecks</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#151934" title="TreeGen.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106718" title="=&gt; TreeGen.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#151935" title="TreeGen.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#151934" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../symtab/SymbolTable.scala.html#64789" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;no need to cast from &quot;)" class="string">&quot;no need to cast from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#151935" title="TreeGen.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#151934" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#151933" title="TreeGen.this.global.Tree">tree</a>
    <span class="delimiter">}</span> <span class="keyword">else</span>
      <a href="Trees.scala.html#67851" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#151933" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151938" title="Boolean">beforeRefChecks</a><span class="delimiter">)</span>
          <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#105577" title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#151933" title="TreeGen.this.global.Tree">tree</a>, <a href="../symtab/Definitions.scala.html#106533" title="=&gt; TreeGen.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.TypeTree*)List[TreeGen.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67818" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#151934" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#105580" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#151933" title="TreeGen.this.global.Tree">tree</a>, <a href="#151934" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105582">mkClassOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151961">tp</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = 
    <a href="#105552" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#105552" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#151961" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Literal">setType</span> <a href="../symtab/Types.scala.html#148410" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#105552" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#151961" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="comment">// ClassType(tp)</span>

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105583">mkCheckInit</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151990">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Type" id="151992">tpe</a> =
      <span title="TreeGen.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#151990" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#151990" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#151990" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>
      <span class="keyword">else</span> <a href="#151990" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a>

    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105552" title="=&gt; scala.tools.nsc.symtab.SymbolTable">global</a>.<a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102982" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64787" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36898" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
        <a href="#151992" title="TreeGen.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106336" title="=&gt; TreeGen.this.global.Symbol">NotNullClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#151992" title="TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105448" title="=&gt; Boolean">isNotNull</a><span class="delimiter">)</span>
      <a href="#105598" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115468" title="=&gt; TreeGen.this.global.nme.NameType">checkInitialized</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#151990" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#151990" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a list with given head and tail. */</span>
  <span class="keyword">def</span> <a title="(head: TreeGen.this.global.Tree, tail: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105584">mkNewCons</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="152029">head</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="152030">tail</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105552" title="(tpt: TreeGen.this.global.Tree)TreeGen.this.global.New">New</a><span class="delimiter">(</span><a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106369" title="=&gt; TreeGen.this.global.Symbol">ConsClass</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#152029" title="TreeGen.this.global.Tree">head</a>, <a href="#152030" title="TreeGen.this.global.Tree">tail</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Builds a list with given head and tail. */</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Tree" id="105585">mkNil</a>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106387" title="=&gt; TreeGen.this.global.Symbol">NilModule</a><span class="delimiter">)</span>
  
  <span class="comment">/** Builds a tree representing an undefined local, as in
   *    var x: T = _
   *  which is appropriate to the given Type.
   */</span>
  <span class="keyword">def</span> <a title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105586">mkZero</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="152063">tp</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Literal" id="152065">tree</a> = <a href="#152063" title="TreeGen.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a> <span title="TreeGen.this.global.Literal" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106718" title="TreeGen.this.global.Literal">UnitClass</a>    =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106734" title="TreeGen.this.global.Literal">BooleanClass</a> =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106730" title="TreeGen.this.global.Literal">FloatClass</a>   =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Float(0.0)" class="float">0.0f</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106732" title="TreeGen.this.global.Literal">DoubleClass</a>  =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Double(0.0)" class="double">0.0d</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106720" title="TreeGen.this.global.Literal">ByteClass</a>    =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>.<span title="=&gt; Byte">toByte</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106722" title="TreeGen.this.global.Literal">ShortClass</a>   =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106726" title="TreeGen.this.global.Literal">IntClass</a>     =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106728" title="TreeGen.this.global.Literal">LongClass</a>    =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106724" title="TreeGen.this.global.Literal">CharClass</a>    =&gt; <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>.<span title="=&gt; Char">toChar</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="TreeGen.this.global.Literal">_</span>            =&gt; 
        <span title="TreeGen.this.global.Literal" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106226" title="=&gt; TreeGen.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#152063" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span> <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>: <span title="Any">Any</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot determine zero for &quot;)" class="string">&quot;Cannot determine zero for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#152063" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>    
    <a href="#152065" title="TreeGen.this.global.Literal">tree</a> <span title="(tp: TreeGen.this.global.Type)tree.type">setType</span> <a href="#152063" title="TreeGen.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a tuple */</span>
  <span class="keyword">def</span> <a title="(elems: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105587">mkTuple</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="152187">elems</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#152187" title="List[TreeGen.this.global.Tree]">elems</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#105552" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span>
      <a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106465" title="(i: Int)TreeGen.this.global.Symbol">TupleClass</a><span class="delimiter">(</span><a href="#152187" title="List[TreeGen.this.global.Tree]">elems</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107638" title="=&gt; TreeGen.this.global.Symbol">caseModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115450" title="=&gt; TreeGen.this.global.nme.NameType">apply</a><span class="delimiter">)</span>,
      <a href="#152187" title="List[TreeGen.this.global.Tree]">elems</a><span class="delimiter">)</span>

  <span class="comment">// tree1 AND tree2</span>
  <span class="keyword">def</span> <a title="(tree1: TreeGen.this.global.Tree, tree2: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105588">mkAnd</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149691">tree1</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="149692">tree2</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Trees.scala.html#67812" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#149691" title="TreeGen.this.global.Tree">tree1</a>, <a href="../symtab/Definitions.scala.html#106736" title="=&gt; TreeGen.this.global.Symbol">Boolean_and</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#149692" title="TreeGen.this.global.Tree">tree2</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// tree1 OR tree2</span>
  <span class="keyword">def</span> <a title="(tree1: TreeGen.this.global.Tree, tree2: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105589">mkOr</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149674">tree1</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="149675">tree2</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Trees.scala.html#67812" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#149674" title="TreeGen.this.global.Tree">tree1</a>, <a href="../symtab/Definitions.scala.html#106737" title="=&gt; TreeGen.this.global.Symbol">Boolean_or</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#149675" title="TreeGen.this.global.Tree">tree2</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// wrap the given expression in a SoftReference so it can be gc-ed</span>
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105590">mkSoftRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="152285">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="Trees.scala.html#67809" title="(tpt: TreeGen.this.global.Tree, argss: List[List[TreeGen.this.global.Tree]])TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="Trees.scala.html#67818" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106401" title="=&gt; TreeGen.this.global.Symbol">SoftReferenceClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>, <span title="(xs: List[TreeGen.this.global.Tree]*)List[List[TreeGen.this.global.Tree]]">List</span><span class="delimiter">(</span><span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#152285" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105591">mkCached</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152313">cvar</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="152314">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="152316">cvarRef</a> = <a href="#105569" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#152313" title="TreeGen.this.global.Symbol">cvar</a><span class="delimiter">)</span>
    <a href="#105552" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
      <span title="(xs: TreeGen.this.global.If*)List[TreeGen.this.global.If]">List</span><span class="delimiter">(</span>
        <a href="#105552" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#152316" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115486" title="=&gt; TreeGen.this.global.nme.NameType">eq</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Literal*)List[TreeGen.this.global.Literal]">List</span><span class="delimiter">(</span><a href="#105552" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#105552" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
           <a href="#105552" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#152316" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="#152314" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>,
           <a href="#105552" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>,
      <a href="#152316" title="TreeGen.this.global.Tree">cvarRef</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Builds a tree of the form &quot;{ lhs = rhs ; lhs  }&quot;</span>
  <span class="keyword">def</span> <a title="(lhs: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105592">mkAssignAndReturn</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152406">lhs</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="152407">rhs</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="152409">lhsRef</a> = <a href="#105569" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#152406" title="TreeGen.this.global.Symbol">lhs</a><span class="delimiter">)</span>
    <a href="#105552" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#105552" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#152409" title="TreeGen.this.global.Tree">lhsRef</a>, <a href="#152407" title="TreeGen.this.global.Tree">rhs</a><span class="delimiter">)</span> <a href="#152418" title="(x: TreeGen.this.global.Assign)List[TreeGen.this.global.Assign]">::</a> <span title="object Nil">Nil</span>, <a href="#152409" title="TreeGen.this.global.Tree">lhsRef</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef" id="105593">mkModuleVarDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152434">accessor</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="152437">mval</a> = <span class="delimiter">(</span>
      <a href="#152434" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107422" title="(pos: TreeGen.this.global.Position, name: TreeGen.this.global.TermName)TreeGen.this.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#152434" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="../symtab/StdNames.scala.html#67724" title="object TreeGen.this.global.nme">nme</a>.<span title="(name: TreeGen.this.global.TermName)TreeGen.this.global.TermName">moduleVarName</span><span class="delimiter">(</span><a href="#152434" title="TreeGen.this.global.Symbol">accessor</a>.<a href="#105552" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: TreeGen.this.global.Name)TreeGen.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/Symbols.scala.html#107566" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="#152434" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105472" title="=&gt; TreeGen.this.global.Type">finalResultType</a>
      <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a> <span class="delimiter">(</span><span title="Long(1073741824L)">MODULEVAR</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    
    <a href="#152437" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../symtab/Symbols.scala.html#107413" title="(annot: TreeGen.this.global.AnnotationInfo)Unit">addAnnotation</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134310" title="(atp: TreeGen.this.global.Type, args: List[TreeGen.this.global.Tree], assocs: List[(TreeGen.this.global.Name, TreeGen.this.global.ClassfileAnnotArg)])TreeGen.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106630" title="=&gt; TreeGen.this.global.Symbol">VolatileAttr</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#152437" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#152437" title="TreeGen.this.global.TermSymbol">mval</a> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)mval.type">setFlag</a> <span class="delimiter">(</span>PRIVATE | LOCAL <span title="Long(2621444L)">|</span> SYNTHETIC<span class="delimiter">)</span>
      <a href="#152437" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; TreeGen.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#152437" title="TreeGen.this.global.TermSymbol">mval</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="Trees.scala.html#67795" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#152437" title="TreeGen.this.global.TermSymbol">mval</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">// def m: T = { if (m$ eq null) m$ = new m$class(...) m$ }</span>
  <span class="comment">// where (...) are eventual outer accessors</span>
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, mvar: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="105594">mkCachedModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152579">accessor</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="152580">mvar</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67801" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#152579" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#105591" title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkCached</a><span class="delimiter">(</span><a href="#152580" title="TreeGen.this.global.Symbol">mvar</a>, <a href="#105596" title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">newModule</a><span class="delimiter">(</span><a href="#152579" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#152580" title="TreeGen.this.global.Symbol">mvar</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, msym: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="105595">mkModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152701">accessor</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="152702">msym</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67801" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#152701" title="TreeGen.this.global.Symbol">accessor</a>, <a href="Trees.scala.html#67812" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="Trees.scala.html#67811" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#152702" title="TreeGen.this.global.Symbol">msym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#152702" title="TreeGen.this.global.Symbol">msym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105596">newModule</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152619">accessor</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Type" id="152620">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67809" title="(tpt: TreeGen.this.global.Tree, argss: List[List[TreeGen.this.global.Tree]])TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="Trees.scala.html#67818" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#152620" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>, 
        <span title="(xs: List[TreeGen.this.global.Tree]*)List[List[TreeGen.this.global.Tree]]">List</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="152662">pt</a> &lt;- <a href="#152620" title="TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107597" title="=&gt; TreeGen.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105476" title="(f: TreeGen.this.global.Type =&gt; TreeGen.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Type],TreeGen.this.global.Tree,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">paramTypes</a><span class="delimiter">)</span> 
             <span class="keyword">yield</span> <a href="Trees.scala.html#67811" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#152619" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; TreeGen.this.global.Symbol">enclClass</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// def m: T;</span>
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="105597">mkModuleAccessDcl</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152747">accessor</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
    <a href="Trees.scala.html#67801" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#152747" title="TreeGen.this.global.Symbol">accessor</a> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)accessor.type">setFlag</a> <a href="../symtab/Flags.scala.html#67047" title="=&gt; Long">lateDEFERRED</a>, <a href="#105552" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105598">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="152019">meth</a>: <a href="../symtab/Names.scala.html#66925" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Tree]" id="152020">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106321" title="=&gt; TreeGen.this.global.Symbol">ScalaRunTimeModule</a><span class="delimiter">)</span>, <a href="#152019" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <a href="#152020" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105599">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="152015">meth</a>: <a href="../symtab/Names.scala.html#66925" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Type]" id="152016">targs</a>: <span title="List[TreeGen.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="152017">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106321" title="=&gt; TreeGen.this.global.Symbol">ScalaRunTimeModule</a><span class="delimiter">)</span>, <a href="#152015" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <a href="#152016" title="List[TreeGen.this.global.Type]">targs</a> <span title="(f: TreeGen.this.global.Type =&gt; TreeGen.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Type],TreeGen.this.global.TypeTree,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">map</span> <a href="Trees.scala.html#67818" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">)</span>, <a href="#152017" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="comment">/** Make a synchronized block on 'monitor'. */</span>
  <span class="keyword">def</span> <a title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105600">mkSynchronized</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="152871">monitor</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="152872">body</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =     
    <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Trees.scala.html#67812" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#152871" title="TreeGen.this.global.Tree">monitor</a>, <a href="../symtab/Definitions.scala.html#106554" title="=&gt; TreeGen.this.global.Symbol">Object_synchronized</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#152872" title="TreeGen.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed" id="105601">wildcardStar</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="152899">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67851" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Typed)TreeGen.this.global.Typed">atPos</a><span class="delimiter">(</span><a href="#152899" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#105552" title="(expr: TreeGen.this.global.Tree, tpt: TreeGen.this.global.Tree)TreeGen.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#152899" title="TreeGen.this.global.Tree">tree</a>, <a href="#105552" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#115051" title="=&gt; TreeGen.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable" id="105602">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152923">vparam</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="152926">arg</a> = <a href="Trees.scala.html#67813" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#152923" title="TreeGen.this.global.Symbol">vparam</a><span class="delimiter">)</span>
    <span title="&lt;none&gt; extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106359" title="(tp: TreeGen.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#152923" title="TreeGen.this.global.Symbol">vparam</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105601" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#152926" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#152926" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.ValDef)TreeGen.this.global.Tree with Serializable" id="105603">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="153009">vparam</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="153012">arg</a> = <a href="#105552" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#153009" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.TermName">name</span><span class="delimiter">)</span>
    <span title="&lt;none&gt; extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#67784" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="TreeInfo.scala.html#153046" title="(tpt: TreeGen.this.global.treeInfo.trees.Tree)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#153009" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105601" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#153012" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#153012" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Make forwarder to method `target', passing all parameters in `params' */</span>
  <span class="keyword">def</span> <a title="(target: TreeGen.this.global.Tree, vparamss: List[List[TreeGen.this.global.Symbol]])TreeGen.this.global.Tree" id="105604">mkForwarder</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153119">target</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[List[TreeGen.this.global.Symbol]]" id="153120">vparamss</a>: <span title="List[List[TreeGen.this.global.Symbol]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="#153119" title="TreeGen.this.global.Tree">target</a> <a href="#153123" title="(z: TreeGen.this.global.Tree)(op: (TreeGen.this.global.Tree, List[TreeGen.this.global.Symbol]) =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">/:</a> <a href="#153120" title="List[List[TreeGen.this.global.Symbol]]">vparamss</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153136">fn</a>, <a title="List[TreeGen.this.global.Symbol]" id="153137">vparams</a><span class="delimiter">)</span> =&gt; <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#153136" title="TreeGen.this.global.Tree">fn</a>, <a href="#153137" title="List[TreeGen.this.global.Symbol]">vparams</a> <span title="(f: TreeGen.this.global.Symbol =&gt; TreeGen.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Symbol],TreeGen.this.global.Tree with Serializable,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">map</span> <a href="#105602" title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable">paramToArg</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Applies a wrapArray call to an array, making it a WrappedArray.
   *  Don't let a reference type parameter be inferred, in case it's a singleton:
   *  apply the element type directly.
   */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type)TreeGen.this.global.Apply" id="105605">mkWrapArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153192">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="153193">elemtp</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Symbol" id="153196">sym</a> = <a href="#153193" title="TreeGen.this.global.Type">elemtp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Name" id="153197">meth</a>: <a href="../symtab/Names.scala.html#66925" title="TreeGen.this.global.Name">Name</a> =
      <span title="TreeGen.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106661" title="(sym: TreeGen.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#153196" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;wrap&quot;)" class="string">&quot;wrap&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#153196" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; TreeGen.this.global.Name">name</a><a href="#105552" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName">+</a><span title="java.lang.String(&quot;Array&quot;)" class="string">&quot;Array&quot;</span>
      <span class="keyword">else</span> <span title="TreeGen.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#153193" title="TreeGen.this.global.Type">elemtp</a> <a href="../symtab/Types.scala.html#105515" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; TreeGen.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106655" title="(elem: TreeGen.this.global.Symbol)Boolean">isPhantomClass</a><span class="delimiter">(</span><a href="#153196" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105552" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName" class="string">&quot;wrapRefArray&quot;</a>
      <span class="keyword">else</span> <a href="#105552" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName" class="string">&quot;genericWrapArray&quot;</a>

    <span title="TreeGen.this.global.Apply" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106661" title="(sym: TreeGen.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#153196" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106309" title="=&gt; TreeGen.this.global.Symbol">PredefModule</a><span class="delimiter">)</span>, <a href="#153197" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153192" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105552" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105568" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106309" title="=&gt; TreeGen.this.global.Symbol">PredefModule</a><span class="delimiter">)</span>, <a href="#153197" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.TypeTree*)List[TreeGen.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67818" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#153193" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153192" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Generate a cast for tree Tree representing Array with
   *  elem type elemtp to expected type pt.
   */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105606">mkCastArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153348">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="153349">elemtp</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Type" id="153350">pt</a>: <a href="../symtab/Types.scala.html#67392" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153349" title="TreeGen.this.global.Type">elemtp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106216" title="=&gt; TreeGen.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106661" title="(sym: TreeGen.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#153348" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105467" title="=&gt; List[TreeGen.this.global.Type]">typeArgs</a>.<span title="=&gt; TreeGen.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105572" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#105598" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="#105552" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName" class="string">&quot;toObjectArray&quot;</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153348" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#153350" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#105572" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#153348" title="TreeGen.this.global.Tree">tree</a>, <a href="#153350" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
  
  <span class="comment">/** Translate names in Select/Ident nodes to type names.
   */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]" id="105607">convertToTypeName</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153373">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[TreeGen.this.global.RefTree]">Option</span><span class="delimiter">[</span>RefTree<span class="delimiter">]</span> = <a href="#153373" title="TreeGen.this.global.Tree">tree</a> <span title="Option[TreeGen.this.global.RefTree]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Select]">Select</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153379">qual</a>, <a title="TreeGen.this.global.Name" id="153380">name</a><span class="delimiter">)</span> =&gt; <span title="(x: TreeGen.this.global.Select)Some[TreeGen.this.global.Select]">Some</span><span class="delimiter">(</span><a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#153379" title="TreeGen.this.global.Tree">qual</a>, <a href="#153380" title="TreeGen.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96599" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Ident]">Ident</span><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="153403">name</a><span class="delimiter">)</span>        =&gt; <span title="(x: TreeGen.this.global.Ident)Some[TreeGen.this.global.Ident]">Some</span><span class="delimiter">(</span><a href="#105552" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#153403" title="TreeGen.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96599" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span>                  =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Try to convert Select(qual, name) to a SelectFromTypeTree.
   */</span>
  <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree, origName: TreeGen.this.global.Name)TreeGen.this.global.Tree with Serializable" id="105608">convertToSelectFromType</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153418">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Name" id="153419">origName</a>: <a href="../symtab/Names.scala.html#66925" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#105607" title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]">convertToTypeName</a><span class="delimiter">(</span><a href="#153418" title="TreeGen.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="&lt;none&gt; extends TreeGen.this.global.Tree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.SelectFromTypeTree">Some</span><span class="delimiter">(</span><a title="TreeGen.this.global.RefTree" id="153423">qual1</a><span class="delimiter">)</span>  =&gt; <a href="#105552" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.TypeName)TreeGen.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#153423" title="TreeGen.this.global.RefTree">qual1</a> <span title="(pos: TreeGen.this.global.Position)qual1.type">setPos</span> <a href="#153418" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>, <a href="#153419" title="TreeGen.this.global.Name">origName</a>.<a href="../symtab/Names.scala.html#96599" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.EmptyTree.type">_</span>            =&gt; <a href="#105552" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Used in situations where you need to access value of an expression several times
   */</span>
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: () =&gt; TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105609">evalOnce</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153444">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="153445">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="153446">unit</a>: <a href="Trees.scala.html#67780" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="() =&gt; TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="153447">within</a>: <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Boolean" id="153449">used</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#67784" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="TreeInfo.scala.html#153033" title="(tree: TreeGen.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#153444" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#153447" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153449" title="Boolean">used</a><span class="delimiter">)</span> <a href="#153444" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#153449" title="Boolean">used</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#153444" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="153455">temp</a> = <a href="#153445" title="TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107420" title="(pos: TreeGen.this.global.Position, name: TreeGen.this.global.TermName)TreeGen.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#153444" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97213" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#153446" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="Trees.scala.html#96420" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107566" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#153444" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="153456">containing</a> = <a href="#153447" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="Trees.scala.html#67813" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#153455" title="TreeGen.this.global.TermSymbol">temp</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Ident">setPos</span> <a href="#153455" title="TreeGen.this.global.TermSymbol">temp</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#153444" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
      <a href="../symtab/Positions.scala.html#67899" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#153456" title="TreeGen.this.global.Tree">containing</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153444" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105552" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: TreeGen.this.global.ValDef*)List[TreeGen.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67794" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#153455" title="TreeGen.this.global.TermSymbol">temp</a>, <a href="#153444" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#153456" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#153456" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#97225" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#153444" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(exprs: List[TreeGen.this.global.Tree], owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105610">evalOnceAll</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="153543">exprs</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Symbol" id="153544">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="153545">unit</a>: <a href="Trees.scala.html#67780" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree" id="153546">within</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" id="153548">vdefs</a> = <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">ListBuffer</span><span class="delimiter">[</span>ValDef<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" id="153549">exprs1</a> = <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="Array[Boolean]" id="153550">used</a> = <span title="Array[Boolean]" class="keyword">new</span> <span title="Array[Boolean]">Array</span><span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">(</span><a href="#153543" title="List[TreeGen.this.global.Tree]">exprs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Int" id="153551">i</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153575">expr</a> &lt;- <a href="#153543" title="(f: TreeGen.this.global.Tree =&gt; Unit)Unit">exprs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="exprs1.type" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#67784" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="TreeInfo.scala.html#153033" title="(tree: TreeGen.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#153575" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#153549" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="153585">idx</a> = <a href="#153551" title="Int">i</a>
          <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153550" title="(i: Int)Boolean">used</a><span class="delimiter">(</span><a href="#153585" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#153575" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#153550" title="(i: Int, x: Boolean)Unit">used</a><span class="delimiter">(</span><a href="#153585" title="Int">idx</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#153575" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="153589">temp</a> = <a href="#153544" title="TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107420" title="(pos: TreeGen.this.global.Position, name: TreeGen.this.global.TermName)TreeGen.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#153575" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97213" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#153545" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="Trees.scala.html#96420" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107566" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#153575" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
        <a href="#153548" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a> <span title="(x: TreeGen.this.global.ValDef)vdefs.type">+=</span> <a href="Trees.scala.html#67794" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#153589" title="TreeGen.this.global.TermSymbol">temp</a>, <a href="#153575" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>
        <a href="#153549" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="Trees.scala.html#67813" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#153589" title="TreeGen.this.global.TermSymbol">temp</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Ident">setPos</span> <a href="#153589" title="TreeGen.this.global.TermSymbol">temp</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97227" title="=&gt; scala.tools.nsc.util.Position">focus</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#153575" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#153551" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[TreeGen.this.global.ValDef]" id="153552">prefix</a> = <a href="#153548" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a>.<span title="=&gt; List[TreeGen.this.global.ValDef]">toList</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="153553">containing</a> = <a href="#153546" title="(v1: List[() =&gt; TreeGen.this.global.Tree])TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><a href="#153549" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a>.<span title="=&gt; List[() =&gt; TreeGen.this.global.Tree]">toList</span><span class="delimiter">)</span>
    <a href="../symtab/Positions.scala.html#67899" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#153553" title="TreeGen.this.global.Tree">containing</a>, <a href="#153543" title="List[TreeGen.this.global.Tree]">exprs</a><span class="delimiter">)</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153552" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#153553" title="TreeGen.this.global.Tree">containing</a>
    <span class="keyword">else</span> <a href="#105552" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#153552" title="List[TreeGen.this.global.ValDef]">prefix</a>, <a href="#153553" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#153552" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; TreeGen.this.global.ValDef">head</span>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#97225" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#153553" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Return a double-checked locking idiom around the syncBody tree. It guards with 'cond' and
   *  synchronizez on 'clazz.this'. Additional statements can be included after initialization,
   *  (outside the synchronized block).
   *
   *  The idiom works only if the condition is using a volatile field.
   *  @see http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html
   */</span>
  <span class="keyword">def</span> <a title="(clazz: TreeGen.this.global.Symbol, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105611">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="153677">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="153678">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="153679">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="153680">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105612" title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#105575" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#153677" title="TreeGen.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#153678" title="TreeGen.this.global.Tree">cond</a>, <a href="#153679" title="List[TreeGen.this.global.Tree]">syncBody</a>, <a href="#153680" title="List[TreeGen.this.global.Tree]">stats</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105612">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153686">attrThis</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="153687">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="153688">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="153689">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <a href="#105552" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#153687" title="TreeGen.this.global.Tree">cond</a>,
       <a href="Trees.scala.html#67814" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
         <a href="#105600" title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkSynchronized</a><span class="delimiter">(</span>
           <a href="#153686" title="TreeGen.this.global.Tree">attrThis</a>,
           <a href="#105552" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#153687" title="TreeGen.this.global.Tree">cond</a>, <a href="Trees.scala.html#67814" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#153688" title="List[TreeGen.this.global.Tree]">syncBody</a>: _*<span class="delimiter">)</span>, <a href="#105552" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#153697" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
         <a href="#153689" title="List[TreeGen.this.global.Tree]">stats</a>: _*<span class="delimiter">)</span>,
       <a href="#105552" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>