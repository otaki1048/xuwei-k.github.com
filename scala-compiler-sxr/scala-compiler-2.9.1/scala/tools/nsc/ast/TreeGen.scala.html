<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/ast/TreeGen.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> ast

<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> symtab.SymbolTable

<span class="comment">/** XXX to resolve: TreeGen only assumes global is a SymbolTable, but
 *  TreeDSL at the moment expects a Global.  Can we get by with SymbolTable?
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeGen extends java.lang.Object with ScalaObject" id="11896">TreeGen</a> <a href="#11896" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.symtab.SymbolTable" id="105411">global</a>: <a href="../symtab/SymbolTable.scala.html#24378" title="scala.tools.nsc.symtab.SymbolTable">SymbolTable</a>

  <span class="keyword">import</span> <a href="#105411" title="=&gt; scala.tools.nsc.symtab.SymbolTable">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67688" title="object TreeGen.this.global.definitions">definitions</a>._
  
  <span class="keyword">def</span> <a title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select" id="105414">rootId</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151268">name</a>: <a href="../symtab/Names.scala.html#66914" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>          = <a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105411" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<span title="=&gt; TreeGen.this.global.nme.NameType">ROOTPKG</span><span class="delimiter">)</span>, <a href="#151268" title="TreeGen.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select" id="105415">rootScalaDot</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151302">name</a>: <a href="../symtab/Names.scala.html#66914" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>    = <a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105414" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">rootId</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115430" title="=&gt; TreeGen.this.global.nme.NameType">scala_</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">setSymbol</span> <a href="../symtab/Definitions.scala.html#106044" title="=&gt; TreeGen.this.global.Symbol">ScalaPackage</a>, <a href="#151302" title="TreeGen.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select" id="105416">scalaDot</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151121">name</a>: <a href="../symtab/Names.scala.html#66914" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>        = <a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105411" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115430" title="=&gt; TreeGen.this.global.nme.NameType">scala_</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">setSymbol</span> <a href="../symtab/Definitions.scala.html#106044" title="=&gt; TreeGen.this.global.Symbol">ScalaPackage</a>, <a href="#151121" title="TreeGen.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105417">scalaAnyRefConstr</a>           = <a href="#105416" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114915" title="=&gt; TreeGen.this.global.tpnme.NameType">AnyRef</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105418">scalaUnitConstr</a>             = <a href="#105416" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114882" title="=&gt; TreeGen.this.global.tpnme.NameType">Unit</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105419">scalaScalaObjectConstr</a>      = <a href="#105416" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114929" title="=&gt; TreeGen.this.global.tpnme.NameType">ScalaObject</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105420">productConstr</a>               = <a href="#105416" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114927" title="=&gt; TreeGen.this.global.tpnme.NameType">Product</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Select" id="105421">serializableConstr</a>          = <a href="#105416" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114931" title="=&gt; TreeGen.this.global.tpnme.NameType">Serializable</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(argtpes: List[TreeGen.this.global.Tree], restpe: TreeGen.this.global.Tree, abstractFun: Boolean)TreeGen.this.global.Tree" id="105422">scalaFunctionConstr</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="151336">argtpes</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree" id="151337">restpe</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="Boolean" id="151340">abstractFun</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="151341">cls</a> = <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151340" title="Boolean">abstractFun</a><span class="delimiter">)</span>
      <a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106330" title="(i: Int)TreeGen.this.global.Symbol">AbstractFunctionClass</a><span class="delimiter">(</span><a href="#151336" title="List[TreeGen.this.global.Tree]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106328" title="(i: Int)TreeGen.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#151336" title="List[TreeGen.this.global.Tree]">argtpes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#105411" title="(tpt: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.AppliedTypeTree">AppliedTypeTree</a><span class="delimiter">(</span><a href="#151341" title="TreeGen.this.global.Tree">cls</a>, <a href="#151336" title="List[TreeGen.this.global.Tree]">argtpes</a> <span title="(elem: TreeGen.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Tree],TreeGen.this.global.Tree,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">:+</span> <a href="#151337" title="TreeGen.this.global.Tree">restpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference to value whose type is given stable prefix.
   *  The type must be suitable for this.  For example, it
   *  must not be a TypeRef pointing to an abstract type variable.
   */</span>
  <span class="keyword">def</span> <a title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105423">mkAttributedQualifier</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151418">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105424" title="(tpe: TreeGen.this.global.Type, termSym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#151418" title="TreeGen.this.global.Type">tpe</a>, <a href="../symtab/Symbols.scala.html#67328" title="object TreeGen.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>

  <span class="comment">/** Builds a reference to value whose type is given stable prefix.
   *  If the type is unsuitable, e.g. it is a TypeRef for an
   *  abstract type variable, then an Ident will be made using
   *  termSym as the Ident's symbol.  In that case, termSym must
   *  not be NoSymbol.
   */</span>
  <span class="keyword">def</span> <a title="(tpe: TreeGen.this.global.Type, termSym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105424">mkAttributedQualifier</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151424">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="151425">termSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#151424" title="TreeGen.this.global.Type">tpe</a> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#67397" title="TreeGen.this.global.EmptyTree.type">NoPrefix</a> =&gt;
      <a href="#105411" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">ThisType</span><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151428">clazz</a><span class="delimiter">)</span> =&gt;
      <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151428" title="TreeGen.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isEffectiveRoot</span><span class="delimiter">)</span> <a href="#105411" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
      <span class="keyword">else</span> <a href="#105434" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#151428" title="TreeGen.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">SingleType</span><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151431">pre</a>, <a title="TreeGen.this.global.Symbol" id="151432">sym</a><span class="delimiter">)</span> =&gt;
      <a href="#105425" title="(qual: TreeGen.this.global.Tree)TreeGen.this.global.Tree">applyIfNoArgs</a><span class="delimiter">(</span><a href="#105432" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedStableRef</a><span class="delimiter">(</span><a href="#151431" title="TreeGen.this.global.Type">pre</a>, <a href="#151432" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">TypeRef</span><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151458">pre</a>, <a title="TreeGen.this.global.Symbol" id="151459">sym</a>, <a title="List[TreeGen.this.global.Type]" id="151460">args</a><span class="delimiter">)</span> =&gt;
      <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151459" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isRoot</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#105434" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#151459" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151459" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#105425" title="(qual: TreeGen.this.global.Tree)TreeGen.this.global.Tree">applyIfNoArgs</a><span class="delimiter">(</span><a href="#105426" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151458" title="TreeGen.this.global.Type">pre</a>, <a href="#151459" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; TreeGen.this.global.Symbol">sourceModule</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151459" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">||</span> <a href="#151459" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a>, <a href="#151424" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#105434" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#151459" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151459" title="TreeGen.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#151425" title="TreeGen.this.global.Symbol">termSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object TreeGen.this.global.NoSymbol">NoSymbol</a>, <a href="#151424" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#105435" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#151425" title="TreeGen.this.global.Symbol">termSym</a><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Tree">setType</span> <a href="#151424" title="TreeGen.this.global.Type">tpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#105426" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151458" title="TreeGen.this.global.Type">pre</a>, <a href="#151459" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <span title="TreeGen.this.global.Literal">ConstantType</span><span class="delimiter">(</span><a title="TreeGen.this.global.Constant" id="151481">value</a><span class="delimiter">)</span> =&gt;
      <a href="#105411" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#151481" title="TreeGen.this.global.Constant">value</a><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Literal">setType</span> <a href="#151424" title="TreeGen.this.global.Type">tpe</a>

    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">AnnotatedType</span><span class="delimiter">(</span>_, <a title="TreeGen.this.global.Type" id="151506">atp</a>, _<span class="delimiter">)</span> =&gt;
      <a href="#105423" title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#151506" title="TreeGen.this.global.Type">atp</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">RefinedType</span><span class="delimiter">(</span><a title="List[TreeGen.this.global.Type]" id="151513">parents</a>, _<span class="delimiter">)</span> =&gt;
      <span class="comment">// I am unclear whether this is reachable, but</span>
      <span class="comment">// the following implementation looks logical -Lex</span>
      <span class="keyword">val</span> <a title="Option[TreeGen.this.global.Type]" id="151514">firstStable</a> = <a href="#151513" title="List[TreeGen.this.global.Type]">parents</a>.<span title="(p: TreeGen.this.global.Type =&gt; Boolean)Option[TreeGen.this.global.Type]">find</span><span class="delimiter">(</span><a href="#151521" title="TreeGen.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#151514" title="Option[TreeGen.this.global.Type]">firstStable</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#151424" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
      <a href="#105423" title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#151514" title="Option[TreeGen.this.global.Type]">firstStable</a>.<span title="=&gt; TreeGen.this.global.Type">get</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
      <a href="../symtab/SymbolTable.scala.html#64779" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;bad qualifier: &quot;)" class="string">&quot;bad qualifier: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#151424" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** If this is a reference to a method with an empty
   *  parameter list, wrap it in an apply.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105425">applyIfNoArgs</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151433">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#151433" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Apply">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a title="TreeGen.this.global.Type" id="151438">restpe</a><span class="delimiter">)</span> =&gt; <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#151433" title="TreeGen.this.global.Tree">qual</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Apply">setType</span> <a href="#151438" title="TreeGen.this.global.Type">restpe</a>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">_</span>                       =&gt; <a href="#151433" title="TreeGen.this.global.Tree">qual</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference to given symbol with given stable prefix. */</span>
  <span class="keyword">def</span> <a title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105426">mkAttributedRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="150678">pre</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="150679">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="151547">qual</a> = <a href="#105423" title="(tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#150678" title="TreeGen.this.global.Type">pre</a><span class="delimiter">)</span>
    <a href="#151547" title="TreeGen.this.global.Tree">qual</a> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#105411" title="TreeGen.this.global.Tree">EmptyTree</a>                                  =&gt; <a href="#105435" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#150679" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">This</span><span class="delimiter">(</span><a title="TreeGen.this.global.TypeName" id="151556">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#151547" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isEffectiveRoot</span> =&gt; <a href="#105435" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#150679" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">_</span>                                          =&gt; <a href="#105436" title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#151547" title="TreeGen.this.global.Tree">qual</a>, <a href="#150679" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference to given symbol. */</span>
  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105427">mkAttributedRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="150675">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#150675" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#105426" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#150675" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; TreeGen.this.global.Type">thisType</a>, <a href="#150675" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#105435" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#150675" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    
  <span class="comment">/** Builds an untyped reference to given symbol. */</span>
  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105428">mkUnattributedRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151564">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151564" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="Trees.scala.html#67801" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="Trees.scala.html#67800" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#151564" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#151564" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="Trees.scala.html#67802" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#151564" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>

  <span class="comment">/** Replaces tree type with a stable type if possible */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105429">stabilize</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151603">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">for</span><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151611">tp</a> &lt;- <a href="#105430" title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.Type]">stableTypeFor</a><span title="(f: TreeGen.this.global.Type =&gt; Unit)Unit" class="delimiter">(</span><a href="#151603" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#151603" title="TreeGen.this.global.Tree">tree</a>.<span title="(t: TreeGen.this.global.Type)Unit">tpe</span> = <a href="#151611" title="TreeGen.this.global.Type">tp</a>
    <a href="#151603" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Computes stable type for a tree if possible */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.Type]" id="105430">stableTypeFor</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151605">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[TreeGen.this.global.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#151605" title="TreeGen.this.global.Tree">tree</a> <span title="Option[TreeGen.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Type]">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#151605" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107373" title="=&gt; Boolean">isStable</a> =&gt;
      <span title="(x: TreeGen.this.global.Type)Some[TreeGen.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67468" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#151605" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; TreeGen.this.global.Type">thisType</a>, <a href="#151605" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Type]">Select</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151645">qual</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#151605" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#151645" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="comment">// turned assert into guard for #4064</span>
                            <a href="#151605" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107373" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#151645" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105305" title="=&gt; Boolean">isStable</a> =&gt;
      <span title="(x: TreeGen.this.global.Type)Some[TreeGen.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67468" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#151645" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>, <a href="#151605" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
      <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Cast `tree' to type `pt' */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105431">mkCast</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="106795">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="106796">pt</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64776" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../symtab/SymbolTable.scala.html#64778" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;casting &quot;)" class="string">&quot;casting &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106795" title="TreeGen.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106795" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#106796" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106795" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67437" title="TreeGen.this.global.MethodType">MethodType</a><span class="delimiter">]</span>, <a href="#106795" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106796" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span>
    <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#106796" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107350" title="=&gt; Boolean">isPackageObjectClass</a><span class="delimiter">)</span>
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#106796" title="TreeGen.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#106796" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; TreeGen.this.global.Type">normalize</a>, <a href="#106795" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <span title="(other: String)java.lang.String">+</span><span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/TypeDebugging.scala.html#67939" title="(tp: TreeGen.this.global.Type)String">debugString</a><span class="delimiter">(</span><a href="#106796" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; ~&gt;&quot;)" class="string">&quot; ~&gt;&quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/TypeDebugging.scala.html#67939" title="(tp: TreeGen.this.global.Type)String">debugString</a><span class="delimiter">(</span><a href="#106796" title="TreeGen.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; TreeGen.this.global.Type">normalize</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@MAT only called during erasure, which already takes care of that</span>
    <a href="Trees.scala.html#67840" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#106795" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#105439" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#106795" title="TreeGen.this.global.Tree">tree</a>, <a href="#106796" title="TreeGen.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a reference with stable type to given symbol */</span>
  <span class="keyword">def</span> <a title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105432">mkAttributedStableRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151452">pre</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="151453">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105429" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#105426" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151452" title="TreeGen.this.global.Type">pre</a>, <a href="#151453" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105433">mkAttributedStableRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151450">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105429" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#151450" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105434">mkAttributedThis</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151177">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105411" title="(qual: TreeGen.this.global.TypeName)TreeGen.this.global.This">This</a><span class="delimiter">(</span><a href="#151177" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; TreeGen.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96578" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.This">setSymbol</span> <a href="#151177" title="TreeGen.this.global.Symbol">sym</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.This">setType</span> <a href="#151177" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; TreeGen.this.global.Type">thisType</a>

  <span class="keyword">def</span> <a title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105435">mkAttributedIdent</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="151184">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105411" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#151184" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; TreeGen.this.global.Name">name</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">setSymbol</span> <a href="#151184" title="TreeGen.this.global.Symbol">sym</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#151184" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a>

  <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree" id="105436">mkAttributedSelect</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151557">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="151558">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="comment">// Tests involving the repl fail without the .isEmptyPackage condition.</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151557" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#151557" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isEffectiveRoot</span> <span title="(x: Boolean)Boolean">||</span> <a href="#151557" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isEmptyPackage</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105435" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#151558" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="151745">pkgQualifier</a> =
        <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151558" title="TreeGen.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#151558" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107350" title="=&gt; Boolean">isPackageObjectClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#151558" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#151557" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="TreeGen.this.global.Symbol" id="151758">obj</a> = <a href="#151558" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; TreeGen.this.global.Symbol">sourceModule</span>
          <a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#151557" title="TreeGen.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115213" title="=&gt; TreeGen.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span> <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">setSymbol</span> <a href="#151758" title="TreeGen.this.global.Symbol">obj</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Select">setType</span> <a href="../symtab/Types.scala.html#67468" title="(pre: TreeGen.this.global.Type, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#151557" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>, <a href="#151758" title="TreeGen.this.global.Symbol">obj</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#151557" title="TreeGen.this.global.Tree">qual</a>
      
      <span class="keyword">val</span> <a title="TreeGen.this.global.Select" id="151746">tree</a> = <a href="Trees.scala.html#67801" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#151745" title="TreeGen.this.global.Tree">pkgQualifier</a>, <a href="#151558" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151745" title="TreeGen.this.global.Tree">pkgQualifier</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#151746" title="TreeGen.this.global.Select">tree</a>
      <span class="keyword">else</span> <a href="#151746" title="TreeGen.this.global.Select">tree</a> <span title="(tp: TreeGen.this.global.Type)tree.type">setType</span> <span class="delimiter">(</span><a href="#151557" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105361" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Type">memberType</a> <a href="#151558" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, what: TreeGen.this.global.Symbol)TreeGen.this.global.Apply" id="105437">mkTypeApply</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151804">value</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="151805">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Symbol" id="151806">what</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span>
      <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span>
        <a href="#105436" title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#151804" title="TreeGen.this.global.Tree">value</a>, <a href="#151806" title="TreeGen.this.global.Symbol">what</a><span class="delimiter">)</span>,
        <span title="(xs: TreeGen.this.global.TypeTree*)List[TreeGen.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67807" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#151805" title="TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; TreeGen.this.global.Type">normalize</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>,
      <span title="object Nil">Nil</span>
    <span class="delimiter">)</span>
  <span class="comment">/** Builds an instance test with given value and type. */</span>
  <span class="keyword">def</span> <a title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree" id="105438">mkIsInstanceOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149916">value</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="149917">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="Boolean" id="149920">any</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105437" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, what: TreeGen.this.global.Symbol)TreeGen.this.global.Apply">mkTypeApply</a><span class="delimiter">(</span><a href="#149916" title="TreeGen.this.global.Tree">value</a>, <a href="#149917" title="TreeGen.this.global.Type">tpe</a>, <span class="delimiter">(</span><span title="TreeGen.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#149920" title="Boolean">any</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106389" title="=&gt; TreeGen.this.global.Symbol">Any_isInstanceOf</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106416" title="=&gt; TreeGen.this.global.Symbol">Object_isInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Builds a cast with given value and type. */</span>
  <span class="keyword">def</span> <a title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree" id="105439">mkAsInstanceOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149896">value</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="149897">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="Boolean" id="149900">any</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105437" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, what: TreeGen.this.global.Symbol)TreeGen.this.global.Apply">mkTypeApply</a><span class="delimiter">(</span><a href="#149896" title="TreeGen.this.global.Tree">value</a>, <a href="#149897" title="TreeGen.this.global.Type">tpe</a>, <span class="delimiter">(</span><span title="TreeGen.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#149900" title="Boolean">any</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#106392" title="=&gt; TreeGen.this.global.Symbol">Any_asInstanceOf</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#106418" title="=&gt; TreeGen.this.global.Symbol">Object_asInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Cast `tree' to 'pt', unless tpe is a subtype of pt, or pt is Unit.  */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type, tpe: TreeGen.this.global.Type, beforeRefChecks: Boolean)TreeGen.this.global.Tree" id="105440">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151869">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="151870">pt</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Type" id="151871">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="Boolean" id="151874">beforeRefChecks</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#151870" title="TreeGen.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; TreeGen.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#151871" title="TreeGen.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#151870" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../symtab/SymbolTable.scala.html#64778" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;no need to cast from &quot;)" class="string">&quot;no need to cast from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#151871" title="TreeGen.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#151870" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#151869" title="TreeGen.this.global.Tree">tree</a>
    <span class="delimiter">}</span> <span class="keyword">else</span>
      <a href="Trees.scala.html#67840" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#151869" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#151874" title="Boolean">beforeRefChecks</a><span class="delimiter">)</span>
          <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#105436" title="(qual: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#151869" title="TreeGen.this.global.Tree">tree</a>, <a href="../symtab/Definitions.scala.html#106392" title="=&gt; TreeGen.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.TypeTree*)List[TreeGen.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67807" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#151870" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#105439" title="(value: TreeGen.this.global.Tree, tpe: TreeGen.this.global.Type, any: Boolean)TreeGen.this.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#151869" title="TreeGen.this.global.Tree">tree</a>, <a href="#151870" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105441">mkClassOf</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151897">tp</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = 
    <a href="#105411" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#105411" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#151897" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Literal">setType</span> <a href="../symtab/Types.scala.html#148346" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#105411" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#151897" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="comment">// ClassType(tp)</span>

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105442">mkCheckInit</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151926">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Type" id="151928">tpe</a> =
      <span title="TreeGen.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#151926" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#151926" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#151926" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>
      <span class="keyword">else</span> <a href="#151926" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a>

    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#105411" title="=&gt; scala.tools.nsc.symtab.SymbolTable">global</a>.<a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102841" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/SymbolTable.scala.html#64776" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#36911" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
        <a href="#151928" title="TreeGen.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106195" title="=&gt; TreeGen.this.global.Symbol">NotNullClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#151928" title="TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105307" title="=&gt; Boolean">isNotNull</a><span class="delimiter">)</span>
      <a href="#105457" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115328" title="=&gt; TreeGen.this.global.nme.NameType">checkInitialized</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#151926" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#151926" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a list with given head and tail. */</span>
  <span class="keyword">def</span> <a title="(head: TreeGen.this.global.Tree, tail: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105443">mkNewCons</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="151965">head</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="151966">tail</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105411" title="(tpt: TreeGen.this.global.Tree)TreeGen.this.global.New">New</a><span class="delimiter">(</span><a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106228" title="=&gt; TreeGen.this.global.Symbol">ConsClass</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#151965" title="TreeGen.this.global.Tree">head</a>, <a href="#151966" title="TreeGen.this.global.Tree">tail</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Builds a list with given head and tail. */</span>
  <span class="keyword">def</span> <a title="=&gt; TreeGen.this.global.Tree" id="105444">mkNil</a>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106246" title="=&gt; TreeGen.this.global.Symbol">NilModule</a><span class="delimiter">)</span>
  
  <span class="comment">/** Builds a tree representing an undefined local, as in
   *    var x: T = _
   *  which is appropriate to the given Type.
   */</span>
  <span class="keyword">def</span> <a title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105445">mkZero</a><span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="151999">tp</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Literal" id="152001">tree</a> = <a href="#151999" title="TreeGen.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a> <span title="TreeGen.this.global.Literal" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106577" title="TreeGen.this.global.Literal">UnitClass</a>    =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106593" title="TreeGen.this.global.Literal">BooleanClass</a> =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106589" title="TreeGen.this.global.Literal">FloatClass</a>   =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Float(0.0)" class="float">0.0f</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106591" title="TreeGen.this.global.Literal">DoubleClass</a>  =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Double(0.0)" class="double">0.0d</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106579" title="TreeGen.this.global.Literal">ByteClass</a>    =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>.<span title="=&gt; Byte">toByte</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106581" title="TreeGen.this.global.Literal">ShortClass</a>   =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106585" title="TreeGen.this.global.Literal">IntClass</a>     =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106587" title="TreeGen.this.global.Literal">LongClass</a>    =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#106583" title="TreeGen.this.global.Literal">CharClass</a>    =&gt; <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>.<span title="=&gt; Char">toChar</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="TreeGen.this.global.Literal">_</span>            =&gt; 
        <span title="TreeGen.this.global.Literal" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106085" title="=&gt; TreeGen.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#151999" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span> <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>: <span title="Any">Any</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../symtab/SymbolTable.scala.html#64779" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot determine zero for &quot;)" class="string">&quot;Cannot determine zero for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#151999" title="TreeGen.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>    
    <a href="#152001" title="TreeGen.this.global.Literal">tree</a> <span title="(tp: TreeGen.this.global.Type)tree.type">setType</span> <a href="#151999" title="TreeGen.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Builds a tuple */</span>
  <span class="keyword">def</span> <a title="(elems: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105446">mkTuple</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="152123">elems</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#152123" title="List[TreeGen.this.global.Tree]">elems</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#105411" title="(value: Any)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span>
      <a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106324" title="(i: Int)TreeGen.this.global.Symbol">TupleClass</a><span class="delimiter">(</span><a href="#152123" title="List[TreeGen.this.global.Tree]">elems</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107497" title="=&gt; TreeGen.this.global.Symbol">caseModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115310" title="=&gt; TreeGen.this.global.nme.NameType">apply</a><span class="delimiter">)</span>,
      <a href="#152123" title="List[TreeGen.this.global.Tree]">elems</a><span class="delimiter">)</span>

  <span class="comment">// tree1 AND tree2</span>
  <span class="keyword">def</span> <a title="(tree1: TreeGen.this.global.Tree, tree2: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105447">mkAnd</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149627">tree1</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="149628">tree2</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Trees.scala.html#67801" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#149627" title="TreeGen.this.global.Tree">tree1</a>, <a href="../symtab/Definitions.scala.html#106595" title="=&gt; TreeGen.this.global.Symbol">Boolean_and</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#149628" title="TreeGen.this.global.Tree">tree2</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// tree1 OR tree2</span>
  <span class="keyword">def</span> <a title="(tree1: TreeGen.this.global.Tree, tree2: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105448">mkOr</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="149610">tree1</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="149611">tree2</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Trees.scala.html#67801" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#149610" title="TreeGen.this.global.Tree">tree1</a>, <a href="../symtab/Definitions.scala.html#106596" title="=&gt; TreeGen.this.global.Symbol">Boolean_or</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#149611" title="TreeGen.this.global.Tree">tree2</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// wrap the given expression in a SoftReference so it can be gc-ed</span>
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105449">mkSoftRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="152221">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="Trees.scala.html#67798" title="(tpt: TreeGen.this.global.Tree, argss: List[List[TreeGen.this.global.Tree]])TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="Trees.scala.html#67807" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106260" title="=&gt; TreeGen.this.global.Symbol">SoftReferenceClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>, <span title="(xs: List[TreeGen.this.global.Tree]*)List[List[TreeGen.this.global.Tree]]">List</span><span class="delimiter">(</span><span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#152221" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105450">mkCached</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152249">cvar</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="152250">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="152252">cvarRef</a> = <a href="#105428" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#152249" title="TreeGen.this.global.Symbol">cvar</a><span class="delimiter">)</span>
    <a href="#105411" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
      <span title="(xs: TreeGen.this.global.If*)List[TreeGen.this.global.If]">List</span><span class="delimiter">(</span>
        <a href="#105411" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#152252" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115346" title="=&gt; TreeGen.this.global.nme.NameType">eq</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Literal*)List[TreeGen.this.global.Literal]">List</span><span class="delimiter">(</span><a href="#105411" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#105411" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
           <a href="#105411" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#152252" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="#152250" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>,
           <a href="#105411" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>,
      <a href="#152252" title="TreeGen.this.global.Tree">cvarRef</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Builds a tree of the form &quot;{ lhs = rhs ; lhs  }&quot;</span>
  <span class="keyword">def</span> <a title="(lhs: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105451">mkAssignAndReturn</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152342">lhs</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="152343">rhs</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="152345">lhsRef</a> = <a href="#105428" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#152342" title="TreeGen.this.global.Symbol">lhs</a><span class="delimiter">)</span>
    <a href="#105411" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#105411" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#152345" title="TreeGen.this.global.Tree">lhsRef</a>, <a href="#152343" title="TreeGen.this.global.Tree">rhs</a><span class="delimiter">)</span> <a href="#152354" title="(x: TreeGen.this.global.Assign)List[TreeGen.this.global.Assign]">::</a> <span title="object Nil">Nil</span>, <a href="#152345" title="TreeGen.this.global.Tree">lhsRef</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef" id="105452">mkModuleVarDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152370">accessor</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="152373">mval</a> = <span class="delimiter">(</span>
      <a href="#152370" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107281" title="(pos: TreeGen.this.global.Position, name: TreeGen.this.global.TermName)TreeGen.this.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#152370" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="../symtab/StdNames.scala.html#67713" title="object TreeGen.this.global.nme">nme</a>.<span title="(name: TreeGen.this.global.TermName)TreeGen.this.global.TermName">moduleVarName</span><span class="delimiter">(</span><a href="#152370" title="TreeGen.this.global.Symbol">accessor</a>.<a href="#105411" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: TreeGen.this.global.Name)TreeGen.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/Symbols.scala.html#107425" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="#152370" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105331" title="=&gt; TreeGen.this.global.Type">finalResultType</a>
      <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a> <span class="delimiter">(</span><span title="Long(1073741824L)">MODULEVAR</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    
    <a href="#152373" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../symtab/Symbols.scala.html#107272" title="(annot: TreeGen.this.global.AnnotationInfo)Unit">addAnnotation</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: TreeGen.this.global.Type, args: List[TreeGen.this.global.Tree], assocs: List[(TreeGen.this.global.Name, TreeGen.this.global.ClassfileAnnotArg)])TreeGen.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106489" title="=&gt; TreeGen.this.global.Symbol">VolatileAttr</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#152373" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#152373" title="TreeGen.this.global.TermSymbol">mval</a> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)mval.type">setFlag</a> <span class="delimiter">(</span>PRIVATE | LOCAL <span title="Long(2621444L)">|</span> SYNTHETIC<span class="delimiter">)</span>
      <a href="#152373" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; TreeGen.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#152373" title="TreeGen.this.global.TermSymbol">mval</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="Trees.scala.html#67784" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#152373" title="TreeGen.this.global.TermSymbol">mval</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">// def m: T = { if (m$ eq null) m$ = new m$class(...) m$ }</span>
  <span class="comment">// where (...) are eventual outer accessors</span>
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, mvar: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="105453">mkCachedModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152515">accessor</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="152516">mvar</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67790" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#152515" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#105450" title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkCached</a><span class="delimiter">(</span><a href="#152516" title="TreeGen.this.global.Symbol">mvar</a>, <a href="#105455" title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">newModule</a><span class="delimiter">(</span><a href="#152515" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#152516" title="TreeGen.this.global.Symbol">mvar</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, msym: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="105454">mkModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152637">accessor</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="152638">msym</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67790" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#152637" title="TreeGen.this.global.Symbol">accessor</a>, <a href="Trees.scala.html#67801" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="Trees.scala.html#67800" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#152638" title="TreeGen.this.global.Symbol">msym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#152638" title="TreeGen.this.global.Symbol">msym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105455">newModule</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152555">accessor</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Type" id="152556">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67798" title="(tpt: TreeGen.this.global.Tree, argss: List[List[TreeGen.this.global.Tree]])TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="Trees.scala.html#67807" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#152556" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>, 
        <span title="(xs: List[TreeGen.this.global.Tree]*)List[List[TreeGen.this.global.Tree]]">List</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="TreeGen.this.global.Type" id="152598">pt</a> &lt;- <a href="#152556" title="TreeGen.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107456" title="=&gt; TreeGen.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105335" title="(f: TreeGen.this.global.Type =&gt; TreeGen.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Type],TreeGen.this.global.Tree,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">paramTypes</a><span class="delimiter">)</span> 
             <span class="keyword">yield</span> <a href="Trees.scala.html#67800" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#152555" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<span title="=&gt; TreeGen.this.global.Symbol">enclClass</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// def m: T;</span>
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="105456">mkModuleAccessDcl</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152683">accessor</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
    <a href="Trees.scala.html#67790" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#152683" title="TreeGen.this.global.Symbol">accessor</a> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)accessor.type">setFlag</a> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a>, <a href="#105411" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105457">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151955">meth</a>: <a href="../symtab/Names.scala.html#66914" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Tree]" id="151956">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106180" title="=&gt; TreeGen.this.global.Symbol">ScalaRunTimeModule</a><span class="delimiter">)</span>, <a href="#151955" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <a href="#151956" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105458">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="151951">meth</a>: <a href="../symtab/Names.scala.html#66914" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Type]" id="151952">targs</a>: <span title="List[TreeGen.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="151953">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106180" title="=&gt; TreeGen.this.global.Symbol">ScalaRunTimeModule</a><span class="delimiter">)</span>, <a href="#151951" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <a href="#151952" title="List[TreeGen.this.global.Type]">targs</a> <span title="(f: TreeGen.this.global.Type =&gt; TreeGen.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Type],TreeGen.this.global.TypeTree,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">map</span> <a href="Trees.scala.html#67807" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">)</span>, <a href="#151953" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="comment">/** Make a synchronized block on 'monitor'. */</span>
  <span class="keyword">def</span> <a title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105459">mkSynchronized</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="152807">monitor</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="152808">body</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =     
    <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Trees.scala.html#67801" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#152807" title="TreeGen.this.global.Tree">monitor</a>, <a href="../symtab/Definitions.scala.html#106413" title="=&gt; TreeGen.this.global.Symbol">Object_synchronized</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#152808" title="TreeGen.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed" id="105460">wildcardStar</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="152835">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> =
    <a href="Trees.scala.html#67840" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Typed)TreeGen.this.global.Typed">atPos</a><span class="delimiter">(</span><a href="#152835" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#105411" title="(expr: TreeGen.this.global.Tree, tpt: TreeGen.this.global.Tree)TreeGen.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#152835" title="TreeGen.this.global.Tree">tree</a>, <a href="#105411" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#114911" title="=&gt; TreeGen.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable" id="105461">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="152859">vparam</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="152862">arg</a> = <a href="Trees.scala.html#67802" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#152859" title="TreeGen.this.global.Symbol">vparam</a><span class="delimiter">)</span>
    <span title="&lt;none&gt; extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106218" title="(tp: TreeGen.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#152859" title="TreeGen.this.global.Symbol">vparam</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105460" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#152862" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#152862" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.ValDef)TreeGen.this.global.Tree with Serializable" id="105462">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="152945">vparam</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="152948">arg</a> = <a href="#105411" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#152945" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.TermName">name</span><span class="delimiter">)</span>
    <span title="&lt;none&gt; extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#67773" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="TreeInfo.scala.html#152982" title="(tpt: TreeGen.this.global.treeInfo.trees.Tree)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#152945" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105460" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#152948" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#152948" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Make forwarder to method `target', passing all parameters in `params' */</span>
  <span class="keyword">def</span> <a title="(target: TreeGen.this.global.Tree, vparamss: List[List[TreeGen.this.global.Symbol]])TreeGen.this.global.Tree" id="105463">mkForwarder</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153055">target</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[List[TreeGen.this.global.Symbol]]" id="153056">vparamss</a>: <span title="List[List[TreeGen.this.global.Symbol]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="#153055" title="TreeGen.this.global.Tree">target</a> <a href="#153059" title="(z: TreeGen.this.global.Tree)(op: (TreeGen.this.global.Tree, List[TreeGen.this.global.Symbol]) =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">/:</a> <a href="#153056" title="List[List[TreeGen.this.global.Symbol]]">vparamss</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153072">fn</a>, <a title="List[TreeGen.this.global.Symbol]" id="153073">vparams</a><span class="delimiter">)</span> =&gt; <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#153072" title="TreeGen.this.global.Tree">fn</a>, <a href="#153073" title="List[TreeGen.this.global.Symbol]">vparams</a> <span title="(f: TreeGen.this.global.Symbol =&gt; TreeGen.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Symbol],TreeGen.this.global.Tree with Serializable,List[TreeGen.this.global.Tree]])List[TreeGen.this.global.Tree]">map</span> <a href="#105461" title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable">paramToArg</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Applies a wrapArray call to an array, making it a WrappedArray.
   *  Don't let a reference type parameter be inferred, in case it's a singleton:
   *  apply the element type directly.
   */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type)TreeGen.this.global.Apply" id="105464">mkWrapArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153128">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="153129">elemtp</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Symbol" id="153132">sym</a> = <a href="#153129" title="TreeGen.this.global.Type">elemtp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Name" id="153133">meth</a>: <a href="../symtab/Names.scala.html#66914" title="TreeGen.this.global.Name">Name</a> =
      <span title="TreeGen.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: TreeGen.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#153132" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;wrap&quot;)" class="string">&quot;wrap&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#153132" title="TreeGen.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; TreeGen.this.global.Name">name</a><a href="#105411" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName">+</a><span title="java.lang.String(&quot;Array&quot;)" class="string">&quot;Array&quot;</span>
      <span class="keyword">else</span> <span title="TreeGen.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#153129" title="TreeGen.this.global.Type">elemtp</a> <a href="../symtab/Types.scala.html#105374" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; TreeGen.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106514" title="(elem: TreeGen.this.global.Symbol)Boolean">isPhantomClass</a><span class="delimiter">(</span><a href="#153132" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#105411" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName" class="string">&quot;wrapRefArray&quot;</a>
      <span class="keyword">else</span> <a href="#105411" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName" class="string">&quot;genericWrapArray&quot;</a>

    <span title="TreeGen.this.global.Apply" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: TreeGen.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#153132" title="TreeGen.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106168" title="=&gt; TreeGen.this.global.Symbol">PredefModule</a><span class="delimiter">)</span>, <a href="#153133" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153128" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#105411" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#105427" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106168" title="=&gt; TreeGen.this.global.Symbol">PredefModule</a><span class="delimiter">)</span>, <a href="#153133" title="TreeGen.this.global.Name">meth</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.TypeTree*)List[TreeGen.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67807" title="(tp: TreeGen.this.global.Type)TreeGen.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#153129" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153128" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Generate a cast for tree Tree representing Array with
   *  elem type elemtp to expected type pt.
   */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="105465">mkCastArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153284">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="153285">elemtp</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Type" id="153286">pt</a>: <a href="../symtab/Types.scala.html#67381" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153285" title="TreeGen.this.global.Type">elemtp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106075" title="=&gt; TreeGen.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../symtab/Definitions.scala.html#106520" title="(sym: TreeGen.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#153284" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105326" title="=&gt; List[TreeGen.this.global.Type]">typeArgs</a>.<span title="=&gt; TreeGen.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105431" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#105457" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="#105411" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)TreeGen.this.global.TermName" class="string">&quot;toObjectArray&quot;</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153284" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#153286" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#105431" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#153284" title="TreeGen.this.global.Tree">tree</a>, <a href="#153286" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
  
  <span class="comment">/** Translate names in Select/Ident nodes to type names.
   */</span>
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]" id="105466">convertToTypeName</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153309">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[TreeGen.this.global.RefTree]">Option</span><span class="delimiter">[</span>RefTree<span class="delimiter">]</span> = <a href="#153309" title="TreeGen.this.global.Tree">tree</a> <span title="Option[TreeGen.this.global.RefTree]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Select]">Select</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153315">qual</a>, <a title="TreeGen.this.global.Name" id="153316">name</a><span class="delimiter">)</span> =&gt; <span title="(x: TreeGen.this.global.Select)Some[TreeGen.this.global.Select]">Some</span><span class="delimiter">(</span><a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#153315" title="TreeGen.this.global.Tree">qual</a>, <a href="#153316" title="TreeGen.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96578" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Ident]">Ident</span><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="153339">name</a><span class="delimiter">)</span>        =&gt; <span title="(x: TreeGen.this.global.Ident)Some[TreeGen.this.global.Ident]">Some</span><span class="delimiter">(</span><a href="#105411" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#153339" title="TreeGen.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96578" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span>                  =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Try to convert Select(qual, name) to a SelectFromTypeTree.
   */</span>
  <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree, origName: TreeGen.this.global.Name)TreeGen.this.global.Tree with Serializable" id="105467">convertToSelectFromType</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153354">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Name" id="153355">origName</a>: <a href="../symtab/Names.scala.html#66914" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#105466" title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]">convertToTypeName</a><span class="delimiter">(</span><a href="#153354" title="TreeGen.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="&lt;none&gt; extends TreeGen.this.global.Tree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.SelectFromTypeTree">Some</span><span class="delimiter">(</span><a title="TreeGen.this.global.RefTree" id="153359">qual1</a><span class="delimiter">)</span>  =&gt; <a href="#105411" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.TypeName)TreeGen.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#153359" title="TreeGen.this.global.RefTree">qual1</a> <span title="(pos: TreeGen.this.global.Position)qual1.type">setPos</span> <a href="#153354" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>, <a href="#153355" title="TreeGen.this.global.Name">origName</a>.<a href="../symtab/Names.scala.html#96578" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.EmptyTree.type">_</span>            =&gt; <a href="#105411" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Used in situations where you need to access value of an expression several times
   */</span>
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: () =&gt; TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105468">evalOnce</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153380">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="153381">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="153382">unit</a>: <a href="Trees.scala.html#67769" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="() =&gt; TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="153383">within</a>: <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Boolean" id="153385">used</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#67773" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="TreeInfo.scala.html#152969" title="(tree: TreeGen.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#153380" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#153383" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153385" title="Boolean">used</a><span class="delimiter">)</span> <a href="#153380" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#153385" title="Boolean">used</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#153380" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="153391">temp</a> = <a href="#153381" title="TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: TreeGen.this.global.Position, name: TreeGen.this.global.TermName)TreeGen.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#153380" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97192" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#153382" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="Trees.scala.html#96399" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#153380" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="153392">containing</a> = <a href="#153383" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="Trees.scala.html#67802" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#153391" title="TreeGen.this.global.TermSymbol">temp</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Ident">setPos</span> <a href="#153391" title="TreeGen.this.global.TermSymbol">temp</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#153380" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
      <a href="../symtab/Positions.scala.html#67888" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#153392" title="TreeGen.this.global.Tree">containing</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#153380" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#105411" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: TreeGen.this.global.ValDef*)List[TreeGen.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="Trees.scala.html#67783" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#153391" title="TreeGen.this.global.TermSymbol">temp</a>, <a href="#153380" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#153392" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#153392" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#97204" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#153380" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(exprs: List[TreeGen.this.global.Tree], owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="105469">evalOnceAll</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="153479">exprs</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Symbol" id="153480">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="153481">unit</a>: <a href="Trees.scala.html#67769" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree" id="153482">within</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" id="153484">vdefs</a> = <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">ListBuffer</span><span class="delimiter">[</span>ValDef<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" id="153485">exprs1</a> = <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="Array[Boolean]" id="153486">used</a> = <span title="Array[Boolean]" class="keyword">new</span> <span title="Array[Boolean]">Array</span><span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">(</span><a href="#153479" title="List[TreeGen.this.global.Tree]">exprs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Int" id="153487">i</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153511">expr</a> &lt;- <a href="#153479" title="(f: TreeGen.this.global.Tree =&gt; Unit)Unit">exprs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="exprs1.type" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#67773" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="TreeInfo.scala.html#152969" title="(tree: TreeGen.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#153511" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#153485" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="153521">idx</a> = <a href="#153487" title="Int">i</a>
          <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153486" title="(i: Int)Boolean">used</a><span class="delimiter">(</span><a href="#153521" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#153511" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#153486" title="(i: Int, x: Boolean)Unit">used</a><span class="delimiter">(</span><a href="#153521" title="Int">idx</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#153511" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="153525">temp</a> = <a href="#153480" title="TreeGen.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: TreeGen.this.global.Position, name: TreeGen.this.global.TermName)TreeGen.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#153511" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97192" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#153481" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="Trees.scala.html#96399" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#153511" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
        <a href="#153484" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a> <span title="(x: TreeGen.this.global.ValDef)vdefs.type">+=</span> <a href="Trees.scala.html#67783" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#153525" title="TreeGen.this.global.TermSymbol">temp</a>, <a href="#153511" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>
        <a href="#153485" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="Trees.scala.html#67802" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#153525" title="TreeGen.this.global.TermSymbol">temp</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Ident">setPos</span> <a href="#153525" title="TreeGen.this.global.TermSymbol">temp</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97206" title="=&gt; scala.tools.nsc.util.Position">focus</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#153511" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#153487" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[TreeGen.this.global.ValDef]" id="153488">prefix</a> = <a href="#153484" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a>.<span title="=&gt; List[TreeGen.this.global.ValDef]">toList</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="153489">containing</a> = <a href="#153482" title="(v1: List[() =&gt; TreeGen.this.global.Tree])TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><a href="#153485" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a>.<span title="=&gt; List[() =&gt; TreeGen.this.global.Tree]">toList</span><span class="delimiter">)</span>
    <a href="../symtab/Positions.scala.html#67888" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#153489" title="TreeGen.this.global.Tree">containing</a>, <a href="#153479" title="List[TreeGen.this.global.Tree]">exprs</a><span class="delimiter">)</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#153488" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#153489" title="TreeGen.this.global.Tree">containing</a>
    <span class="keyword">else</span> <a href="#105411" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#153488" title="List[TreeGen.this.global.ValDef]">prefix</a>, <a href="#153489" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#153488" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; TreeGen.this.global.ValDef">head</span>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#97204" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#153489" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Return a double-checked locking idiom around the syncBody tree. It guards with 'cond' and
   *  synchronizez on 'clazz.this'. Additional statements can be included after initialization,
   *  (outside the synchronized block).
   *
   *  The idiom works only if the condition is using a volatile field.
   *  @see http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html
   */</span>
  <span class="keyword">def</span> <a title="(clazz: TreeGen.this.global.Symbol, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105470">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="153613">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="153614">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="153615">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="153616">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#105471" title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#105434" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#153613" title="TreeGen.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#153614" title="TreeGen.this.global.Tree">cond</a>, <a href="#153615" title="List[TreeGen.this.global.Tree]">syncBody</a>, <a href="#153616" title="List[TreeGen.this.global.Tree]">stats</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="105471">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="153622">attrThis</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="153623">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="153624">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="153625">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <a href="#105411" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#153623" title="TreeGen.this.global.Tree">cond</a>,
       <a href="Trees.scala.html#67803" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
         <a href="#105459" title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkSynchronized</a><span class="delimiter">(</span>
           <a href="#153622" title="TreeGen.this.global.Tree">attrThis</a>,
           <a href="#105411" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#153623" title="TreeGen.this.global.Tree">cond</a>, <a href="Trees.scala.html#67803" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#153624" title="List[TreeGen.this.global.Tree]">syncBody</a>: _*<span class="delimiter">)</span>, <a href="#105411" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#153633" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
         <a href="#153625" title="List[TreeGen.this.global.Tree]">stats</a>: _*<span class="delimiter">)</span>,
       <a href="#105411" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>