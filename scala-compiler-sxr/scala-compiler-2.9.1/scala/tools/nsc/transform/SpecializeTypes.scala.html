<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/SpecializeTypes.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Iulian Dragos
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> scala.tools.nsc.symtab.Flags
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>

<span class="comment">/** Specialize code on types.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializeTypes extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.transform.TypingTransformers with ScalaObject" id="26834">SpecializeTypes</a> <a href="#26834" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#27212" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> <a href="TypingTransformers.scala.html#27002" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#110161" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
  <span class="comment">/** the name of the phase: */</span>
  <span class="keyword">val</span> <a title="String" id="110866">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;specialize&quot;)" class="string">&quot;specialize&quot;</span>
  
  <span class="comment">/** This phase changes base classes. */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="110868">changesBaseClasses</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="110869">keepsTypeParams</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">type</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="110870">TypeEnv</a> = immutable.<span title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">Map</span><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.TypeEnv" id="110871">emptyEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)*)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="Ordering[SpecializeTypes.this.global.Type]" id="110872">typeOrdering</a>: <span title="Ordering[SpecializeTypes.this.global.Type]">Ordering</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</span><span title="(implicit ord: scala.math.Ordering[String])scala.math.Ordering[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span> <span title="(f: SpecializeTypes.this.global.Type =&gt; String)scala.math.Ordering[SpecializeTypes.this.global.Type]">on</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#517182" title="SpecializeTypes.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>

  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67688" title="object SpecializeTypes.this.global.definitions">definitions</a>.<span class="delimiter">{</span>
    RootClass, BooleanClass, UnitClass, ArrayClass,
    ScalaValueClasses, isValueClass, isScalaValueType,
    SpecializedClass, RepeatedParamClass, JavaRepeatedParamClass,
    AnyRefClass, ObjectClass, Predef_AnyRef,
    uncheckedVarianceClass
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="110875">isSpecialized</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517185">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>          = <a href="#517185" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107273" title="(cls: SpecializeTypes.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../symtab/Definitions.scala.html#106149" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="110876">hasSpecializedFlag</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517189">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>     = <a href="#517189" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(1099511627776L)">SPECIALIZED</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="110877">specializedTypes</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="517192">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#517192" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]" id="110878">specializedOn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="516941">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#516941" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107274" title="(cls: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.AnnotationInfo]">getAnnotation</a> <a href="../symtab/Definitions.scala.html#106149" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a> <span title="List[SpecializeTypes.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[SpecializeTypes.this.global.Tree]">Some</span><span class="delimiter">(</span>AnnotationInfo<span class="delimiter">(</span>_, <a title="List[SpecializeTypes.this.global.Tree]" id="516949">args</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#516949" title="List[SpecializeTypes.this.global.Tree]">args</a>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>

  <span class="comment">// If we replace `isBoundedGeneric` with (tp &lt;:&lt; AnyRefClass.tpe),</span>
  <span class="comment">// then pos/spec-List.scala fails - why? Does this kind of check fail</span>
  <span class="comment">// for similar reasons? Does `sym.isAbstractType` make a difference?</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean" id="110879">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516937">tp</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Symbol" id="516938">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#110878" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#516938" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.global.Tree =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#516973" title="SpecializeTypes.this.global.Tree">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106172" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_AnyRef</a><span class="delimiter">)</span>    <span class="comment">// specialized on AnyRef</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#516937" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110880" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#516937" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)Boolean" id="110880">isBoundedGeneric</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516979">tp</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#516979" title="SpecializeTypes.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="516985">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#516985" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> =&gt; <span class="delimiter">(</span><a href="#516979" title="SpecializeTypes.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105374" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> 
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="516990">sym</a>, _<span class="delimiter">)</span>                       =&gt; <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#516990" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                                        =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(msg: =&gt; String)Unit" id="110881">debuglog</a><span class="delimiter">(</span><a title="=&gt; String" id="517199">msg</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#517199" title="=&gt; String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(body: =&gt; Unit)Unit" id="110882">ifDebug</a><span class="delimiter">(</span><a title="=&gt; Unit" id="517204">body</a>: =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#517204" title="=&gt; Unit">body</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">object</span> <a title="object SpecializeTypes.this.TypeEnv" id="110883">TypeEnv</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="comment">/** Return a new type environment binding specialized type parameters of sym to
     *  the given args. Expects the lists to have the same length.
     */</span>
    <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv" id="517032">fromSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517036">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="517037">args</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span class="delimiter">{</span>
      <a href="#110882" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#517036" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#517037" title="List[SpecializeTypes.this.global.Type]">args</a>.<span title="=&gt; Int">length</span>, <a href="#517036" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; args: &quot;)" class="string">&quot; args: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#517037" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <span class="delimiter">(</span><a href="#517036" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#517037" title="List[SpecializeTypes.this.global.Type]">args</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">filter</span> <span class="delimiter">(</span><a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="517343">kv</a> =&gt; <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#517343" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">kv</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">_1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Is typeenv `t1` included in `t2`? All type variables in `t1`
     *  are defined in `t2` and:
     *  - are bound to the same type, or
     *  - are an AnyRef specialization and `t2` is bound to a subtype of AnyRef
     */</span>
    <span class="keyword">def</span> <a title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean" id="517033">includes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="517374">t1</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.TypeEnv" id="517375">t2</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <a href="#517374" title="SpecializeTypes.this.TypeEnv">t1</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#517383" title="Boolean" class="delimiter">{</a> 
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517386">sym</a>, <a title="SpecializeTypes.this.global.Type" id="517387">tpe</a><span class="delimiter">)</span> =&gt; 
        <a href="#517375" title="SpecializeTypes.this.TypeEnv">t2</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.Type]">get</span> <a href="#517386" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Type" id="517392">t2tp</a> =&gt;
          <span class="delimiter">(</span><a href="#517387" title="SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#517392" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106522" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#517387" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Definitions.scala.html#106522" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#517392" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// u.t.b. (t2tp &lt;:&lt; AnyRefClass.tpe)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Reduce the given environment to contain mappings only for type variables in tps. */</span>
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv" id="517034">restrict</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="517398">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="517399">tps</a>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> =
      <a href="#517398" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">filterKeys</span> <a href="#517399" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(implicit ev: &lt;:&lt;[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">toMap</span>

    <span class="comment">/** Is the given environment a valid specialization for sym?
     *  It is valid if each binding is from a @specialized type parameter in sym (or its owner)
     *  to a type for which `sym' is specialized.
     */</span>
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="517035">isValid</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="517417">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="517418">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#517417" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#517425" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517428">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="517429">tpe</a><span class="delimiter">)</span> =&gt;
        <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#517428" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#110931" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#517428" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(elem: Any)Boolean">contains</span> <a href="#517429" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#517418" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#517428" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">(</span><a href="#517418" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106036" title="=&gt; SpecializeTypes.this.global.ModuleClassSymbol">RootClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#517418" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#517428" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** For a given class and concrete type arguments, give its specialized class */</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" id="110885">specializedClass</a>: mutable.<span title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">Map</span><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, TypeEnv<span class="delimiter">)</span>, Symbol<span class="delimiter">]</span> = <span title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">LinkedHashMap</span>

  <span class="comment">/** Returns the generic class that was specialized to 'cls', or
   *  'cls' itself if cls is not a specialized subclass.
   */</span>
  <span class="keyword">def</span> <a title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="110887">genericClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517439">cls</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#110876" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#517439" title="SpecializeTypes.this.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#517439" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>
    <span class="keyword">else</span> <a href="#517439" title="SpecializeTypes.this.global.Symbol">cls</a>

  <span class="comment">/** Map a method symbol to a list of its specialized overloads in the same class. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" id="110888">overloads</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Overload<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#517447" title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" id="517447">mutable</a>.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">HashMap</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Overload<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]" id="517922">default</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517923">key</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.Overload]">List</span><span class="delimiter">[</span>Overload<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>
  
  case <span class="keyword">class</span> <a title="class Overload extends java.lang.Object with ScalaObject with Product with Serializable" id="517977">Overload</a><a href="#517977" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521223">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521224">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="517951">toString</a> = <span title="java.lang.String(&quot;specialized overload &quot;)" class="string">&quot;specialized overload &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521223" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521224" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Just to mark uncheckable */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: scala.tools.nsc.Phase)SpecializeTypes.this.StdPhase" id="110893">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="113873">prev</a>: scala.tools.nsc.<a href="../Phase.scala.html#10630" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#95937" title="SpecializeTypes.this.StdPhase">StdPhase</a> = <span title="SpecializeTypes.this.SpecializationPhase" class="keyword">new</span> <a href="#110894" title="SpecializeTypes.this.SpecializationPhase">SpecializationPhase</a><span class="delimiter">(</span><a href="#113873" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span>
  <span class="keyword">class</span> <a title="class SpecializationPhase extends SpecializeTypes.this.Phase with ScalaObject" id="110894">SpecializationPhase</a><a href="#110894" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="518025">prev</a>: scala.tools.nsc.<a href="../Phase.scala.html#10630" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#26834" title="scala.tools.nsc.transform.SpecializeTypes" class="keyword">super</a>.<a href="InfoTransform.scala.html#110415" title="SpecializeTypes.this.Phase">Phase</a><span class="delimiter">(</span><a href="#518025" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="518024">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
    
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.global.Transformer" id="110895">newTransformer</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="518031">unit</a>: <a href="../CompilationUnits.scala.html#67942" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#67825" title="SpecializeTypes.this.global.Transformer">Transformer</a> =
    <span title="SpecializeTypes.this.SpecializationTransformer" class="keyword">new</span> <a href="#110980" title="SpecializeTypes.this.SpecializationTransformer">SpecializationTransformer</a><span class="delimiter">(</span><a href="#518031" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializedInfo extends java.lang.Object with ScalaObject" id="110896">SpecializedInfo</a> <a href="#110896" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="518040">target</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>

    <span class="comment">/** Are type bounds of @specialized type parameters of 'target' now in 'env'? */</span>
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="518041">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="518047">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** A degenerated method has @specialized type parameters that appear only in
     *  type bounds of other @specialized type parameters (and not in its result type).
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="518042">degenerate</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="518043">isAccessor</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Symbol is a special overloaded method of 'original', in the environment env. */</span>
  case <span class="keyword">class</span> <a title="class SpecialOverload extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518090">SpecialOverload</a><a href="#518090" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="522964">original</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="522965">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#110896" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="518063">target</a> = <a href="#522964" title="=&gt; SpecializeTypes.this.global.Symbol">original</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Symbol is a method that should be forwarded to 't' */</span>
  case <span class="keyword">class</span> <a title="class Forward extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518157">Forward</a><a href="#518157" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521097">t</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#110896" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="518137">target</a> = <a href="#521097" title="=&gt; SpecializeTypes.this.global.Symbol">t</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Symbol is a specialized accessor for the `target' field. */</span>
  case <span class="keyword">class</span> <a title="class SpecializedAccessor extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518213">SpecializedAccessor</a><a href="#518213" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521644">target</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#110896" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="518193">isAccessor</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Symbol is a specialized method whose body should be the target's method body. */</span>
  case <span class="keyword">class</span> <a title="class Implementation extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518265">Implementation</a><a href="#518265" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521101">target</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#110896" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  <span class="comment">/** Symbol is a specialized override paired with `target'. */</span>
  case <span class="keyword">class</span> <a title="class SpecialOverride extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518317">SpecialOverride</a><a href="#518317" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="523406">target</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#110896" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  <span class="comment">/** A specialized inner class that specializes original inner class `target` on a type parameter of the enclosing class, in the typeenv `env`. */</span>
  case <span class="keyword">class</span> <a title="class SpecializedInnerClass extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518379">SpecializedInnerClass</a><a href="#518379" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521772">target</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521773">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#110896" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  <span class="comment">/** Symbol is a normalized member obtained by specializing 'target'. */</span>
  case <span class="keyword">class</span> <a title="class NormalizedMember extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518544">NormalizedMember</a><a href="#518544" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="522364">target</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#110896" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>

    <span class="comment">/** Type bounds of a @specialized type var are now in the environment. */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="518426">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="518505">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#522364" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="518515">tvar</a> =&gt; 
        <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#518515" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#518515" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#518505" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="#518531" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="518428">degenerate</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="518432">stvTypeParams</a> = <a href="#110935" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#522364" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#518459" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="518433">stvResult</a>     = <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#522364" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; SpecializeTypes.this.global.Type">resultType</a><span class="delimiter">)</span>
      
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;degenerate: &quot;)" class="string">&quot;degenerate: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522364" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; stv tparams: &quot;)" class="string">&quot; stv tparams: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518432" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; stv info: &quot;)" class="string">&quot; stv info: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518433" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>
      
      <span class="delimiter">(</span><a href="#518432" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <span title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">--</span> <a href="#518433" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Map a symbol to additional information on specialization. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" id="110918">info</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">Map</span><span class="delimiter">[</span>Symbol, SpecializedInfo<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">HashMap</span><span class="delimiter">[</span>Symbol, SpecializedInfo<span class="delimiter">]</span>
  
  <span class="comment">/** Has `clazz' any type parameters that need be specialized? */</span>
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="110920">hasSpecializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518577">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#518577" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  
  <span class="comment">/** Return specialized type parameters. */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="110921">specializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518589">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#518589" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  
  <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" id="110922">splitParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="518597">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#518597" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  
  <span class="comment">/** Given an original class symbol and a list of types its type parameters are instantiated at
   *  returns a list of type parameters that should remain in the TypeRef when instantiating a
   *  specialized type.
   */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="110923">survivingArgs</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517046">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="517047">args</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518692">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="518693">tpe</a><span class="delimiter">)</span> &lt;- <a href="#517046" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span><a href="#518666" title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]" class="delimiter">(</a><a href="#517047" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#518692" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106522" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#518693" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#518693" title="SpecializeTypes.this.global.Type">tpe</a>
  
  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.TypeMap" id="110924">specializedType</a> = <a href="#516820" title="SpecializeTypes.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67503" title="anonymous class $anon extends SpecializeTypes.this.global.TypeMap" id="516820">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="516822">apply</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516823">tp</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#516823" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516829">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="516830">sym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="516831">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#516831" title="List[SpecializeTypes.this.global.Type]">args</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="516832">pre1</a> = <a href="#516822" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#516829" title="SpecializeTypes.this.global.Type">pre</a><span class="delimiter">)</span>
        <span class="comment">// when searching for a specialized class, take care to map all</span>
        <span class="comment">// type parameters that are subtypes of AnyRef to AnyRef</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="516833">args1</a> = <span class="delimiter">(</span><a href="#516831" title="List[SpecializeTypes.this.global.Type]">args</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)]">zip</span> <a href="#516830" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#516932" title="SpecializeTypes.this.global.Type" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516935">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="516936">orig</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#110879" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#516935" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#516936" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516993">tp</a>, _<span class="delimiter">)</span>                                            =&gt; <a href="#516993" title="SpecializeTypes.this.global.Type">tp</a>
        <span class="delimiter">}</span>
        <a href="#110885" title="=&gt; scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">specializedClass</a>.<span title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv))Option[SpecializeTypes.this.global.Symbol]">get</span><span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#516830" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#110883" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517032" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv">fromSpecialization</a><span class="delimiter">(</span><a href="#516830" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#516833" title="List[SpecializeTypes.this.global.Type]">args1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517042">sym1</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#67472" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#516832" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#517042" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#110923" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">survivingArgs</a><span class="delimiter">(</span><a href="#516830" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#516831" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">None</span>       =&gt; <a href="../symtab/Types.scala.html#67472" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#516832" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#516830" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#516831" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt; <a href="#516823" title="SpecializeTypes.this.global.Type">tp</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Return the specialized overload of sym in the given env, if any. */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]" id="110926">overload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518721">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="518722">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = 
    <a href="#110888" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#518721" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</span><span class="delimiter">(</span><a title="SpecializeTypes.this.Overload" id="518752">ov</a> =&gt; <a href="#110883" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517033" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="#518752" title="SpecializeTypes.this.Overload">ov</a>.<a href="#521224" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>, <a href="#518722" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** Return the specialized name of 'sym' in the given environment. It
   *  guarantees the same result regardless of the map order by sorting 
   *  type variables alphabetically.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName" id="110927">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518753">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="518754">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <a href="../symtab/Names.scala.html#66915" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="518756">tvars</a> = <span class="delimiter">(</span>
      <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#518753" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#518754" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> 
      <span class="keyword">else</span> <a href="#110936" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#518753" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span><span class="delimiter">(</span><a href="#518754" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a href="#518758" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</a><a href="#518757" title="List[SpecializeTypes.this.global.Symbol]" id="518758">methparams</a>, <a href="#518757" title="List[SpecializeTypes.this.global.Symbol]" id="518759">others</a><span class="delimiter">)</span> = <a href="#518756" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tvars</a>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; java.lang.String)(implicit ord: scala.math.Ordering[java.lang.String])List[SpecializeTypes.this.global.Symbol]">sortBy</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518773" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</span> <span class="delimiter">(</span><a href="#518834" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span>
    <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specName(&quot;)" class="string">&quot;specName(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518753" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) env: &quot;)" class="string">&quot;) env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518754" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tvars: &quot;)" class="string">&quot; tvars: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518756" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tvars</a><span class="delimiter">)</span>
      
    <a href="#110928" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#518753" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a>, <a href="#518758" title="List[SpecializeTypes.this.global.Symbol]">methparams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#518754" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#518759" title="List[SpecializeTypes.this.global.Symbol]">others</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#518754" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Specialize name for the two list of types. The first one denotes
   *  specialization on method type parameters, the second on outer environment.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName" id="110928">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Name" id="518849">name</a>: <a href="../symtab/Names.scala.html#66914" title="SpecializeTypes.this.global.Name">Name</a>, <a title="List[SpecializeTypes.this.global.Type]" id="518850">types1</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="518851">types2</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../symtab/Names.scala.html#66915" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115280" title="=&gt; SpecializeTypes.this.global.nme.NameType">INITIALIZER</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#518849" title="SpecializeTypes.this.global.Name">name</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#518850" title="List[SpecializeTypes.this.global.Type]">types1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#518851" title="List[SpecializeTypes.this.global.Type]">types2</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#110161" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115609" title="(name: SpecializeTypes.this.global.Name)Boolean">isSetterName</a><span class="delimiter">(</span><a href="#518849" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115618" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#110928" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115620" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">setterToGetter</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#518850" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#518851" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115606" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#518849" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115617" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#110928" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115619" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#518850" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#518851" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#518956" title="(SpecializeTypes.this.global.Name, String, String)" class="delimiter">(</a><a href="#518955" title="SpecializeTypes.this.global.Name" id="518956">base</a>, <a href="#518955" title="String" id="518957">cs</a>, <a href="#518955" title="String" id="518958">ms</a><span class="delimiter">)</span> = <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115615" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><span title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</span><a href="#518849" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,Char]" id="518959">abbrevs</a> = <a href="../symtab/Definitions.scala.html#67688" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106553" title="=&gt; Map[SpecializeTypes.this.global.Symbol,Char]">abbrvTag</a> <span title="(d: Char)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,Char]">withDefaultValue</span> <a href="../symtab/Definitions.scala.html#67688" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106553" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106079" title="=&gt; SpecializeTypes.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
      <a href="../symtab/Names.scala.html#66903" title="(s: String)SpecializeTypes.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#518956" title="SpecializeTypes.this.global.Name">base</a>.<a href="../symtab/Names.scala.html#96583" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
                  <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;m&quot;)" class="string">&quot;m&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518958" title="String">ms</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518850" title="List[SpecializeTypes.this.global.Type]">types1</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519022">t</a> =&gt; <a href="#518959" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrevs</a><span class="delimiter">(</span><a href="#519022" title="SpecializeTypes.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518957" title="String">cs</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518851" title="List[SpecializeTypes.this.global.Type]">types2</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519084">t</a> =&gt; <a href="#518959" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrevs</a><span class="delimiter">(</span><a href="#519084" title="SpecializeTypes.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="110930">primitiveTypes</a> = <a href="../symtab/Definitions.scala.html#106598" title="=&gt; List[SpecializeTypes.this.global.Symbol]">ScalaValueClasses</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#517082" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  
  <span class="comment">/** Return the types `sym' should be specialized at. This may be some of the primitive types
   *  or AnyRef. AnyRef means that a new type parameter T will be generated later, known to be a
   *  subtype of AnyRef (T &lt;: AnyRef).
   *  These are in a meaningful order for stability purposes.
   */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]" id="110931">concreteTypes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517430">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">(</span>
    <span title="List[SpecializeTypes.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#517430" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>      <span class="comment">// no @specialized Annotation</span>
    <span class="keyword">else</span> <a href="#110878" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#517430" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="List[SpecializeTypes.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[SpecializeTypes.this.global.Type]">Nil</span>  =&gt; <a href="#110929" title="=&gt; List[SpecializeTypes.this.global.Type]">primitiveTypes</a>     <span class="comment">// specialized on everything</span>
      <span class="keyword">case</span> <a title="List[SpecializeTypes.this.global.Type]" id="519130">args</a> =&gt;                    <span class="comment">// specialized on args</span>
        <span class="delimiter">(</span><a href="#519130" title="List[SpecializeTypes.this.global.Tree]">args</a> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Tree" id="519147">tp</a> =&gt;
          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#519147" title="SpecializeTypes.this.global.Tree">tp</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106172" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_AnyRef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#110880" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#517430" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67996" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#517430" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#517430" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is always a subtype of &quot;)" class="string">&quot; is always a subtype of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
            <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> 
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#519147" title="SpecializeTypes.this.global.Tree">tp</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107479" title="=&gt; SpecializeTypes.this.global.Symbol">companionClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="#110872" title="(implicit ord: scala.math.Ordering[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">sorted</a>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  <span class="comment">/** Return a list of all type environments for all specializations 
   *  of @specialized types in `tps'.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]" id="110932">specializations</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="519189">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.TypeEnv]">List</span><span class="delimiter">[</span>TypeEnv<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// the keys in each TypeEnv</span>
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="519191">keys</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#519189" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
    <span class="comment">// creating each permutation of concrete types</span>
    <span class="keyword">def</span> <a title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]" id="519192">loop</a><span class="delimiter">(</span><a title="List[List[SpecializeTypes.this.global.Type]]" id="519197">ctypes</a>: <span title="List[List[SpecializeTypes.this.global.Type]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[List[SpecializeTypes.this.global.Type]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#519197" title="List[List[SpecializeTypes.this.global.Type]]">ctypes</a> <span title="List[List[SpecializeTypes.this.global.Type]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>         =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <a title="List[List[SpecializeTypes.this.global.Type]]" id="519204">set</a> :: <span title="object Nil">Nil</span>  =&gt; <a href="#519204" title="List[SpecializeTypes.this.global.Type]">set</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">map</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519232">x</a> =&gt; <span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#519232" title="SpecializeTypes.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[List[SpecializeTypes.this.global.Type]]" id="519271">set</a> :: <a title="List[List[SpecializeTypes.this.global.Type]]" id="519272">sets</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519289">x</a> &lt;- <a href="#519271" title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.GenTraversableOnce[List[SpecializeTypes.this.global.Type]])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">set</a> ; <a title="List[SpecializeTypes.this.global.Type]" id="519311">xs</a> &lt;- <a href="#519192" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><span title="(f: List[SpecializeTypes.this.global.Type] =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#519272" title="List[List[SpecializeTypes.this.global.Type]]">sets</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#519289" title="SpecializeTypes.this.global.Type">x</a> <a href="#519312" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#519311" title="List[SpecializeTypes.this.global.Type]">xs</a>
    <span class="delimiter">}</span>
    <span class="comment">// zip the keys with each permutation to create a TypeEnv</span>
    <a href="#519192" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><span class="delimiter">(</span><a href="#519191" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">map</span> <a href="#110931" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">)</span> <span title="(f: List[SpecializeTypes.this.global.Type] =&gt; scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],List[SpecializeTypes.this.TypeEnv]])List[SpecializeTypes.this.TypeEnv]">map</span> <span class="delimiter">(</span><a href="#519191" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#519446" title="List[SpecializeTypes.this.global.Type]">_</a> <span title="(implicit ev: &lt;:&lt;[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">toMap</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Does the given tpe need to be specialized in the environment 'env'?
   *  Specialization is needed for
   *    - members with specialized type parameters found in the given environment
   *    - constructors of specialized classes
   *    - normalized members whose type bounds appear in the environment
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="110933">needsSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="519545">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="519546">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#110936" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519546" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span><span class="delimiter">(</span><a href="#519545" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">diff</span><span class="delimiter">(</span><a href="#110942" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#519546" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">||</span>
     <span class="delimiter">(</span><a href="#519546" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107332" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#519546" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
     <span class="delimiter">(</span><a href="#110934" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#519546" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#519546" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="#518041" title="(env: SpecializeTypes.this.TypeEnv)Boolean">typeBoundsIn</a><span class="delimiter">(</span><a href="#519545" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Boolean" id="110934">isNormalizedMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="519591">m</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#110876" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#519591" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#110918" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span> <a href="#519591" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(p: SpecializeTypes.this.SpecializedInfo =&gt; Boolean)Boolean">exists</span> <a href="#519598" title="Boolean" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="Boolean(true)">NormalizedMember</span><span class="delimiter">(</span>_<span class="delimiter">)</span>  =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                    =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="110935">specializedTypeVars</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="496092">tpes</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" id="519622">buf</a> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Set[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span>
    <a href="#496092" title="List[SpecializeTypes.this.global.Type]">tpes</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]])Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519642">tp</a> =&gt; <a href="#519622" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a> <span title="(xs: scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])buf.type">++=</span> <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519642" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#519622" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a>.<span title="()scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">result</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="110936">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="496089">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#496089" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** Return the set of @specialized type variables mentioned by the given type.
   *  It only counts type variables that appear:
   *    - naked
   *    - as arguments to type constructors in @specialized positions
   *      (arrays are considered as Array[@specialized T])
   */</span>
  <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="110937">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="496086">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#496086" title="SpecializeTypes.this.global.Type">tpe</a> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519666">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="519667">sym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="519668">args</a><span class="delimiter">)</span> =&gt;
      <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span>
        <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#496086" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105342" title="=&gt; SpecializeTypes.this.global.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTypeParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107342" title="=&gt; Boolean">isTypeSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107498" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106253" title="=&gt; SpecializeTypes.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
        <a href="#110935" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519668" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#110935" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519667" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#519668" title="List[SpecializeTypes.this.global.Type]">args</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">collect</span> <a href="#519766" title="SpecializeTypes.this.global.Type" class="delimiter">{</a> <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="519769">tp</a>, <a title="SpecializeTypes.this.global.Type" id="519770">arg</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#519769" title="SpecializeTypes.this.global.Symbol">tp</a><span class="delimiter">)</span> =&gt; <a href="#519770" title="SpecializeTypes.this.global.Type">arg</a> <span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="519800">tparams</a>, <a title="SpecializeTypes.this.global.Type" id="519801">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#110935" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519801" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="#519808" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#519800" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#519825" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">// since this method may be run at phase typer (before uncurry, where NMTs are eliminated)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">NullaryMethodType</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519859">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519859" title="SpecializeTypes.this.global.Type">resTpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">MethodType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="519868">argSyms</a>, <a title="SpecializeTypes.this.global.Type" id="519869">resTpe</a><span class="delimiter">)</span> =&gt; <a href="#110935" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519869" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="#519876" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#519868" title="List[SpecializeTypes.this.global.Symbol]">argSyms</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#519893" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">ExistentialType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="519926">res</a><span class="delimiter">)</span>     =&gt; <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519926" title="SpecializeTypes.this.global.Type">res</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">AnnotatedType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="519936">tp</a>, _<span class="delimiter">)</span>     =&gt; <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519936" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">TypeBounds</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519945">lo</a>, <a title="SpecializeTypes.this.global.Type" id="519946">hi</a><span class="delimiter">)</span>          =&gt; <a href="#110935" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#519945" title="SpecializeTypes.this.global.Type">lo</a>, <a href="#519946" title="SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">_</span>                           =&gt; <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">// holds mappings from regular type parameter symbols to symbols of</span>
  <span class="comment">// specialized type parameters which are subtypes of AnyRef</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" id="110938">anyrefSpecCache</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</span><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol)*)scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Returns the type parameter in the specialized class `cls` that corresponds to type parameter
   *  `sym` in the original class. It will create it if needed or use the one from the cache.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type" id="110940">typeParamSubAnyRef</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="519963">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="519964">cls</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="#110938" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">anyrefSpecCache</a>.<span title="(key: SpecializeTypes.this.global.Symbol, op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getOrElseUpdate</span><span class="delimiter">(</span><a href="#519963" title="SpecializeTypes.this.global.Symbol">sym</a>,
      <a href="#519964" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107301" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.TypeSymbol">newTypeParameter</a><span class="delimiter">(</span><a href="#519963" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="../symtab/Names.scala.html#66906" title="(s: String)SpecializeTypes.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#519963" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148437" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#519963" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
  <span class="delimiter">)</span>

  <span class="comment">/** Cleans the anyrefSpecCache of all type parameter symbols of a class.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit" id="110941">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="519983">cls</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="519984">decls</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <span class="comment">// remove class type parameters and those of normalized members.</span>
    <a href="#519983" title="SpecializeTypes.this.global.Symbol">cls</a> <a href="#519987" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#519984" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span>
      <a href="#520014" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.anyrefSpecCache.type">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="520017">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="#110938" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">anyrefSpecCache</a> <span title="(xs: scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.anyrefSpecCache.type">--=</span> <a href="#520017" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>
        <span class="keyword">case</span> <span title="Unit">_</span>                    =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
  
  <span class="comment">// holds mappings from members to the type variables in the class that they were already specialized for,</span>
  <span class="comment">// so that they don't get specialized twice (this is for AnyRef specializations)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" id="110942">wasSpecializedForTypeVars</a> =
    mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</span><span title="(elems: (SpecializeTypes.this.global.Symbol, scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])*)scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">withDefaultValue</span> immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  
  <span class="comment">/** Type parameters that survive when specializing in the specified environment. */</span>
  <span class="keyword">def</span> <a title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="110944">survivingParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="520040">params</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="520041">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> =
    <a href="#520040" title="List[SpecializeTypes.this.global.Symbol]">params</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520047">p</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#520047" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106522" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#520041" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#520047" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** Produces the symbols from type parameters `syms` of the original owner,
   *  in the given type environment `env`. The new owner is `nowner`.
   *  
   *  Non-specialized type parameters are cloned into new ones.
   *  Type parameters specialized on AnyRef have preexisting symbols.
   *  
   *  For instance, a @specialized(AnyRef) T, will become T$sp &lt;: AnyRef.
   */</span>
  <span class="keyword">def</span> <a title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="110945">produceTypeParameters</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="520063">syms</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="520064">nowner</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="520065">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520068">cloned</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520085">s</a> &lt;- <a href="#520063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">syms</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#520065" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#520085" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#520085" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520064" title="SpecializeTypes.this.global.Symbol">nowner</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#520065" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#520085" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>
    <span class="comment">// log(&quot;producing type params: &quot; + cloned.map(t =&gt; (t, t.tpe.bounds.hi)))</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520221">orig</a>, <a title="SpecializeTypes.this.global.Symbol" id="520222">cln</a><span class="delimiter">)</span> &lt;- <a href="#520063" title="List[SpecializeTypes.this.global.Symbol]">syms</a> <a href="#520192" title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Any)Unit">zip</a> <a href="#520068" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#520222" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../symtab/Symbols.scala.html#107275" title="(cls: SpecializeTypes.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106149" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520065" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#520221" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#520222" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)cln.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148437" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#520222" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520253">sym</a> &lt;- <a href="#520068" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">cloned</a><span class="delimiter">)</span> <a href="#520253" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#520253" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105364" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#520063" title="List[SpecializeTypes.this.global.Symbol]">syms</a>, <a href="#520068" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#520068" title="List[SpecializeTypes.this.global.Symbol]">cloned</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the specialized symbol (class (specialization) or member (normalization)), leaves everything else as-is.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="110946">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520261">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="520262">origsym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="520263">specsym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <a href="#520261" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</span> <a href="#520281" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520284">sym</a>, <a title="SpecializeTypes.this.global.Type" id="520285">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#520285" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520284" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#520262" title="SpecializeTypes.this.global.Symbol">origsym</a> =&gt; <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#520284" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#110940" title="(sym: SpecializeTypes.this.global.Symbol, cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">typeParamSubAnyRef</a><span class="delimiter">(</span><a href="#520284" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#520263" title="SpecializeTypes.this.global.Symbol">specsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="520301">x</a> =&gt; <a href="#520301" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the original class, leaves everything else as-is.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="110947">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520336">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="520337">origcls</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <a href="#520336" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</span> <a href="#520355" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520358">sym</a>, <a title="SpecializeTypes.this.global.Type" id="520359">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#520359" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106077" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520358" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#520337" title="SpecializeTypes.this.global.Symbol">origcls</a> =&gt; <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#520358" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#520358" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="520375">x</a> =&gt; <a href="#520375" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Specialize 'clazz', in the environment `outerEnv`. The outer
   *  environment contains bindings for specialized types of enclosing
   *  classes.
   * 
   *  A class C is specialized w.r.t to its own specialized type params
   *  `stps`, by specializing its members, and creating a new class for
   *  each combination of `stps`.
   */</span>
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="110948">specializeClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520410">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="520411">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol" id="520413">specializedClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520416">env0</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="520417">normMembers</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ClassSymbol" id="520418">cls</a> = <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107308" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.ClassSymbol">newClass</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520416" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>.<a href="../symtab/Names.scala.html#96636" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
                              .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.ClassSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span> <span title="(x: Long)Long">|</span> <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a><span class="delimiter">)</span>
                              .<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.ClassSymbol">resetFlag</a><span class="delimiter">(</span><span title="Long(2048L)">CASE</span><span class="delimiter">)</span>
      <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>.<a href="../symtab/Symbols.scala.html#113054" title="(f: scala.tools.nsc.io.AbstractFile)Unit">sourceFile</a> = <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107502" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
      <a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72356" title="(key: SpecializeTypes.this.global.Symbol, value: scala.tools.nsc.io.AbstractFile)Unit">symSource</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span> = <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107502" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span class="comment">// needed later on by mixin</span>
      
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="520419">env</a> = <a href="#110946" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#520416" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>
      
      <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span> = <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a>
      <a href="#26834" title="SpecializeTypes.this.type" class="keyword">this</a>.<a href="#110885" title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), value: SpecializeTypes.this.global.Symbol)Unit">specializedClass</a><span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520416" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>

      <span class="comment">// declarations of the newly specialized class 'cls'</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="520420">decls1</a> = <a href="../symtab/Scopes.scala.html#112939" title="()SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="SpecializeTypes.this.global.Scope">Scope</a>

      <span class="comment">// original unspecialized type parameters</span>
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520421">oldClassTParams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

      <span class="comment">// unspecialized type parameters of 'cls' (cloned)</span>
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520422">newClassTParams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
      
      <span class="comment">// has to be a val in order to be computed early. It is later called</span>
      <span class="comment">// within 'atPhase(next)', which would lead to an infinite cycle otherwise </span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="520423">specializedInfoType</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="comment">// val (_, unspecParams) = splitParams(clazz.info.typeParams)</span>
        <span class="comment">// oldClassTParams = unspecParams</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520503">survivedParams</a> = <a href="#110944" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <a href="#520421" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a> = <a href="#520503" title="List[SpecializeTypes.this.global.Symbol]">survivedParams</a>
        <a href="#520422" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> = <a href="#110945" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#520503" title="List[SpecializeTypes.this.global.Symbol]">survivedParams</a>, <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <a href="#110961" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#520541" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <span class="comment">// log(&quot;new tparams &quot; + newClassTParams.zip(newClassTParams map {s =&gt; (s.tpe, s.tpe.bounds.hi)}) + &quot;, in env: &quot; + env)</span>

        <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="520504">applyContext</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="520571">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#520571" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105363" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520503" title="List[SpecializeTypes.this.global.Symbol]">survivedParams</a>, <a href="#520422" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#520599" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">/** Return a list of specialized parents to be re-mixed in a specialized subclass.
         *  Assuming env = [T -&gt; Int] and
         *    class Integral[@specialized T] extends Numeric[T]
         *  and Numeric[U] is specialized on U, this produces List(Numeric$mcI).
         *
         *  so that class Integral$mci extends Integral[Int] with Numeric$mcI.
         */</span>
        <span class="keyword">def</span> <a title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="520505">specializedParents</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="520627">parents</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]" id="520628">res</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">ListBuffer</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="comment">// log(cls + &quot;: seeking specialized parents of class with parents: &quot; + parents.map(_.typeSymbol))</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="520648">p</a> &lt;- <a href="#520627" title="(f: SpecializeTypes.this.global.Type =&gt; Any)Unit">parents</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// log(p.typeSymbol)</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="520649">stp</a> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#110924" title="(v1: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><span class="delimiter">(</span><a href="#520648" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520649" title="SpecializeTypes.this.global.Type">stp</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#520648" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520648" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#520628" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">res</a> <span title="(x: SpecializeTypes.this.global.Type)res.type">+=</span> <a href="#520649" title="SpecializeTypes.this.global.Type">stp</a>
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72361" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67996" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#520648" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105313" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeSymbol</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; must be a trait. Specialized version of &quot;)" class="string">&quot; must be a trait. Specialized version of &quot;</span>
                  <span title="(x$1: Any)java.lang.String">+</span> <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; will inherit generic &quot;)" class="string">&quot; will inherit generic &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#520648" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>  <span class="comment">// TODO change to error</span>
          <span class="delimiter">}</span>
          <a href="#520628" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">res</a>.<span title="=&gt; scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">reverse</span>.<span title="=&gt; List[SpecializeTypes.this.global.Type]">toList</span>
        <span class="delimiter">}</span>

        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Type]" id="520506">parents</a> = <span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#520504" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// log(&quot;!!! Parents: &quot; + parents + &quot;, sym: &quot; + parents.map(_.typeSymbol))</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#520506" title="List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
          <a href="#520506" title="List[SpecializeTypes.this.global.Type]">parents</a> = <a href="#520506" title="List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span> <a href="#520712" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#520506" title="List[SpecializeTypes.this.global.Type]">parents</a>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="520507">extraSpecializedMixins</a> = <a href="#520505" title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">specializedParents</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#520504" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;extraSpecializedMixins: &quot;)" class="string">&quot;extraSpecializedMixins: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#520507" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ClassInfoType" id="520508">infoType</a> = <a href="../symtab/Types.scala.html#148601" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#520506" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="#520773" title="(prefix: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">:::</a> <a href="#520507" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>, <a href="#520420" title="SpecializeTypes.this.global.Scope">decls1</a>, <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>
        <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#520422" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#520508" title="SpecializeTypes.this.global.ClassInfoType">infoType</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#148857" title="(typeParams: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#520422" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a>, <a href="#520508" title="SpecializeTypes.this.global.ClassInfoType">infoType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.ClassSymbol)SpecializeTypes.this.global.ClassSymbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)cls.type">setInfo</a><span class="delimiter">(</span><a href="#520423" title="SpecializeTypes.this.global.Type">specializedInfoType</a><span class="delimiter">)</span><span class="delimiter">)</span>      
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="520424">fullEnv</a> = <a href="#520411" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a>

      <span class="comment">/** Enter 'sym' in the scope of the current specialized class. It's type is
       *  mapped through the active environment, binding type variables to concrete
       *  types. The existing typeEnv for `sym' is composed with the current active
       *  environment
       */</span>
      <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="520425">enterMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520856">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#520856" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#520424" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#520856" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="comment">// append the full environment</span>
        <a href="#520856" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#520856" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105365" title="(from: SpecializeTypes.this.global.Symbol, to: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="../symtab/Types.scala.html#148190" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">ThisType</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105363" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520421" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#520422" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#520969" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span class="comment">// we remove any default parameters. At this point, they have been all </span>
        <span class="comment">// resolved by the type checker. Later on, erasure re-typechecks everything and</span>
        <span class="comment">// chokes if it finds default parameters for specialized members, even though</span>
        <span class="comment">// they are never needed.</span>
        <a href="#520856" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105333" title="=&gt; List[List[SpecializeTypes.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.Symbol] =&gt; scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">flatten</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#521056" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)x$24.type">resetFlag</a><span class="delimiter">(</span><span title="Long(33554432L)">DEFAULTPARAM</span><span class="delimiter">)</span><span class="delimiter">)</span> 

        <a href="#520420" title="SpecializeTypes.this.global.Scope">decls1</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#110961" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#520424" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520856" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Create and enter in scope an overridden symbol m1 for `m' that forwards
       *  to `om'. `om' is a fresh, special overload of m1 that is an implementation
       *  of `m'. For example, for a
       *
       *  class Foo[@specialized A] {
       *    def m(x: A) = &lt;body&gt; // m
       *  }
       *  , for class Foo$I extends Foo[Int], this method enters two new symbols in
       *  the scope of Foo$I:
       *
       *    def m(x: Int) = m$I(x) // m1
       *    def m$I(x: Int) = &lt;body&gt;/adapted to env {A -&gt; Int} // om
       */</span>
      <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="520426">forwardToOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521070">m</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521071">specMember</a> = <span class="delimiter">(</span>
          <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521070" title="SpecializeTypes.this.global.Symbol">m</a> <a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a> <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>
            <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a>   <span class="delimiter">(</span>OVERRIDE <span title="Long(1099511627778L)">|</span> SPECIALIZED<span class="delimiter">)</span>
            <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span>DEFERRED <span title="Long(16777232L)">|</span> CASEACCESSOR<span class="delimiter">)</span>
        <span class="delimiter">)</span> <span class="comment">// m1</span>
        
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521072">om</a> = <a href="#110951" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521070" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(2L)">OVERRIDE</span><span class="delimiter">)</span>      
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521073">original</a> = <a href="#110918" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span><span class="delimiter">(</span><a href="#521070" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">Some</span><span class="delimiter">(</span>NormalizedMember<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521094">tg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#521094" title="SpecializeTypes.this.global.Symbol">tg</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">_</span>                          =&gt; <a href="#521070" title="SpecializeTypes.this.global.Symbol">m</a>
        <span class="delimiter">}</span>
        <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521071" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#518157" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521072" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
        <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521072" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>         = <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#521073" title="SpecializeTypes.this.global.Symbol">original</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <a href="#518157" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521073" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#518265" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#521073" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
        <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#521072" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>      = <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521070" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span class="comment">// add the environment for any method tparams</span>
        
        <a href="#110888" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#521071" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#517977" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#521072" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521072" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521072" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521326">m</a> &lt;- <a href="#520417" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">normMembers</a> ; <span class="keyword">if</span> <a href="#110933" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#520411" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110966" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#520424" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
          <a href="#110977" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="comment">// specialized members have to be overridable.</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span>
          <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)m.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
        
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521337">specCtor</a> = <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
          <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521337" title="SpecializeTypes.this.global.Symbol">specCtor</a><span class="delimiter">)</span> = <a href="#518157" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#110934" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// methods added by normalization</span>
          <span class="keyword">val</span> NormalizedMember<a href="#521362" title="SpecializeTypes.this.global.Symbol" id="521346" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521362">original</a><span class="delimiter">)</span> = <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><a href="#110896" title="SpecializeTypes.this.SpecializedInfo @unchecked" class="delimiter">(</a><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#110965" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#518042" title="=&gt; Boolean">degenerate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;degenerate normalized member &quot;)" class="string">&quot;degenerate normalized member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; info(m): &quot;)" class="string">&quot; info(m): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521483">specMember</a> = <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>

              <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521483" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>    = <a href="#518265" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#521346" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#521483" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521568">om</a> = <a href="#520426" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
              <span title="java.lang.String(&quot;normalizedMember &quot;)" class="string">&quot;normalizedMember &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; om: &quot;)" class="string">&quot; om: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521568" title="SpecializeTypes.this.global.Symbol">om</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; typeEnv(om): &quot;)" class="string">&quot; typeEnv(om): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521568" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> 
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;conflicting env for &quot;)" class="string">&quot;conflicting env for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// abstract methods</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521584">specMember</a> = <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;deferred &quot;)" class="string">&quot;deferred &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521584" title="SpecializeTypes.this.global.Symbol">specMember</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is forwarded&quot;)" class="string">&quot; is forwarded&quot;</span><span class="delimiter">)</span>
            
          <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521584" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#521591" title="SpecializeTypes.this.Forward" class="keyword">new</a> <a href="#518157" title="anonymous class $anon extends SpecializeTypes.this.Forward" id="521591">Forward</a><span class="delimiter">(</span><a href="#521584" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="521595">target</a> = <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">hasAccessorFlag</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// other concrete methods</span>
          <span class="comment">// log(&quot;other concrete &quot; + m)</span>
          <a href="#520426" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// concrete value definition</span>
          <span class="keyword">def</span> <a title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol" id="521606">mkAccessor</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521609">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Name" id="521610">name</a>: <a href="../symtab/Names.scala.html#66914" title="SpecializeTypes.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="521611">sym</a> = <span class="delimiter">(</span>
              <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>.<a href="../symtab/Symbols.scala.html#107284" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#521609" title="SpecializeTypes.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="TypingTransformers.scala.html#110161" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">setFlag</a>   <span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span> <span title="(x: Long)Long">|</span> <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a><span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">resetFlag</a> <span class="delimiter">(</span>LOCAL | PARAMACCESSOR | CASEACCESSOR <span title="Long(2701656064L)">|</span> LAZY<span class="delimiter">)</span>
                <span class="comment">// we rely on the super class to initialize param accessors</span>
            <span class="delimiter">)</span>
            <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521611" title="SpecializeTypes.this.global.MethodSymbol">sym</a><span class="delimiter">)</span> = <a href="#518213" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#521609" title="SpecializeTypes.this.global.Symbol">field</a><span class="delimiter">)</span>
            <a href="#521611" title="SpecializeTypes.this.global.MethodSymbol">sym</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="521607">overrideIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521648">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521649">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521650">sym1</a> = <span class="delimiter">(</span>
              <a href="#521649" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a> <a href="#521648" title="SpecializeTypes.this.global.Symbol">clazz</a>
                <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a>   <span class="delimiter">(</span>OVERRIDE <span title="Long(1099511627778L)">|</span> SPECIALIZED<span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span>DEFERRED | CASEACCESSOR | PARAMACCESSOR <span title="Long(2701131792L)">|</span> LAZY<span class="delimiter">)</span>
            <span class="delimiter">)</span>
            <a href="#521650" title="SpecializeTypes.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)sym1.type">setInfo</a> <a href="#521650" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105359" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#521648" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#521650" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521608">specVal</a> = <a href="#110951" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520419" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

          <a href="#110977" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="SpecializeTypes.this.global.TermSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67321" title="SpecializeTypes.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../symtab/Symbols.scala.html#152401" title="(alias: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

          <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
          <span class="comment">// create accessors</span>
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;m: &quot;)" class="string">&quot;m: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; isLocal: &quot;)" class="string">&quot; isLocal: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115606" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; specVal: &quot;)" class="string">&quot; specVal: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; isLocal: &quot;)" class="string">&quot; isLocal: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115606" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115606" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="521681">specGetter</a> = <a href="#521606" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115619" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="TypingTransformers.scala.html#110161" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148698" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521682">origGetter</a> = <a href="#521607" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521682" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span> = <a href="#518157" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521681" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521681" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521682" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span>
            <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created accessors: &quot;)" class="string">&quot;created accessors: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521681" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; orig: &quot;)" class="string">&quot; orig: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521682" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span>

            <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107460" title="=&gt; List[SpecializeTypes.this.global.Symbol]">caseFieldAccessors</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Option[SpecializeTypes.this.global.Symbol]">find</span><span class="delimiter">(</span><a href="#521706" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96597" title="(prefix: SpecializeTypes.this.global.Name)Boolean">startsWith</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="521718">cfa</a> =&gt;
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521719">cfaGetter</a> = <a href="#521607" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521718" title="SpecializeTypes.this.global.Symbol">cfa</a><span class="delimiter">)</span>
              <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521719" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span> = <a href="#518213" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
              <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521719" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span>
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;found case field accessor for &quot;)" class="string">&quot;found case field accessor for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; added override &quot;)" class="string">&quot; added override &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521719" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span>;
            <span class="delimiter">}</span>                                                                       

            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107323" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107495" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="521732">specSetter</a> = <a href="#521606" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115618" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#521681" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a>.<a href="../symtab/Symbols.scala.html#152392" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">resetFlag</a><span class="delimiter">(</span><span title="Long(4194304L)">STABLE</span><span class="delimiter">)</span>
              <a href="#521732" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)specSetter.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148698" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#521732" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../symtab/Symbols.scala.html#107305" title="(argtypes: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Symbol]">newSyntheticValueParams</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>, 
                                            <a href="../symtab/Definitions.scala.html#106577" title="=&gt; SpecializeTypes.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521733">origSetter</a> = <a href="#521607" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107495" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521733" title="SpecializeTypes.this.global.Symbol">origSetter</a><span class="delimiter">)</span> = <a href="#518157" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521732" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521732" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521733" title="SpecializeTypes.this.global.Symbol">origSetter</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// if there are no accessors, specialized methods will need to access this field in specialized subclasses</span>
            <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
            <a href="#521608" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)specVal.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521756">specClass</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
          <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#521756" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#520424" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a>
          <a href="#521756" title="SpecializeTypes.this.global.Symbol">specClass</a>.<a href="../symtab/Symbols.scala.html#107408" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521756" title="SpecializeTypes.this.global.Symbol">specClass</a>, <a href="#520424" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>.<a href="../symtab/Names.scala.html#96636" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a>
          <a href="#520425" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521756" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;entered specialized class &quot;)" class="string">&quot;entered specialized class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521756" title="SpecializeTypes.this.global.Symbol">specClass</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
          <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521756" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#518379" title="(target: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecializedInnerClass">SpecializedInnerClass</a><span class="delimiter">(</span><a href="#521326" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520424" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#520418" title="SpecializeTypes.this.global.ClassSymbol">cls</a>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520414">decls1</a> = <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> m: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> =&gt;
      <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#521800" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107346" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span title="(xs: SpecializeTypes.this.global.Symbol*)List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#521800" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#110949" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">normalizeMember</a><span class="delimiter">(</span><a href="#521800" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#521800" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520411" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="521831">normalizedMember</a> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="521832">ms</a> = <a href="#110950" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeMember</a><span class="delimiter">(</span><a href="#521800" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#521831" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>, <a href="#520411" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          <span class="comment">// interface traits have concrete members now</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521832" title="List[SpecializeTypes.this.global.Symbol]">ms</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isInterface</span><span class="delimiter">)</span>
            <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(128L)">INTERFACE</span><span class="delimiter">)</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521831" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="521846">newTpe</a> = <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520411" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#521831" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
            <span class="comment">// only do it when necessary, otherwise the method type might be at a later phase already</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521846" title="SpecializeTypes.this.global.Type">newTpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#521831" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#521831" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="../symtab/Symbols.scala.html#107427" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Symbol">updateInfo</a> <a href="#521846" title="SpecializeTypes.this.global.Type">newTpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#521831" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="#521866" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#521832" title="List[SpecializeTypes.this.global.Symbol]">ms</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.TypeEnv]" id="520415">subclasses</a> = <a href="#110932" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.TypeEnv =&gt; Boolean)List[SpecializeTypes.this.TypeEnv]">filter</span> <a href="#110966" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a>
    <a href="#520415" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a> <span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.TypeEnv" id="521961">env</a> =&gt;
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521962">spc</a>      = <a href="#520413" title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol">specializedClass</a><span class="delimiter">(</span><a href="#521961" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#520414" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521963">existing</a> = <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#521962" title="SpecializeTypes.this.global.Symbol">spc</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      
      <span class="comment">// a symbol for the specialized class already exists if there's a classfile for it.</span>
      <span class="comment">// keeping both crashes the compiler on test/files/pos/spec-Function1.scala</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#521963" title="SpecializeTypes.this.global.Symbol">existing</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112952" title="(sym: SpecializeTypes.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#521963" title="SpecializeTypes.this.global.Symbol">existing</a><span class="delimiter">)</span>

      <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a> <a href="#521962" title="SpecializeTypes.this.global.Symbol">spc</a><span class="delimiter">)</span> <span class="comment">//!!! assumes fully specialized classes</span>
    <span class="delimiter">}</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520415" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
    <a href="#110941" title="(cls: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a href="#520410" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520414" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
    <a href="#520414" title="List[SpecializeTypes.this.global.Symbol]">decls1</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Expand member `sym' to a set of normalized members. Normalized members
   *  are monomorphic or polymorphic only in non-specialized types.
   *
   *  Given method m[@specialized T, U](x: T, y: U) it returns
   *     m[T, U](x: T, y: U),
   *     m$I[ U](x: Int, y: U),
   *     m$D[ U](x: Double, y: U)
   *     // etc.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="110949">normalizeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521808">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521809">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521810">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;normalizeMember: &quot;)" class="string">&quot;normalizeMember: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
    <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="#522008" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <span class="delimiter">(</span>
      <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522016">specializingOn</a> = <a href="#110921" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedParams</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522017">unusedStvars</a>   = <a href="#522016" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</span> <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
      
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#522017" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72361" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSynthetic</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67996" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, 
            <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s unused or used in non-specializable positions.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
              <a href="#522017" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#522017" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;are&quot;)" class="string">&quot;are&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#522017" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#522057" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#107275" title="(cls: SpecializeTypes.this.global.Symbol)Unit">removeAnnotation</a> <a href="../symtab/Definitions.scala.html#106149" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
          <a href="#522016" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> = <a href="#522016" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#522017" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <a href="#522065" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="522080">env0</a> &lt;- <a href="#110932" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#522016" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#110933" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#522080" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522081">tps</a>          = <a href="#110944" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#522080" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="522082">specMember</a>   = <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#521808" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="522083">env</a>          = <a href="#110946" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#522080" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#522085" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="#522084" title="List[SpecializeTypes.this.global.Symbol]" id="522085">keys</a>, <a href="#522084" title="List[SpecializeTypes.this.global.Type]" id="522086">vals</a><span class="delimiter">)</span> = <a href="#522083" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</span>.<span title="(implicit asPair: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</span>

          <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107408" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#522083" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;normalizing: &quot;)" class="string">&quot;normalizing: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522081" title="List[SpecializeTypes.this.global.Symbol]">tps</a><span class="delimiter">)</span>

          <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#521810" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#522083" title="SpecializeTypes.this.TypeEnv">env</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522087">tps1</a> = <a href="#110945" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#522081" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#522083" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#522087" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="522200">tp</a> =&gt; <a href="#522200" title="SpecializeTypes.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)tp.type">setInfo</a><span class="delimiter">(</span><a href="#522200" title="SpecializeTypes.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#522085" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#522086" title="List[SpecializeTypes.this.global.Type]">vals</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="comment">// the cloneInfo is necessary so that method parameter symbols are cloned at the new owner</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="522088">methodType</a> = <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; SpecializeTypes.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105363" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#522085" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#522081" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#522086" title="List[SpecializeTypes.this.global.Type]">vals</a> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">++</span> <a href="#522087" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#522303" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105387" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)specMember.type">setInfo</a> <a href="../symtab/Types.scala.html#67479" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#522087" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>, <a href="#522088" title="SpecializeTypes.this.global.Type">methodType</a><span class="delimiter">)</span>

          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;expanded member: &quot;)" class="string">&quot;expanded member: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>  <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522083" title="SpecializeTypes.this.TypeEnv">env</a>
          <span class="delimiter">)</span>
          <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#518544" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.NormalizedMember">NormalizedMember</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#110888" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#521809" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#517977" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#522083" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#522082" title="SpecializeTypes.this.global.Symbol">specMember</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Specialize member `m' w.r.t. to the outer environment and the type
   *  parameters of the innermost enclosing class.
   * 
   *  Turns 'private' into 'protected' for members that need specialization.
   * 
   *  Return a list of symbols that are specializations of 'sym', owned by 'owner'.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="110950">specializeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521833">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521834">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521835">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="521836">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="522451">specializeOn</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="522452">tparams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="522472">spec0</a> &lt;- <a href="#110932" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#522452" title="List[SpecializeTypes.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="522473">spec</a> = <a href="#110947" title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a href="#522472" title="SpecializeTypes.this.TypeEnv">spec0</a>, <a href="#521833" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span>
          <a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
          
        <a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="522474">specMember</a> = <a href="#110961" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#521835" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#110951" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#521833" title="SpecializeTypes.this.global.Symbol">owner</a>, <a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#522473" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#521835" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#522473" title="SpecializeTypes.this.TypeEnv">spec</a>
        <a href="#110942" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])Unit">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">++=</span> <a href="#522473" title="SpecializeTypes.this.TypeEnv">spec</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Symbol,scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]])scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]">collect</span> <a href="#522725" title="SpecializeTypes.this.global.Symbol" class="delimiter">{</a> <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="522728">s</a>, <a title="SpecializeTypes.this.global.Type" id="522729">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#522728" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#522729" title="SpecializeTypes.this.global.Type">tp</a> =&gt; <a href="#522728" title="SpecializeTypes.this.global.Symbol">s</a> <span class="delimiter">}</span>

        <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;sym &quot;)" class="string">&quot;sym &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; was specialized for type vars &quot;)" class="string">&quot; was specialized for type vars &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#110942" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;added specialized overload: %s in env: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <a href="#110888" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#517977" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#522473" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span>
        <a href="#522474" title="SpecializeTypes.this.global.Symbol">specMember</a>
      <span class="delimiter">}</span>

    <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specializeMember %s with tps: %s stvars(sym): %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#521836" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#110936" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522906">tps1</a> = <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#521836" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <span title="(elem: Any)Boolean">contains</span> <a href="#522921" title="SpecializeTypes.this.global.Symbol">_</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#521836" title="List[SpecializeTypes.this.global.Symbol]">tps</a>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522907">tps2</a> = <a href="#522906" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <span title="(that: scala.collection.GenSeq[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">intersect</span> <a href="#110936" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
        <a href="#110977" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522908">ms</a> = <a href="#522451" title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeOn</a><span class="delimiter">(</span><a href="#522907" title="List[SpecializeTypes.this.global.Symbol]">tps2</a><span class="delimiter">)</span>
      <a href="#522908" title="List[SpecializeTypes.this.global.Symbol]">ms</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="522961">m</a> =&gt; <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#522961" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> = <a href="#518090" title="(original: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecialOverload">SpecialOverload</a><span class="delimiter">(</span><a href="#521834" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#522961" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#522908" title="List[SpecializeTypes.this.global.Symbol]">ms</a>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Return the specialized overload of `m', in the given environment. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol" id="110951">specializedOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521089">owner</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521090">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521091">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="522987">specMember</a>  = <a href="#521090" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#521089" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>  <span class="comment">// this method properly duplicates the symbol's info</span>
    <a href="#522987" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107408" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521090" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#521091" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

    <span class="delimiter">(</span><a href="#522987" title="SpecializeTypes.this.global.Symbol">specMember</a>
      <a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)specMember.type">setInfo</a>   <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521091" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#522987" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105359" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#521089" title="SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, <a href="#521090" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)specMember.type">setFlag</a>   <span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
      <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)specMember.type">resetFlag</a> <span class="delimiter">(</span>DEFERRED | CASEACCESSOR | ACCESSOR <span title="Long(2298478608L)">|</span> LAZY<span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** For each method m that overrides inherited method m', add a special
   *  overload method `om' that overrides the corresponding overload in the
   *  superclass. For the following example:
   * 
   *  class IntFun extends Function1[Int, Int] {
   *     def apply(x: Int): Int = ..
   *  }
   * 
   *  this method will return List('apply$spec$II')
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="110952">specialOverrides</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523015">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">/** Return the overridden symbol in syms that needs a specialized overriding symbol,
     *  together with its specialization environment. The overridden symbol may not be
     *  the closest to 'overriding', in a given hierarchy.
     *
     *  An method m needs a special override if
     *    * m overrides a method whose type contains specialized type variables
     *    * there is a valid specialization environment that maps the overridden method type to m's type. 
     */</span>
    <span class="keyword">def</span> <a title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" id="523017">needsSpecialOverride</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523018">overriding</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span>Symbol, TypeEnv<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(overridden: SpecializeTypes.this.global.Symbol)Unit" id="523019">checkOverriddenTParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523020">overridden</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523112">baseTvar</a>, <a title="SpecializeTypes.this.global.Symbol" id="523113">derivedTvar</a><span class="delimiter">)</span> &lt;- <a href="#523020" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol)]">zip</span><a href="#523083" title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit" class="delimiter">(</a><a href="#523018" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]" id="523114">missing</a> = <a href="#110931" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#523112" title="SpecializeTypes.this.global.Symbol">baseTvar</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</span> <span title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">--</span> <a href="#110931" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#523113" title="SpecializeTypes.this.global.Symbol">derivedTvar</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523114" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67997" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#523113" title="SpecializeTypes.this.global.Symbol">derivedTvar</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>,
              <span class="string">&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing &quot;</span>
              <span title="java.lang.String(&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing types: &quot;)">+</span> <span class="string">&quot;types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523114" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#523018" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523157">overridden</a> &lt;- <a href="#523018" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107491" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">allOverriddenSymbols</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="java.lang.String(&quot;Overridden: &quot;)" class="string">&quot;Overridden: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012 by &quot;)" class="string">&quot;\n by &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523018" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523018" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="523158">stvars</a> = <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523158" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\011\011specializedTVars: &quot;)" class="string">&quot;\t\tspecializedTVars: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523158" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a> <a href="../Global.scala.html#72361" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a> <a href="#523018" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
              <a href="#523019" title="(overridden: SpecializeTypes.this.global.Symbol)Unit">checkOverriddenTParams</a><span class="delimiter">(</span><a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="523169">env</a>    = <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#523018" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="523170">atNext</a> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#523169" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\011\011env: &quot;)" class="string">&quot;\t\tenv: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523169" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;isValid: &quot;)" class="string">&quot;isValid: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#110883" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517035" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#523169" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;found: &quot;)" class="string">&quot;found: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523170" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#110883" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517034" title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv">restrict</a><span class="delimiter">(</span><a href="#523169" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523158" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110883" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517035" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#523169" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523170" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#523157" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#523169" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="(_1: SpecializeTypes.this.global.NoSymbol.type, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.NoSymbol.type, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>, <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#523015" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,Iterable[SpecializeTypes.this.global.Symbol]])Iterable[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="523240">overriding</a> =&gt;
      <a href="#523017" title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)">needsSpecialOverride</a><span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <span title="Iterable[SpecializeTypes.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Iterable[Nothing]" class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>, _<span class="delimiter">)</span>     =&gt; <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span>
        <span class="keyword">case</span> <span title="Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523302">overridden</a>, <a title="SpecializeTypes.this.TypeEnv" id="523303">env</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="523304">om</a> = <a href="#110951" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#523015" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#523302" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#523303" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Added specialized overload %s for %s in env: %s with type: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; String">fullName</span>, <a href="#523303" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#523303" title="SpecializeTypes.this.TypeEnv">env</a>
          <a href="#110977" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
          <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
            <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <span class="delimiter">{</span>    <span class="comment">// abstract override</span>
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;abstract override &quot;)" class="string">&quot;abstract override &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with specialized &quot;)" class="string">&quot; with specialized &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <a href="#518157" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// if the override is a normalized member, 'om' gets the</span>
              <span class="comment">// implementation from its original target, and adds the</span>
              <span class="comment">// environment of the normalized member (that is, any</span>
              <span class="comment">// specialized /method/ type parameter bindings)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="523319">impl</a> = <a href="#110918" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span> <a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a> <span title="SpecializeTypes.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">Some</span><span class="delimiter">(</span>NormalizedMember<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523321">target</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#523303" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
                  <a href="#523321" title="SpecializeTypes.this.global.Symbol">target</a>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">_</span> =&gt;
                  <a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a>
              <span class="delimiter">}</span>
              <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> = <a href="#518157" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a> <a href="../symtab/Symbols.scala.html#107264" title="(pos: SpecializeTypes.this.global.Position)om.type">setPos</a> <a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <a href="#518317" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecialOverride">SpecialOverride</a><span class="delimiter">(</span><a href="#523319" title="SpecializeTypes.this.global.Symbol">impl</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
          <a href="#110888" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#517977" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#523303" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#110882" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span>
            <a href="#523302" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>,
            <span title="java.lang.String(&quot;Could not find &quot;)" class="string">&quot;Could not find &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523302" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</span><span title="(xo: Option[SpecializeTypes.this.global.Symbol])Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#523304" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span>
  <span class="delimiter">}</span>
  
  case <span class="keyword">object</span> <a href="#523546" title="object SpecializeTypes.this.UnifyError" id="523549">UnifyError</a> <span title="ScalaObject" class="keyword">extends</span> scala.util.control.<span title="scala.util.control.ControlThrowable">ControlThrowable</span>
  
  <span class="comment">/** Return the most general type environment that specializes tp1 to tp2.
   *  It only allows binding of type parameters annotated with @specialized.
   *  Fails if such an environment cannot be found.
   *  
   *  If `strict` is true, a UnifyError is thrown if unification is impossible.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv" id="110955">unify</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="523180">tp1</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="523181">tp2</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="523182">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="523183">strict</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span title="(_1: SpecializeTypes.this.global.Type, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.TypeEnv" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523562">sym1</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#110875" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#523562" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span> =&gt;
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - basic case: &quot;)" class="string">&quot;Unify - basic case: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#110879" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523562" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(kv: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">+</span> <span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#523562" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> 
        <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523549" title="object SpecializeTypes.this.UnifyError">UnifyError</a> <span class="keyword">else</span> <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523627">sym1</a>, <a title="List[SpecializeTypes.this.global.Type]" id="523628">args1</a><span class="delimiter">)</span>, TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523632">sym2</a>, <a title="List[SpecializeTypes.this.global.Type]" id="523633">args2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - both type refs: &quot;)" class="string">&quot;Unify - both type refs: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#523628" title="List[SpecializeTypes.this.global.Type]">args1</a>, <a href="#523633" title="List[SpecializeTypes.this.global.Type]">args2</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; - &quot;)" class="string">&quot; - &quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523183" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523628" title="List[SpecializeTypes.this.global.Type]">args1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#523633" title="List[SpecializeTypes.this.global.Type]">args2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523549" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="523634">e</a> = <a href="#110956" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523628" title="List[SpecializeTypes.this.global.Type]">args1</a>, <a href="#523633" title="List[SpecializeTypes.this.global.Type]">args2</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unified to: &quot;)" class="string">&quot;unified to: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523634" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
      <a href="#523634" title="SpecializeTypes.this.TypeEnv">e</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523657">sym1</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#523657" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107340" title="=&gt; Boolean">isTypeParameterOrSkolem</a> =&gt;
      <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523662">params1</a>, <a title="SpecializeTypes.this.global.Type" id="523663">res1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523666">params2</a>, <a title="SpecializeTypes.this.global.Type" id="523667">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523183" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523662" title="List[SpecializeTypes.this.global.Symbol]">params1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#523666" title="List[SpecializeTypes.this.global.Symbol]">params2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523549" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - method types: &quot;)" class="string">&quot;Unify - method types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="#110956" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523663" title="SpecializeTypes.this.global.Type">res1</a> <a href="#523679" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#523662" title="List[SpecializeTypes.this.global.Symbol]">params1</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#523696" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#523667" title="SpecializeTypes.this.global.Type">res2</a> <a href="#523729" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#523666" title="List[SpecializeTypes.this.global.Symbol]">params2</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#523746" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>PolyType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523781">tparams1</a>, <a title="SpecializeTypes.this.global.Type" id="523782">res1</a><span class="delimiter">)</span>, PolyType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523785">tparams2</a>, <a title="SpecializeTypes.this.global.Type" id="523786">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523183" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523781" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#523785" title="List[SpecializeTypes.this.global.Symbol]">tparams2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523549" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - poly types: &quot;)" class="string">&quot;Unify - poly types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523782" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#523786" title="SpecializeTypes.this.global.Type">res2</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>PolyType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="523802">res</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Type" id="523803">other</a><span class="delimiter">)</span> =&gt;
      <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523802" title="SpecializeTypes.this.global.Type">res</a>, <a href="#523803" title="SpecializeTypes.this.global.Type">other</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>_, SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span>                  =&gt; <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105316" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, _<span class="delimiter">)</span>                  =&gt; <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105316" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>                       =&gt; <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>_, ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span>                       =&gt; <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105317" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>AnnotatedType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="523863">tp1</a>, _<span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Type" id="523864">tp2</a><span class="delimiter">)</span>        =&gt; <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523864" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523863" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ExistentialType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="523875">res1</a><span class="delimiter">)</span>, _<span class="delimiter">)</span>          =&gt; <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523875" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523183" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv">_</span> =&gt;
      <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;don't know how to unify %s [%s] with %s [%s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523180" title="SpecializeTypes.this.global.Type">tp1</a>.<span title="()java.lang.Class[_]">getClass</span>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523181" title="SpecializeTypes.this.global.Type">tp2</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#523182" title="SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv" id="110956">unify</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="523175">tp1</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="523176">tp2</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="523177">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="523178">strict</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> =
    <a href="#523175" title="List[SpecializeTypes.this.global.Type]">tp1</a>.<span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]">zip</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]]" class="delimiter">(</span><a href="#523176" title="List[SpecializeTypes.this.global.Type]">tp2</a><span class="delimiter">)</span>.<span title="(z: SpecializeTypes.this.TypeEnv)(f: (SpecializeTypes.this.TypeEnv, (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)) =&gt; SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv">foldLeft</span><span class="delimiter">(</span><a href="#523177" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="523962">env</a>, <a title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" id="523963">args</a><span class="delimiter">)</span> =&gt;
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#523178" title="Boolean">strict</a><span class="delimiter">)</span> <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523963" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span>, <a href="#523963" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span>, <a href="#523962" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523178" title="Boolean">strict</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="523970">nenv</a> = <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523963" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span>, <a href="#523963" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span>, <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <a href="#523178" title="Boolean">strict</a><span class="delimiter">)</span>
        <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#523962" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span> <a href="#523970" title="SpecializeTypes.this.TypeEnv">nenv</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#523962" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#523970" title="SpecializeTypes.this.TypeEnv">nenv</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not unify: u(&quot;)" class="string">&quot;could not unify: u(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523963" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523963" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) yields &quot;)" class="string">&quot;) yields &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523970" title="SpecializeTypes.this.TypeEnv">nenv</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, env: &quot;)" class="string">&quot;, env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523962" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#523549" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  
  <span class="comment">/** Map class symbols to the type environments where they were created. */</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" id="110957">typeEnv</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">Map</span><span class="delimiter">[</span>Symbol, TypeEnv<span class="delimiter">]</span> = <a href="#524041" title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" id="524041">mutable</a>.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">HashMap</span><span class="delimiter">[</span>Symbol, TypeEnv<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="524508">default</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524509">key</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Apply type bindings in the given environment `env' to all declarations.  */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, decls: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="110959">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520537">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="520538">decls</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#520538" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <a href="#110961" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#524554" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#520537" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

  <span class="comment">/** Apply the type environment 'env' to the given type. All type
   *  bindings are supposed to be to primitive types. A type variable
   *  that is annotated with 'uncheckedVariance' is mapped to the corresponding
   *  primitive type losing the annotation. 
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="110960">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520534">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Type" id="520535">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">class</span> <a title="class FullTypeMap extends SpecializeTypes.this.global.SubstTypeMap with ScalaObject" id="524584">FullTypeMap</a><a href="#524584" title="ScalaObject" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="524597">from</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="524598">to</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../symtab/Types.scala.html#67524" title="SpecializeTypes.this.global.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#524597" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#524598" title="List[SpecializeTypes.this.global.Type]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="524593">mapOver</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="524601">tp</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#524601" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="524623">parents</a>, <a title="SpecializeTypes.this.global.Scope" id="524624">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="524625">clazz</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="524626">parents1</a>  = <a href="#524623" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">mapConserve</span> <a href="#524584" title="FullTypeMap" class="keyword">this</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="524627">declsList</a> = <a href="#524624" title="SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="524628">decls1</a>    = <a href="../symtab/Types.scala.html#133283" title="(origSyms: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#524627" title="List[SpecializeTypes.this.global.Symbol]">declsList</a><span class="delimiter">)</span>

          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#524626" title="List[SpecializeTypes.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524623" title="List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#524628" title="List[SpecializeTypes.this.global.Symbol]">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524627" title="List[SpecializeTypes.this.global.Symbol]">declsList</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#524601" title="SpecializeTypes.this.global.Type">tp</a>
          <span class="keyword">else</span> <a href="../symtab/Types.scala.html#148601" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#524626" title="List[SpecializeTypes.this.global.Type]">parents1</a>, <a href="../symtab/Scopes.scala.html#112941" title="(decls: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="SpecializeTypes.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#524628" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>, <a href="#524625" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">AnnotatedType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.AnnotationInfo]" id="524650">annots</a>, <a title="SpecializeTypes.this.global.Type" id="524651">atp</a>, <a title="SpecializeTypes.this.global.Symbol" id="524652">selfsym</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.AnnotationInfo]" id="524653">annots1</a> = <a href="../symtab/Types.scala.html#133284" title="(annots: List[SpecializeTypes.this.global.AnnotationInfo])List[SpecializeTypes.this.global.AnnotationInfo]">mapOverAnnotations</a><span class="delimiter">(</span><a href="#524650" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="524654">atp1</a>    = <a href="../symtab/Types.scala.html#167383" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#524651" title="SpecializeTypes.this.global.Type">atp</a><span class="delimiter">)</span>

          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#524653" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524650" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#524654" title="SpecializeTypes.this.global.Type">atp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524651" title="SpecializeTypes.this.global.Type">atp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#524601" title="SpecializeTypes.this.global.Type">tp</a>
          <span class="keyword">else</span> <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#524653" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#524654" title="SpecializeTypes.this.global.Type">atp1</a>
          <span class="keyword">else</span> <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#524654" title="SpecializeTypes.this.global.Type">atp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524651" title="SpecializeTypes.this.global.Type">atp</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#148952" title="(annotations: List[SpecializeTypes.this.global.AnnotationInfo], underlying: SpecializeTypes.this.global.Type, selfsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#524653" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a>, <a href="#524654" title="SpecializeTypes.this.global.Type">atp1</a>, <a href="#524652" title="SpecializeTypes.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#524653" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a>.<span title="(p: SpecializeTypes.this.global.AnnotationInfo =&gt; Boolean)List[SpecializeTypes.this.global.AnnotationInfo]">filter</span><span class="delimiter">(</span><a href="#524678" title="SpecializeTypes.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133313" title="=&gt; SpecializeTypes.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106117" title="=&gt; SpecializeTypes.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">Nil</span>      =&gt; <a href="#524654" title="SpecializeTypes.this.global.Type">atp1</a>
            <span class="keyword">case</span> <a title="SpecializeTypes.this.global.AnnotatedType" id="524684">annots2</a>  =&gt; <a href="../symtab/Types.scala.html#148952" title="(annotations: List[SpecializeTypes.this.global.AnnotationInfo], underlying: SpecializeTypes.this.global.Type, selfsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#524684" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots2</a>, <a href="#524654" title="SpecializeTypes.this.global.Type">atp1</a>, <a href="#524652" title="SpecializeTypes.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt; <a href="#524584" title="FullTypeMap" class="keyword">super</a>.<a href="../symtab/Types.scala.html#133280" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#524601" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a href="#524586" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="#524585" title="List[SpecializeTypes.this.global.Symbol]" id="524586">keys</a>, <a href="#524585" title="List[SpecializeTypes.this.global.Type]" id="524587">values</a><span class="delimiter">)</span> = <a href="#520534" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</span>.<span title="(implicit asPair: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</span>
    <span class="delimiter">(</span><a href="../symtab/Types.scala.html#167383" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">new</a> <a href="#524584" title="FullTypeMap">FullTypeMap</a><span class="delimiter">(</span><a href="#524586" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#524587" title="List[SpecializeTypes.this.global.Type]">values</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520535" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="110961">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520531">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520532">decl</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="#520532" title="SpecializeTypes.this.global.Symbol">decl</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)decl.type">setInfo</a> <span class="delimiter">(</span><a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520531" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#520532" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.MethodType">MethodType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="524737">args</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#520532" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a>  =&gt; <a href="../symtab/Types.scala.html#148698" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#524737" title="List[SpecializeTypes.this.global.Symbol]">args</a>, <a href="#520532" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="SpecializeTypes.this.global.Type" id="524739">tpe</a>                                        =&gt; <a href="#524739" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Checks if the type parameter symbol is not specialized
   *  and is used as type parameters when extending a class with a specialized
   *  type parameter.
   *  At some point we may remove this restriction.
   *  
   *  Example:
   *    
   *    class Base[@specialized T]
   *    class Derived[T] extends Base[T] // a non-specialized T is 
   *                                     // used as a type param for Base
   *                                     // -&gt; returning true
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tsym: SpecializeTypes.this.global.Symbol, supertpe: SpecializeTypes.this.global.Type)Unit" id="110962">notSpecializedIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524740">tsym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="524741">supertpe</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#524741" title="SpecializeTypes.this.global.Type">supertpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="524747">supersym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="524748">supertargs</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]" id="524749">tspec</a> = <a href="#110878" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#524740" title="SpecializeTypes.this.global.Symbol">tsym</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">toSet</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524779">supt</a> &lt;- <a href="#524747" title="SpecializeTypes.this.global.Symbol">supersym</a>.<a href="../symtab/Symbols.scala.html#107438" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]" id="524780">supspec</a> = <a href="#110878" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#524779" title="SpecializeTypes.this.global.Symbol">supt</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">toSet</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#524749" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#524780" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#524749" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Tree])Boolean">subsetOf</span><span class="delimiter">(</span><a href="#524780" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67997" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#524740" title="SpecializeTypes.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;)" class="string">&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#524780" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Tree])scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">diff</span><span class="delimiter">(</span><a href="#524749" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span class="comment">//log(&quot;nope&quot;)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Type transformation. It is applied to all symbols, compiled or loaded.
   *  If it is a 'no-specialization' run, it is applied only to loaded symbols.  
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="110963">transformInfo</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524806">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="524807">tpe</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36668" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72361" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#524806" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#524807" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="keyword">else</span> <a href="#524807" title="SpecializeTypes.this.global.Type">tpe</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="524816">targs</a>, ClassInfoType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="524820">base</a>, <a title="SpecializeTypes.this.global.Scope" id="524821">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="524822">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">if</span> <a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106211" title="=&gt; SpecializeTypes.this.global.Symbol">RepeatedParamClass</a>
              <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106213" title="=&gt; SpecializeTypes.this.global.Symbol">JavaRepeatedParamClass</a>
              <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isJavaDefined</span> =&gt;
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="524831">parents</a> = <a href="#524820" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#110924" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>
        <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;transformInfo (poly) &quot;)" class="string">&quot;transformInfo (poly) &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with parents1: &quot;)" class="string">&quot; with parents1: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524831" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ph: &quot;)" class="string">&quot; ph: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>

        <a href="../symtab/Types.scala.html#67479" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#524816" title="List[SpecializeTypes.this.global.Symbol]">targs</a>, <a href="../symtab/Types.scala.html#148601" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
          <a href="#524831" title="List[SpecializeTypes.this.global.Type]">parents</a>,
          <a href="../symtab/Scopes.scala.html#112941" title="(decls: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="SpecializeTypes.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#110948" title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">specializeClass</a><span class="delimiter">(</span><a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#110952" title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specialOverrides</a><span class="delimiter">(</span><a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          <a href="#524822" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.ClassInfoType">ClassInfoType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="524955">base</a>, <a title="SpecializeTypes.this.global.Scope" id="524956">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="524957">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#524957" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isPackageClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#524957" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isJavaDefined</span> =&gt;
        <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#524955" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#524979" title="SpecializeTypes.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// side effecting? parents is not used except to log.</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="524958">parents</a> = <a href="#524955" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#110924" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>
        <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;transformInfo &quot;)" class="string">&quot;transformInfo &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524957" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with parents1: &quot;)" class="string">&quot; with parents1: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524958" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ph: &quot;)" class="string">&quot; ph: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>
        <a href="../symtab/Types.scala.html#148601" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
          <a href="#524955" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#110924" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>,
          <a href="../symtab/Scopes.scala.html#112941" title="(decls: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="SpecializeTypes.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#110948" title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">specializeClass</a><span class="delimiter">(</span><a href="#524957" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#524957" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#110952" title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specialOverrides</a><span class="delimiter">(</span><a href="#524957" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          <a href="#524957" title="SpecializeTypes.this.global.Symbol">clazz</a>
        <span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt;
        <a href="#524807" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Is any type variable in `env' conflicting with any if its type bounds, when
   *  type bindings in `env' are taken into account?
   *
   *  A conflicting type environment could still be satisfiable.
   */</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="110964">conflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="525160">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#110965" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#525160" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="110965">nonConflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="521363">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <a href="#521363" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#521371" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521374">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="521375">tpe</a><span class="delimiter">)</span> =&gt;
    <span class="delimiter">(</span><a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521363" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#521374" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105374" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#521375" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#521375" title="SpecializeTypes.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105374" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521363" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#521374" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The type environment is sound w.r.t. to all type bounds or only soft
   *  conflicts appear. An environment is sound if all bindings are within
   *  the bounds of the given type variable. A soft conflict is a binding
   *  that does not fall within the bounds, but whose bounds contain
   *  type variables that are @specialized, (that could become satisfiable).
   */</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="110966">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="521320">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#110967" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#521320" title="SpecializeTypes.this.TypeEnv">env</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean" id="110967">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="521317">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="521318">warnings</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean" id="525167">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="525168">tpe1</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="525169">tpe2</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="525170">t1</a> = <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521317" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525168" title="SpecializeTypes.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="525171">t2</a> = <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521317" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525169" title="SpecializeTypes.this.global.Type">tpe2</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><span class="delimiter">(</span><a href="#525170" title="SpecializeTypes.this.global.Type">t1</a> <a href="../symtab/Types.scala.html#105374" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#525171" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525170" title="SpecializeTypes.this.global.Type">t1</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> 
        <span title="(x: Boolean)Boolean">||</span> <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525171" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
     <span class="delimiter">}</span>

    <a href="#521317" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#525204" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525207">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="525208">tpe</a><span class="delimiter">)</span> =&gt; 
      <a href="#525167" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="#525208" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#525167" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#525208" title="SpecializeTypes.this.global.Type">tpe</a>, <a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#521318" title="Boolean">warnings</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64821" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#67996" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Bounds prevent specialization of &quot;)" class="string">&quot;Bounds prevent specialization of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>
          
        <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specvars: &quot;)" class="string">&quot;specvars: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; SpecializeTypes.this.global.Type">lo</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148440" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521317" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521317" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525207" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105321" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148442" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Duplicator extends scala.tools.nsc.typechecker.Duplicators with ScalaObject" id="110968">Duplicator</a> <a href="#110968" title="ScalaObject" class="keyword">extends</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.type" id="525236">global</a>: SpecializeTypes.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#26834" title="SpecializeTypes.this.type">SpecializeTypes</a>.<span class="keyword">this</span>.<a href="TypingTransformers.scala.html#110161" title="=&gt; scala.tools.nsc.Global">global</a>
  <span class="delimiter">}</span> <span class="keyword">with</span> typechecker.<a href="../typechecker/Duplicators.scala.html#27875" title="scala.tools.nsc.typechecker.Duplicators">Duplicators</a>

  <span class="comment">/** A tree symbol substituter that substitutes on type skolems.
   *  If a type parameter is a skolem, it looks for the original
   *  symbol in the 'from' and maps it to the corresponding new
   *  symbol. The new symbol should probably be a type skolem as
   *  well (not enforced).
   *
   *  All private members are made protected in order to be accessible from
   *  specialized classes.
   */</span>
  <span class="keyword">class</span> <a title="class ImplementationAdapter extends SpecializeTypes.this.global.TreeSymSubstituter with ScalaObject" id="110969">ImplementationAdapter</a><a href="#110969" title="ScalaObject" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="497233">from</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="List[SpecializeTypes.this.global.Symbol]" id="497234">to</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="SpecializeTypes.this.global.Symbol" id="497235">targetClass</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>,
                              <a title="Boolean" id="497236">addressFields</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#67836" title="SpecializeTypes.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="#497233" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#497234" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="SpecializeTypes.this.global.SubstSymMap" id="497228">symSubst</a> = <a href="#525242" title="SpecializeTypes.this.global.SubstSymMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67523" title="anonymous class $anon extends SpecializeTypes.this.global.SubstSymMap" id="525242">SubstSymMap</a><span class="delimiter">(</span><a href="#497233" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#497234" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: SpecializeTypes.this.global.Symbol, sym2: SpecializeTypes.this.global.Symbol)Boolean" id="525244">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525245">sym1</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="525246">sym2</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#525246" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107342" title="=&gt; Boolean">isTypeSkolem</a><span class="delimiter">)</span> <a href="#525246" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107498" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#525245" title="SpecializeTypes.this.global.Symbol">sym1</a>
        <span class="keyword">else</span> <a href="#525245" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#525246" title="SpecializeTypes.this.global.Symbol">sym2</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="497230">isAccessible</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525267">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162510" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#525267" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162510" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#497235" title="SpecializeTypes.this.global.Symbol">targetClass</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="497231">shouldMakePublic</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525279">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#525279" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#497236" title="Boolean">addressFields</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115606" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#525279" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** All private members that are referenced are made protected,
     *  in order to be accessible from specialized subclasses.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="497232">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525285">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <a href="#525285" title="SpecializeTypes.this.global.Tree">tree</a> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525296">qual</a>, <a title="SpecializeTypes.this.global.Name" id="525297">name</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525298">sym</a> = <a href="#525285" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span> <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;seeing private member %s, currentClass: %s, owner: %s, isAccessible: %b, isLocalName: %b&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="../ast/Trees.scala.html#162510" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a>, <a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>, <a href="#497230" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115606" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#497231" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">shouldMakePublic</a><span class="delimiter">(</span><a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#497230" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;changing private flag of &quot;)" class="string">&quot;changing private flag of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107500" title="(base: SpecializeTypes.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#525298" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#110969" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../ast/Trees.scala.html#167589" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525285" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">_</span> =&gt;
        <a href="#110969" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../ast/Trees.scala.html#167589" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525285" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Return the generic class corresponding to this specialized class. */</span>
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="110970">originalClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525309">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a> = 
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#110876" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#525309" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#525315" title="SpecializeTypes.this.global.Name" id="525311" class="delimiter">(</a><a title="SpecializeTypes.this.global.Name" id="525315">originalName</a>, _, _<span class="delimiter">)</span> = <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115615" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><span title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</span><a href="#525309" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      <a href="#525309" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#525311" title="SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107452" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#525323" title="SpecializeTypes.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>
  
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="110971">illegalSpecializedInheritance</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525324">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#110876" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#525324" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110970" title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">originalClass</a><span class="delimiter">(</span><a href="#525324" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Type" id="525335">p</a> =&gt;
      <a href="#110920" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedParams</a><span class="delimiter">(</span><a href="#525335" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#525335" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> 
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser with ScalaObject; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" id="110972">specializeCalls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="525337">unit</a>: <a href="../CompilationUnits.scala.html#67942" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> = <a href="#525340" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">new</a> <a href="TypingTransformers.scala.html#110163" title="anonymous class $anon extends SpecializeTypes.this.TypingTransformer" id="525340">TypingTransformer</a><span class="delimiter">(</span><a href="#525337" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/** Map a specializable method to it's rhs, when not deferred. */</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" id="525342">body</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">Map</span><span class="delimiter">[</span>Symbol, Tree<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">HashMap</span>
  
    <span class="comment">/** Map a specializable method to its value parameter symbols. */</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]" id="525344">parameters</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]">HashMap</span>
    
    <span class="comment">/** Collect method bodies that are concrete specialized methods.
     */</span>
    <span class="keyword">class</span> <a title="class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject" id="525346">CollectMethodBodies</a> <a href="#525346" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#67826" title="SpecializeTypes.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)Unit" id="525401">traverse</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525403">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span>  <span title="Unit">DefDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="525434">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="525435">name</a>, <a title="List[SpecializeTypes.this.global.TypeDef]" id="525436">tparams</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="525437">vparamss</a>, <a title="SpecializeTypes.this.global.Tree" id="525438">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="525439">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#110975" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;!!! adding body of a defdef %s, symbol %s: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>, <a href="#525439" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#525342" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#525439" title="SpecializeTypes.this.global.Tree">rhs</a>
            <span class="comment">//          body(tree.symbol) = tree // whole method</span>
            <a href="#525344" title="(key: SpecializeTypes.this.global.Symbol, value: List[List[SpecializeTypes.this.global.Symbol]])Unit">parameters</a><span class="delimiter">(</span><a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#525437" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a> <span title="(f: List[SpecializeTypes.this.global.ValDef] =&gt; List[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.ValDef]],List[SpecializeTypes.this.global.Symbol],List[List[SpecializeTypes.this.global.Symbol]]])List[List[SpecializeTypes.this.global.Symbol]]">map</span> <span class="delimiter">(</span><a href="#525482" title="List[SpecializeTypes.this.global.ValDef]">_</a> <span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#525499" title="SpecializeTypes.this.global.ValDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#110975" title="=&gt; scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <span title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">-=</span> <a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
          <span class="delimiter">}</span> <span class="comment">// no need to descend further down inside method bodies</span>

        <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="525581">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="525582">name</a>, <a title="SpecializeTypes.this.global.Tree" id="525583">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="525584">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#110975" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
          <a href="#525342" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#525584" title="SpecializeTypes.this.global.Tree">rhs</a>
          <span class="comment">// log(&quot;!!! adding body of a valdef &quot; + tree.symbol + &quot;: &quot; + rhs)</span>
          <span class="comment">//super.traverse(tree)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <a href="#525346" title="this.CollectMethodBodies" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162606" title="(tree: SpecializeTypes.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#525403" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean" id="525347">doesConform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525354">origSymbol</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="525355">treeType</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="525356">memberType</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="525357">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><a href="#525355" title="SpecializeTypes.this.global.Type">treeType</a> <a href="../symtab/Types.scala.html#105379" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#525356" title="SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span> <span class="comment">// anyref specialization</span>
        <a href="#525356" title="SpecializeTypes.this.global.Type">memberType</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="525361">resTpe</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Conformance for anyref - polytype with result type: &quot;)" class="string">&quot;Conformance for anyref - polytype with result type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525361" title="SpecializeTypes.this.global.Type">resTpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525355" title="SpecializeTypes.this.global.Type">treeType</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012Orig. sym.: &quot;)" class="string">&quot;\nOrig. sym.: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525354" title="SpecializeTypes.this.global.Symbol">origSymbol</a><span class="delimiter">)</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="525362">e</a> = <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#525354" title="SpecializeTypes.this.global.Symbol">origSymbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525356" title="SpecializeTypes.this.global.Type">memberType</a>, <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;obtained env: &quot;)" class="string">&quot;obtained env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525362" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
              <a href="#525362" title="SpecializeTypes.this.TypeEnv">e</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#525357" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
                <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not unify.&quot;)" class="string">&quot;Could not unify.&quot;</span><span class="delimiter">)</span>
                <span title="Boolean(false)" class="keyword">false</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="525348">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525374">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span> 
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525601">symbol</a> = <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>

      <span class="comment">/** The specialized symbol of 'tree.symbol' for tree.tpe, if there is one */</span>
      <span class="keyword">def</span> <a title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]" id="525602">specSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525604">qual</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[SpecializeTypes.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="525605">env</a> = <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[specSym] checking for rerouting: %s with \n\tsym.tpe: %s, \n\ttree.tpe: %s \n\tenv: %s \n\tname: %s&quot;</span>
                .<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#525605" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525605" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#525605" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// a method?</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525628">specCandidates</a> = <a href="#525604" title="SpecializeTypes.this.global.Tree">qual</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105354" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525605" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525629">specMember</a> = <a href="#525628" title="SpecializeTypes.this.global.Symbol">specCandidates</a> <a href="../symtab/Symbols.scala.html#107452" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525636">s</a> =&gt; <a href="#525347" title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean">doesConform</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#525636" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525605" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[specSym] found: &quot;)" class="string">&quot;[specSym] found: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525628" title="SpecializeTypes.this.global.Symbol">specCandidates</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, instantiated as: &quot;)" class="string">&quot;, instantiated as: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[specSym] found specMember: &quot;)" class="string">&quot;[specSym] found specMember: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525629" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#525629" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#110883" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517033" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525629" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#525605" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#525629" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;wrong environments for specialized member: \n\ttypeEnv(%s) = %s\n\tenv = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525629" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525629" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#525605" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: SpecializeTypes.this.global.Tree, targs: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Tree" id="525603">maybeTypeApply</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525673">fun</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="525674">targs</a>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = 
        <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525674" title="List[SpecializeTypes.this.global.Tree]">targs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#525673" title="SpecializeTypes.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="TypingTransformers.scala.html#110161" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#525673" title="SpecializeTypes.this.global.Tree">fun</a>, <a href="#525674" title="List[SpecializeTypes.this.global.Tree]">targs</a><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#501484" title="(x$1: SpecializeTypes.this.global.Tree)Unit">curTree</a> = <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>
      <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525691">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="525692">args</a><span class="delimiter">)</span> =&gt;
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#110979" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#525691" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#525691" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;** instantiated specialized type: &quot;)" class="string">&quot;** instantiated specialized type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#110979" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#525691" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">atPos</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span>
              <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
                <a href="TypingTransformers.scala.html#110161" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span>
                  <a href="TypingTransformers.scala.html#110161" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(tpt: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67807" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#110979" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#525691" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>,
                  <a href="../ast/Trees.scala.html#162513" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#525692" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#525340" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501495" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">TypeApply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525755">qual</a>, <a title="SpecializeTypes.this.global.Name" id="525756">name</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="525757">targs</a><span class="delimiter">)</span>
                <span class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#525756" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checking typeapp for rerouting: &quot;)" class="string">&quot;checking typeapp for rerouting: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sym.tpe: &quot;)" class="string">&quot; with sym.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree.tpe: &quot;)" class="string">&quot; tree.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="525769">qual1</a> = <a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525755" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="comment">// log(&quot;&gt;&gt;&gt; TypeApply: &quot; + tree + &quot;, qual1: &quot; + qual1)</span>
          <a href="#525602" title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]">specSym</a><span class="delimiter">(</span><a href="#525769" title="SpecializeTypes.this.global.Tree">qual1</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525772">specMember</a><span class="delimiter">)</span> =&gt;
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;found &quot;)" class="string">&quot;found &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525772" title="SpecializeTypes.this.global.Symbol">specMember</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <a href="#110882" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#525757" title="List[SpecializeTypes.this.global.Tree]">targs</a>.<span title="=&gt; Int">length</span>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeParams</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525757" title="List[SpecializeTypes.this.global.Tree]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                
              <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="525773">env</a> = <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525772" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Tree]" id="525774">residualTargs</a> = <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]">zip</span> <a href="#525757" title="List[SpecializeTypes.this.global.Tree]">targs</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)],SpecializeTypes.this.global.Tree,List[SpecializeTypes.this.global.Tree]])List[SpecializeTypes.this.global.Tree]">collect</span> <a href="#525879" title="SpecializeTypes.this.global.Tree" class="delimiter">{</a>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525882">tvar</a>, <a title="SpecializeTypes.this.global.Tree" id="525883">targ</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#525773" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#525882" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#525773" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#525882" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <a href="#525883" title="SpecializeTypes.this.global.Tree">targ</a>
              <span class="delimiter">}</span>
              
              <a href="#110882" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525774" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#525772" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>,
                <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;residual: %s, tparams: %s, env: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525774" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105336" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#525773" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="525775">tree1</a> = <a href="#525603" title="(fun: SpecializeTypes.this.global.Tree, targs: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Tree">maybeTypeApply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#525769" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#525772" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#525774" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;rewrote &quot;)" class="string">&quot;rewrote &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525775" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105928" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#525775" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// being polymorphic, it must be a method</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">None</span> =&gt; <a href="#525340" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501495" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Name" id="525973">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#110971" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">illegalSpecializedInheritance</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162510" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Position" id="525974">pos</a> = <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#525974" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97187" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96500" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#96452" title="=&gt; String">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#525974" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97214" title="=&gt; Int">line</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;)" class="string">&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#525974" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97217" title="=&gt; String">lineContent</a><span class="delimiter">)</span>
          <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525979">qual</a>, <a title="SpecializeTypes.this.global.Name" id="525980">name</a><span class="delimiter">)</span> =&gt;
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s] looking at Select: %s sym: %s: %s [tree.tpe: %s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97214" title="=&gt; Int">line</a>, <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="comment">//log(&quot;!!! select &quot; + tree + &quot; -&gt; &quot; + symbol.info + &quot; specTypeVars: &quot; + specializedTypeVars(symbol.info))</span>
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#110937" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#525980" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// log(&quot;!!! unifying &quot; + (symbol, symbol.tpe) + &quot; and &quot; + (tree, tree.tpe))</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="525995">env</a> = <a href="#110955" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#110871" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="comment">// log(&quot;!!! found env: &quot; + env + &quot;; overloads: &quot; + overloads(symbol))</span>
            <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checking for rerouting: &quot;)" class="string">&quot;checking for rerouting: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sym.tpe: &quot;)" class="string">&quot; with sym.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree.tpe: &quot;)" class="string">&quot; tree.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525995" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
            <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#525995" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Option[SpecializeTypes.this.Overload]" id="526002">specMember</a> = <a href="#110926" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]">overload</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525995" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              <span class="comment">//log(&quot;!!! found member: &quot; + specMember)</span>
              <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526002" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// log(&quot;** routing &quot; + tree + &quot; to &quot; + specMember.get.sym.fullName)</span>
                <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105928" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525979" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#526002" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<span title="=&gt; SpecializeTypes.this.Overload">get</span>.<a href="#521223" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526029">qual1</a> = <a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525979" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="526030">specMember</a> = <a href="#526029" title="SpecializeTypes.this.global.Tree">qual1</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105354" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525995" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107452" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#526037" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105381" title="(that: SpecializeTypes.this.global.Type)Boolean">matches</a> <a href="#110960" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#525995" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526030" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// log(&quot;** using spec member &quot; + specMember + &quot;: &quot; + specMember.tpe)</span>
                  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Select" id="526045">tree1</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#526029" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#526030" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526030" title="SpecializeTypes.this.global.Symbol">specMember</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span>
                    <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105928" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="#526045" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                  <span class="keyword">else</span>
                    <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#526045" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162437" title="(tree: SpecializeTypes.this.global.Tree, qualifier: SpecializeTypes.this.global.Tree, selector: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526029" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#525980" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#525340" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501495" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#110888" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</span><span class="delimiter">(</span><a href="#526095" title="SpecializeTypes.this.Overload">_</a>.<a href="#521223" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a> <a href="../symtab/Types.scala.html#105379" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.Overload" id="526098">specMember</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526099">qual1</a> = <a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525979" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;** routing &quot;)" class="string">&quot;** routing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526098" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#521223" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree: &quot;)" class="string">&quot; tree: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../ast/Trees.scala.html#67801" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#526099" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#526098" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#521223" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105928" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#526099" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#526098" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#521223" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">None</span> =&gt;
                <a href="#525340" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501495" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.RefTree" id="526144">pid</a>, <a title="List[SpecializeTypes.this.global.Tree]" id="526145">stats</a><span class="delimiter">)</span> =&gt;
          <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span class="comment">// make sure specializations have been performed</span>
          <a href="TypingTransformers.scala.html#501492" title="(tree: SpecializeTypes.this.global.Tree, owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.PackageDef)SpecializeTypes.this.global.PackageDef">atOwner</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="526167">specMembers</a> = <a href="#525353" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#526145" title="List[SpecializeTypes.this.global.Tree]">stats</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</span> <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a>
            <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162406" title="(tree: SpecializeTypes.this.global.Tree, pid: SpecializeTypes.this.global.RefTree, stats: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.PackageDef">PackageDef</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526144" title="SpecializeTypes.this.global.RefTree">pid</a>, <a href="../ast/Trees.scala.html#162521" title="(stats: List[SpecializeTypes.this.global.Tree], exprOwner: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#526145" title="List[SpecializeTypes.this.global.Tree]">stats</a> <a href="#526231" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#526167" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107486" title="=&gt; SpecializeTypes.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Tree]" id="526253">parents</a>, <a title="SpecializeTypes.this.global.ValDef" id="526254">self</a>, <a title="List[SpecializeTypes.this.global.Tree]" id="526255">body</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="526256">specMembers</a> = <a href="#525352" title="(cls: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">makeSpecializedMembers</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span><span class="delimiter">)</span> <a href="#526258" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#525353" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#526255" title="List[SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</span> <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162608" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</a> <a href="#525346" title="this.CollectMethodBodies">CollectMethodBodies</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="526257">parents1</a> = <a href="../ast/Trees.scala.html#162506" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, Int),List[(SpecializeTypes.this.global.Type, Int)]])List[(SpecializeTypes.this.global.Type, Int)]">zipWithIndex</span>.<span title="(f: (SpecializeTypes.this.global.Type, Int) =&gt; SpecializeTypes.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, Int)],SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]])List[SpecializeTypes.this.global.TypeTree]">map</span> <a href="#526409" title="SpecializeTypes.this.global.TypeTree" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.TypeTree" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="526412">tpe</a>, <a title="Int" id="526413">idx</a><span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67807" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#526412" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.TypeTree">setPos</span> <a href="#526253" title="(n: Int)SpecializeTypes.this.global.Tree">parents</a><span class="delimiter">(</span><a href="#526413" title="Int">idx</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162414" title="(tree: SpecializeTypes.this.global.Tree, parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>,
            <a href="#526257" title="List[SpecializeTypes.this.global.TypeTree]">parents1</a>    <span class="comment">/*currentOwner.info.parents.map(tpe =&gt; TypeTree(tpe) setPos parents.head.pos)*/</span> ,
            <a href="#526254" title="SpecializeTypes.this.global.ValDef">self</a>,
            <a href="TypingTransformers.scala.html#501489" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">atOwner</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162513" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#526255" title="List[SpecializeTypes.this.global.Tree]">body</a> <a href="#526474" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#526256" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span class="keyword">case</span> <a title="SpecializeTypes.this.global.Tree" id="526484">ddef</a> @ DefDef<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="526493">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="526494">name</a>, <a title="List[SpecializeTypes.this.global.TypeDef]" id="526495">tparams</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="526496">vparamss</a>, <a title="SpecializeTypes.this.global.Tree" id="526497">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="526498">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#110918" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// log(&quot;--&gt; method: &quot; + ddef + &quot; in &quot; + ddef.symbol.owner + &quot;, &quot; + info(symbol))</span>
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526501">t</a> = <a href="TypingTransformers.scala.html#501489" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atOwner</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526517">superRef</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <a href="TypingTransformers.scala.html#110161" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(qual: SpecializeTypes.this.global.Tree, mix: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.Super">Super</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(qual: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.This">This</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67709" title="object SpecializeTypes.this.global.tpnme">tpnme</a>.<span title="=&gt; SpecializeTypes.this.global.tpnme.NameType">EMPTY</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67709" title="object SpecializeTypes.this.global.tpnme">tpnme</a>.<span title="=&gt; SpecializeTypes.this.global.tpnme.NameType">EMPTY</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115276" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#110974" title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">forwardCtorCall</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#526517" title="SpecializeTypes.this.global.Tree">superRef</a>, <a href="#526496" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107378" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526493" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526494" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526495" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526496" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526497" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="TypingTransformers.scala.html#110161" title="(stats: List[SpecializeTypes.this.global.Tree], expr: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Tree*)List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#526501" title="SpecializeTypes.this.global.Tree">t</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#110161" title="(value: Any)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// duplicate the original constructor</span>
              <a href="#525350" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#526484" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="#518040" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.DefDef">Implementation</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="526798">target</a><span class="delimiter">)</span> =&gt;
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525342" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#526798" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526798" title="SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <span class="comment">// we have an rhs, specialize it</span>
              <span class="keyword">val</span> <a title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="526799">tree1</a> = <a href="#525350" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#526484" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#526798" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526799" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> DefDef<a href="#526801" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#526800" title="SpecializeTypes.this.global.Modifiers" id="526801">mods</a>, <a href="#526800" title="SpecializeTypes.this.global.TermName" id="526802">name</a>, <a href="#526800" title="List[SpecializeTypes.this.global.TypeDef]" id="526803">tparams</a>, <a href="#526800" title="List[List[SpecializeTypes.this.global.ValDef]]" id="526804">vparamss</a>, <a href="#526800" title="SpecializeTypes.this.global.Tree" id="526805">tpt</a>, <a href="#526800" title="SpecializeTypes.this.global.Tree" id="526806">rhs</a><span class="delimiter">)</span> = <a href="#526799" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>
              <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#526799" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>, <a href="#526801" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526802" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526803" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526804" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526805" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526806" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">NormalizedMember</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="526884">target</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Normalized member: &quot;)" class="string">&quot;Normalized member: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, target: &quot;)" class="string">&quot;, target: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526884" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526884" title="SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <a href="#110964" title="(env: SpecializeTypes.this.TypeEnv)Boolean">conflicting</a><span class="delimiter">(</span><a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526493" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526494" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526495" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526496" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526497" title="SpecializeTypes.this.global.Tree">tpt</a>,
                  <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
                    <a href="TypingTransformers.scala.html#110161" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105427" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67688" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106174" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_error</a><span class="delimiter">)</span>,
                          <span title="(xs: SpecializeTypes.this.global.Literal*)List[SpecializeTypes.this.global.Literal]">List</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(value: Any)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="java.lang.String(&quot;boom! you stepped on a bug. This method should never be called.&quot;)" class="string">&quot;boom! you stepped on a bug. This method should never be called.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="comment">// we have an rhs, specialize it</span>
                <span class="keyword">val</span> <a title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="526928">tree1</a> = <a href="#525350" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#526484" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#526884" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
                <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526928" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> DefDef<a href="#526930" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#526929" title="SpecializeTypes.this.global.Modifiers" id="526930">mods</a>, <a href="#526929" title="SpecializeTypes.this.global.TermName" id="526931">name</a>, <a href="#526929" title="List[SpecializeTypes.this.global.TypeDef]" id="526932">tparams</a>, <a href="#526929" title="List[List[SpecializeTypes.this.global.ValDef]]" id="526933">vparamss</a>, <a href="#526929" title="SpecializeTypes.this.global.Tree" id="526934">tpt</a>, <a href="#526929" title="SpecializeTypes.this.global.Tree" id="526935">rhs</a><span class="delimiter">)</span> = <a href="#526928" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>
                <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#526928" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>, <a href="#526930" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526931" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526932" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526933" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526934" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526935" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.DefDef">SpecialOverride</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="526982">target</a><span class="delimiter">)</span> =&gt;
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525342" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#526982" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526982" title="SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <span class="comment">//if (settings.debug.value)</span>
                <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;moving implementation, body of target &quot;)" class="string">&quot;moving implementation, body of target &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526982" title="SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525342" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#526982" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is param accessor? %b&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#526484" title="SpecializeTypes.this.global.DefDef">ddef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>, <a href="#526484" title="SpecializeTypes.this.global.DefDef">ddef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="comment">// we have an rhs, specialize it</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="526983">tree1</a> = <a href="#525351" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span><a href="#526484" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#526982" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162608" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</a> <a href="../ast/Trees.scala.html#67837" title="SpecializeTypes.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#526982" title="SpecializeTypes.this.global.Symbol">target</a>, <a href="#526983" title="SpecializeTypes.this.global.DefDef">tree1</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#526983" title="SpecializeTypes.this.global.DefDef">tree1</a>.<span title="=&gt; SpecializeTypes.this.global.Tree">rhs</span><span class="delimiter">)</span>
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;changed owners, now: &quot;)" class="string">&quot;changed owners, now: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526983" title="SpecializeTypes.this.global.DefDef">tree1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> DefDef<a href="#526985" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#526984" title="SpecializeTypes.this.global.Modifiers" id="526985">mods</a>, <a href="#526984" title="SpecializeTypes.this.global.TermName" id="526986">name</a>, <a href="#526984" title="List[SpecializeTypes.this.global.TypeDef]" id="526987">tparams</a>, <a href="#526984" title="List[List[SpecializeTypes.this.global.ValDef]]" id="526988">vparamss</a>, <a href="#526984" title="SpecializeTypes.this.global.Tree" id="526989">tpt</a>, <a href="#526984" title="SpecializeTypes.this.global.Tree" id="526990">rhs</a><span class="delimiter">)</span> = <a href="#526983" title="SpecializeTypes.this.global.DefDef">tree1</a>
              <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#526983" title="SpecializeTypes.this.global.DefDef">tree1</a>, <a href="#526985" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526986" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526987" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526988" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526989" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526990" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>


            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">SpecialOverload</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527062">original</a>, <a title="SpecializeTypes.this.TypeEnv" id="527063">env</a><span class="delimiter">)</span> =&gt;
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;completing specialized &quot;)" class="string">&quot;completing specialized &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; calling &quot;)" class="string">&quot; calling &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527062" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;special overload &quot;)" class="string">&quot;special overload &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527062" title="SpecializeTypes.this.global.Symbol">original</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527063" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="527064">t</a> = <a href="../ast/Trees.scala.html#67791" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="527088">vparamss</a> =&gt; 
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Apply" id="527089">fun</a> = <a href="TypingTransformers.scala.html#110161" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">This</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#527062" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>,
                                <a href="#110978" title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]">makeArguments</a><span class="delimiter">(</span><a href="#527062" title="SpecializeTypes.this.global.Symbol">original</a>, <a href="#527088" title="List[List[SpecializeTypes.this.global.Symbol]]">vparamss</a>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">head</span><span class="delimiter">)</span><span class="delimiter">)</span>

                <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inside defdef: &quot;)" class="string">&quot;inside defdef: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;; type: &quot;)" class="string">&quot;; type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;; owner: &quot;)" class="string">&quot;; owner: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#64832" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105440" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="#527089" title="SpecializeTypes.this.global.Apply">fun</a>,
                  <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105331" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a>,
                  <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105361" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#527062" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105331" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created special overload tree &quot;)" class="string">&quot;created special overload tree &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527064" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created &quot;)" class="string">&quot;created &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527064" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#527064" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              
            <span class="keyword">case</span> <a title="SpecializeTypes.this.global.analyzer.global.Tree" id="527127">fwd</a> @ Forward<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;forward: &quot;)" class="string">&quot;forward: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527127" title="SpecializeTypes.this.Forward">fwd</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526484" title="SpecializeTypes.this.global.DefDef">ddef</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="527128">rhs1</a> = <a href="#110973" title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree">forwardCall</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="../Global.scala.html#64832" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105426" title="(pre: SpecializeTypes.this.global.gen.global.Type, sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, <a href="#527127" title="SpecializeTypes.this.Forward">fwd</a>.<a href="#518137" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="#526496" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
              <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;completed forwarder to specialized overload: &quot;)" class="string">&quot;completed forwarder to specialized overload: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527127" title="SpecializeTypes.this.Forward">fwd</a>.<a href="#518137" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527128" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526493" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526494" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526495" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526496" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526497" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#527128" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
              
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">SpecializedAccessor</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527138">target</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.gen.global.Tree" id="527139">rhs1</a> = <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#64832" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105427" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#527138" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="keyword">else</span> 
                <a href="TypingTransformers.scala.html#110161" title="(lhs: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105427" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#527138" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67802" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#526496" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[SpecializeTypes.this.global.ValDef]">head</span>.<span title="=&gt; SpecializeTypes.this.global.ValDef">head</span>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specialized accessor: &quot;)" class="string">&quot;specialized accessor: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527138" title="SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527139" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526493" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526494" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526495" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526496" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526497" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#527139" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="527176">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="527177">name</a>, <a title="SpecializeTypes.this.global.Tree" id="527178">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="527179">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; Boolean">isParamAccessor</span> =&gt;
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525342" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>, <a href="#525342" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ValDef" id="527180">tree1</a> = <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162408" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#527176" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#527177" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#527178" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525342" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Tree">duplicate</span><span class="delimiter">)</span>
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;now typing: &quot;)" class="string">&quot;now typing: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527180" title="SpecializeTypes.this.global.ValDef">tree1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="527181">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#110968" title="SpecializeTypes.this.Duplicator">Duplicator</a>
          <span class="keyword">val</span> ValDef<a href="#527183" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#527182" title="SpecializeTypes.this.global.Modifiers" id="527183">mods1</a>, <a href="#527182" title="SpecializeTypes.this.global.TermName" id="527184">name1</a>, <a href="#527182" title="SpecializeTypes.this.global.Tree" id="527185">tpt1</a>, <a href="#527182" title="SpecializeTypes.this.global.Tree" id="527186">rhs1</a><span class="delimiter">)</span> = <a href="#527181" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#497267" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span title="d.global.Tree @unchecked" class="delimiter">(</span>
            <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105832" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#105513" title="d.Context">Context</a><span class="delimiter">]</span>,
            <a href="#527180" title="SpecializeTypes.this.global.ValDef">tree1</a>,
            <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
            <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
            <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ValDef" id="527187">t</a> = <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162408" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#527180" title="SpecializeTypes.this.global.ValDef">tree1</a>, <a href="#527183" title="SpecializeTypes.this.global.Modifiers">mods1</a>, <a href="#527184" title="SpecializeTypes.this.global.TermName">name1</a>, <a href="#527185" title="SpecializeTypes.this.global.Tree">tpt1</a>, <a href="#525348" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#527186" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;valdef &quot;)" class="string">&quot;valdef &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527187" title="SpecializeTypes.this.global.ValDef">t</a><span class="delimiter">)</span>
          <a href="#527187" title="SpecializeTypes.this.global.ValDef">t</a>
        
<span class="comment">//          val tree1 =</span>
<span class="comment">//            treeCopy.ValDef(tree, mods, name, tpt,</span>
<span class="comment">//              localTyper.typed(</span>
<span class="comment">//                Apply(Select(Super(currentClass, nme.EMPTY), symbol.alias.getter(symbol.alias.owner)),</span>
<span class="comment">//                      List())))</span>
<span class="comment">//          debuglog(&quot;replaced ValDef: &quot; + tree1 + &quot; in &quot; + tree.symbol.owner.fullName)</span>
<span class="comment">//          tree1</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Select" id="527355">sel</a> @ Select<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Super" id="527360">sup</a> @ Super<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="527365">qual</a>, <a title="SpecializeTypes.this.global.TypeName" id="527366">name</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Name" id="527367">name1</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="527368">args</a><span class="delimiter">)</span>
          <span class="keyword">if</span> <span class="delimiter">(</span><a href="#527360" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102821" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#527360" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <span class="keyword">def</span> <a title="=&gt; List[SpecializeTypes.this.global.Type]" id="527382">parents</a> = <a href="#527360" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#525374" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; parents changed from: &quot;)" class="string">&quot; parents changed from: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102821" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#527382" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527382" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.analyzer.global.Tree" id="527383">res</a> = <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
            <a href="TypingTransformers.scala.html#110161" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(qual: SpecializeTypes.this.global.Tree, mix: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.Super">Super</a><span class="delimiter">(</span><a href="#527365" title="SpecializeTypes.this.global.Tree">qual</a>, <a href="#527366" title="SpecializeTypes.this.global.TypeName">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Super">setPos</span> <a href="#527360" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#527367" title="SpecializeTypes.this.global.Name">name1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Select">setPos</span> <a href="#527355" title="SpecializeTypes.this.global.Select">sel</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="../ast/Trees.scala.html#162513" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#527368" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Apply">setPos</span> <a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;retyping call to super, from: &quot;)" class="string">&quot;retyping call to super, from: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525601" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527383" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>.<span title="=&gt; SpecializeTypes.this.global.analyzer.global.Symbol">symbol</span><span class="delimiter">)</span>
          <a href="#527383" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">_</span> =&gt;
          <a href="#525340" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501495" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[SpecializeTypes.this.global.TypeDef])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" id="525349">reskolemize</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.TypeDef]" id="527449">tparams</a>: <span title="List[SpecializeTypes.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="527450">tparams1</a> = <a href="#527449" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a> <span title="(f: SpecializeTypes.this.global.TypeDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TypeDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#527467" title="SpecializeTypes.this.global.TypeDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105828" title="=&gt; SpecializeTypes.this.global.analyzer.Namer">namer</a>.<a href="../typechecker/Namers.scala.html#527530" title="(tparams: List[SpecializeTypes.this.global.analyzer.global.TypeDef])Unit">skolemize</a><span class="delimiter">(</span><a href="#527449" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <span title="(_1: List[SpecializeTypes.this.global.Symbol], _2: List[SpecializeTypes.this.global.Symbol])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</span><a href="#527450" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>, <a href="#527449" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a> <span title="(f: SpecializeTypes.this.global.TypeDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TypeDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#527585" title="SpecializeTypes.this.global.TypeDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>


    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="525350">duplicateBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="526636">tree</a>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span>, <a title="SpecializeTypes.this.global.Symbol" id="526637">source</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="526638">symbol</a> = <a href="#526636" title="SpecializeTypes.this.global.DefDef">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="526639">meth</a>   = <a href="#525351" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span><a href="#526636" title="SpecializeTypes.this.global.DefDef">tree</a>, <a href="#526637" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>
      <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;now typing: &quot;)" class="string">&quot;now typing: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526639" title="SpecializeTypes.this.global.DefDef">meth</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526638" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="526640">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#110968" title="SpecializeTypes.this.Duplicator">Duplicator</a>
      <a href="#526640" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#497267" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span class="delimiter">(</span>
        <a href="TypingTransformers.scala.html#501480" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105832" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#105513" title="d.Context">Context</a><span class="delimiter">]</span>,
        <a href="#526639" title="SpecializeTypes.this.global.DefDef">meth</a>,
        <a href="#526637" title="SpecializeTypes.this.global.Symbol">source</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
        <a href="#526638" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
        <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#526637" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#526638" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Put the body of 'source' as the right hand side of the method 'tree'.
     *  The destination method gets fresh symbols for type and value parameters,
     *  and the body is updated to the new symbols, and owners adjusted accordingly.
     *  However, if the same source tree is used in more than one place, full re-typing
     *  is necessary. @see method duplicateBody
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef" id="525351">addBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="526641">tree</a>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span>, <a title="SpecializeTypes.this.global.Symbol" id="526642">source</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="527615">symbol</a> = <a href="#526641" title="SpecializeTypes.this.global.DefDef">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
      <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specializing body of&quot;)" class="string">&quot;specializing body of&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527615" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527615" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="keyword">val</span> DefDef<a href="#527617" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#527616" title="SpecializeTypes.this.global.Modifiers" id="527617">mods</a>, <a href="#527616" title="SpecializeTypes.this.global.TermName" id="527618">name</a>, <a href="#527616" title="List[SpecializeTypes.this.global.TypeDef]" id="527619">tparams</a>, <a href="#527616" title="List[List[SpecializeTypes.this.global.ValDef]]" id="527620">vparamss</a>, <a href="#527616" title="SpecializeTypes.this.global.Tree" id="527621">tpt</a>, _<span class="delimiter">)</span> = <a href="#526641" title="SpecializeTypes.this.global.DefDef">tree</a>
<span class="comment">//      val (_, origtparams) = splitParams(source.typeParams)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="527622">env</a> = <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#527615" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="527623">boundTvars</a> = <a href="#527622" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="527624">origtparams</a> = <a href="#526642" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527681">tparam</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#527623" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">boundTvars</a><span class="delimiter">(</span><a href="#527681" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106522" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#527622" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#527681" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#110881" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;substituting &quot;)" class="string">&quot;substituting &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527624" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527615" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>

      <span class="comment">// skolemize type parameters</span>
      <span class="keyword">val</span> <a href="#527626" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</a><a href="#527625" title="List[SpecializeTypes.this.global.Symbol]" id="527626">oldtparams</a>, <a href="#527625" title="List[SpecializeTypes.this.global.Symbol]" id="527627">newtparams</a><span class="delimiter">)</span> = <a href="#525349" title="(tparams: List[SpecializeTypes.this.global.TypeDef])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">reskolemize</a><span title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#527619" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>

      <span class="comment">// create fresh symbols for value parameters to hold the skolem types</span>
      <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="527628">vparamss1</a> = <span title="(xs: List[SpecializeTypes.this.global.ValDef]*)List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="527804">vdef</a> &lt;- <a href="#527620" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>.<span title="(f: SpecializeTypes.this.global.ValDef =&gt; (SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol)]">head</span>; <a title="SpecializeTypes.this.global.Symbol" id="527805">param</a> = <a href="#527804" title="SpecializeTypes.this.global.ValDef">vdef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="../ast/Trees.scala.html#67784" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#527805" title="SpecializeTypes.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#527615" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Symbol">setInfo</a><span class="delimiter">(</span><a href="#527805" title="SpecializeTypes.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105364" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#527626" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#527627" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      
      <span class="comment">// replace value and type parameters of the old method with the new ones</span>
      <span class="comment">// log(&quot;Adding body for &quot; + tree.symbol + &quot; - origtparams: &quot; + origtparams + &quot;; tparams: &quot; + tparams)</span>
      <span class="comment">// log(&quot;Type vars of: &quot; + source + &quot;: &quot; + source.typeParams)</span>
      <span class="comment">// log(&quot;Type env of: &quot; + tree.symbol + &quot;: &quot; + boundTvars)</span>
      <span class="comment">// log(&quot;newtparams: &quot; + newtparams)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.ImplementationAdapter" id="527629">symSubstituter</a> = <span title="SpecializeTypes.this.ImplementationAdapter" class="keyword">new</span> <a href="#110969" title="SpecializeTypes.this.ImplementationAdapter">ImplementationAdapter</a><span class="delimiter">(</span>
        <a href="#525344" title="(key: SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">parameters</a><span class="delimiter">(</span><a href="#526642" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.Symbol] =&gt; scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">flatten</span> <a href="#527854" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#527624" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a>,
        <a href="#527628" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss1</a>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.ValDef] =&gt; scala.collection.TraversableOnce[SpecializeTypes.this.global.ValDef])List[SpecializeTypes.this.global.ValDef]">flatten</span>.<span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]" class="delimiter">(</span><a href="#527971" title="SpecializeTypes.this.global.ValDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="#527923" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#527627" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a>,
        <a href="#526642" title="SpecializeTypes.this.global.Symbol">source</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
        <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="comment">// don't make private fields public</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="527630">tmp</a> = <a href="../ast/Trees.scala.html#167590" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">symSubstituter</a><span class="delimiter">(</span><a href="#525342" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#526642" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Tree">duplicate</span><span class="delimiter">)</span>
      <a href="#527621" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="(t: SpecializeTypes.this.global.Type)Unit">tpe</span> = <a href="#527621" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105364" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#527626" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#527627" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#162504" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#526641" title="SpecializeTypes.this.global.DefDef">tree</a>, <a href="#527617" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#527618" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#527619" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#527628" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss1</a>, <a href="#527621" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#527630" title="SpecializeTypes.this.global.Tree">tmp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Create trees for specialized members of 'cls', based on the
     *  symbols that are already there.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]" id="525352">makeSpecializedMembers</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="526259">cls</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">// add special overrides first</span>
<span class="comment">//      if (!cls.hasFlag(SPECIALIZED))</span>
<span class="comment">//        for (m &lt;- specialOverrides(cls)) cls.info.decls.enter(m)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="528027">mbrs</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="Boolean" id="528028">hasSpecializedFields</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="528059">m</a> &lt;- <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">toList</a> 
             <span class="keyword">if</span> <a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
                 <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107502" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
                 <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#110967" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>, <span title="=&gt; Boolean">!</span><a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;creating tree for &quot;)" class="string">&quot;creating tree for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span>  <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#518040" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; Boolean">hasAccessorFlag</span><span class="delimiter">)</span> <a href="#528028" title="Boolean">hasSpecializedFields</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="mbrs.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107332" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="528077">origParamss</a> = <a href="#525344" title="(key: SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">parameters</a><span class="delimiter">(</span><a href="#110918" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#518040" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TermSymbol]" id="528078">vparams</a> = 
              <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="528209">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="528210">sym</a><span class="delimiter">)</span> &lt;- <a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <a href="#528182" title="(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.TermSymbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)],SpecializeTypes.this.global.TermSymbol,List[SpecializeTypes.this.global.TermSymbol]])List[SpecializeTypes.this.global.TermSymbol]">zip</a> <a href="#528077" title="(n: Int)List[SpecializeTypes.this.global.Symbol]">origParamss</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">yield</span> <a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#528210" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#110927" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#528210" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#110957" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                       .<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#528209" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
                       .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><a href="#528210" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a><span class="delimiter">)</span>

            <span class="comment">// param accessors for private members (the others are inherited from the generic class)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107378" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.TermSymbol" id="528362">param</a> &lt;- <a href="#528078" title="(f: SpecializeTypes.this.global.TermSymbol =&gt; (SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TermSymbol],(SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol)]">vparams</a> <span class="keyword">if</span> <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105355" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#528362" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../symtab/Symbols.scala.html#152392" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>;
                   <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="528363">acc</a> = <a href="#528362" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span>PARAMACCESSOR <span title="Long(536870916L)">|</span> PRIVATE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#528363" title="SpecializeTypes.this.global.Symbol">acc</a><span class="delimiter">)</span>
                <a href="#528027" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67783" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#528363" title="SpecializeTypes.this.global.Symbol">acc</a>, <a href="TypingTransformers.scala.html#110161" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67395" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ValDef">setPos</span><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            
            <span class="comment">// ctor</span>
            <a href="#528027" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67787" title="(sym: SpecializeTypes.this.global.Symbol, mods: SpecializeTypes.this.global.Modifiers, vparamss: List[List[SpecializeTypes.this.global.ValDef]], rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="TypingTransformers.scala.html#110161" title="(flags: Long)SpecializeTypes.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a><span class="delimiter">)</span>, <span title="(xs: List[SpecializeTypes.this.global.TermSymbol]*)List[List[SpecializeTypes.this.global.TermSymbol]]">List</span><span class="delimiter">(</span><a href="#528078" title="List[SpecializeTypes.this.global.TermSymbol]">vparams</a><span class="delimiter">)</span> <span title="(f: List[SpecializeTypes.this.global.TermSymbol] =&gt; List[SpecializeTypes.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.TermSymbol]],List[SpecializeTypes.this.global.ValDef],List[List[SpecializeTypes.this.global.ValDef]]])List[List[SpecializeTypes.this.global.ValDef]]">map</span> <span class="delimiter">(</span><a href="#528473" title="List[SpecializeTypes.this.global.TermSymbol]">_</a> <span title="(f: SpecializeTypes.this.global.TermSymbol =&gt; SpecializeTypes.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TermSymbol],SpecializeTypes.this.global.ValDef,List[SpecializeTypes.this.global.ValDef]])List[SpecializeTypes.this.global.ValDef]">map</span> <a href="../ast/Trees.scala.html#67784" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#110161" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#528027" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67791" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="528584">paramss</a> =&gt; <a href="TypingTransformers.scala.html#110161" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#528027" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67783" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="TypingTransformers.scala.html#110161" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67395" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ValDef">setPos</span><span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#528059" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
<span class="comment">//           mbrs  +=</span>
<span class="comment">//              ClassDef(m, Template(m.info.parents map TypeTree, emptyValDef, List())</span>
<span class="comment">//                         .setSymbol(m.newLocalDummy(m.pos)))</span>
<span class="comment">//            log(&quot;created synthetic class: &quot; + m.fullName)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#528028" title="Boolean">hasSpecializedFields</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="528616">isSpecializedInstance</a> = <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#528626" title="SpecializeTypes.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="528617">sym</a> = <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107285" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115292" title="=&gt; SpecializeTypes.this.global.nme.NameType">SPECIALIZED_INSTANCE</a>, <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
                     .<a href="../symtab/Symbols.scala.html#107425" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148698" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../symtab/Definitions.scala.html#106593" title="=&gt; SpecializeTypes.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#526259" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#528617" title="SpecializeTypes.this.global.MethodSymbol">sym</a><span class="delimiter">)</span>
        <a href="#528027" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#528617" title="SpecializeTypes.this.global.MethodSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#67790" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#528617" title="SpecializeTypes.this.global.MethodSymbol">sym</a>, <a href="TypingTransformers.scala.html#110161" title="(value: Any)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#528616" title="Boolean">isSpecializedInstance</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Literal">setType</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106593" title="=&gt; SpecializeTypes.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.DefDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67395" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#528027" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a>.<span title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Create specialized class definitions */</span>
    <span class="keyword">def</span> <a title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]" id="525353">implSpecClasses</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Tree]" id="525380">trees</a>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="528700">buf</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="528720">tree</a> &lt;- <a href="#525380" title="(f: SpecializeTypes.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span>
        <a href="#528720" title="SpecializeTypes.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, <a title="SpecializeTypes.this.global.Template" id="528735">impl</a><span class="delimiter">)</span> =&gt;
            <a href="#528720" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span class="comment">// force specialization</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="528782">sym1</a>, <a title="SpecializeTypes.this.TypeEnv" id="528783">env</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Symbol" id="528784">specCls</a><span class="delimiter">)</span> &lt;- <a href="#110885" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit">specializedClass</a> <span class="keyword">if</span> <a href="#528782" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#528720" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="528785">parents</a> = <a href="#528784" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]])List[SpecializeTypes.this.global.TypeTree]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]]" class="delimiter">(</span><a href="../ast/Trees.scala.html#67807" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">)</span>
              <a href="#528700" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a> <span title="(x: SpecializeTypes.this.global.Tree)buf.type">+=</span>
                <a href="../ast/Trees.scala.html#67780" title="(sym: SpecializeTypes.this.global.Symbol, impl: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#528784" title="SpecializeTypes.this.global.Symbol">specCls</a>, <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#528735" title="SpecializeTypes.this.global.Template">impl</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</a><span class="delimiter">(</span><a href="#528785" title="List[SpecializeTypes.this.global.TypeTree]">parents</a>, <a href="../ast/Trees.scala.html#67785" title="object SpecializeTypes.this.global.emptyValDef">emptyValDef</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                           .<span title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Template">setSymbol</span><span class="delimiter">(</span><a href="#528784" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../symtab/Symbols.scala.html#107283" title="(pos: SpecializeTypes.this.global.Position)SpecializeTypes.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#528782" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ClassDef">setPos</span> <a href="#528720" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
              <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created synthetic class: &quot;)" class="string">&quot;created synthetic class: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528784" title="SpecializeTypes.this.global.Symbol">specCls</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528782" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in env: &quot;)" class="string">&quot; in env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528783" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#528700" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a>.<span title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree" id="110973">forwardCall</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="527129">pos</a>: util.<a href="../util/Position.scala.html#30599" title="scala.tools.nsc.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="527130">receiver</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="527131">paramss</a>: <span title="List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.Ident]]" id="528977">argss</a> = <a href="#527131" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a> <span title="(f: List[SpecializeTypes.this.global.ValDef] =&gt; List[SpecializeTypes.this.global.Ident])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.ValDef]],List[SpecializeTypes.this.global.Ident],List[List[SpecializeTypes.this.global.Ident]]])List[List[SpecializeTypes.this.global.Ident]]">map</span> <span class="delimiter">(</span><a href="#528994" title="List[SpecializeTypes.this.global.ValDef]">_</a> <span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Ident,List[SpecializeTypes.this.global.Ident]])List[SpecializeTypes.this.global.Ident]">map</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="529011">x</a> =&gt; <a href="../ast/Trees.scala.html#67802" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#529011" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#527129" title="scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#527130" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="#529081" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.Ident]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#528977" title="List[List[SpecializeTypes.this.global.Ident]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="object SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Forward to the generic class constructor. If the current class initializes 
   *  specialized fields corresponding to parameters, it passes null to the superclass
   *  constructor. This saves the boxing cost for initializing generic fields that are 
   *  never used.
   *  
   *  For example: 
   *  {{{
   *    case class Tuple2[T, U](x: T, y: U)
   *    
   *    class Tuple2$II {
   *      val _x$I: Int = ..
   *      def x = _x$I
   *      // same for y
   *      def this(x: Int, y: Int) {
   *        super.this(null.asInstanceOf[Int], null.asInstanceOf[Int])
   *      }
   *    }
   *  }} 
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree" id="110974">forwardCtorCall</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="526569">pos</a>: util.<a href="../util/Position.scala.html#30599" title="scala.tools.nsc.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="526570">receiver</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="526571">paramss</a>: <span title="List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="526572">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    
    <span class="comment">/** A constructor parameter `f' initializes a specialized field
     *  iff:
     *    - it is specialized itself
     *    - there is a getter for the original (non-specialized) field in the same class
     *    - there is a getter for the specialized field in the same class 
     */</span>
    <span class="keyword">def</span> <a title="(f: SpecializeTypes.this.global.Symbol)Boolean" id="529095">initializesSpecializedField</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="529097">f</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
      <span class="delimiter">(</span><a href="#529097" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96608" title="(name: String)Boolean">endsWith</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span>
          <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#526572" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115614" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">(</span><a href="#529097" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isPublic</span>
          <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#526572" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#529097" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107452" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#529111" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          
    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.gen.global.Tree]]" id="529096">argss</a> = <a href="#526571" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a> <span title="(f: List[SpecializeTypes.this.global.ValDef] =&gt; List[SpecializeTypes.this.global.gen.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.ValDef]],List[SpecializeTypes.this.global.gen.global.Tree],List[List[SpecializeTypes.this.global.gen.global.Tree]]])List[List[SpecializeTypes.this.global.gen.global.Tree]]">map</span> <span class="delimiter">(</span><a href="#529133" title="List[SpecializeTypes.this.global.ValDef]">_</a> <span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.gen.global.Tree,List[SpecializeTypes.this.global.gen.global.Tree]])List[SpecializeTypes.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="529150">x</a> =&gt;
      <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#529095" title="(f: SpecializeTypes.this.global.Symbol)Boolean">initializesSpecializedField</a><span class="delimiter">(</span><a href="#529150" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#64832" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105439" title="(value: SpecializeTypes.this.global.gen.global.Tree, tpe: SpecializeTypes.this.global.gen.global.Type, any: Boolean)SpecializeTypes.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#529150" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="../ast/Trees.scala.html#67802" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#529150" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="../ast/Trees.scala.html#67840" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#526569" title="scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#526570" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="#529244" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.gen.global.Tree]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#529096" title="List[List[SpecializeTypes.this.global.gen.global.Tree]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#110161" title="object SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Concrete methods that use a specialized type, or override such methods. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]" id="110975">concreteSpecMethods</a>: mutable.<span title="scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]">HashSet</span>
  
  <span class="comment">/** Add method m to the set of symbols for which we need an implementation tree
   *  in the tree transformer.
   *  
   *  @note This field is part of the specializeTypes subcomponent, so any symbols 
   *        that here are not garbage collected at the end of a compiler run!
   */</span>
  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Unit" id="110977">addConcreteSpecMethod</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521327">m</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72361" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#521327" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#110975" title="=&gt; scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <span title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">+=</span> <a href="#521327" title="SpecializeTypes.this.global.Symbol">m</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]" id="110978">makeArguments</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527116">fun</a>: <a href="../symtab/Symbols.scala.html#67320" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="527117">vparams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">(</span>
    <span class="comment">//! TODO: make sure the param types are seen from the right prefix</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="529357">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="529358">arg</a><span class="delimiter">)</span> &lt;- <a href="#527116" title="SpecializeTypes.this.global.Symbol">fun</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105335" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <a href="#529330" title="(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)],SpecializeTypes.this.global.gen.global.Tree,List[SpecializeTypes.this.global.Tree]])List[SpecializeTypes.this.global.Tree]">zip</a> <a href="#527117" title="List[SpecializeTypes.this.global.Symbol]">vparams</a><span class="delimiter">)</span> <span class="keyword">yield</span>
      <a href="../Global.scala.html#64832" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105440" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67802" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#529358" title="SpecializeTypes.this.global.Symbol">arg</a><span class="delimiter">)</span>, <a href="#529357" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#529358" title="SpecializeTypes.this.global.Symbol">arg</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="110979">findSpec</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="525693">tp</a>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#525693" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="529400">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="529401">sym</a>, _ :: _<span class="delimiter">)</span> =&gt; <a href="#110924" title="(v1: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><span class="delimiter">(</span><a href="#525693" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span>                         =&gt; <a href="#525693" title="SpecializeTypes.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class SpecializationTransformer extends SpecializeTypes.this.global.Transformer with ScalaObject" id="110980">SpecializationTransformer</a><a href="#110980" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.CompilationUnit" id="518038">unit</a>: <a href="../CompilationUnits.scala.html#67942" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#67825" title="SpecializeTypes.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <a href="../Global.scala.html#64866" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specializing &quot;)" class="string">&quot;specializing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518038" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="518037">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="529409">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span> =
      <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36668" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#529409" title="SpecializeTypes.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#110972" title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser with ScalaObject; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}">specializeCalls</a><span class="delimiter">(</span><a href="#518038" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>.<a href="TypingTransformers.scala.html#501495" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#529409" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="110981">printSpecStats</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    concreteSpecMembers: %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#110975" title="=&gt; scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    overloads:           %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#110888" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">overloads</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    typeEnv:             %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#110957" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">typeEnv</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    info:                %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#110918" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>      
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>