<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/SpecializeTypes.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Iulian Dragos
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> scala.tools.nsc.symtab.Flags
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>

<span class="comment">/** Specialize code on types.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializeTypes extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.transform.TypingTransformers with ScalaObject" id="26823">SpecializeTypes</a> <a href="#26823" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#27201" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> <a href="TypingTransformers.scala.html#26991" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#110301" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
  <span class="comment">/** the name of the phase: */</span>
  <span class="keyword">val</span> <a title="String" id="111006">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;specialize&quot;)" class="string">&quot;specialize&quot;</span>
  
  <span class="comment">/** This phase changes base classes. */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="111008">changesBaseClasses</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="111009">keepsTypeParams</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">type</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="111010">TypeEnv</a> = immutable.<span title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">Map</span><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.TypeEnv" id="111011">emptyEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)*)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="Ordering[SpecializeTypes.this.global.Type]" id="111012">typeOrdering</a>: <span title="Ordering[SpecializeTypes.this.global.Type]">Ordering</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</span><span title="(implicit ord: scala.math.Ordering[String])scala.math.Ordering[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span> <span title="(f: SpecializeTypes.this.global.Type =&gt; String)scala.math.Ordering[SpecializeTypes.this.global.Type]">on</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#517245" title="SpecializeTypes.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>

  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67699" title="object SpecializeTypes.this.global.definitions">definitions</a>.<span class="delimiter">{</span>
    RootClass, BooleanClass, UnitClass, ArrayClass,
    ScalaValueClasses, isValueClass, isScalaValueType,
    SpecializedClass, RepeatedParamClass, JavaRepeatedParamClass,
    AnyRefClass, ObjectClass, Predef_AnyRef,
    uncheckedVarianceClass
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="111015">isSpecialized</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517248">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>          = <a href="#517248" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107414" title="(cls: SpecializeTypes.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../symtab/Definitions.scala.html#106290" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="111016">hasSpecializedFlag</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517252">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>     = <a href="#517252" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(1099511627776L)">SPECIALIZED</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="111017">specializedTypes</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="517255">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#517255" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]" id="111018">specializedOn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517004">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#517004" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107415" title="(cls: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.AnnotationInfo]">getAnnotation</a> <a href="../symtab/Definitions.scala.html#106290" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a> <span title="List[SpecializeTypes.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[SpecializeTypes.this.global.Tree]">Some</span><span class="delimiter">(</span>AnnotationInfo<span class="delimiter">(</span>_, <a title="List[SpecializeTypes.this.global.Tree]" id="517012">args</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#517012" title="List[SpecializeTypes.this.global.Tree]">args</a>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>

  <span class="comment">// If we replace `isBoundedGeneric` with (tp &lt;:&lt; AnyRefClass.tpe),</span>
  <span class="comment">// then pos/spec-List.scala fails - why? Does this kind of check fail</span>
  <span class="comment">// for similar reasons? Does `sym.isAbstractType` make a difference?</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean" id="111019">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="517000">tp</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Symbol" id="517001">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#111018" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#517001" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.global.Tree =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#517036" title="SpecializeTypes.this.global.Tree">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106313" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_AnyRef</a><span class="delimiter">)</span>    <span class="comment">// specialized on AnyRef</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106661" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#517000" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111020" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#517000" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)Boolean" id="111020">isBoundedGeneric</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="517042">tp</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#517042" title="SpecializeTypes.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="517048">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#517048" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAbstractType</span> =&gt; <span class="delimiter">(</span><a href="#517042" title="SpecializeTypes.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#105515" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> 
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="517053">sym</a>, _<span class="delimiter">)</span>                       =&gt; <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106661" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#517053" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                                        =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(msg: =&gt; String)Unit" id="111021">debuglog</a><span class="delimiter">(</span><a title="=&gt; String" id="517262">msg</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#517262" title="=&gt; String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(body: =&gt; Unit)Unit" id="111022">ifDebug</a><span class="delimiter">(</span><a title="=&gt; Unit" id="517267">body</a>: =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#517267" title="=&gt; Unit">body</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">object</span> <a title="object SpecializeTypes.this.TypeEnv" id="111023">TypeEnv</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="comment">/** Return a new type environment binding specialized type parameters of sym to
     *  the given args. Expects the lists to have the same length.
     */</span>
    <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv" id="517095">fromSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517099">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="517100">args</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span class="delimiter">{</span>
      <a href="#111022" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#517099" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#517100" title="List[SpecializeTypes.this.global.Type]">args</a>.<span title="=&gt; Int">length</span>, <a href="#517099" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; args: &quot;)" class="string">&quot; args: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#517100" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      
      <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <span class="delimiter">(</span><a href="#517099" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#517100" title="List[SpecializeTypes.this.global.Type]">args</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">filter</span> <span class="delimiter">(</span><a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="517406">kv</a> =&gt; <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#517406" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">kv</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">_1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Is typeenv `t1` included in `t2`? All type variables in `t1`
     *  are defined in `t2` and:
     *  - are bound to the same type, or
     *  - are an AnyRef specialization and `t2` is bound to a subtype of AnyRef
     */</span>
    <span class="keyword">def</span> <a title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean" id="517096">includes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="517437">t1</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.TypeEnv" id="517438">t2</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <a href="#517437" title="SpecializeTypes.this.TypeEnv">t1</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#517446" title="Boolean" class="delimiter">{</a> 
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517449">sym</a>, <a title="SpecializeTypes.this.global.Type" id="517450">tpe</a><span class="delimiter">)</span> =&gt; 
        <a href="#517438" title="SpecializeTypes.this.TypeEnv">t2</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.Type]">get</span> <a href="#517449" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Type" id="517455">t2tp</a> =&gt;
          <span class="delimiter">(</span><a href="#517450" title="SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#517455" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106663" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#517450" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/Definitions.scala.html#106663" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#517455" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// u.t.b. (t2tp &lt;:&lt; AnyRefClass.tpe)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Reduce the given environment to contain mappings only for type variables in tps. */</span>
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv" id="517097">restrict</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="517461">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="517462">tps</a>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> =
      <a href="#517461" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">filterKeys</span> <a href="#517462" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(implicit ev: &lt;:&lt;[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">toMap</span>

    <span class="comment">/** Is the given environment a valid specialization for sym?
     *  It is valid if each binding is from a @specialized type parameter in sym (or its owner)
     *  to a type for which `sym' is specialized.
     */</span>
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="517098">isValid</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="517480">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="517481">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#517480" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#517488" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517491">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="517492">tpe</a><span class="delimiter">)</span> =&gt;
        <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#517491" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#111071" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#517491" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(elem: Any)Boolean">contains</span> <a href="#517492" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#517481" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#517491" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">(</span><a href="#517481" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106177" title="=&gt; SpecializeTypes.this.global.ModuleClassSymbol">RootClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#517481" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#517491" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** For a given class and concrete type arguments, give its specialized class */</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" id="111025">specializedClass</a>: mutable.<span title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">Map</span><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, TypeEnv<span class="delimiter">)</span>, Symbol<span class="delimiter">]</span> = <span title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">LinkedHashMap</span>

  <span class="comment">/** Returns the generic class that was specialized to 'cls', or
   *  'cls' itself if cls is not a specialized subclass.
   */</span>
  <span class="keyword">def</span> <a title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="111027">genericClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517502">cls</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#111016" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#517502" title="SpecializeTypes.this.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#517502" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>
    <span class="keyword">else</span> <a href="#517502" title="SpecializeTypes.this.global.Symbol">cls</a>

  <span class="comment">/** Map a method symbol to a list of its specialized overloads in the same class. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" id="111028">overloads</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Overload<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#517510" title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" id="517510">mutable</a>.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">HashMap</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Overload<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]" id="517985">default</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517986">key</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.Overload]">List</span><span class="delimiter">[</span>Overload<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>
  
  case <span class="keyword">class</span> <a title="class Overload extends java.lang.Object with ScalaObject with Product with Serializable" id="518040">Overload</a><a href="#518040" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521286">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521287">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="518014">toString</a> = <span title="java.lang.String(&quot;specialized overload &quot;)" class="string">&quot;specialized overload &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521286" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521287" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Just to mark uncheckable */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: scala.tools.nsc.Phase)SpecializeTypes.this.StdPhase" id="111033">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="114013">prev</a>: scala.tools.nsc.<a href="../Phase.scala.html#10619" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#95958" title="SpecializeTypes.this.StdPhase">StdPhase</a> = <span title="SpecializeTypes.this.SpecializationPhase" class="keyword">new</span> <a href="#111034" title="SpecializeTypes.this.SpecializationPhase">SpecializationPhase</a><span class="delimiter">(</span><a href="#114013" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span>
  <span class="keyword">class</span> <a title="class SpecializationPhase extends SpecializeTypes.this.Phase with ScalaObject" id="111034">SpecializationPhase</a><a href="#111034" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="518088">prev</a>: scala.tools.nsc.<a href="../Phase.scala.html#10619" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#26823" title="scala.tools.nsc.transform.SpecializeTypes" class="keyword">super</a>.<a href="InfoTransform.scala.html#110555" title="SpecializeTypes.this.Phase">Phase</a><span class="delimiter">(</span><a href="#518088" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="518087">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
    
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.global.Transformer" id="111035">newTransformer</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="518094">unit</a>: <a href="../CompilationUnits.scala.html#67953" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#67836" title="SpecializeTypes.this.global.Transformer">Transformer</a> =
    <span title="SpecializeTypes.this.SpecializationTransformer" class="keyword">new</span> <a href="#111120" title="SpecializeTypes.this.SpecializationTransformer">SpecializationTransformer</a><span class="delimiter">(</span><a href="#518094" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializedInfo extends java.lang.Object with ScalaObject" id="111036">SpecializedInfo</a> <a href="#111036" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="518103">target</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>

    <span class="comment">/** Are type bounds of @specialized type parameters of 'target' now in 'env'? */</span>
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="518104">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="518110">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** A degenerated method has @specialized type parameters that appear only in
     *  type bounds of other @specialized type parameters (and not in its result type).
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="518105">degenerate</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="518106">isAccessor</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Symbol is a special overloaded method of 'original', in the environment env. */</span>
  case <span class="keyword">class</span> <a title="class SpecialOverload extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518153">SpecialOverload</a><a href="#518153" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="523027">original</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="523028">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#111036" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="518126">target</a> = <a href="#523027" title="=&gt; SpecializeTypes.this.global.Symbol">original</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Symbol is a method that should be forwarded to 't' */</span>
  case <span class="keyword">class</span> <a title="class Forward extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518220">Forward</a><a href="#518220" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521160">t</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#111036" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="518200">target</a> = <a href="#521160" title="=&gt; SpecializeTypes.this.global.Symbol">t</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Symbol is a specialized accessor for the `target' field. */</span>
  case <span class="keyword">class</span> <a title="class SpecializedAccessor extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518276">SpecializedAccessor</a><a href="#518276" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521707">target</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#111036" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="518256">isAccessor</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Symbol is a specialized method whose body should be the target's method body. */</span>
  case <span class="keyword">class</span> <a title="class Implementation extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518328">Implementation</a><a href="#518328" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521164">target</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#111036" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  <span class="comment">/** Symbol is a specialized override paired with `target'. */</span>
  case <span class="keyword">class</span> <a title="class SpecialOverride extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518380">SpecialOverride</a><a href="#518380" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="523469">target</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#111036" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  <span class="comment">/** A specialized inner class that specializes original inner class `target` on a type parameter of the enclosing class, in the typeenv `env`. */</span>
  case <span class="keyword">class</span> <a title="class SpecializedInnerClass extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518442">SpecializedInnerClass</a><a href="#518442" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521835">target</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521836">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#111036" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  <span class="comment">/** Symbol is a normalized member obtained by specializing 'target'. */</span>
  case <span class="keyword">class</span> <a title="class NormalizedMember extends SpecializeTypes.this.SpecializedInfo with ScalaObject with Product with Serializable" id="518607">NormalizedMember</a><a href="#518607" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="522427">target</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#111036" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>

    <span class="comment">/** Type bounds of a @specialized type var are now in the environment. */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="518489">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="518568">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#522427" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="518578">tvar</a> =&gt; 
        <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#518578" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#518578" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#518568" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="#518594" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="518491">degenerate</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="518495">stvTypeParams</a> = <a href="#111075" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#522427" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#518522" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="518496">stvResult</a>     = <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#522427" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; SpecializeTypes.this.global.Type">resultType</a><span class="delimiter">)</span>
      
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;degenerate: &quot;)" class="string">&quot;degenerate: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522427" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; stv tparams: &quot;)" class="string">&quot; stv tparams: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518495" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; stv info: &quot;)" class="string">&quot; stv info: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518496" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>
      
      <span class="delimiter">(</span><a href="#518495" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <span title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">--</span> <a href="#518496" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Map a symbol to additional information on specialization. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" id="111058">info</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">Map</span><span class="delimiter">[</span>Symbol, SpecializedInfo<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">HashMap</span><span class="delimiter">[</span>Symbol, SpecializedInfo<span class="delimiter">]</span>
  
  <span class="comment">/** Has `clazz' any type parameters that need be specialized? */</span>
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="111060">hasSpecializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518640">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#518640" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  
  <span class="comment">/** Return specialized type parameters. */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="111061">specializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518652">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#518652" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  
  <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" id="111062">splitParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="518660">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#518660" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
  
  <span class="comment">/** Given an original class symbol and a list of types its type parameters are instantiated at
   *  returns a list of type parameters that should remain in the TypeRef when instantiating a
   *  specialized type.
   */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="111063">survivingArgs</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517109">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="517110">args</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518755">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="518756">tpe</a><span class="delimiter">)</span> &lt;- <a href="#517109" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span><a href="#518729" title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]" class="delimiter">(</a><a href="#517110" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#518755" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106663" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#518756" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#518756" title="SpecializeTypes.this.global.Type">tpe</a>
  
  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.TypeMap" id="111064">specializedType</a> = <a href="#516883" title="SpecializeTypes.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67514" title="anonymous class $anon extends SpecializeTypes.this.global.TypeMap" id="516883">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="516885">apply</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516886">tp</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#516886" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516892">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="516893">sym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="516894">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#516894" title="List[SpecializeTypes.this.global.Type]">args</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="516895">pre1</a> = <a href="#516885" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#516892" title="SpecializeTypes.this.global.Type">pre</a><span class="delimiter">)</span>
        <span class="comment">// when searching for a specialized class, take care to map all</span>
        <span class="comment">// type parameters that are subtypes of AnyRef to AnyRef</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="516896">args1</a> = <span class="delimiter">(</span><a href="#516894" title="List[SpecializeTypes.this.global.Type]">args</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)]">zip</span> <a href="#516893" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#516995" title="SpecializeTypes.this.global.Type" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="516998">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="516999">orig</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#111019" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#516998" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#516999" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="517056">tp</a>, _<span class="delimiter">)</span>                                            =&gt; <a href="#517056" title="SpecializeTypes.this.global.Type">tp</a>
        <span class="delimiter">}</span>
        <a href="#111025" title="=&gt; scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">specializedClass</a>.<span title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv))Option[SpecializeTypes.this.global.Symbol]">get</span><span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#516893" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#111023" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517095" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv">fromSpecialization</a><span class="delimiter">(</span><a href="#516893" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#516896" title="List[SpecializeTypes.this.global.Type]">args1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517105">sym1</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#67483" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#516895" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#517105" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#111063" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">survivingArgs</a><span class="delimiter">(</span><a href="#516893" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#516894" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">None</span>       =&gt; <a href="../symtab/Types.scala.html#67483" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#516895" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#516893" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#516894" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt; <a href="#516886" title="SpecializeTypes.this.global.Type">tp</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Return the specialized overload of sym in the given env, if any. */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]" id="111066">overload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518784">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="518785">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = 
    <a href="#111028" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#518784" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</span><span class="delimiter">(</span><a title="SpecializeTypes.this.Overload" id="518815">ov</a> =&gt; <a href="#111023" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517096" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="#518815" title="SpecializeTypes.this.Overload">ov</a>.<a href="#521287" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>, <a href="#518785" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** Return the specialized name of 'sym' in the given environment. It
   *  guarantees the same result regardless of the map order by sorting 
   *  type variables alphabetically.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName" id="111067">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="518816">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="518817">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <a href="../symtab/Names.scala.html#66926" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="518819">tvars</a> = <span class="delimiter">(</span>
      <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#518816" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <a href="#518817" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> 
      <span class="keyword">else</span> <a href="#111076" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#518816" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span><span class="delimiter">(</span><a href="#518817" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a href="#518821" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</a><a href="#518820" title="List[SpecializeTypes.this.global.Symbol]" id="518821">methparams</a>, <a href="#518820" title="List[SpecializeTypes.this.global.Symbol]" id="518822">others</a><span class="delimiter">)</span> = <a href="#518819" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tvars</a>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; java.lang.String)(implicit ord: scala.math.Ordering[java.lang.String])List[SpecializeTypes.this.global.Symbol]">sortBy</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518836" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</span> <span class="delimiter">(</span><a href="#518897" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span>
    <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specName(&quot;)" class="string">&quot;specName(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518816" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) env: &quot;)" class="string">&quot;) env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518817" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tvars: &quot;)" class="string">&quot; tvars: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518819" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tvars</a><span class="delimiter">)</span>
      
    <a href="#111068" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#518816" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a>, <a href="#518821" title="List[SpecializeTypes.this.global.Symbol]">methparams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#518817" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#518822" title="List[SpecializeTypes.this.global.Symbol]">others</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#518817" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Specialize name for the two list of types. The first one denotes
   *  specialization on method type parameters, the second on outer environment.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName" id="111068">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Name" id="518912">name</a>: <a href="../symtab/Names.scala.html#66925" title="SpecializeTypes.this.global.Name">Name</a>, <a title="List[SpecializeTypes.this.global.Type]" id="518913">types1</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="518914">types2</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../symtab/Names.scala.html#66926" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115420" title="=&gt; SpecializeTypes.this.global.nme.NameType">INITIALIZER</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#518912" title="SpecializeTypes.this.global.Name">name</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#518913" title="List[SpecializeTypes.this.global.Type]">types1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#518914" title="List[SpecializeTypes.this.global.Type]">types2</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#110301" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115749" title="(name: SpecializeTypes.this.global.Name)Boolean">isSetterName</a><span class="delimiter">(</span><a href="#518912" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115758" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#111068" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115760" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">setterToGetter</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#518913" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#518914" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115746" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#518912" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115757" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#111068" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115759" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#518913" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#518914" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#519019" title="(SpecializeTypes.this.global.Name, String, String)" class="delimiter">(</a><a href="#519018" title="SpecializeTypes.this.global.Name" id="519019">base</a>, <a href="#519018" title="String" id="519020">cs</a>, <a href="#519018" title="String" id="519021">ms</a><span class="delimiter">)</span> = <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115755" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><span title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</span><a href="#518912" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,Char]" id="519022">abbrevs</a> = <a href="../symtab/Definitions.scala.html#67699" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106694" title="=&gt; Map[SpecializeTypes.this.global.Symbol,Char]">abbrvTag</a> <span title="(d: Char)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,Char]">withDefaultValue</span> <a href="../symtab/Definitions.scala.html#67699" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106694" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106220" title="=&gt; SpecializeTypes.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
      <a href="../symtab/Names.scala.html#66914" title="(s: String)SpecializeTypes.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#519019" title="SpecializeTypes.this.global.Name">base</a>.<a href="../symtab/Names.scala.html#96604" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
                  <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;m&quot;)" class="string">&quot;m&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#519021" title="String">ms</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518913" title="List[SpecializeTypes.this.global.Type]">types1</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519085">t</a> =&gt; <a href="#519022" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrevs</a><span class="delimiter">(</span><a href="#519085" title="SpecializeTypes.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#519020" title="String">cs</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518914" title="List[SpecializeTypes.this.global.Type]">types2</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519147">t</a> =&gt; <a href="#519022" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrevs</a><span class="delimiter">(</span><a href="#519147" title="SpecializeTypes.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="111070">primitiveTypes</a> = <a href="../symtab/Definitions.scala.html#106739" title="=&gt; List[SpecializeTypes.this.global.Symbol]">ScalaValueClasses</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#517145" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  
  <span class="comment">/** Return the types `sym' should be specialized at. This may be some of the primitive types
   *  or AnyRef. AnyRef means that a new type parameter T will be generated later, known to be a
   *  subtype of AnyRef (T &lt;: AnyRef).
   *  These are in a meaningful order for stability purposes.
   */</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]" id="111071">concreteTypes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="517493">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">(</span>
    <span title="List[SpecializeTypes.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#517493" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>      <span class="comment">// no @specialized Annotation</span>
    <span class="keyword">else</span> <a href="#111018" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#517493" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="List[SpecializeTypes.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[SpecializeTypes.this.global.Type]">Nil</span>  =&gt; <a href="#111069" title="=&gt; List[SpecializeTypes.this.global.Type]">primitiveTypes</a>     <span class="comment">// specialized on everything</span>
      <span class="keyword">case</span> <a title="List[SpecializeTypes.this.global.Type]" id="519193">args</a> =&gt;                    <span class="comment">// specialized on args</span>
        <span class="delimiter">(</span><a href="#519193" title="List[SpecializeTypes.this.global.Tree]">args</a> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Tree" id="519210">tp</a> =&gt;
          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#519210" title="SpecializeTypes.this.global.Tree">tp</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106313" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_AnyRef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#111020" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#517493" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68007" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#517493" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#517493" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; is always a subtype of &quot;)" class="string">&quot; is always a subtype of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
            <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> 
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#519210" title="SpecializeTypes.this.global.Tree">tp</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107620" title="=&gt; SpecializeTypes.this.global.Symbol">companionClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="#111012" title="(implicit ord: scala.math.Ordering[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">sorted</a>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  <span class="comment">/** Return a list of all type environments for all specializations 
   *  of @specialized types in `tps'.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]" id="111072">specializations</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="519252">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.TypeEnv]">List</span><span class="delimiter">[</span>TypeEnv<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// the keys in each TypeEnv</span>
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="519254">keys</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#519252" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a>
    <span class="comment">// creating each permutation of concrete types</span>
    <span class="keyword">def</span> <a title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]" id="519255">loop</a><span class="delimiter">(</span><a title="List[List[SpecializeTypes.this.global.Type]]" id="519260">ctypes</a>: <span title="List[List[SpecializeTypes.this.global.Type]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[List[SpecializeTypes.this.global.Type]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#519260" title="List[List[SpecializeTypes.this.global.Type]]">ctypes</a> <span title="List[List[SpecializeTypes.this.global.Type]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>         =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <a title="List[List[SpecializeTypes.this.global.Type]]" id="519267">set</a> :: <span title="object Nil">Nil</span>  =&gt; <a href="#519267" title="List[SpecializeTypes.this.global.Type]">set</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">map</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519295">x</a> =&gt; <span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#519295" title="SpecializeTypes.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[List[SpecializeTypes.this.global.Type]]" id="519334">set</a> :: <a title="List[List[SpecializeTypes.this.global.Type]]" id="519335">sets</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519352">x</a> &lt;- <a href="#519334" title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.GenTraversableOnce[List[SpecializeTypes.this.global.Type]])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">set</a> ; <a title="List[SpecializeTypes.this.global.Type]" id="519374">xs</a> &lt;- <a href="#519255" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><span title="(f: List[SpecializeTypes.this.global.Type] =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#519335" title="List[List[SpecializeTypes.this.global.Type]]">sets</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#519352" title="SpecializeTypes.this.global.Type">x</a> <a href="#519375" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#519374" title="List[SpecializeTypes.this.global.Type]">xs</a>
    <span class="delimiter">}</span>
    <span class="comment">// zip the keys with each permutation to create a TypeEnv</span>
    <a href="#519255" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><span class="delimiter">(</span><a href="#519254" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">map</span> <a href="#111071" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">)</span> <span title="(f: List[SpecializeTypes.this.global.Type] =&gt; scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],List[SpecializeTypes.this.TypeEnv]])List[SpecializeTypes.this.TypeEnv]">map</span> <span class="delimiter">(</span><a href="#519254" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#519509" title="List[SpecializeTypes.this.global.Type]">_</a> <span title="(implicit ev: &lt;:&lt;[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">toMap</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Does the given tpe need to be specialized in the environment 'env'?
   *  Specialization is needed for
   *    - members with specialized type parameters found in the given environment
   *    - constructors of specialized classes
   *    - normalized members whose type bounds appear in the environment
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="111073">needsSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="519608">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="519609">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#111076" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519609" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span><span class="delimiter">(</span><a href="#519608" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span><span class="delimiter">)</span>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">diff</span><span class="delimiter">(</span><a href="#111082" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#519609" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">||</span>
     <span class="delimiter">(</span><a href="#519609" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107473" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#519609" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
     <span class="delimiter">(</span><a href="#111074" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#519609" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#519609" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="#518104" title="(env: SpecializeTypes.this.TypeEnv)Boolean">typeBoundsIn</a><span class="delimiter">(</span><a href="#519608" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Boolean" id="111074">isNormalizedMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="519654">m</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#111016" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#519654" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#111058" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span> <a href="#519654" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(p: SpecializeTypes.this.SpecializedInfo =&gt; Boolean)Boolean">exists</span> <a href="#519661" title="Boolean" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="Boolean(true)">NormalizedMember</span><span class="delimiter">(</span>_<span class="delimiter">)</span>  =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                    =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="111075">specializedTypeVars</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="496155">tpes</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" id="519685">buf</a> = <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Set[A]]">newBuilder</span><span title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span>
    <a href="#496155" title="List[SpecializeTypes.this.global.Type]">tpes</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]])Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519705">tp</a> =&gt; <a href="#519685" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a> <span title="(xs: scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])buf.type">++=</span> <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519705" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#519685" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a>.<span title="()scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">result</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="111076">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="496152">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#496152" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** Return the set of @specialized type variables mentioned by the given type.
   *  It only counts type variables that appear:
   *    - naked
   *    - as arguments to type constructors in @specialized positions
   *      (arrays are considered as Array[@specialized T])
   */</span>
  <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="111077">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="496149">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#496149" title="SpecializeTypes.this.global.Type">tpe</a> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519729">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="519730">sym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="519731">args</a><span class="delimiter">)</span> =&gt;
      <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isAliasType</span><span class="delimiter">)</span>
        <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#496149" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105483" title="=&gt; SpecializeTypes.this.global.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTypeParameter</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107483" title="=&gt; Boolean">isTypeSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107639" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106394" title="=&gt; SpecializeTypes.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
        <a href="#111075" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519731" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#111075" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519730" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</span> <a href="#519731" title="List[SpecializeTypes.this.global.Type]">args</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">collect</span> <a href="#519829" title="SpecializeTypes.this.global.Type" class="delimiter">{</a> <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="519832">tp</a>, <a title="SpecializeTypes.this.global.Type" id="519833">arg</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#519832" title="SpecializeTypes.this.global.Symbol">tp</a><span class="delimiter">)</span> =&gt; <a href="#519833" title="SpecializeTypes.this.global.Type">arg</a> <span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="519863">tparams</a>, <a title="SpecializeTypes.this.global.Type" id="519864">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#111075" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519864" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="#519871" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#519863" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#519888" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">// since this method may be run at phase typer (before uncurry, where NMTs are eliminated)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">NullaryMethodType</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="519922">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519922" title="SpecializeTypes.this.global.Type">resTpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">MethodType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="519931">argSyms</a>, <a title="SpecializeTypes.this.global.Type" id="519932">resTpe</a><span class="delimiter">)</span> =&gt; <a href="#111075" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519932" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="#519939" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#519931" title="List[SpecializeTypes.this.global.Symbol]">argSyms</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#519956" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">ExistentialType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="519989">res</a><span class="delimiter">)</span>     =&gt; <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519989" title="SpecializeTypes.this.global.Type">res</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">AnnotatedType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="519999">tp</a>, _<span class="delimiter">)</span>     =&gt; <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#519999" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">TypeBounds</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="520008">lo</a>, <a title="SpecializeTypes.this.global.Type" id="520009">hi</a><span class="delimiter">)</span>          =&gt; <a href="#111075" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#520008" title="SpecializeTypes.this.global.Type">lo</a>, <a href="#520009" title="SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">_</span>                           =&gt; <span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">// holds mappings from regular type parameter symbols to symbols of</span>
  <span class="comment">// specialized type parameters which are subtypes of AnyRef</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" id="111078">anyrefSpecCache</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</span><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol)*)scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Returns the type parameter in the specialized class `cls` that corresponds to type parameter
   *  `sym` in the original class. It will create it if needed or use the one from the cache.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type" id="111080">typeParamSubAnyRef</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520026">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="520027">cls</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="#111078" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">anyrefSpecCache</a>.<span title="(key: SpecializeTypes.this.global.Symbol, op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getOrElseUpdate</span><span class="delimiter">(</span><a href="#520026" title="SpecializeTypes.this.global.Symbol">sym</a>,
      <a href="#520027" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107442" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.TypeSymbol">newTypeParameter</a><span class="delimiter">(</span><a href="#520026" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="../symtab/Names.scala.html#66917" title="(s: String)SpecializeTypes.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#520026" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeSymbol">setInfo</a> <a href="../symtab/Types.scala.html#148501" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#520026" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
  <span class="delimiter">)</span>

  <span class="comment">/** Cleans the anyrefSpecCache of all type parameter symbols of a class.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit" id="111081">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520046">cls</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="520047">decls</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <span class="comment">// remove class type parameters and those of normalized members.</span>
    <a href="#520046" title="SpecializeTypes.this.global.Symbol">cls</a> <a href="#520050" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#520047" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">foreach</span> <span class="delimiter">{</span>
      <a href="#520077" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.anyrefSpecCache.type">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="520080">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="#111078" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">anyrefSpecCache</a> <span title="(xs: scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.anyrefSpecCache.type">--=</span> <a href="#520080" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>
        <span class="keyword">case</span> <span title="Unit">_</span>                    =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
  
  <span class="comment">// holds mappings from members to the type variables in the class that they were already specialized for,</span>
  <span class="comment">// so that they don't get specialized twice (this is for AnyRef specializations)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" id="111082">wasSpecializedForTypeVars</a> =
    mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</span><span title="(elems: (SpecializeTypes.this.global.Symbol, scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])*)scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, immutable.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">withDefaultValue</span> immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  
  <span class="comment">/** Type parameters that survive when specializing in the specified environment. */</span>
  <span class="keyword">def</span> <a title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="111084">survivingParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="520103">params</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="520104">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> =
    <a href="#520103" title="List[SpecializeTypes.this.global.Symbol]">params</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520110">p</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#520110" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106663" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#520104" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#520110" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  
  <span class="comment">/** Produces the symbols from type parameters `syms` of the original owner,
   *  in the given type environment `env`. The new owner is `nowner`.
   *  
   *  Non-specialized type parameters are cloned into new ones.
   *  Type parameters specialized on AnyRef have preexisting symbols.
   *  
   *  For instance, a @specialized(AnyRef) T, will become T$sp &lt;: AnyRef.
   */</span>
  <span class="keyword">def</span> <a title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="111085">produceTypeParameters</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="520126">syms</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="520127">nowner</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="520128">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520131">cloned</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520148">s</a> &lt;- <a href="#520126" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">syms</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#520128" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#520148" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#520148" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520127" title="SpecializeTypes.this.global.Symbol">nowner</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#520128" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#520148" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>
    <span class="comment">// log(&quot;producing type params: &quot; + cloned.map(t =&gt; (t, t.tpe.bounds.hi)))</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520284">orig</a>, <a title="SpecializeTypes.this.global.Symbol" id="520285">cln</a><span class="delimiter">)</span> &lt;- <a href="#520126" title="List[SpecializeTypes.this.global.Symbol]">syms</a> <a href="#520255" title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Any)Unit">zip</a> <a href="#520131" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#520285" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../symtab/Symbols.scala.html#107416" title="(cls: SpecializeTypes.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106290" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520128" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#520284" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#520285" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)cln.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148501" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#520285" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520316">sym</a> &lt;- <a href="#520131" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">cloned</a><span class="delimiter">)</span> <a href="#520316" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#520316" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105505" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#520126" title="List[SpecializeTypes.this.global.Symbol]">syms</a>, <a href="#520131" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#520131" title="List[SpecializeTypes.this.global.Symbol]">cloned</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the specialized symbol (class (specialization) or member (normalization)), leaves everything else as-is.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="111086">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520324">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="520325">origsym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="520326">specsym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <a href="#520324" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</span> <a href="#520344" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520347">sym</a>, <a title="SpecializeTypes.this.global.Type" id="520348">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#520348" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520347" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#520325" title="SpecializeTypes.this.global.Symbol">origsym</a> =&gt; <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#520347" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#111080" title="(sym: SpecializeTypes.this.global.Symbol, cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">typeParamSubAnyRef</a><span class="delimiter">(</span><a href="#520347" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#520326" title="SpecializeTypes.this.global.Symbol">specsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="520364">x</a> =&gt; <a href="#520364" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the original class, leaves everything else as-is.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="111087">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520399">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Symbol" id="520400">origcls</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <a href="#520399" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</span> <a href="#520418" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520421">sym</a>, <a title="SpecializeTypes.this.global.Type" id="520422">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#520422" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106218" title="=&gt; SpecializeTypes.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520421" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#520400" title="SpecializeTypes.this.global.Symbol">origcls</a> =&gt; <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#520421" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#520421" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="520438">x</a> =&gt; <a href="#520438" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Specialize 'clazz', in the environment `outerEnv`. The outer
   *  environment contains bindings for specialized types of enclosing
   *  classes.
   * 
   *  A class C is specialized w.r.t to its own specialized type params
   *  `stps`, by specializing its members, and creating a new class for
   *  each combination of `stps`.
   */</span>
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="111088">specializeClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520473">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="520474">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol" id="520476">specializedClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520479">env0</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="520480">normMembers</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ClassSymbol" id="520481">cls</a> = <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107449" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.ClassSymbol">newClass</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520479" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>.<a href="../symtab/Names.scala.html#96657" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
                              .<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.ClassSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span> <span title="(x: Long)Long">|</span> <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a><span class="delimiter">)</span>
                              .<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.ClassSymbol">resetFlag</a><span class="delimiter">(</span><span title="Long(2048L)">CASE</span><span class="delimiter">)</span>
      <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>.<a href="../symtab/Symbols.scala.html#113194" title="(f: scala.tools.nsc.io.AbstractFile)Unit">sourceFile</a> = <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
      <a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72367" title="(key: SpecializeTypes.this.global.Symbol, value: scala.tools.nsc.io.AbstractFile)Unit">symSource</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span> = <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span class="comment">// needed later on by mixin</span>
      
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="520482">env</a> = <a href="#111086" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#520479" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>
      
      <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span> = <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a>
      <a href="#26823" title="SpecializeTypes.this.type" class="keyword">this</a>.<a href="#111025" title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), value: SpecializeTypes.this.global.Symbol)Unit">specializedClass</a><span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520479" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>

      <span class="comment">// declarations of the newly specialized class 'cls'</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="520483">decls1</a> = <a href="../symtab/Scopes.scala.html#113079" title="()SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="SpecializeTypes.this.global.Scope">Scope</a>

      <span class="comment">// original unspecialized type parameters</span>
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520484">oldClassTParams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

      <span class="comment">// unspecialized type parameters of 'cls' (cloned)</span>
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520485">newClassTParams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
      
      <span class="comment">// has to be a val in order to be computed early. It is later called</span>
      <span class="comment">// within 'atPhase(next)', which would lead to an infinite cycle otherwise </span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="520486">specializedInfoType</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="comment">// val (_, unspecParams) = splitParams(clazz.info.typeParams)</span>
        <span class="comment">// oldClassTParams = unspecParams</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520566">survivedParams</a> = <a href="#111084" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <a href="#520484" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a> = <a href="#520566" title="List[SpecializeTypes.this.global.Symbol]">survivedParams</a>
        <a href="#520485" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> = <a href="#111085" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#520566" title="List[SpecializeTypes.this.global.Symbol]">survivedParams</a>, <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <a href="#111101" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#520604" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <span class="comment">// log(&quot;new tparams &quot; + newClassTParams.zip(newClassTParams map {s =&gt; (s.tpe, s.tpe.bounds.hi)}) + &quot;, in env: &quot; + env)</span>

        <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="520567">applyContext</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="520634">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#520634" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105504" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520566" title="List[SpecializeTypes.this.global.Symbol]">survivedParams</a>, <a href="#520485" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#520662" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">/** Return a list of specialized parents to be re-mixed in a specialized subclass.
         *  Assuming env = [T -&gt; Int] and
         *    class Integral[@specialized T] extends Numeric[T]
         *  and Numeric[U] is specialized on U, this produces List(Numeric$mcI).
         *
         *  so that class Integral$mci extends Integral[Int] with Numeric$mcI.
         */</span>
        <span class="keyword">def</span> <a title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="520568">specializedParents</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="520690">parents</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]" id="520691">res</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">ListBuffer</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="comment">// log(cls + &quot;: seeking specialized parents of class with parents: &quot; + parents.map(_.typeSymbol))</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="520711">p</a> &lt;- <a href="#520690" title="(f: SpecializeTypes.this.global.Type =&gt; Any)Unit">parents</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// log(p.typeSymbol)</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="520712">stp</a> = <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#111064" title="(v1: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><span class="delimiter">(</span><a href="#520711" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520712" title="SpecializeTypes.this.global.Type">stp</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#520711" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520711" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#520691" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">res</a> <span title="(x: SpecializeTypes.this.global.Type)res.type">+=</span> <a href="#520712" title="SpecializeTypes.this.global.Type">stp</a>
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72372" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68007" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#520711" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105454" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeSymbol</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; must be a trait. Specialized version of &quot;)" class="string">&quot; must be a trait. Specialized version of &quot;</span>
                  <span title="(x$1: Any)java.lang.String">+</span> <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; will inherit generic &quot;)" class="string">&quot; will inherit generic &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#520711" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>  <span class="comment">// TODO change to error</span>
          <span class="delimiter">}</span>
          <a href="#520691" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">res</a>.<span title="=&gt; scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Type]">reverse</span>.<span title="=&gt; List[SpecializeTypes.this.global.Type]">toList</span>
        <span class="delimiter">}</span>

        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Type]" id="520569">parents</a> = <span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#520567" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// log(&quot;!!! Parents: &quot; + parents + &quot;, sym: &quot; + parents.map(_.typeSymbol))</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#520569" title="List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
          <a href="#520569" title="List[SpecializeTypes.this.global.Type]">parents</a> = <a href="#520569" title="List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="=&gt; SpecializeTypes.this.global.Type">head</span> <a href="#520775" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#520569" title="List[SpecializeTypes.this.global.Type]">parents</a>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="520570">extraSpecializedMixins</a> = <a href="#520568" title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">specializedParents</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#520567" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;extraSpecializedMixins: &quot;)" class="string">&quot;extraSpecializedMixins: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#520570" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ClassInfoType" id="520571">infoType</a> = <a href="../symtab/Types.scala.html#148665" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#520569" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="#520836" title="(prefix: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">:::</a> <a href="#520570" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>, <a href="#520483" title="SpecializeTypes.this.global.Scope">decls1</a>, <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>
        <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#520485" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#520571" title="SpecializeTypes.this.global.ClassInfoType">infoType</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#148921" title="(typeParams: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#520485" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a>, <a href="#520571" title="SpecializeTypes.this.global.ClassInfoType">infoType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.ClassSymbol)SpecializeTypes.this.global.ClassSymbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)cls.type">setInfo</a><span class="delimiter">(</span><a href="#520486" title="SpecializeTypes.this.global.Type">specializedInfoType</a><span class="delimiter">)</span><span class="delimiter">)</span>      
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="520487">fullEnv</a> = <a href="#520474" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a>

      <span class="comment">/** Enter 'sym' in the scope of the current specialized class. It's type is
       *  mapped through the active environment, binding type variables to concrete
       *  types. The existing typeEnv for `sym' is composed with the current active
       *  environment
       */</span>
      <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="520488">enterMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520919">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#520919" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#520487" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#520919" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="comment">// append the full environment</span>
        <a href="#520919" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#520919" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105506" title="(from: SpecializeTypes.this.global.Symbol, to: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="../symtab/Types.scala.html#148254" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">ThisType</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105504" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520484" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#520485" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#521032" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span class="comment">// we remove any default parameters. At this point, they have been all </span>
        <span class="comment">// resolved by the type checker. Later on, erasure re-typechecks everything and</span>
        <span class="comment">// chokes if it finds default parameters for specialized members, even though</span>
        <span class="comment">// they are never needed.</span>
        <a href="#520919" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105474" title="=&gt; List[List[SpecializeTypes.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.Symbol] =&gt; scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">flatten</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#521119" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)x$24.type">resetFlag</a><span class="delimiter">(</span><span title="Long(33554432L)">DEFAULTPARAM</span><span class="delimiter">)</span><span class="delimiter">)</span> 

        <a href="#520483" title="SpecializeTypes.this.global.Scope">decls1</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#111101" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#520487" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520919" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Create and enter in scope an overridden symbol m1 for `m' that forwards
       *  to `om'. `om' is a fresh, special overload of m1 that is an implementation
       *  of `m'. For example, for a
       *
       *  class Foo[@specialized A] {
       *    def m(x: A) = &lt;body&gt; // m
       *  }
       *  , for class Foo$I extends Foo[Int], this method enters two new symbols in
       *  the scope of Foo$I:
       *
       *    def m(x: Int) = m$I(x) // m1
       *    def m$I(x: Int) = &lt;body&gt;/adapted to env {A -&gt; Int} // om
       */</span>
      <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="520489">forwardToOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521133">m</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521134">specMember</a> = <span class="delimiter">(</span>
          <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521133" title="SpecializeTypes.this.global.Symbol">m</a> <a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a> <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>
            <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a>   <span class="delimiter">(</span>OVERRIDE <span title="Long(1099511627778L)">|</span> SPECIALIZED<span class="delimiter">)</span>
            <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span>DEFERRED <span title="Long(16777232L)">|</span> CASEACCESSOR<span class="delimiter">)</span>
        <span class="delimiter">)</span> <span class="comment">// m1</span>
        
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521135">om</a> = <a href="#111091" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521133" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(2L)">OVERRIDE</span><span class="delimiter">)</span>      
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521136">original</a> = <a href="#111058" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span><span class="delimiter">(</span><a href="#521133" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">Some</span><span class="delimiter">(</span>NormalizedMember<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521157">tg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#521157" title="SpecializeTypes.this.global.Symbol">tg</a>
          <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">_</span>                          =&gt; <a href="#521133" title="SpecializeTypes.this.global.Symbol">m</a>
        <span class="delimiter">}</span>
        <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521134" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#518220" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521135" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
        <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521135" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>         = <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#521136" title="SpecializeTypes.this.global.Symbol">original</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <a href="#518220" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521136" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#518328" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#521136" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
        <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#521135" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>      = <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521133" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span class="comment">// add the environment for any method tparams</span>
        
        <a href="#111028" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#521134" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#518040" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#521135" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521135" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521135" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521389">m</a> &lt;- <a href="#520480" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">normMembers</a> ; <span class="keyword">if</span> <a href="#111073" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#520474" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111106" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#520487" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
          <a href="#111117" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="comment">// specialized members have to be overridable.</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span>
          <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)m.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
        
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521400">specCtor</a> = <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
          <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521400" title="SpecializeTypes.this.global.Symbol">specCtor</a><span class="delimiter">)</span> = <a href="#518220" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#111074" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// methods added by normalization</span>
          <span class="keyword">val</span> NormalizedMember<a href="#521425" title="SpecializeTypes.this.global.Symbol" id="521409" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="521425">original</a><span class="delimiter">)</span> = <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><a href="#111036" title="SpecializeTypes.this.SpecializedInfo @unchecked" class="delimiter">(</a><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#111105" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#518105" title="=&gt; Boolean">degenerate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;degenerate normalized member &quot;)" class="string">&quot;degenerate normalized member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; info(m): &quot;)" class="string">&quot; info(m): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521546">specMember</a> = <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>

              <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521546" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>    = <a href="#518328" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#521409" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#521546" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521631">om</a> = <a href="#520489" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
              <span title="java.lang.String(&quot;normalizedMember &quot;)" class="string">&quot;normalizedMember &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; om: &quot;)" class="string">&quot; om: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521631" title="SpecializeTypes.this.global.Symbol">om</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; typeEnv(om): &quot;)" class="string">&quot; typeEnv(om): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521631" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> 
            <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;conflicting env for &quot;)" class="string">&quot;conflicting env for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// abstract methods</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521647">specMember</a> = <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;deferred &quot;)" class="string">&quot;deferred &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521647" title="SpecializeTypes.this.global.Symbol">specMember</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is forwarded&quot;)" class="string">&quot; is forwarded&quot;</span><span class="delimiter">)</span>
            
          <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521647" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#521654" title="SpecializeTypes.this.Forward" class="keyword">new</a> <a href="#518220" title="anonymous class $anon extends SpecializeTypes.this.Forward" id="521654">Forward</a><span class="delimiter">(</span><a href="#521647" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="521658">target</a> = <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105495" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">hasAccessorFlag</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// other concrete methods</span>
          <span class="comment">// log(&quot;other concrete &quot; + m)</span>
          <a href="#520489" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// concrete value definition</span>
          <span class="keyword">def</span> <a title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol" id="521669">mkAccessor</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521672">field</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Name" id="521673">name</a>: <a href="../symtab/Names.scala.html#66925" title="SpecializeTypes.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="521674">sym</a> = <span class="delimiter">(</span>
              <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>.<a href="../symtab/Symbols.scala.html#107425" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#521672" title="SpecializeTypes.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="TypingTransformers.scala.html#110301" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">setFlag</a>   <span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span> <span title="(x: Long)Long">|</span> <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107635" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a><span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">resetFlag</a> <span class="delimiter">(</span>LOCAL | PARAMACCESSOR | CASEACCESSOR <span title="Long(2701656064L)">|</span> LAZY<span class="delimiter">)</span>
                <span class="comment">// we rely on the super class to initialize param accessors</span>
            <span class="delimiter">)</span>
            <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521674" title="SpecializeTypes.this.global.MethodSymbol">sym</a><span class="delimiter">)</span> = <a href="#518276" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#521672" title="SpecializeTypes.this.global.Symbol">field</a><span class="delimiter">)</span>
            <a href="#521674" title="SpecializeTypes.this.global.MethodSymbol">sym</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="521670">overrideIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521711">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521712">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521713">sym1</a> = <span class="delimiter">(</span>
              <a href="#521712" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a> <a href="#521711" title="SpecializeTypes.this.global.Symbol">clazz</a>
                <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a>   <span class="delimiter">(</span>OVERRIDE <span title="Long(1099511627778L)">|</span> SPECIALIZED<span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span>DEFERRED | CASEACCESSOR | PARAMACCESSOR <span title="Long(2701131792L)">|</span> LAZY<span class="delimiter">)</span>
            <span class="delimiter">)</span>
            <a href="#521713" title="SpecializeTypes.this.global.Symbol">sym1</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)sym1.type">setInfo</a> <a href="#521713" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105500" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#521711" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#521713" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521671">specVal</a> = <a href="#111091" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520482" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

          <a href="#111117" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="SpecializeTypes.this.global.TermSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67332" title="SpecializeTypes.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../symtab/Symbols.scala.html#152465" title="(alias: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

          <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
          <span class="comment">// create accessors</span>
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;m: &quot;)" class="string">&quot;m: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; isLocal: &quot;)" class="string">&quot; isLocal: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115746" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; specVal: &quot;)" class="string">&quot; specVal: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; isLocal: &quot;)" class="string">&quot; isLocal: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115746" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115746" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="521744">specGetter</a> = <a href="#521669" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115759" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="TypingTransformers.scala.html#110301" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148762" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521745">origGetter</a> = <a href="#521670" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107635" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521745" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span> = <a href="#518220" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521744" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521744" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521745" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span>
            <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created accessors: &quot;)" class="string">&quot;created accessors: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521744" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; orig: &quot;)" class="string">&quot; orig: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521745" title="SpecializeTypes.this.global.Symbol">origGetter</a><span class="delimiter">)</span>

            <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107601" title="=&gt; List[SpecializeTypes.this.global.Symbol]">caseFieldAccessors</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Option[SpecializeTypes.this.global.Symbol]">find</span><span class="delimiter">(</span><a href="#521769" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96618" title="(prefix: SpecializeTypes.this.global.Name)Boolean">startsWith</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="521781">cfa</a> =&gt;
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521782">cfaGetter</a> = <a href="#521670" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521781" title="SpecializeTypes.this.global.Symbol">cfa</a><span class="delimiter">)</span>
              <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521782" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span> = <a href="#518276" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
              <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521782" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span>
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;found case field accessor for &quot;)" class="string">&quot;found case field accessor for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; added override &quot;)" class="string">&quot; added override &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521782" title="SpecializeTypes.this.global.Symbol">cfaGetter</a><span class="delimiter">)</span>;
            <span class="delimiter">}</span>                                                                       

            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107636" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="521795">specSetter</a> = <a href="#521669" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115758" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#521744" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a>.<a href="../symtab/Symbols.scala.html#152456" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">resetFlag</a><span class="delimiter">(</span><span title="Long(4194304L)">STABLE</span><span class="delimiter">)</span>
              <a href="#521795" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)specSetter.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148762" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#521795" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../symtab/Symbols.scala.html#107446" title="(argtypes: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Symbol]">newSyntheticValueParams</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">(</span><a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>, 
                                            <a href="../symtab/Definitions.scala.html#106718" title="=&gt; SpecializeTypes.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521796">origSetter</a> = <a href="#521670" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overrideIn</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>, <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107636" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521796" title="SpecializeTypes.this.global.Symbol">origSetter</a><span class="delimiter">)</span> = <a href="#518220" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#521795" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521795" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521796" title="SpecializeTypes.this.global.Symbol">origSetter</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// if there are no accessors, specialized methods will need to access this field in specialized subclasses</span>
            <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
            <a href="#521671" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)specVal.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="521819">specClass</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
          <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#521819" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#520487" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a>
          <a href="#521819" title="SpecializeTypes.this.global.Symbol">specClass</a>.<a href="../symtab/Symbols.scala.html#107549" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521819" title="SpecializeTypes.this.global.Symbol">specClass</a>, <a href="#520487" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>.<a href="../symtab/Names.scala.html#96657" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a>
          <a href="#520488" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#521819" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;entered specialized class &quot;)" class="string">&quot;entered specialized class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521819" title="SpecializeTypes.this.global.Symbol">specClass</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
          <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#521819" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#518442" title="(target: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecializedInnerClass">SpecializedInnerClass</a><span class="delimiter">(</span><a href="#521389" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520487" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#520481" title="SpecializeTypes.this.global.ClassSymbol">cls</a>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="520477">decls1</a> = <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113097" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> m: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> =&gt;
      <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#521863" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107487" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span title="(xs: SpecializeTypes.this.global.Symbol*)List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#521863" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#111089" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">normalizeMember</a><span class="delimiter">(</span><a href="#521863" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#521863" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#520474" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="521894">normalizedMember</a> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="521895">ms</a> = <a href="#111090" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeMember</a><span class="delimiter">(</span><a href="#521863" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#521894" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>, <a href="#520474" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          <span class="comment">// interface traits have concrete members now</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521895" title="List[SpecializeTypes.this.global.Symbol]">ms</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isInterface</span><span class="delimiter">)</span>
            <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(128L)">INTERFACE</span><span class="delimiter">)</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521894" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="521909">newTpe</a> = <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520474" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#521894" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
            <span class="comment">// only do it when necessary, otherwise the method type might be at a later phase already</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521909" title="SpecializeTypes.this.global.Type">newTpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#521894" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#521894" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="../symtab/Symbols.scala.html#107568" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Symbol">updateInfo</a> <a href="#521909" title="SpecializeTypes.this.global.Type">newTpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#521894" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="#521929" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#521895" title="List[SpecializeTypes.this.global.Symbol]">ms</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.TypeEnv]" id="520478">subclasses</a> = <a href="#111072" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(p: SpecializeTypes.this.TypeEnv =&gt; Boolean)List[SpecializeTypes.this.TypeEnv]">filter</span> <a href="#111106" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a>
    <a href="#520478" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a> <span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.TypeEnv" id="522024">env</a> =&gt;
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="522025">spc</a>      = <a href="#520476" title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol">specializedClass</a><span class="delimiter">(</span><a href="#522024" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#520477" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="522026">existing</a> = <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#522025" title="SpecializeTypes.this.global.Symbol">spc</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      
      <span class="comment">// a symbol for the specialized class already exists if there's a classfile for it.</span>
      <span class="comment">// keeping both crashes the compiler on test/files/pos/spec-Function1.scala</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#522026" title="SpecializeTypes.this.global.Symbol">existing</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113092" title="(sym: SpecializeTypes.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#522026" title="SpecializeTypes.this.global.Symbol">existing</a><span class="delimiter">)</span>

      <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#113086" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a> <a href="#522025" title="SpecializeTypes.this.global.Symbol">spc</a><span class="delimiter">)</span> <span class="comment">//!!! assumes fully specialized classes</span>
    <span class="delimiter">}</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#520478" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
    <a href="#111081" title="(cls: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a href="#520473" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#520477" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
    <a href="#520477" title="List[SpecializeTypes.this.global.Symbol]">decls1</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Expand member `sym' to a set of normalized members. Normalized members
   *  are monomorphic or polymorphic only in non-specialized types.
   *
   *  Given method m[@specialized T, U](x: T, y: U) it returns
   *     m[T, U](x: T, y: U),
   *     m$I[ U](x: Int, y: U),
   *     m$D[ U](x: Double, y: U)
   *     // etc.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="111089">normalizeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521871">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521872">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521873">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;normalizeMember: &quot;)" class="string">&quot;normalizeMember: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
    <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="#522071" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <span class="delimiter">(</span>
      <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">||</span> <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72332" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522079">specializingOn</a> = <a href="#111061" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedParams</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522080">unusedStvars</a>   = <a href="#522079" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</span> <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
      
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#522080" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72372" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSynthetic</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68007" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, 
            <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s unused or used in non-specializable positions.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
              <a href="#522080" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#522080" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;are&quot;)" class="string">&quot;are&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#522080" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#522120" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#107416" title="(cls: SpecializeTypes.this.global.Symbol)Unit">removeAnnotation</a> <a href="../symtab/Definitions.scala.html#106290" title="=&gt; SpecializeTypes.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
          <a href="#522079" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> = <a href="#522079" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#522080" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <a href="#522128" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="522143">env0</a> &lt;- <a href="#111072" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#522079" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#111073" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#522143" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522144">tps</a>          = <a href="#111084" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#522143" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="522145">specMember</a>   = <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#521871" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)SpecializeTypes.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="522146">env</a>          = <a href="#111086" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#522143" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#522148" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="#522147" title="List[SpecializeTypes.this.global.Symbol]" id="522148">keys</a>, <a href="#522147" title="List[SpecializeTypes.this.global.Type]" id="522149">vals</a><span class="delimiter">)</span> = <a href="#522146" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</span>.<span title="(implicit asPair: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</span>

          <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107549" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#522146" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;normalizing: &quot;)" class="string">&quot;normalizing: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522144" title="List[SpecializeTypes.this.global.Symbol]">tps</a><span class="delimiter">)</span>

          <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#521873" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#522146" title="SpecializeTypes.this.TypeEnv">env</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522150">tps1</a> = <a href="#111085" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#522144" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#522146" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#522150" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="522263">tp</a> =&gt; <a href="#522263" title="SpecializeTypes.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)tp.type">setInfo</a><span class="delimiter">(</span><a href="#522263" title="SpecializeTypes.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#522148" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#522149" title="List[SpecializeTypes.this.global.Type]">vals</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="comment">// the cloneInfo is necessary so that method parameter symbols are cloned at the new owner</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="522151">methodType</a> = <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105468" title="=&gt; SpecializeTypes.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105504" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#522148" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#522144" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#522149" title="List[SpecializeTypes.this.global.Type]">vals</a> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">++</span> <a href="#522150" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>.<span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</span><a href="#522366" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105528" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)specMember.type">setInfo</a> <a href="../symtab/Types.scala.html#67490" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#522150" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>, <a href="#522151" title="SpecializeTypes.this.global.Type">methodType</a><span class="delimiter">)</span>

          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;expanded member: &quot;)" class="string">&quot;expanded member: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>  <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522146" title="SpecializeTypes.this.TypeEnv">env</a>
          <span class="delimiter">)</span>
          <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#518607" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.NormalizedMember">NormalizedMember</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#111028" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#521872" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#518040" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#522146" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#522145" title="SpecializeTypes.this.global.Symbol">specMember</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Specialize member `m' w.r.t. to the outer environment and the type
   *  parameters of the innermost enclosing class.
   * 
   *  Turns 'private' into 'protected' for members that need specialization.
   * 
   *  Return a list of symbols that are specializations of 'sym', owned by 'owner'.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="111090">specializeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521896">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521897">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521898">outerEnv</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="521899">tps</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="522514">specializeOn</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="522515">tparams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="522535">spec0</a> &lt;- <a href="#111072" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#522515" title="List[SpecializeTypes.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="522536">spec</a> = <a href="#111087" title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a href="#522535" title="SpecializeTypes.this.TypeEnv">spec0</a>, <a href="#521896" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span>
          <a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
          
        <a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="522537">specMember</a> = <a href="#111101" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#521898" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#111091" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#521896" title="SpecializeTypes.this.global.Symbol">owner</a>, <a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#522536" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#521898" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#522536" title="SpecializeTypes.this.TypeEnv">spec</a>
        <a href="#111082" title="(key: SpecializeTypes.this.global.Symbol, value: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])Unit">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">++=</span> <a href="#522536" title="SpecializeTypes.this.TypeEnv">spec</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Symbol,scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]])scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]">collect</span> <a href="#522788" title="SpecializeTypes.this.global.Symbol" class="delimiter">{</a> <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="522791">s</a>, <a title="SpecializeTypes.this.global.Type" id="522792">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#522791" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#522792" title="SpecializeTypes.this.global.Type">tp</a> =&gt; <a href="#522791" title="SpecializeTypes.this.global.Symbol">s</a> <span class="delimiter">}</span>

        <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;sym &quot;)" class="string">&quot;sym &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; was specialized for type vars &quot;)" class="string">&quot; was specialized for type vars &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#111082" title="(key: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;added specialized overload: %s in env: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <a href="#111028" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#518040" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#522536" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span>
        <a href="#522537" title="SpecializeTypes.this.global.Symbol">specMember</a>
      <span class="delimiter">}</span>

    <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specializeMember %s with tps: %s stvars(sym): %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#521899" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#111076" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522969">tps1</a> = <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#521899" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <span title="(elem: Any)Boolean">contains</span> <a href="#522984" title="SpecializeTypes.this.global.Symbol">_</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#521899" title="List[SpecializeTypes.this.global.Symbol]">tps</a>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522970">tps2</a> = <a href="#522969" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <span title="(that: scala.collection.GenSeq[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">intersect</span> <a href="#111076" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
        <a href="#111117" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="522971">ms</a> = <a href="#522514" title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeOn</a><span class="delimiter">(</span><a href="#522970" title="List[SpecializeTypes.this.global.Symbol]">tps2</a><span class="delimiter">)</span>
      <a href="#522971" title="List[SpecializeTypes.this.global.Symbol]">ms</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523024">m</a> =&gt; <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#523024" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> = <a href="#518153" title="(original: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecialOverload">SpecialOverload</a><span class="delimiter">(</span><a href="#521897" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#523024" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#522971" title="List[SpecializeTypes.this.global.Symbol]">ms</a>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Return the specialized overload of `m', in the given environment. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol" id="111091">specializedOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521152">owner</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="521153">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="521154">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="523050">specMember</a>  = <a href="#521153" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#521152" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>  <span class="comment">// this method properly duplicates the symbol's info</span>
    <a href="#523050" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107549" title="(name: SpecializeTypes.this.global.Name)Unit">name</a> = <a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#521153" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#521154" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

    <span class="delimiter">(</span><a href="#523050" title="SpecializeTypes.this.global.Symbol">specMember</a>
      <a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)specMember.type">setInfo</a>   <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521154" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523050" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105500" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#521152" title="SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, <a href="#521153" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)specMember.type">setFlag</a>   <span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
      <a href="../symtab/Symbols.scala.html#107554" title="(mask: Long)specMember.type">resetFlag</a> <span class="delimiter">(</span>DEFERRED | CASEACCESSOR | ACCESSOR <span title="Long(2298478608L)">|</span> LAZY<span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** For each method m that overrides inherited method m', add a special
   *  overload method `om' that overrides the corresponding overload in the
   *  superclass. For the following example:
   * 
   *  class IntFun extends Function1[Int, Int] {
   *     def apply(x: Int): Int = ..
   *  }
   * 
   *  this method will return List('apply$spec$II')
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="111092">specialOverrides</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523078">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">/** Return the overridden symbol in syms that needs a specialized overriding symbol,
     *  together with its specialization environment. The overridden symbol may not be
     *  the closest to 'overriding', in a given hierarchy.
     *
     *  An method m needs a special override if
     *    * m overrides a method whose type contains specialized type variables
     *    * there is a valid specialization environment that maps the overridden method type to m's type. 
     */</span>
    <span class="keyword">def</span> <a title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" id="523080">needsSpecialOverride</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523081">overriding</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span>Symbol, TypeEnv<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(overridden: SpecializeTypes.this.global.Symbol)Unit" id="523082">checkOverriddenTParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523083">overridden</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523175">baseTvar</a>, <a title="SpecializeTypes.this.global.Symbol" id="523176">derivedTvar</a><span class="delimiter">)</span> &lt;- <a href="#523083" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol)]">zip</span><a href="#523146" title="(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit" class="delimiter">(</a><a href="#523081" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]" id="523177">missing</a> = <a href="#111071" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#523175" title="SpecializeTypes.this.global.Symbol">baseTvar</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</span> <span title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">--</span> <a href="#111071" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#523176" title="SpecializeTypes.this.global.Symbol">derivedTvar</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523177" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68008" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#523176" title="SpecializeTypes.this.global.Symbol">derivedTvar</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>,
              <span class="string">&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing &quot;</span>
              <span title="java.lang.String(&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing types: &quot;)">+</span> <span class="string">&quot;types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523177" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#523081" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523220">overridden</a> &lt;- <a href="#523081" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107632" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">allOverriddenSymbols</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="java.lang.String(&quot;Overridden: &quot;)" class="string">&quot;Overridden: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012 by &quot;)" class="string">&quot;\n by &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523081" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523081" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="523221">stvars</a> = <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523221" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\011\011specializedTVars: &quot;)" class="string">&quot;\t\tspecializedTVars: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523221" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a> <a href="../Global.scala.html#72372" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a> <a href="#523081" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
              <a href="#523082" title="(overridden: SpecializeTypes.this.global.Symbol)Unit">checkOverriddenTParams</a><span class="delimiter">(</span><a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="523232">env</a>    = <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#523081" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="523233">atNext</a> = <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#523232" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\011\011env: &quot;)" class="string">&quot;\t\tenv: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523232" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;isValid: &quot;)" class="string">&quot;isValid: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#111023" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517098" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#523232" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;found: &quot;)" class="string">&quot;found: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523233" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#111023" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517097" title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv">restrict</a><span class="delimiter">(</span><a href="#523232" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523221" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111023" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517098" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#523232" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523233" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="#523220" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#523232" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="(_1: SpecializeTypes.this.global.NoSymbol.type, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.NoSymbol.type, SpecializeTypes.this.TypeEnv)" class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>, <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#523078" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,Iterable[SpecializeTypes.this.global.Symbol]])Iterable[SpecializeTypes.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="523303">overriding</a> =&gt;
      <a href="#523080" title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)">needsSpecialOverride</a><span class="delimiter">(</span><a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <span title="Iterable[SpecializeTypes.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Iterable[Nothing]" class="delimiter">(</span><a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>, _<span class="delimiter">)</span>     =&gt; <span title="(xo: Option[Nothing])Iterable[Nothing]">None</span>
        <span class="keyword">case</span> <span title="Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523365">overridden</a>, <a title="SpecializeTypes.this.TypeEnv" id="523366">env</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="523367">om</a> = <a href="#111091" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#523078" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#523365" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#523366" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Added specialized overload %s for %s in env: %s with type: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; String">fullName</span>, <a href="#523366" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#523366" title="SpecializeTypes.this.TypeEnv">env</a>
          <a href="#111117" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
          <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
            <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span> <span class="delimiter">{</span>    <span class="comment">// abstract override</span>
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;abstract override &quot;)" class="string">&quot;abstract override &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with specialized &quot;)" class="string">&quot; with specialized &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <a href="#518220" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// if the override is a normalized member, 'om' gets the</span>
              <span class="comment">// implementation from its original target, and adds the</span>
              <span class="comment">// environment of the normalized member (that is, any</span>
              <span class="comment">// specialized /method/ type parameter bindings)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="523382">impl</a> = <a href="#111058" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <span title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</span> <a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a> <span title="SpecializeTypes.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">Some</span><span class="delimiter">(</span>NormalizedMember<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="523384">target</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#523366" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
                  <a href="#523384" title="SpecializeTypes.this.global.Symbol">target</a>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Symbol">_</span> =&gt;
                  <a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a>
              <span class="delimiter">}</span>
              <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> = <a href="#518220" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a> <a href="../symtab/Symbols.scala.html#107405" title="(pos: SpecializeTypes.this.global.Position)om.type">setPos</a> <a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <a href="#518380" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecialOverride">SpecialOverride</a><span class="delimiter">(</span><a href="#523382" title="SpecializeTypes.this.global.Symbol">impl</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
          <a href="#111028" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#523303" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</span> <a href="#518040" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#523366" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#111022" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span>
            <a href="#523365" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>,
            <span title="java.lang.String(&quot;Could not find &quot;)" class="string">&quot;Could not find &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523365" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</span><span title="(xo: Option[SpecializeTypes.this.global.Symbol])Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</span><a href="#523367" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</span>
  <span class="delimiter">}</span>
  
  case <span class="keyword">object</span> <a href="#523609" title="object SpecializeTypes.this.UnifyError" id="523612">UnifyError</a> <span title="ScalaObject" class="keyword">extends</span> scala.util.control.<span title="scala.util.control.ControlThrowable">ControlThrowable</span>
  
  <span class="comment">/** Return the most general type environment that specializes tp1 to tp2.
   *  It only allows binding of type parameters annotated with @specialized.
   *  Fails if such an environment cannot be found.
   *  
   *  If `strict` is true, a UnifyError is thrown if unification is impossible.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv" id="111095">unify</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="523243">tp1</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="523244">tp2</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="523245">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="523246">strict</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> = <span title="(_1: SpecializeTypes.this.global.Type, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.TypeEnv" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523625">sym1</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#111015" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecialized</a><span class="delimiter">(</span><a href="#523625" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span> =&gt;
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - basic case: &quot;)" class="string">&quot;Unify - basic case: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106661" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#111019" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523625" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(kv: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">+</span> <span class="delimiter">(</span><span title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</span><a href="#523625" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> 
        <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523612" title="object SpecializeTypes.this.UnifyError">UnifyError</a> <span class="keyword">else</span> <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523690">sym1</a>, <a title="List[SpecializeTypes.this.global.Type]" id="523691">args1</a><span class="delimiter">)</span>, TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523695">sym2</a>, <a title="List[SpecializeTypes.this.global.Type]" id="523696">args2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - both type refs: &quot;)" class="string">&quot;Unify - both type refs: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#523691" title="List[SpecializeTypes.this.global.Type]">args1</a>, <a href="#523696" title="List[SpecializeTypes.this.global.Type]">args2</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; - &quot;)" class="string">&quot; - &quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523246" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523691" title="List[SpecializeTypes.this.global.Type]">args1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#523696" title="List[SpecializeTypes.this.global.Type]">args2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523612" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="523697">e</a> = <a href="#111096" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523691" title="List[SpecializeTypes.this.global.Type]">args1</a>, <a href="#523696" title="List[SpecializeTypes.this.global.Type]">args2</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unified to: &quot;)" class="string">&quot;unified to: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523697" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
      <a href="#523697" title="SpecializeTypes.this.TypeEnv">e</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="523720">sym1</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#523720" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107481" title="=&gt; Boolean">isTypeParameterOrSkolem</a> =&gt;
      <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523725">params1</a>, <a title="SpecializeTypes.this.global.Type" id="523726">res1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523729">params2</a>, <a title="SpecializeTypes.this.global.Type" id="523730">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523246" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523725" title="List[SpecializeTypes.this.global.Symbol]">params1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#523729" title="List[SpecializeTypes.this.global.Symbol]">params2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523612" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - method types: &quot;)" class="string">&quot;Unify - method types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="#111096" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523726" title="SpecializeTypes.this.global.Type">res1</a> <a href="#523742" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#523725" title="List[SpecializeTypes.this.global.Symbol]">params1</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#523759" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#523730" title="SpecializeTypes.this.global.Type">res2</a> <a href="#523792" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#523729" title="List[SpecializeTypes.this.global.Symbol]">params2</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#523809" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>PolyType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523844">tparams1</a>, <a title="SpecializeTypes.this.global.Type" id="523845">res1</a><span class="delimiter">)</span>, PolyType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="523848">tparams2</a>, <a title="SpecializeTypes.this.global.Type" id="523849">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#523246" title="Boolean">strict</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#523844" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#523848" title="List[SpecializeTypes.this.global.Symbol]">tparams2</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#523612" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unify - poly types: &quot;)" class="string">&quot;Unify - poly types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523845" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#523849" title="SpecializeTypes.this.global.Type">res2</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>PolyType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="523865">res</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Type" id="523866">other</a><span class="delimiter">)</span> =&gt;
      <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523865" title="SpecializeTypes.this.global.Type">res</a>, <a href="#523866" title="SpecializeTypes.this.global.Type">other</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>_, SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span>                  =&gt; <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105457" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, _<span class="delimiter">)</span>                  =&gt; <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105457" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>                       =&gt; <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>_, ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span>                       =&gt; <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#105458" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>AnnotatedType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="523926">tp1</a>, _<span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Type" id="523927">tp2</a><span class="delimiter">)</span>        =&gt; <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523927" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523926" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv" class="delimiter">(</span>ExistentialType<span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="523938">res1</a><span class="delimiter">)</span>, _<span class="delimiter">)</span>          =&gt; <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523938" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523246" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.TypeEnv">_</span> =&gt;
      <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;don't know how to unify %s [%s] with %s [%s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#523243" title="SpecializeTypes.this.global.Type">tp1</a>.<span title="()java.lang.Class[_]">getClass</span>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#523244" title="SpecializeTypes.this.global.Type">tp2</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#523245" title="SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv" id="111096">unify</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="523238">tp1</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="523239">tp2</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="523240">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="523241">strict</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span> =
    <a href="#523238" title="List[SpecializeTypes.this.global.Type]">tp1</a>.<span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]">zip</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]]" class="delimiter">(</span><a href="#523239" title="List[SpecializeTypes.this.global.Type]">tp2</a><span class="delimiter">)</span>.<span title="(z: SpecializeTypes.this.TypeEnv)(f: (SpecializeTypes.this.TypeEnv, (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)) =&gt; SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv">foldLeft</span><span class="delimiter">(</span><a href="#523240" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="524025">env</a>, <a title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" id="524026">args</a><span class="delimiter">)</span> =&gt;
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#523241" title="Boolean">strict</a><span class="delimiter">)</span> <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#524026" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span>, <a href="#524026" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span>, <a href="#524025" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#523241" title="Boolean">strict</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="524033">nenv</a> = <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#524026" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span>, <a href="#524026" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span>, <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <a href="#523241" title="Boolean">strict</a><span class="delimiter">)</span>
        <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#524025" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</span> <a href="#524033" title="SpecializeTypes.this.TypeEnv">nenv</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#524025" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#524033" title="SpecializeTypes.this.TypeEnv">nenv</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not unify: u(&quot;)" class="string">&quot;could not unify: u(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524026" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_1</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524026" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<span title="=&gt; SpecializeTypes.this.global.Type">_2</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) yields &quot;)" class="string">&quot;) yields &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524033" title="SpecializeTypes.this.TypeEnv">nenv</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, env: &quot;)" class="string">&quot;, env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524025" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#523612" title="object SpecializeTypes.this.UnifyError">UnifyError</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  
  <span class="comment">/** Map class symbols to the type environments where they were created. */</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" id="111097">typeEnv</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">Map</span><span class="delimiter">[</span>Symbol, TypeEnv<span class="delimiter">]</span> = <a href="#524104" title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" id="524104">mutable</a>.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">HashMap</span><span class="delimiter">[</span>Symbol, TypeEnv<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="524571">default</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524572">key</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Apply type bindings in the given environment `env' to all declarations.  */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, decls: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="111099">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520600">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="List[SpecializeTypes.this.global.Symbol]" id="520601">decls</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#520601" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <span title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <a href="#111101" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#524617" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#520600" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

  <span class="comment">/** Apply the type environment 'env' to the given type. All type
   *  bindings are supposed to be to primitive types. A type variable
   *  that is annotated with 'uncheckedVariance' is mapped to the corresponding
   *  primitive type losing the annotation. 
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="111100">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520597">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="SpecializeTypes.this.global.Type" id="520598">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">class</span> <a title="class FullTypeMap extends SpecializeTypes.this.global.SubstTypeMap with ScalaObject" id="524647">FullTypeMap</a><a href="#524647" title="ScalaObject" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="524660">from</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="524661">to</a>: <span title="List[SpecializeTypes.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../symtab/Types.scala.html#67535" title="SpecializeTypes.this.global.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#524660" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#524661" title="List[SpecializeTypes.this.global.Type]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="524656">mapOver</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="524664">tp</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#524664" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="524686">parents</a>, <a title="SpecializeTypes.this.global.Scope" id="524687">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="524688">clazz</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="524689">parents1</a>  = <a href="#524686" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">mapConserve</span> <a href="#524647" title="FullTypeMap" class="keyword">this</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="524690">declsList</a> = <a href="#524687" title="SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113097" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="524691">decls1</a>    = <a href="../symtab/Types.scala.html#133461" title="(origSyms: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#524690" title="List[SpecializeTypes.this.global.Symbol]">declsList</a><span class="delimiter">)</span>

          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#524689" title="List[SpecializeTypes.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524686" title="List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#524691" title="List[SpecializeTypes.this.global.Symbol]">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524690" title="List[SpecializeTypes.this.global.Symbol]">declsList</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#524664" title="SpecializeTypes.this.global.Type">tp</a>
          <span class="keyword">else</span> <a href="../symtab/Types.scala.html#148665" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#524689" title="List[SpecializeTypes.this.global.Type]">parents1</a>, <a href="../symtab/Scopes.scala.html#113081" title="(decls: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="SpecializeTypes.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#524691" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>, <a href="#524688" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">AnnotatedType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.AnnotationInfo]" id="524713">annots</a>, <a title="SpecializeTypes.this.global.Type" id="524714">atp</a>, <a title="SpecializeTypes.this.global.Symbol" id="524715">selfsym</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.AnnotationInfo]" id="524716">annots1</a> = <a href="../symtab/Types.scala.html#133462" title="(annots: List[SpecializeTypes.this.global.AnnotationInfo])List[SpecializeTypes.this.global.AnnotationInfo]">mapOverAnnotations</a><span class="delimiter">(</span><a href="#524713" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="524717">atp1</a>    = <a href="../symtab/Types.scala.html#167447" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#524714" title="SpecializeTypes.this.global.Type">atp</a><span class="delimiter">)</span>

          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#524716" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524713" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#524717" title="SpecializeTypes.this.global.Type">atp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524714" title="SpecializeTypes.this.global.Type">atp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#524664" title="SpecializeTypes.this.global.Type">tp</a>
          <span class="keyword">else</span> <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#524716" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#524717" title="SpecializeTypes.this.global.Type">atp1</a>
          <span class="keyword">else</span> <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#524717" title="SpecializeTypes.this.global.Type">atp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#524714" title="SpecializeTypes.this.global.Type">atp</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#149016" title="(annotations: List[SpecializeTypes.this.global.AnnotationInfo], underlying: SpecializeTypes.this.global.Type, selfsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#524716" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a>, <a href="#524717" title="SpecializeTypes.this.global.Type">atp1</a>, <a href="#524715" title="SpecializeTypes.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#524716" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots1</a>.<span title="(p: SpecializeTypes.this.global.AnnotationInfo =&gt; Boolean)List[SpecializeTypes.this.global.AnnotationInfo]">filter</span><span class="delimiter">(</span><a href="#524741" title="SpecializeTypes.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#133491" title="=&gt; SpecializeTypes.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106258" title="=&gt; SpecializeTypes.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">Nil</span>      =&gt; <a href="#524717" title="SpecializeTypes.this.global.Type">atp1</a>
            <span class="keyword">case</span> <a title="SpecializeTypes.this.global.AnnotatedType" id="524747">annots2</a>  =&gt; <a href="../symtab/Types.scala.html#149016" title="(annotations: List[SpecializeTypes.this.global.AnnotationInfo], underlying: SpecializeTypes.this.global.Type, selfsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#524747" title="List[SpecializeTypes.this.global.AnnotationInfo]">annots2</a>, <a href="#524717" title="SpecializeTypes.this.global.Type">atp1</a>, <a href="#524715" title="SpecializeTypes.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt; <a href="#524647" title="FullTypeMap" class="keyword">super</a>.<a href="../symtab/Types.scala.html#133458" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#524664" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a href="#524649" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="#524648" title="List[SpecializeTypes.this.global.Symbol]" id="524649">keys</a>, <a href="#524648" title="List[SpecializeTypes.this.global.Type]" id="524650">values</a><span class="delimiter">)</span> = <a href="#520597" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</span>.<span title="(implicit asPair: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</span>
    <span class="delimiter">(</span><a href="../symtab/Types.scala.html#167447" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">new</a> <a href="#524647" title="FullTypeMap">FullTypeMap</a><span class="delimiter">(</span><a href="#524649" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#524650" title="List[SpecializeTypes.this.global.Type]">values</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#520598" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="111101">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="520594">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="520595">decl</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="#520595" title="SpecializeTypes.this.global.Symbol">decl</a> <a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)decl.type">setInfo</a> <span class="delimiter">(</span><a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#520594" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#520595" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.MethodType">MethodType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="524800">args</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#520595" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a>  =&gt; <a href="../symtab/Types.scala.html#148762" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#524800" title="List[SpecializeTypes.this.global.Symbol]">args</a>, <a href="#520595" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="SpecializeTypes.this.global.Type" id="524802">tpe</a>                                        =&gt; <a href="#524802" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Checks if the type parameter symbol is not specialized
   *  and is used as type parameters when extending a class with a specialized
   *  type parameter.
   *  At some point we may remove this restriction.
   *  
   *  Example:
   *    
   *    class Base[@specialized T]
   *    class Derived[T] extends Base[T] // a non-specialized T is 
   *                                     // used as a type param for Base
   *                                     // -&gt; returning true
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tsym: SpecializeTypes.this.global.Symbol, supertpe: SpecializeTypes.this.global.Type)Unit" id="111102">notSpecializedIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524803">tsym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="524804">supertpe</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#524804" title="SpecializeTypes.this.global.Type">supertpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Symbol" id="524810">supersym</a>, <a title="List[SpecializeTypes.this.global.Type]" id="524811">supertargs</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]" id="524812">tspec</a> = <a href="#111018" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#524803" title="SpecializeTypes.this.global.Symbol">tsym</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">toSet</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524842">supt</a> &lt;- <a href="#524810" title="SpecializeTypes.this.global.Symbol">supersym</a>.<a href="../symtab/Symbols.scala.html#107579" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]" id="524843">supspec</a> = <a href="#111018" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">specializedOn</a><span class="delimiter">(</span><a href="#524842" title="SpecializeTypes.this.global.Symbol">supt</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">toSet</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#524812" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#524843" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#524812" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Tree])Boolean">subsetOf</span><span class="delimiter">(</span><a href="#524843" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68008" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#524803" title="SpecializeTypes.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;)" class="string">&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#524843" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">supspec</a>.<span title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Tree])scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">diff</span><span class="delimiter">(</span><a href="#524812" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Tree]">tspec</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span class="comment">//log(&quot;nope&quot;)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Type transformation. It is applied to all symbols, compiled or loaded.
   *  If it is a 'no-specialization' run, it is applied only to loaded symbols.  
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="111103">transformInfo</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="524869">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="524870">tpe</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36655" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72372" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#524869" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#524870" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="keyword">else</span> <a href="#524870" title="SpecializeTypes.this.global.Type">tpe</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="524879">targs</a>, ClassInfoType<span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="524883">base</a>, <a title="SpecializeTypes.this.global.Scope" id="524884">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="524885">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">if</span> <a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106352" title="=&gt; SpecializeTypes.this.global.Symbol">RepeatedParamClass</a>
              <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#106354" title="=&gt; SpecializeTypes.this.global.Symbol">JavaRepeatedParamClass</a>
              <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isJavaDefined</span> =&gt;
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="524894">parents</a> = <a href="#524883" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#111064" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>
        <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;transformInfo (poly) &quot;)" class="string">&quot;transformInfo (poly) &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with parents1: &quot;)" class="string">&quot; with parents1: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#524894" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ph: &quot;)" class="string">&quot; ph: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>

        <a href="../symtab/Types.scala.html#67490" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#524879" title="List[SpecializeTypes.this.global.Symbol]">targs</a>, <a href="../symtab/Types.scala.html#148665" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
          <a href="#524894" title="List[SpecializeTypes.this.global.Type]">parents</a>,
          <a href="../symtab/Scopes.scala.html#113081" title="(decls: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="SpecializeTypes.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#111088" title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">specializeClass</a><span class="delimiter">(</span><a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#111092" title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specialOverrides</a><span class="delimiter">(</span><a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          <a href="#524885" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.ClassInfoType">ClassInfoType</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="525018">base</a>, <a title="SpecializeTypes.this.global.Scope" id="525019">decls</a>, <a title="SpecializeTypes.this.global.Symbol" id="525020">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#525020" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isPackageClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#525020" title="SpecializeTypes.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isJavaDefined</span> =&gt;
        <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#525018" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#525042" title="SpecializeTypes.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// side effecting? parents is not used except to log.</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="525021">parents</a> = <a href="#525018" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#111064" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>
        <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;transformInfo &quot;)" class="string">&quot;transformInfo &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525020" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with parents1: &quot;)" class="string">&quot; with parents1: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525021" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ph: &quot;)" class="string">&quot; ph: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>
        <a href="../symtab/Types.scala.html#148665" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
          <a href="#525018" title="List[SpecializeTypes.this.global.Type]">base</a> <span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</span> <a href="#111064" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>,
          <a href="../symtab/Scopes.scala.html#113081" title="(decls: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67691" title="SpecializeTypes.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#111088" title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">specializeClass</a><span class="delimiter">(</span><a href="#525020" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525020" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</span> <a href="#111092" title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specialOverrides</a><span class="delimiter">(</span><a href="#525020" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          <a href="#525020" title="SpecializeTypes.this.global.Symbol">clazz</a>
        <span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span> =&gt;
        <a href="#524870" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Is any type variable in `env' conflicting with any if its type bounds, when
   *  type bindings in `env' are taken into account?
   *
   *  A conflicting type environment could still be satisfiable.
   */</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="111104">conflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="525223">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#111105" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#525223" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="111105">nonConflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="521426">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = <a href="#521426" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#521434" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521437">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="521438">tpe</a><span class="delimiter">)</span> =&gt;
    <span class="delimiter">(</span><a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521426" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#521437" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#105515" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#521438" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#521438" title="SpecializeTypes.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105515" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521426" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#521437" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The type environment is sound w.r.t. to all type bounds or only soft
   *  conflicts appear. An environment is sound if all bindings are within
   *  the bounds of the given type variable. A soft conflict is a binding
   *  that does not fall within the bounds, but whose bounds contain
   *  type variables that are @specialized, (that could become satisfiable).
   */</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="111106">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="521383">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#111107" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#521383" title="SpecializeTypes.this.TypeEnv">env</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean" id="111107">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="521380">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span>, <a title="Boolean" id="521381">warnings</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean" id="525230">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="525231">tpe1</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="525232">tpe2</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="525233">t1</a> = <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521380" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525231" title="SpecializeTypes.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="525234">t2</a> = <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521380" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525232" title="SpecializeTypes.this.global.Type">tpe2</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><span class="delimiter">(</span><a href="#525233" title="SpecializeTypes.this.global.Type">t1</a> <a href="../symtab/Types.scala.html#105515" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#525234" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525233" title="SpecializeTypes.this.global.Type">t1</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> 
        <span title="(x: Boolean)Boolean">||</span> <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525234" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
     <span class="delimiter">}</span>

    <a href="#521380" title="SpecializeTypes.this.TypeEnv">env</a> <span title="(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Boolean">forall</span> <a href="#525267" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525270">tvar</a>, <a title="SpecializeTypes.this.global.Type" id="525271">tpe</a><span class="delimiter">)</span> =&gt; 
      <a href="#525230" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="#525271" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#525230" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#525271" title="SpecializeTypes.this.global.Type">tpe</a>, <a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#521381" title="Boolean">warnings</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#64832" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#68007" title="(pos: scala.tools.nsc.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Bounds prevent specialization of &quot;)" class="string">&quot;Bounds prevent specialization of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>
          
        <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specvars: &quot;)" class="string">&quot;specvars: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; SpecializeTypes.this.global.Type">lo</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148504" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521380" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
          <a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#521380" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525270" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105462" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#148506" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Duplicator extends scala.tools.nsc.typechecker.Duplicators with ScalaObject" id="111108">Duplicator</a> <a href="#111108" title="ScalaObject" class="keyword">extends</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.type" id="525299">global</a>: SpecializeTypes.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#26823" title="SpecializeTypes.this.type">SpecializeTypes</a>.<span class="keyword">this</span>.<a href="TypingTransformers.scala.html#110301" title="=&gt; scala.tools.nsc.Global">global</a>
  <span class="delimiter">}</span> <span class="keyword">with</span> typechecker.<a href="../typechecker/Duplicators.scala.html#27864" title="scala.tools.nsc.typechecker.Duplicators">Duplicators</a>

  <span class="comment">/** A tree symbol substituter that substitutes on type skolems.
   *  If a type parameter is a skolem, it looks for the original
   *  symbol in the 'from' and maps it to the corresponding new
   *  symbol. The new symbol should probably be a type skolem as
   *  well (not enforced).
   *
   *  All private members are made protected in order to be accessible from
   *  specialized classes.
   */</span>
  <span class="keyword">class</span> <a title="class ImplementationAdapter extends SpecializeTypes.this.global.TreeSymSubstituter with ScalaObject" id="111109">ImplementationAdapter</a><a href="#111109" title="ScalaObject" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="497296">from</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="List[SpecializeTypes.this.global.Symbol]" id="497297">to</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="SpecializeTypes.this.global.Symbol" id="497298">targetClass</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>,
                              <a title="Boolean" id="497299">addressFields</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#67847" title="SpecializeTypes.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="#497296" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#497297" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="SpecializeTypes.this.global.SubstSymMap" id="497291">symSubst</a> = <a href="#525305" title="SpecializeTypes.this.global.SubstSymMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67534" title="anonymous class $anon extends SpecializeTypes.this.global.SubstSymMap" id="525305">SubstSymMap</a><span class="delimiter">(</span><a href="#497296" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#497297" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: SpecializeTypes.this.global.Symbol, sym2: SpecializeTypes.this.global.Symbol)Boolean" id="525307">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525308">sym1</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="525309">sym2</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#525309" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107483" title="=&gt; Boolean">isTypeSkolem</a><span class="delimiter">)</span> <a href="#525309" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#107639" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#525308" title="SpecializeTypes.this.global.Symbol">sym1</a>
        <span class="keyword">else</span> <a href="#525308" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#525309" title="SpecializeTypes.this.global.Symbol">sym2</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="497293">isAccessible</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525330">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162574" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#525330" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162574" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#497298" title="SpecializeTypes.this.global.Symbol">targetClass</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="497294">shouldMakePublic</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525342">sym</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#525342" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#497299" title="Boolean">addressFields</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115746" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#525342" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** All private members that are referenced are made protected,
     *  in order to be accessible from specialized subclasses.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="497295">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525348">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <a href="#525348" title="SpecializeTypes.this.global.Tree">tree</a> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525359">qual</a>, <a title="SpecializeTypes.this.global.Name" id="525360">name</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525361">sym</a> = <a href="#525348" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span> <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;seeing private member %s, currentClass: %s, owner: %s, isAccessible: %b, isLocalName: %b&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="../ast/Trees.scala.html#162574" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a>, <a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>, <a href="#497293" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115746" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#497294" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">shouldMakePublic</a><span class="delimiter">(</span><a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#497293" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;changing private flag of &quot;)" class="string">&quot;changing private flag of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107641" title="(base: SpecializeTypes.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#525361" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#111109" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../ast/Trees.scala.html#167653" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525348" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">_</span> =&gt;
        <a href="#111109" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../ast/Trees.scala.html#167653" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525348" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/** Return the generic class corresponding to this specialized class. */</span>
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="111110">originalClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525372">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a> = 
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#111016" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#525372" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#525378" title="SpecializeTypes.this.global.Name" id="525374" class="delimiter">(</a><a title="SpecializeTypes.this.global.Name" id="525378">originalName</a>, _, _<span class="delimiter">)</span> = <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115755" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><span title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</span><a href="#525372" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      <a href="#525372" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#525374" title="SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107593" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#525386" title="SpecializeTypes.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>
  
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="111111">illegalSpecializedInheritance</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525387">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#111016" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedFlag</a><span class="delimiter">(</span><a href="#525387" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111110" title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">originalClass</a><span class="delimiter">(</span><a href="#525387" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Type" id="525398">p</a> =&gt;
      <a href="#111060" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedParams</a><span class="delimiter">(</span><a href="#525398" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#525398" title="SpecializeTypes.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a> 
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser with ScalaObject; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" id="111112">specializeCalls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="525400">unit</a>: <a href="../CompilationUnits.scala.html#67953" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> = <a href="#525403" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">new</a> <a href="TypingTransformers.scala.html#110303" title="anonymous class $anon extends SpecializeTypes.this.TypingTransformer" id="525403">TypingTransformer</a><span class="delimiter">(</span><a href="#525400" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/** Map a specializable method to it's rhs, when not deferred. */</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" id="525405">body</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">Map</span><span class="delimiter">[</span>Symbol, Tree<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">HashMap</span>
  
    <span class="comment">/** Map a specializable method to its value parameter symbols. */</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]" id="525407">parameters</a>: mutable.<span title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]">HashMap</span>
    
    <span class="comment">/** Collect method bodies that are concrete specialized methods.
     */</span>
    <span class="keyword">class</span> <a title="class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject" id="525409">CollectMethodBodies</a> <a href="#525409" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#67837" title="SpecializeTypes.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)Unit" id="525464">traverse</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525466">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span>  <span title="Unit">DefDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="525497">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="525498">name</a>, <a title="List[SpecializeTypes.this.global.TypeDef]" id="525499">tparams</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="525500">vparamss</a>, <a title="SpecializeTypes.this.global.Tree" id="525501">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="525502">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#111115" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;!!! adding body of a defdef %s, symbol %s: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>, <a href="#525502" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#525405" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#525502" title="SpecializeTypes.this.global.Tree">rhs</a>
            <span class="comment">//          body(tree.symbol) = tree // whole method</span>
            <a href="#525407" title="(key: SpecializeTypes.this.global.Symbol, value: List[List[SpecializeTypes.this.global.Symbol]])Unit">parameters</a><span class="delimiter">(</span><a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#525500" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a> <span title="(f: List[SpecializeTypes.this.global.ValDef] =&gt; List[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.ValDef]],List[SpecializeTypes.this.global.Symbol],List[List[SpecializeTypes.this.global.Symbol]]])List[List[SpecializeTypes.this.global.Symbol]]">map</span> <span class="delimiter">(</span><a href="#525545" title="List[SpecializeTypes.this.global.ValDef]">_</a> <span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#525562" title="SpecializeTypes.this.global.ValDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#111115" title="=&gt; scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <span title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">-=</span> <a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
          <span class="delimiter">}</span> <span class="comment">// no need to descend further down inside method bodies</span>

        <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="525644">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="525645">name</a>, <a title="SpecializeTypes.this.global.Tree" id="525646">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="525647">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#111115" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
          <a href="#525405" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> = <a href="#525647" title="SpecializeTypes.this.global.Tree">rhs</a>
          <span class="comment">// log(&quot;!!! adding body of a valdef &quot; + tree.symbol + &quot;: &quot; + rhs)</span>
          <span class="comment">//super.traverse(tree)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <a href="#525409" title="this.CollectMethodBodies" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162670" title="(tree: SpecializeTypes.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#525466" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean" id="525410">doesConform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525417">origSymbol</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="525418">treeType</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="525419">memberType</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="525420">env</a>: <span title="SpecializeTypes.this.TypeEnv">TypeEnv</span><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><a href="#525418" title="SpecializeTypes.this.global.Type">treeType</a> <a href="../symtab/Types.scala.html#105520" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#525419" title="SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span> <span class="comment">// anyref specialization</span>
        <a href="#525419" title="SpecializeTypes.this.global.Type">memberType</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="SpecializeTypes.this.global.Type" id="525424">resTpe</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Conformance for anyref - polytype with result type: &quot;)" class="string">&quot;Conformance for anyref - polytype with result type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525424" title="SpecializeTypes.this.global.Type">resTpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525418" title="SpecializeTypes.this.global.Type">treeType</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012Orig. sym.: &quot;)" class="string">&quot;\nOrig. sym.: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525417" title="SpecializeTypes.this.global.Symbol">origSymbol</a><span class="delimiter">)</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="525425">e</a> = <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#525417" title="SpecializeTypes.this.global.Symbol">origSymbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525419" title="SpecializeTypes.this.global.Type">memberType</a>, <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;obtained env: &quot;)" class="string">&quot;obtained env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525425" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
              <a href="#525425" title="SpecializeTypes.this.TypeEnv">e</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#525420" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
                <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not unify.&quot;)" class="string">&quot;Could not unify.&quot;</span><span class="delimiter">)</span>
                <span title="Boolean(false)" class="keyword">false</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="525411">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525437">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span> 
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525664">symbol</a> = <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>

      <span class="comment">/** The specialized symbol of 'tree.symbol' for tree.tpe, if there is one */</span>
      <span class="keyword">def</span> <a title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]" id="525665">specSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525667">qual</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[SpecializeTypes.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="525668">env</a> = <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[specSym] checking for rerouting: %s with \n\tsym.tpe: %s, \n\ttree.tpe: %s \n\tenv: %s \n\tname: %s&quot;</span>
                .<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#525668" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525668" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#525668" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// a method?</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525691">specCandidates</a> = <a href="#525667" title="SpecializeTypes.this.global.Tree">qual</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105495" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525668" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="525692">specMember</a> = <a href="#525691" title="SpecializeTypes.this.global.Symbol">specCandidates</a> <a href="../symtab/Symbols.scala.html#107593" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525699">s</a> =&gt; <a href="#525410" title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean">doesConform</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#525699" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525668" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[specSym] found: &quot;)" class="string">&quot;[specSym] found: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525691" title="SpecializeTypes.this.global.Symbol">specCandidates</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, instantiated as: &quot;)" class="string">&quot;, instantiated as: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[specSym] found specMember: &quot;)" class="string">&quot;[specSym] found specMember: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525692" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#525692" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#111023" title="object SpecializeTypes.this.TypeEnv">TypeEnv</a>.<a href="#517096" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525692" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#525668" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#525692" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;wrong environments for specialized member: \n\ttypeEnv(%s) = %s\n\tenv = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525692" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525692" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#525668" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: SpecializeTypes.this.global.Tree, targs: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Tree" id="525666">maybeTypeApply</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525736">fun</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="525737">targs</a>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = 
        <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525737" title="List[SpecializeTypes.this.global.Tree]">targs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#525736" title="SpecializeTypes.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="TypingTransformers.scala.html#110301" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#525736" title="SpecializeTypes.this.global.Tree">fun</a>, <a href="#525737" title="List[SpecializeTypes.this.global.Tree]">targs</a><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#501547" title="(x$1: SpecializeTypes.this.global.Tree)Unit">curTree</a> = <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>
      <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525754">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="525755">args</a><span class="delimiter">)</span> =&gt;
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#111119" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#525754" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#525754" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;** instantiated specialized type: &quot;)" class="string">&quot;** instantiated specialized type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#111119" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#525754" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">atPos</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span>
              <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
                <a href="TypingTransformers.scala.html#110301" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span>
                  <a href="TypingTransformers.scala.html#110301" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(tpt: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67818" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#111119" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#525754" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>,
                  <a href="../ast/Trees.scala.html#162577" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#525755" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#525403" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501558" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">TypeApply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="525818">qual</a>, <a title="SpecializeTypes.this.global.Name" id="525819">name</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="525820">targs</a><span class="delimiter">)</span>
                <span class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#525819" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checking typeapp for rerouting: &quot;)" class="string">&quot;checking typeapp for rerouting: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sym.tpe: &quot;)" class="string">&quot; with sym.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree.tpe: &quot;)" class="string">&quot; tree.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="525832">qual1</a> = <a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525818" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="comment">// log(&quot;&gt;&gt;&gt; TypeApply: &quot; + tree + &quot;, qual1: &quot; + qual1)</span>
          <a href="#525665" title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]">specSym</a><span class="delimiter">(</span><a href="#525832" title="SpecializeTypes.this.global.Tree">qual1</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525835">specMember</a><span class="delimiter">)</span> =&gt;
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;found &quot;)" class="string">&quot;found &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525835" title="SpecializeTypes.this.global.Symbol">specMember</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <a href="#111022" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#525820" title="List[SpecializeTypes.this.global.Tree]">targs</a>.<span title="=&gt; Int">length</span>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeParams</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525820" title="List[SpecializeTypes.this.global.Tree]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                
              <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="525836">env</a> = <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525835" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Tree]" id="525837">residualTargs</a> = <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <span title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]">zip</span> <a href="#525820" title="List[SpecializeTypes.this.global.Tree]">targs</a> <span title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)],SpecializeTypes.this.global.Tree,List[SpecializeTypes.this.global.Tree]])List[SpecializeTypes.this.global.Tree]">collect</span> <a href="#525942" title="SpecializeTypes.this.global.Tree" class="delimiter">{</a>
                <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree" class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="525945">tvar</a>, <a title="SpecializeTypes.this.global.Tree" id="525946">targ</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#525836" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#525945" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106661" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#525836" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#525945" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <a href="#525946" title="SpecializeTypes.this.global.Tree">targ</a>
              <span class="delimiter">}</span>
              
              <a href="#111022" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525837" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#525835" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>,
                <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;residual: %s, tparams: %s, env: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#525837" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105477" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#525836" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="525838">tree1</a> = <a href="#525666" title="(fun: SpecializeTypes.this.global.Tree, targs: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Tree">maybeTypeApply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#525832" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#525835" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#525837" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;rewrote &quot;)" class="string">&quot;rewrote &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525838" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106069" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#525838" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// being polymorphic, it must be a method</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">None</span> =&gt; <a href="#525403" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501558" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Name" id="526036">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#111111" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">illegalSpecializedInheritance</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162574" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Position" id="526037">pos</a> = <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#526037" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97208" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#96521" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#96473" title="=&gt; String">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#526037" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97235" title="=&gt; Int">line</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;)" class="string">&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#526037" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97238" title="=&gt; String">lineContent</a><span class="delimiter">)</span>
          <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">Select</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="526042">qual</a>, <a title="SpecializeTypes.this.global.Name" id="526043">name</a><span class="delimiter">)</span> =&gt;
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s] looking at Select: %s sym: %s: %s [tree.tpe: %s]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>.<a href="../util/Position.scala.html#97235" title="=&gt; Int">line</a>, <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="comment">//log(&quot;!!! select &quot; + tree + &quot; -&gt; &quot; + symbol.info + &quot; specTypeVars: &quot; + specializedTypeVars(symbol.info))</span>
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#111077" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#526043" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// log(&quot;!!! unifying &quot; + (symbol, symbol.tpe) + &quot; and &quot; + (tree, tree.tpe))</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="526058">env</a> = <a href="#111095" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>, <a href="#111011" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="comment">// log(&quot;!!! found env: &quot; + env + &quot;; overloads: &quot; + overloads(symbol))</span>
            <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checking for rerouting: &quot;)" class="string">&quot;checking for rerouting: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sym.tpe: &quot;)" class="string">&quot; with sym.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree.tpe: &quot;)" class="string">&quot; tree.tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526058" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
            <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#526058" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Option[SpecializeTypes.this.Overload]" id="526065">specMember</a> = <a href="#111066" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]">overload</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#526058" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              <span class="comment">//log(&quot;!!! found member: &quot; + specMember)</span>
              <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526065" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// log(&quot;** routing &quot; + tree + &quot; to &quot; + specMember.get.sym.fullName)</span>
                <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106069" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526042" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#526065" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<span title="=&gt; SpecializeTypes.this.Overload">get</span>.<a href="#521286" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526092">qual1</a> = <a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526042" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="526093">specMember</a> = <a href="#526092" title="SpecializeTypes.this.global.Tree">qual1</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105495" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#526058" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107593" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#526100" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105522" title="(that: SpecializeTypes.this.global.Type)Boolean">matches</a> <a href="#111100" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#526058" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526093" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// log(&quot;** using spec member &quot; + specMember + &quot;: &quot; + specMember.tpe)</span>
                  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Select" id="526108">tree1</a> = <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#526092" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#526093" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526093" title="SpecializeTypes.this.global.Symbol">specMember</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span>
                    <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106069" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="#526108" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                  <span class="keyword">else</span>
                    <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#526108" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162501" title="(tree: SpecializeTypes.this.global.Tree, qualifier: SpecializeTypes.this.global.Tree, selector: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526092" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#526043" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#525403" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501558" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#111028" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<span title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</span><span class="delimiter">(</span><a href="#526158" title="SpecializeTypes.this.Overload">_</a>.<a href="#521286" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a> <a href="../symtab/Types.scala.html#105520" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Some</span><span class="delimiter">(</span><a title="SpecializeTypes.this.Overload" id="526161">specMember</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526162">qual1</a> = <a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526042" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;** routing &quot;)" class="string">&quot;** routing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526161" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#521286" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree: &quot;)" class="string">&quot; tree: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../ast/Trees.scala.html#67812" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#526162" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#526161" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#521286" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106069" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#526162" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#526161" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#521286" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">None</span> =&gt;
                <a href="#525403" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501558" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.RefTree" id="526207">pid</a>, <a title="List[SpecializeTypes.this.global.Tree]" id="526208">stats</a><span class="delimiter">)</span> =&gt;
          <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span class="comment">// make sure specializations have been performed</span>
          <a href="TypingTransformers.scala.html#501555" title="(tree: SpecializeTypes.this.global.Tree, owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.PackageDef)SpecializeTypes.this.global.PackageDef">atOwner</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="526230">specMembers</a> = <a href="#525416" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#526208" title="List[SpecializeTypes.this.global.Tree]">stats</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</span> <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a>
            <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162470" title="(tree: SpecializeTypes.this.global.Tree, pid: SpecializeTypes.this.global.RefTree, stats: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.PackageDef">PackageDef</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526207" title="SpecializeTypes.this.global.RefTree">pid</a>, <a href="../ast/Trees.scala.html#162585" title="(stats: List[SpecializeTypes.this.global.Tree], exprOwner: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#526208" title="List[SpecializeTypes.this.global.Tree]">stats</a> <a href="#526294" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#526230" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107627" title="=&gt; SpecializeTypes.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Tree]" id="526316">parents</a>, <a title="SpecializeTypes.this.global.ValDef" id="526317">self</a>, <a title="List[SpecializeTypes.this.global.Tree]" id="526318">body</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="526319">specMembers</a> = <a href="#525415" title="(cls: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">makeSpecializedMembers</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span><span class="delimiter">)</span> <a href="#526321" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#525416" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#526318" title="List[SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span> <span title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</span> <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162672" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</a> <a href="#525409" title="this.CollectMethodBodies">CollectMethodBodies</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="526320">parents1</a> = <a href="../ast/Trees.scala.html#162570" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, Int),List[(SpecializeTypes.this.global.Type, Int)]])List[(SpecializeTypes.this.global.Type, Int)]">zipWithIndex</span>.<span title="(f: (SpecializeTypes.this.global.Type, Int) =&gt; SpecializeTypes.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, Int)],SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]])List[SpecializeTypes.this.global.TypeTree]">map</span> <a href="#526472" title="SpecializeTypes.this.global.TypeTree" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.TypeTree" class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="526475">tpe</a>, <a title="Int" id="526476">idx</a><span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#67818" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#526475" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.TypeTree">setPos</span> <a href="#526316" title="(n: Int)SpecializeTypes.this.global.Tree">parents</a><span class="delimiter">(</span><a href="#526476" title="Int">idx</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162478" title="(tree: SpecializeTypes.this.global.Tree, parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>,
            <a href="#526320" title="List[SpecializeTypes.this.global.TypeTree]">parents1</a>    <span class="comment">/*currentOwner.info.parents.map(tpe =&gt; TypeTree(tpe) setPos parents.head.pos)*/</span> ,
            <a href="#526317" title="SpecializeTypes.this.global.ValDef">self</a>,
            <a href="TypingTransformers.scala.html#501552" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">atOwner</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162570" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162577" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#526318" title="List[SpecializeTypes.this.global.Tree]">body</a> <a href="#526537" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#526319" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span class="keyword">case</span> <a title="SpecializeTypes.this.global.Tree" id="526547">ddef</a> @ DefDef<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="526556">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="526557">name</a>, <a title="List[SpecializeTypes.this.global.TypeDef]" id="526558">tparams</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="526559">vparamss</a>, <a title="SpecializeTypes.this.global.Tree" id="526560">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="526561">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#111058" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// log(&quot;--&gt; method: &quot; + ddef + &quot; in &quot; + ddef.symbol.owner + &quot;, &quot; + info(symbol))</span>
          <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526564">t</a> = <a href="TypingTransformers.scala.html#501552" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atOwner</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="526580">superRef</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <a href="TypingTransformers.scala.html#110301" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(qual: SpecializeTypes.this.global.Tree, mix: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.Super">Super</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(qual: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.This">This</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67720" title="object SpecializeTypes.this.global.tpnme">tpnme</a>.<span title="=&gt; SpecializeTypes.this.global.tpnme.NameType">EMPTY</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67720" title="object SpecializeTypes.this.global.tpnme">tpnme</a>.<span title="=&gt; SpecializeTypes.this.global.tpnme.NameType">EMPTY</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115416" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#111114" title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">forwardCtorCall</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#526580" title="SpecializeTypes.this.global.Tree">superRef</a>, <a href="#526559" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526556" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526557" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526558" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526559" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526560" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="TypingTransformers.scala.html#110301" title="(stats: List[SpecializeTypes.this.global.Tree], expr: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: SpecializeTypes.this.global.Tree*)List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#526564" title="SpecializeTypes.this.global.Tree">t</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#110301" title="(value: Any)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// duplicate the original constructor</span>
              <a href="#525413" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#526547" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="#518103" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="SpecializeTypes.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.DefDef">Implementation</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="526861">target</a><span class="delimiter">)</span> =&gt;
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525405" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#526861" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526861" title="SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <span class="comment">// we have an rhs, specialize it</span>
              <span class="keyword">val</span> <a title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="526862">tree1</a> = <a href="#525413" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#526547" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#526861" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526862" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> DefDef<a href="#526864" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#526863" title="SpecializeTypes.this.global.Modifiers" id="526864">mods</a>, <a href="#526863" title="SpecializeTypes.this.global.TermName" id="526865">name</a>, <a href="#526863" title="List[SpecializeTypes.this.global.TypeDef]" id="526866">tparams</a>, <a href="#526863" title="List[List[SpecializeTypes.this.global.ValDef]]" id="526867">vparamss</a>, <a href="#526863" title="SpecializeTypes.this.global.Tree" id="526868">tpt</a>, <a href="#526863" title="SpecializeTypes.this.global.Tree" id="526869">rhs</a><span class="delimiter">)</span> = <a href="#526862" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>
              <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#526862" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>, <a href="#526864" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526865" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526866" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526867" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526868" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526869" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">NormalizedMember</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="526947">target</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Normalized member: &quot;)" class="string">&quot;Normalized member: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, target: &quot;)" class="string">&quot;, target: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526947" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#526947" title="SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <a href="#111104" title="(env: SpecializeTypes.this.TypeEnv)Boolean">conflicting</a><span class="delimiter">(</span><a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526556" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526557" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526558" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526559" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526560" title="SpecializeTypes.this.global.Tree">tpt</a>,
                  <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
                    <a href="TypingTransformers.scala.html#110301" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105568" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#67699" title="object SpecializeTypes.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106315" title="=&gt; SpecializeTypes.this.global.Symbol">Predef_error</a><span class="delimiter">)</span>,
                          <span title="(xs: SpecializeTypes.this.global.Literal*)List[SpecializeTypes.this.global.Literal]">List</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(value: Any)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="java.lang.String(&quot;boom! you stepped on a bug. This method should never be called.&quot;)" class="string">&quot;boom! you stepped on a bug. This method should never be called.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="comment">// we have an rhs, specialize it</span>
                <span class="keyword">val</span> <a title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="526991">tree1</a> = <a href="#525413" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span><a href="#526547" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#526947" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
                <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526991" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> DefDef<a href="#526993" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#526992" title="SpecializeTypes.this.global.Modifiers" id="526993">mods</a>, <a href="#526992" title="SpecializeTypes.this.global.TermName" id="526994">name</a>, <a href="#526992" title="List[SpecializeTypes.this.global.TypeDef]" id="526995">tparams</a>, <a href="#526992" title="List[List[SpecializeTypes.this.global.ValDef]]" id="526996">vparamss</a>, <a href="#526992" title="SpecializeTypes.this.global.Tree" id="526997">tpt</a>, <a href="#526992" title="SpecializeTypes.this.global.Tree" id="526998">rhs</a><span class="delimiter">)</span> = <a href="#526991" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>
                <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#526991" title="d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">tree1</a>, <a href="#526993" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526994" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526995" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526996" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526997" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#526998" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.DefDef">SpecialOverride</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527045">target</a><span class="delimiter">)</span> =&gt;
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525405" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#527045" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527045" title="SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
              <span class="comment">//if (settings.debug.value)</span>
                <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;moving implementation, body of target &quot;)" class="string">&quot;moving implementation, body of target &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527045" title="SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525405" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#527045" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is param accessor? %b&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#526547" title="SpecializeTypes.this.global.DefDef">ddef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>, <a href="#526547" title="SpecializeTypes.this.global.DefDef">ddef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="comment">// we have an rhs, specialize it</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="527046">tree1</a> = <a href="#525414" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span><a href="#526547" title="SpecializeTypes.this.global.DefDef">ddef</a>, <a href="#527045" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162672" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</a> <a href="../ast/Trees.scala.html#67848" title="SpecializeTypes.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#527045" title="SpecializeTypes.this.global.Symbol">target</a>, <a href="#527046" title="SpecializeTypes.this.global.DefDef">tree1</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#527046" title="SpecializeTypes.this.global.DefDef">tree1</a>.<span title="=&gt; SpecializeTypes.this.global.Tree">rhs</span><span class="delimiter">)</span>
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;changed owners, now: &quot;)" class="string">&quot;changed owners, now: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527046" title="SpecializeTypes.this.global.DefDef">tree1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> DefDef<a href="#527048" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#527047" title="SpecializeTypes.this.global.Modifiers" id="527048">mods</a>, <a href="#527047" title="SpecializeTypes.this.global.TermName" id="527049">name</a>, <a href="#527047" title="List[SpecializeTypes.this.global.TypeDef]" id="527050">tparams</a>, <a href="#527047" title="List[List[SpecializeTypes.this.global.ValDef]]" id="527051">vparamss</a>, <a href="#527047" title="SpecializeTypes.this.global.Tree" id="527052">tpt</a>, <a href="#527047" title="SpecializeTypes.this.global.Tree" id="527053">rhs</a><span class="delimiter">)</span> = <a href="#527046" title="SpecializeTypes.this.global.DefDef">tree1</a>
              <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#527046" title="SpecializeTypes.this.global.DefDef">tree1</a>, <a href="#527048" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#527049" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#527050" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#527051" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#527052" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#527053" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>


            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">SpecialOverload</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527125">original</a>, <a title="SpecializeTypes.this.TypeEnv" id="527126">env</a><span class="delimiter">)</span> =&gt;
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;completing specialized &quot;)" class="string">&quot;completing specialized &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; calling &quot;)" class="string">&quot; calling &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527125" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;special overload &quot;)" class="string">&quot;special overload &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527125" title="SpecializeTypes.this.global.Symbol">original</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527126" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="527127">t</a> = <a href="../ast/Trees.scala.html#67802" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="527151">vparamss</a> =&gt; 
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Apply" id="527152">fun</a> = <a href="TypingTransformers.scala.html#110301" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67812" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67811" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">This</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#527125" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>,
                                <a href="#111118" title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]">makeArguments</a><span class="delimiter">(</span><a href="#527125" title="SpecializeTypes.this.global.Symbol">original</a>, <a href="#527151" title="List[List[SpecializeTypes.this.global.Symbol]]">vparamss</a>.<span title="=&gt; List[SpecializeTypes.this.global.Symbol]">head</span><span class="delimiter">)</span><span class="delimiter">)</span>

                <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inside defdef: &quot;)" class="string">&quot;inside defdef: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;; type: &quot;)" class="string">&quot;; type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;; owner: &quot;)" class="string">&quot;; owner: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#64843" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105581" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="#527152" title="SpecializeTypes.this.global.Apply">fun</a>,
                  <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105472" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a>,
                  <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105502" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#527125" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105472" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created special overload tree &quot;)" class="string">&quot;created special overload tree &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527127" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created &quot;)" class="string">&quot;created &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527127" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#527127" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              
            <span class="keyword">case</span> <a title="SpecializeTypes.this.global.analyzer.global.Tree" id="527190">fwd</a> @ Forward<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;forward: &quot;)" class="string">&quot;forward: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527190" title="SpecializeTypes.this.Forward">fwd</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526547" title="SpecializeTypes.this.global.DefDef">ddef</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="527191">rhs1</a> = <a href="#111113" title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree">forwardCall</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="../Global.scala.html#64843" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105567" title="(pre: SpecializeTypes.this.global.gen.global.Type, sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107600" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, <a href="#527190" title="SpecializeTypes.this.Forward">fwd</a>.<a href="#518200" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="#526559" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
              <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;completed forwarder to specialized overload: &quot;)" class="string">&quot;completed forwarder to specialized overload: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527190" title="SpecializeTypes.this.Forward">fwd</a>.<a href="#518200" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527191" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526556" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526557" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526558" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526559" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526560" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#527191" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
              
            <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">SpecializedAccessor</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527201">target</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.gen.global.Tree" id="527202">rhs1</a> = <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#64843" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105568" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#527201" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="keyword">else</span> 
                <a href="TypingTransformers.scala.html#110301" title="(lhs: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../Global.scala.html#64843" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105568" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#527201" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67813" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#526559" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[SpecializeTypes.this.global.ValDef]">head</span>.<span title="=&gt; SpecializeTypes.this.global.ValDef">head</span>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specialized accessor: &quot;)" class="string">&quot;specialized accessor: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527201" title="SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527202" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#526556" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#526557" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#526558" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#526559" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#526560" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#527202" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Modifiers" id="527239">mods</a>, <a title="SpecializeTypes.this.global.TermName" id="527240">name</a>, <a title="SpecializeTypes.this.global.Tree" id="527241">tpt</a>, <a title="SpecializeTypes.this.global.Tree" id="527242">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; Boolean">isParamAccessor</span> =&gt;
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#525405" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<span title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107607" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>, <a href="#525405" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ValDef" id="527243">tree1</a> = <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162472" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#527239" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#527240" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#527241" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#525405" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107607" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Tree">duplicate</span><span class="delimiter">)</span>
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;now typing: &quot;)" class="string">&quot;now typing: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527243" title="SpecializeTypes.this.global.ValDef">tree1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="527244">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#111108" title="SpecializeTypes.this.Duplicator">Duplicator</a>
          <span class="keyword">val</span> ValDef<a href="#527246" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, SpecializeTypes.this.global.Tree, SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#527245" title="SpecializeTypes.this.global.Modifiers" id="527246">mods1</a>, <a href="#527245" title="SpecializeTypes.this.global.TermName" id="527247">name1</a>, <a href="#527245" title="SpecializeTypes.this.global.Tree" id="527248">tpt1</a>, <a href="#527245" title="SpecializeTypes.this.global.Tree" id="527249">rhs1</a><span class="delimiter">)</span> = <a href="#527244" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#497330" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span title="d.global.Tree @unchecked" class="delimiter">(</span>
            <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105973" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#105654" title="d.Context">Context</a><span class="delimiter">]</span>,
            <a href="#527243" title="SpecializeTypes.this.global.ValDef">tree1</a>,
            <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107607" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
            <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
            <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107607" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ValDef" id="527250">t</a> = <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162472" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#527243" title="SpecializeTypes.this.global.ValDef">tree1</a>, <a href="#527246" title="SpecializeTypes.this.global.Modifiers">mods1</a>, <a href="#527247" title="SpecializeTypes.this.global.TermName">name1</a>, <a href="#527248" title="SpecializeTypes.this.global.Tree">tpt1</a>, <a href="#525411" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#527249" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;valdef &quot;)" class="string">&quot;valdef &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527250" title="SpecializeTypes.this.global.ValDef">t</a><span class="delimiter">)</span>
          <a href="#527250" title="SpecializeTypes.this.global.ValDef">t</a>
        
<span class="comment">//          val tree1 =</span>
<span class="comment">//            treeCopy.ValDef(tree, mods, name, tpt,</span>
<span class="comment">//              localTyper.typed(</span>
<span class="comment">//                Apply(Select(Super(currentClass, nme.EMPTY), symbol.alias.getter(symbol.alias.owner)),</span>
<span class="comment">//                      List())))</span>
<span class="comment">//          debuglog(&quot;replaced ValDef: &quot; + tree1 + &quot; in &quot; + tree.symbol.owner.fullName)</span>
<span class="comment">//          tree1</span>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Select" id="527418">sel</a> @ Select<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Super" id="527423">sup</a> @ Super<span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="527428">qual</a>, <a title="SpecializeTypes.this.global.TypeName" id="527429">name</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Name" id="527430">name1</a><span class="delimiter">)</span>, <a title="List[SpecializeTypes.this.global.Tree]" id="527431">args</a><span class="delimiter">)</span>
          <span class="keyword">if</span> <span class="delimiter">(</span><a href="#527423" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102962" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#527423" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <span class="keyword">def</span> <a title="=&gt; List[SpecializeTypes.this.global.Type]" id="527445">parents</a> = <a href="#527423" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#525437" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; parents changed from: &quot;)" class="string">&quot; parents changed from: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102962" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#527445" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527445" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.analyzer.global.Tree" id="527446">res</a> = <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#106063" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
            <a href="TypingTransformers.scala.html#110301" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(qual: SpecializeTypes.this.global.Tree, mix: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.Super">Super</a><span class="delimiter">(</span><a href="#527428" title="SpecializeTypes.this.global.Tree">qual</a>, <a href="#527429" title="SpecializeTypes.this.global.TypeName">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Super">setPos</span> <a href="#527423" title="SpecializeTypes.this.global.Super">sup</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="#527430" title="SpecializeTypes.this.global.Name">name1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Select">setPos</span> <a href="#527418" title="SpecializeTypes.this.global.Select">sel</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>, <a href="../ast/Trees.scala.html#162577" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#527431" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.Apply">setPos</span> <a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;retyping call to super, from: &quot;)" class="string">&quot;retyping call to super, from: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#525664" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527446" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>.<span title="=&gt; SpecializeTypes.this.global.analyzer.global.Symbol">symbol</span><span class="delimiter">)</span>
          <a href="#527446" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>

        <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Tree">_</span> =&gt;
          <a href="#525403" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser with ScalaObject{def this(): this.CollectMethodBodies; override def traverse(tree: SpecializeTypes.this.global.Tree): Unit}; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#501558" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#525437" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[SpecializeTypes.this.global.TypeDef])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" id="525412">reskolemize</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.TypeDef]" id="527512">tparams</a>: <span title="List[SpecializeTypes.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="527513">tparams1</a> = <a href="#527512" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a> <span title="(f: SpecializeTypes.this.global.TypeDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TypeDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#527530" title="SpecializeTypes.this.global.TypeDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105969" title="=&gt; SpecializeTypes.this.global.analyzer.Namer">namer</a>.<a href="../typechecker/Namers.scala.html#527593" title="(tparams: List[SpecializeTypes.this.global.analyzer.global.TypeDef])Unit">skolemize</a><span class="delimiter">(</span><a href="#527512" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <span title="(_1: List[SpecializeTypes.this.global.Symbol], _2: List[SpecializeTypes.this.global.Symbol])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</span><a href="#527513" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>, <a href="#527512" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a> <span title="(f: SpecializeTypes.this.global.TypeDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TypeDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#527648" title="SpecializeTypes.this.global.TypeDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>


    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="525413">duplicateBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="526699">tree</a>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span>, <a title="SpecializeTypes.this.global.Symbol" id="526700">source</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="526701">symbol</a> = <a href="#526699" title="SpecializeTypes.this.global.DefDef">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="526702">meth</a>   = <a href="#525414" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span><a href="#526699" title="SpecializeTypes.this.global.DefDef">tree</a>, <a href="#526700" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>
      <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;now typing: &quot;)" class="string">&quot;now typing: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526702" title="SpecializeTypes.this.global.DefDef">meth</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#526701" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107541" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="526703">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#111108" title="SpecializeTypes.this.Duplicator">Duplicator</a>
      <a href="#526703" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#497330" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span class="delimiter">(</span>
        <a href="TypingTransformers.scala.html#501543" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105973" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#105654" title="d.Context">Context</a><span class="delimiter">]</span>,
        <a href="#526702" title="SpecializeTypes.this.global.DefDef">meth</a>,
        <a href="#526700" title="SpecializeTypes.this.global.Symbol">source</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
        <a href="#526701" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
        <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#526700" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</span> <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#526701" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Put the body of 'source' as the right hand side of the method 'tree'.
     *  The destination method gets fresh symbols for type and value parameters,
     *  and the body is updated to the new symbols, and owners adjusted accordingly.
     *  However, if the same source tree is used in more than one place, full re-typing
     *  is necessary. @see method duplicateBody
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef" id="525414">addBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="526704">tree</a>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span>, <a title="SpecializeTypes.this.global.Symbol" id="526705">source</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="527678">symbol</a> = <a href="#526704" title="SpecializeTypes.this.global.DefDef">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>
      <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specializing body of&quot;)" class="string">&quot;specializing body of&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527678" title="SpecializeTypes.this.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527678" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="keyword">val</span> DefDef<a href="#527680" title="(SpecializeTypes.this.global.Modifiers, SpecializeTypes.this.global.TermName, List[SpecializeTypes.this.global.TypeDef], List[List[SpecializeTypes.this.global.ValDef]], SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="#527679" title="SpecializeTypes.this.global.Modifiers" id="527680">mods</a>, <a href="#527679" title="SpecializeTypes.this.global.TermName" id="527681">name</a>, <a href="#527679" title="List[SpecializeTypes.this.global.TypeDef]" id="527682">tparams</a>, <a href="#527679" title="List[List[SpecializeTypes.this.global.ValDef]]" id="527683">vparamss</a>, <a href="#527679" title="SpecializeTypes.this.global.Tree" id="527684">tpt</a>, _<span class="delimiter">)</span> = <a href="#526704" title="SpecializeTypes.this.global.DefDef">tree</a>
<span class="comment">//      val (_, origtparams) = splitParams(source.typeParams)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="527685">env</a> = <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#527678" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="527686">boundTvars</a> = <a href="#527685" title="SpecializeTypes.this.TypeEnv">env</a>.<span title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</span>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="527687">origtparams</a> = <a href="#526705" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<span title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527744">tparam</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#527686" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">boundTvars</a><span class="delimiter">(</span><a href="#527744" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106663" title="(tp: SpecializeTypes.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#527685" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#527744" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#111021" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="java.lang.String(&quot;substituting &quot;)" class="string">&quot;substituting &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527687" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#527678" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#107579" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>

      <span class="comment">// skolemize type parameters</span>
      <span class="keyword">val</span> <a href="#527689" title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</a><a href="#527688" title="List[SpecializeTypes.this.global.Symbol]" id="527689">oldtparams</a>, <a href="#527688" title="List[SpecializeTypes.this.global.Symbol]" id="527690">newtparams</a><span class="delimiter">)</span> = <a href="#525412" title="(tparams: List[SpecializeTypes.this.global.TypeDef])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">reskolemize</a><span title="(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#527682" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>

      <span class="comment">// create fresh symbols for value parameters to hold the skolem types</span>
      <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="527691">vparamss1</a> = <span title="(xs: List[SpecializeTypes.this.global.ValDef]*)List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="527867">vdef</a> &lt;- <a href="#527683" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>.<span title="(f: SpecializeTypes.this.global.ValDef =&gt; (SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.ValDef, SpecializeTypes.this.global.Symbol)]">head</span>; <a title="SpecializeTypes.this.global.Symbol" id="527868">param</a> = <a href="#527867" title="SpecializeTypes.this.global.ValDef">vdef</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="../ast/Trees.scala.html#67795" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#527868" title="SpecializeTypes.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#527678" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Symbol">setInfo</a><span class="delimiter">(</span><a href="#527868" title="SpecializeTypes.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105505" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#527689" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#527690" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      
      <span class="comment">// replace value and type parameters of the old method with the new ones</span>
      <span class="comment">// log(&quot;Adding body for &quot; + tree.symbol + &quot; - origtparams: &quot; + origtparams + &quot;; tparams: &quot; + tparams)</span>
      <span class="comment">// log(&quot;Type vars of: &quot; + source + &quot;: &quot; + source.typeParams)</span>
      <span class="comment">// log(&quot;Type env of: &quot; + tree.symbol + &quot;: &quot; + boundTvars)</span>
      <span class="comment">// log(&quot;newtparams: &quot; + newtparams)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.ImplementationAdapter" id="527692">symSubstituter</a> = <span title="SpecializeTypes.this.ImplementationAdapter" class="keyword">new</span> <a href="#111109" title="SpecializeTypes.this.ImplementationAdapter">ImplementationAdapter</a><span class="delimiter">(</span>
        <a href="#525407" title="(key: SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">parameters</a><span class="delimiter">(</span><a href="#526705" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.Symbol] =&gt; scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">flatten</span> <a href="#527917" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#527687" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a>,
        <a href="#527691" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss1</a>.<span title="(implicit asTraversable: List[SpecializeTypes.this.global.ValDef] =&gt; scala.collection.TraversableOnce[SpecializeTypes.this.global.ValDef])List[SpecializeTypes.this.global.ValDef]">flatten</span>.<span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]" class="delimiter">(</span><a href="#528034" title="SpecializeTypes.this.global.ValDef">_</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="#527986" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#527690" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a>,
        <a href="#526705" title="SpecializeTypes.this.global.Symbol">source</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</span>,
        <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="comment">// don't make private fields public</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="527693">tmp</a> = <a href="../ast/Trees.scala.html#167654" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">symSubstituter</a><span class="delimiter">(</span><a href="#525405" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#526705" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>.<span title="=&gt; SpecializeTypes.this.global.Tree">duplicate</span><span class="delimiter">)</span>
      <a href="#527684" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="(t: SpecializeTypes.this.global.Type)Unit">tpe</span> = <a href="#527684" title="SpecializeTypes.this.global.Tree">tpt</a>.<span title="=&gt; SpecializeTypes.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105505" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#527689" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#527690" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#162568" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162473" title="(tree: SpecializeTypes.this.global.Tree, mods: SpecializeTypes.this.global.Modifiers, name: SpecializeTypes.this.global.Name, tparams: List[SpecializeTypes.this.global.TypeDef], vparamss: List[List[SpecializeTypes.this.global.ValDef]], tpt: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#526704" title="SpecializeTypes.this.global.DefDef">tree</a>, <a href="#527680" title="SpecializeTypes.this.global.Modifiers">mods</a>, <a href="#527681" title="SpecializeTypes.this.global.TermName">name</a>, <a href="#527682" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#527691" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss1</a>, <a href="#527684" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#527693" title="SpecializeTypes.this.global.Tree">tmp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Create trees for specialized members of 'cls', based on the
     *  symbols that are already there.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]" id="525415">makeSpecializedMembers</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="526322">cls</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">// add special overrides first</span>
<span class="comment">//      if (!cls.hasFlag(SPECIALIZED))</span>
<span class="comment">//        for (m &lt;- specialOverrides(cls)) cls.info.decls.enter(m)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="528090">mbrs</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="Boolean" id="528091">hasSpecializedFields</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="528122">m</a> &lt;- <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113097" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">toList</a> 
             <span class="keyword">if</span> <a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
                 <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
                 <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#111107" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>, <span title="=&gt; Boolean">!</span><a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;creating tree for &quot;)" class="string">&quot;creating tree for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span>  <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#518103" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<span title="=&gt; Boolean">hasAccessorFlag</span><span class="delimiter">)</span> <a href="#528091" title="Boolean">hasSpecializedFields</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="mbrs.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107473" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="528140">origParamss</a> = <a href="#525407" title="(key: SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">parameters</a><span class="delimiter">(</span><a href="#111058" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#518103" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TermSymbol]" id="528141">vparams</a> = 
              <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="528272">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="528273">sym</a><span class="delimiter">)</span> &lt;- <a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <a href="#528245" title="(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.TermSymbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)],SpecializeTypes.this.global.TermSymbol,List[SpecializeTypes.this.global.TermSymbol]])List[SpecializeTypes.this.global.TermSymbol]">zip</a> <a href="#528140" title="(n: Int)List[SpecializeTypes.this.global.Symbol]">origParamss</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">yield</span> <a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107420" title="(pos: SpecializeTypes.this.global.Position, name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#528273" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#111067" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#528273" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#111097" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                       .<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#528272" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
                       .<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><a href="#528273" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a><span class="delimiter">)</span>

            <span class="comment">// param accessors for private members (the others are inherited from the generic class)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.TermSymbol" id="528425">param</a> &lt;- <a href="#528141" title="(f: SpecializeTypes.this.global.TermSymbol =&gt; (SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TermSymbol],(SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol),List[(SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol)]])List[(SpecializeTypes.this.global.TermSymbol, SpecializeTypes.this.global.Symbol)]">vparams</a> <span class="keyword">if</span> <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105496" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#528425" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../symtab/Symbols.scala.html#152456" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a>;
                   <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="528426">acc</a> = <a href="#528425" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../symtab/Symbols.scala.html#107595" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107553" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span>PARAMACCESSOR <span title="Long(536870916L)">|</span> PRIVATE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#528426" title="SpecializeTypes.this.global.Symbol">acc</a><span class="delimiter">)</span>
                <a href="#528090" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67794" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#528426" title="SpecializeTypes.this.global.Symbol">acc</a>, <a href="TypingTransformers.scala.html#110301" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67406" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ValDef">setPos</span><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            
            <span class="comment">// ctor</span>
            <a href="#528090" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67798" title="(sym: SpecializeTypes.this.global.Symbol, mods: SpecializeTypes.this.global.Modifiers, vparamss: List[List[SpecializeTypes.this.global.ValDef]], rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="TypingTransformers.scala.html#110301" title="(flags: Long)SpecializeTypes.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a><span class="delimiter">)</span>, <span title="(xs: List[SpecializeTypes.this.global.TermSymbol]*)List[List[SpecializeTypes.this.global.TermSymbol]]">List</span><span class="delimiter">(</span><a href="#528141" title="List[SpecializeTypes.this.global.TermSymbol]">vparams</a><span class="delimiter">)</span> <span title="(f: List[SpecializeTypes.this.global.TermSymbol] =&gt; List[SpecializeTypes.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.TermSymbol]],List[SpecializeTypes.this.global.ValDef],List[List[SpecializeTypes.this.global.ValDef]]])List[List[SpecializeTypes.this.global.ValDef]]">map</span> <span class="delimiter">(</span><a href="#528536" title="List[SpecializeTypes.this.global.TermSymbol]">_</a> <span title="(f: SpecializeTypes.this.global.TermSymbol =&gt; SpecializeTypes.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TermSymbol],SpecializeTypes.this.global.ValDef,List[SpecializeTypes.this.global.ValDef]])List[SpecializeTypes.this.global.ValDef]">map</span> <a href="../ast/Trees.scala.html#67795" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">)</span>, <a href="TypingTransformers.scala.html#110301" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#528090" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67802" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="528647">paramss</a> =&gt; <a href="TypingTransformers.scala.html#110301" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107463" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#528090" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67794" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="TypingTransformers.scala.html#110301" title="object SpecializeTypes.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67406" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ValDef">setPos</span><span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#528122" title="SpecializeTypes.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
<span class="comment">//           mbrs  +=</span>
<span class="comment">//              ClassDef(m, Template(m.info.parents map TypeTree, emptyValDef, List())</span>
<span class="comment">//                         .setSymbol(m.newLocalDummy(m.pos)))</span>
<span class="comment">//            log(&quot;created synthetic class: &quot; + m.fullName)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#528091" title="Boolean">hasSpecializedFields</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="528679">isSpecializedInstance</a> = <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#528689" title="SpecializeTypes.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#105454" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="528680">sym</a> = <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107426" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115432" title="=&gt; SpecializeTypes.this.global.nme.NameType">SPECIALIZED_INSTANCE</a>, <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
                     .<a href="../symtab/Symbols.scala.html#107566" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148762" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../symtab/Definitions.scala.html#106734" title="=&gt; SpecializeTypes.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#526322" title="SpecializeTypes.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105487" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#113086" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#528680" title="SpecializeTypes.this.global.MethodSymbol">sym</a><span class="delimiter">)</span>
        <a href="#528090" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <span title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</span> <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#528680" title="SpecializeTypes.this.global.MethodSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#67801" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#528680" title="SpecializeTypes.this.global.MethodSymbol">sym</a>, <a href="TypingTransformers.scala.html#110301" title="(value: Any)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#528679" title="Boolean">isSpecializedInstance</a><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Literal">setType</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106734" title="=&gt; SpecializeTypes.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.DefDef">setType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#67406" title="object SpecializeTypes.this.global.NoType">NoType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#528090" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a>.<span title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Create specialized class definitions */</span>
    <span class="keyword">def</span> <a title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]" id="525416">implSpecClasses</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Tree]" id="525443">trees</a>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="528763">buf</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="528783">tree</a> &lt;- <a href="#525443" title="(f: SpecializeTypes.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span>
        <a href="#528783" title="SpecializeTypes.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, <a title="SpecializeTypes.this.global.Template" id="528798">impl</a><span class="delimiter">)</span> =&gt;
            <a href="#528783" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a> <span class="comment">// force specialization</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="528845">sym1</a>, <a title="SpecializeTypes.this.TypeEnv" id="528846">env</a><span class="delimiter">)</span>, <a title="SpecializeTypes.this.global.Symbol" id="528847">specCls</a><span class="delimiter">)</span> &lt;- <a href="#111025" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit">specializedClass</a> <span class="keyword">if</span> <a href="#528845" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#528783" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="528848">parents</a> = <a href="#528847" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105463" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<span title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]])List[SpecializeTypes.this.global.TypeTree]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]]" class="delimiter">(</span><a href="../ast/Trees.scala.html#67818" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">)</span>
              <a href="#528763" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a> <span title="(x: SpecializeTypes.this.global.Tree)buf.type">+=</span>
                <a href="../ast/Trees.scala.html#67791" title="(sym: SpecializeTypes.this.global.Symbol, impl: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#528847" title="SpecializeTypes.this.global.Symbol">specCls</a>, <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#528798" title="SpecializeTypes.this.global.Template">impl</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</a><span class="delimiter">(</span><a href="#528848" title="List[SpecializeTypes.this.global.TypeTree]">parents</a>, <a href="../ast/Trees.scala.html#67796" title="object SpecializeTypes.this.global.emptyValDef">emptyValDef</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                           .<span title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Template">setSymbol</span><span class="delimiter">(</span><a href="#528847" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../symtab/Symbols.scala.html#107424" title="(pos: SpecializeTypes.this.global.Position)SpecializeTypes.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#528845" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#107404" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)SpecializeTypes.this.global.ClassDef">setPos</span> <a href="#528783" title="SpecializeTypes.this.global.Tree">tree</a>.<span title="=&gt; SpecializeTypes.this.global.Position">pos</span>
              <a href="../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;created synthetic class: &quot;)" class="string">&quot;created synthetic class: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528847" title="SpecializeTypes.this.global.Symbol">specCls</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528845" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in env: &quot;)" class="string">&quot; in env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#528846" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#528763" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a>.<span title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree" id="111113">forwardCall</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="527192">pos</a>: util.<a href="../util/Position.scala.html#30588" title="scala.tools.nsc.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="527193">receiver</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="527194">paramss</a>: <span title="List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.Ident]]" id="529040">argss</a> = <a href="#527194" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a> <span title="(f: List[SpecializeTypes.this.global.ValDef] =&gt; List[SpecializeTypes.this.global.Ident])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.ValDef]],List[SpecializeTypes.this.global.Ident],List[List[SpecializeTypes.this.global.Ident]]])List[List[SpecializeTypes.this.global.Ident]]">map</span> <span class="delimiter">(</span><a href="#529057" title="List[SpecializeTypes.this.global.ValDef]">_</a> <span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Ident,List[SpecializeTypes.this.global.Ident]])List[SpecializeTypes.this.global.Ident]">map</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="529074">x</a> =&gt; <a href="../ast/Trees.scala.html#67813" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#529074" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#527192" title="scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#527193" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="#529144" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.Ident]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#529040" title="List[List[SpecializeTypes.this.global.Ident]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="object SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Forward to the generic class constructor. If the current class initializes 
   *  specialized fields corresponding to parameters, it passes null to the superclass
   *  constructor. This saves the boxing cost for initializing generic fields that are 
   *  never used.
   *  
   *  For example: 
   *  {{{
   *    case class Tuple2[T, U](x: T, y: U)
   *    
   *    class Tuple2$II {
   *      val _x$I: Int = ..
   *      def x = _x$I
   *      // same for y
   *      def this(x: Int, y: Int) {
   *        super.this(null.asInstanceOf[Int], null.asInstanceOf[Int])
   *      }
   *    }
   *  }} 
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree" id="111114">forwardCtorCall</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="526632">pos</a>: util.<a href="../util/Position.scala.html#30588" title="scala.tools.nsc.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="526633">receiver</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="526634">paramss</a>: <span title="List[List[SpecializeTypes.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="526635">clazz</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="SpecializeTypes.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    
    <span class="comment">/** A constructor parameter `f' initializes a specialized field
     *  iff:
     *    - it is specialized itself
     *    - there is a getter for the original (non-specialized) field in the same class
     *    - there is a getter for the specialized field in the same class 
     */</span>
    <span class="keyword">def</span> <a title="(f: SpecializeTypes.this.global.Symbol)Boolean" id="529158">initializesSpecializedField</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="529160">f</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
      <span class="delimiter">(</span><a href="#529160" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96629" title="(name: String)Boolean">endsWith</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span>
          <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#526635" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105495" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67724" title="object SpecializeTypes.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115754" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">(</span><a href="#529160" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isPublic</span>
          <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#526635" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105488" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#529160" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#107548" title="=&gt; SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107593" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#529174" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67339" title="object SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          
    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.gen.global.Tree]]" id="529159">argss</a> = <a href="#526634" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a> <span title="(f: List[SpecializeTypes.this.global.ValDef] =&gt; List[SpecializeTypes.this.global.gen.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.ValDef]],List[SpecializeTypes.this.global.gen.global.Tree],List[List[SpecializeTypes.this.global.gen.global.Tree]]])List[List[SpecializeTypes.this.global.gen.global.Tree]]">map</span> <span class="delimiter">(</span><a href="#529196" title="List[SpecializeTypes.this.global.ValDef]">_</a> <span title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.gen.global.Tree,List[SpecializeTypes.this.global.gen.global.Tree]])List[SpecializeTypes.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="529213">x</a> =&gt;
      <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#529158" title="(f: SpecializeTypes.this.global.Symbol)Boolean">initializesSpecializedField</a><span class="delimiter">(</span><a href="#529213" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#64843" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105580" title="(value: SpecializeTypes.this.global.gen.global.Tree, tpe: SpecializeTypes.this.global.gen.global.Type, any: Boolean)SpecializeTypes.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#529213" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="../ast/Trees.scala.html#67813" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#529213" title="SpecializeTypes.this.global.ValDef">x</a>.<span title="=&gt; SpecializeTypes.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="../ast/Trees.scala.html#67851" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#526632" title="scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#526633" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="#529307" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.gen.global.Tree]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#529159" title="List[List[SpecializeTypes.this.global.gen.global.Tree]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#110301" title="object SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Concrete methods that use a specialized type, or override such methods. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]" id="111115">concreteSpecMethods</a>: mutable.<span title="scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[SpecializeTypes.this.global.Symbol]">HashSet</span>
  
  <span class="comment">/** Add method m to the set of symbols for which we need an implementation tree
   *  in the tree transformer.
   *  
   *  @note This field is part of the specializeTypes subcomponent, so any symbols 
   *        that here are not garbage collected at the end of a compiler run!
   */</span>
  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Unit" id="111117">addConcreteSpecMethod</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="521390">m</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64991" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72372" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#521390" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#111115" title="=&gt; scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <span title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">+=</span> <a href="#521390" title="SpecializeTypes.this.global.Symbol">m</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]" id="111118">makeArguments</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="527179">fun</a>: <a href="../symtab/Symbols.scala.html#67331" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="527180">vparams</a>: <span title="List[SpecializeTypes.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[SpecializeTypes.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">(</span>
    <span class="comment">//! TODO: make sure the param types are seen from the right prefix</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="529420">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="529421">arg</a><span class="delimiter">)</span> &lt;- <a href="#527179" title="SpecializeTypes.this.global.Symbol">fun</a>.<a href="../symtab/Symbols.scala.html#107564" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105476" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <a href="#529393" title="(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol)],SpecializeTypes.this.global.gen.global.Tree,List[SpecializeTypes.this.global.Tree]])List[SpecializeTypes.this.global.Tree]">zip</a> <a href="#527180" title="List[SpecializeTypes.this.global.Symbol]">vparams</a><span class="delimiter">)</span> <span class="keyword">yield</span>
      <a href="../Global.scala.html#64843" title="object SpecializeTypes.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105581" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67813" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#529421" title="SpecializeTypes.this.global.Symbol">arg</a><span class="delimiter">)</span>, <a href="#529420" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#529421" title="SpecializeTypes.this.global.Symbol">arg</a>.<a href="../symtab/Symbols.scala.html#107562" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="111119">findSpec</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="525756">tp</a>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67392" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#525756" title="SpecializeTypes.this.global.Type">tp</a> <span title="SpecializeTypes.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="529463">pre</a>, <a title="SpecializeTypes.this.global.Symbol" id="529464">sym</a>, _ :: _<span class="delimiter">)</span> =&gt; <a href="#111064" title="(v1: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><span class="delimiter">(</span><a href="#525756" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="SpecializeTypes.this.global.Type">_</span>                         =&gt; <a href="#525756" title="SpecializeTypes.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class SpecializationTransformer extends SpecializeTypes.this.global.Transformer with ScalaObject" id="111120">SpecializationTransformer</a><a href="#111120" title="ScalaObject" class="delimiter">(</a><a title="SpecializeTypes.this.global.CompilationUnit" id="518101">unit</a>: <a href="../CompilationUnits.scala.html#67953" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#67836" title="SpecializeTypes.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <a href="../Global.scala.html#64877" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specializing &quot;)" class="string">&quot;specializing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#518101" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="518100">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="529472">tree</a>: <span title="SpecializeTypes.this.global.Tree">Tree</span><span class="delimiter">)</span> =
      <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36655" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#529472" title="SpecializeTypes.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64806" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#111112" title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[List[SpecializeTypes.this.global.Symbol]]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser with ScalaObject; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}">specializeCalls</a><span class="delimiter">(</span><a href="#518101" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>.<a href="TypingTransformers.scala.html#501558" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#529472" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="111121">printSpecStats</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    concreteSpecMembers: %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#111115" title="=&gt; scala.collection.mutable.Set[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    overloads:           %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#111028" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">overloads</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    typeEnv:             %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#111097" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">typeEnv</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    info:                %7d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#111058" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>      
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>