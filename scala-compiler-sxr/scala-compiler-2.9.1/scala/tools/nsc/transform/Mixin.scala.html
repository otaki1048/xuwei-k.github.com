<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/Mixin.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Mixin extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="25775">Mixin</a> <a href="#25775" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#27212" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#11731" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#105692" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#67688" title="object Mixin.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#105696" title="object Mixin.this.CODE">CODE</a>._

  <span class="comment">/** The name of the phase: */</span>
  <span class="keyword">val</span> <a title="String" id="111878">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;mixin&quot;)" class="string">&quot;mixin&quot;</span>

  <span class="comment">/** The phase might set the following new flags: */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="111880">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../symtab/Flags.scala.html#67040" title="=&gt; Long">lateMODULE</a> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67054" title="=&gt; Long">notABSTRACT</a>

  <span class="comment">/** This map contains a binding (class -&gt; info) if
   *  the class with this info at phase mixinPhase has been treated for mixin composition 
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]" id="111881">treatedClassInfos</a> = collection.mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</span><span title="(elems: (Mixin.this.global.Symbol, Mixin.this.global.Type)*)scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a href="../symtab/Types.scala.html#67381" title="Mixin.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

<span class="comment">// --------- helper functions -----------------------------------------------</span>

  <span class="comment">/** A member of a trait is implemented statically if its implementation after the
   *  mixin transform is in the static implementation module. To be statically
   *  implemented, a member must be a method that belonged to the trait's implementation class
   *  before (e.g. it is not abstract). Not statically implemented are
   *   - non-private modules: these are implemented directly in the mixin composition class
   *     (private modules, on the other hand, are implemented statically, but their
   *      module variable is not. all such private modules are lifted, because 
   *      non-lifted private modules have been eliminated in ExplicitOuter)
   *   - field accessors and superaccessors, except for lazy value accessors which become initializer
   *     methods in the impl class (because they can have arbitrary initializers)
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="111883">isImplementedStatically</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509291">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#509291" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#509291" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
    <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509291" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">||</span> <a href="#509291" title="Mixin.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span>PRIVATE <span title="Long(17179869188L)">|</span> LIFTED<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
    <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#509291" title="Mixin.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span class="delimiter">(</span>ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#509291" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span>

  <span class="comment">/** A member of a trait is static only if it belongs only to the
   *  implementation class, not the interface, and it is implemented
   *  statically.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="111884">isStaticOnly</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509302">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#111883" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#509302" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#509302" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107382" title="=&gt; Boolean">isImplOnly</a>

  <span class="comment">/** A member of a trait is forwarded if it is implemented statically and it
   *  is also visible in the trait's interface. In that case, a forwarder to
   *  the member's static implementation will be added to the class that
   *  inherits the trait.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="111885">isForwarded</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509305">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#111883" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#509305" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#509305" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107382" title="=&gt; Boolean">isImplOnly</a>

  <span class="comment">/** Maps the type of an implementation class to its interface;
   *  maps all other types to themselves.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="111886">toInterface</a><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="509308">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Mixin.this.global.Type">Type</a> =
    <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72335" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#509308" title="Mixin.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#107485" title="=&gt; Mixin.this.global.Symbol">toInterface</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>

  <span class="comment">/** Maps all parts of this type that refer to implementation classes to
   *  their corresponding interfaces.
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.TypeMap" id="111887">toInterfaceMap</a> = <a href="#509215" title="Mixin.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#67503" title="anonymous class $anon extends Mixin.this.global.TypeMap" id="509215">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="509217">apply</a><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="509218">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Mixin.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#133280" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">mapOver</a><span class="delimiter">(</span> <a href="#509218" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="509263">pre</a>, <a title="Mixin.this.global.Symbol" id="509264">sym</a>, <a title="List[Mixin.this.global.Type]" id="509265">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#509264" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Types.scala.html#67472" title="(pre: Mixin.this.global.Type, sym: Mixin.this.global.Symbol, args: List[Mixin.this.global.Type])Mixin.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#509263" title="Mixin.this.global.Type">pre</a>, <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72335" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#509264" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107485" title="=&gt; Mixin.this.global.Symbol">toInterface</a><span class="delimiter">)</span>, <a href="#509265" title="List[Mixin.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Type">_</span> =&gt; <a href="#509218" title="Mixin.this.global.Type">tp</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The implementation class corresponding to a currently compiled interface.
   *  todo: try to use Symbol.implClass instead?
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="111889">implClass</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509317">iface</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509319">impl</a> = <a href="#509317" title="Mixin.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#107464" title="=&gt; Mixin.this.global.Symbol">implClass</a>
    <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#509319" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#509319" title="Mixin.this.global.Symbol">impl</a> <span class="keyword">else</span> <a href="../Global.scala.html#64918" title="object Mixin.this.global.erasure">erasure</a>.<a href="AddInterfaces.scala.html#111570" title="(iface: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#509317" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Returns the symbol that is accessed by a super-accessor in a mixin composition.
   *
   *  @param base       The class in which everything is mixed together
   *  @param member     The symbol statically referred to by the superaccessor in the trait
   *  @param mixinClass The mixin class that produced the superaccessor
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol, mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="111890">rebindSuper</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509325">base</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="509326">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="509327">mixinClass</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> =
    <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72323" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Symbol]" id="509333">bcs</a> = <a href="#509325" title="Mixin.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">dropWhile</span><span class="delimiter">(</span><a href="#509327" title="Mixin.this.global.Symbol">mixinClass</a> <a href="#509348" title="(x$1: AnyRef)Boolean">!=</a><span class="delimiter">)</span>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="509334">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;starting rebindsuper &quot;)" class="string">&quot;starting rebindsuper &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509325" title="Mixin.this.global.Symbol">base</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509326" title="Mixin.this.global.Symbol">member</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509326" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509327" title="Mixin.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509325" title="Mixin.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509333" title="List[Mixin.this.global.Symbol]">bcs</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509333" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#509334" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#509335" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509366">other</a> = <a href="#509333" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105348" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#509326" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>;
          <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;rebindsuper &quot;)" class="string">&quot;rebindsuper &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509333" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509366" title="Mixin.this.global.Symbol">other</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509366" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509366" title="Mixin.this.global.Symbol">other</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#509334" title="Mixin.this.global.Symbol">sym</a> = <a href="#509326" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107487" title="(ofclazz: Mixin.this.global.Symbol, site: Mixin.this.global.Type)Mixin.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#509333" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>, <a href="#509325" title="Mixin.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Mixin.this.global.Type">thisType</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107452" title="(cond: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509382">sym</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#509382" title="Mixin.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span>DEFERRED <span title="Long(67108880L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#509333" title="List[Mixin.this.global.Symbol]">bcs</a> = <a href="#509333" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="delimiter">}</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#509334" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#509326" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span>
      <a href="#509334" title="Mixin.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

<span class="comment">// --------- type transformation -----------------------------------------------</span>

  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol)Boolean" id="111891">isConcreteAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509400">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
    <a href="#509400" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">hasAccessorFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509400" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#509400" title="Mixin.this.global.Symbol">member</a> <span title="(mask: Long)Boolean">hasFlag</span> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Is member overridden (either directly or via a bridge) in base class sequence `bcs'? */</span>
  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean" id="111892">isOverriddenAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509403">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Symbol]" id="509404">bcs</a>: <span title="List[Mixin.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#95936" title="=&gt; scala.tools.nsc.Phase">ownPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Boolean" id="509410">hasOverridingAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509411">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#509411" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105348" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#509403" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span>
        <a title="Mixin.this.global.Symbol" id="509420">sym</a> =&gt; 
          <a href="#111891" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span class="delimiter">(</span><a href="#509420" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span title="=&gt; Boolean">!</span><a href="#509420" title="Mixin.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="../symtab/Types.scala.html#67605" title="(tp1: Mixin.this.global.Type, tp2: Mixin.this.global.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#509420" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>, <a href="#509403" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#509404" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#509403" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
    <span class="delimiter">(</span><a href="#509410" title="(clazz: Mixin.this.global.Symbol)Boolean">hasOverridingAccessor</a><span class="delimiter">(</span><a href="#509404" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#111892" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#509403" title="Mixin.this.global.Symbol">member</a>, <a href="#509404" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Add given member to given class, and mark member as mixed-in.
   */</span>
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="111893">addMember</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509431">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="509432">member</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new member of &quot;)" class="string">&quot;new member of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509431" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509432" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107526" title="=&gt; String">defString</a><span class="delimiter">)</span>
    <a href="#509431" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a> <a href="#509432" title="Mixin.this.global.Symbol">member</a>
    <a href="#509432" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)member.type">setFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="111894">needsExpandedSetterName</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509447">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#509447" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isLazy</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#509447" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <a href="#509447" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">hasStableFlag</span>
    <span class="keyword">else</span> <span title="=&gt; Boolean">!</span><a href="#509447" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isMutable</span>
  <span class="delimiter">)</span>

  <span class="comment">/** Add getters and setters for all non-module fields of an implementation
   *  class to its interface unless they are already present. This is done
   *  only once per class. The mixedin flag is used to remember whether late
   *  members have been added to an interface.
   *    - lazy fields don't get a setter.
   */</span>
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Unit" id="111895">addLateInterfaceMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509450">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#111881" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]">treatedClassInfos</a> <span title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">get</span> <a href="#509450" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#111881" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Type)Unit">treatedClassInfos</a><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#509450" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72335" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span>

      <span class="comment">/** Create a new getter. Getters are never private or local. They are
       *  always accessors and deferred. */</span>
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="509462">newGetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509474">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="comment">// println(&quot;creating new getter for &quot;+ field +&quot; : &quot;+ field.info +&quot; at &quot;+ field.locationString+(field hasFlag MUTABLE))</span>
        <span class="comment">// atPhase(currentRun.erasurePhase){ </span>
        <span class="comment">//   println(&quot;before erasure: &quot;+ (field.info))</span>
        <span class="comment">// }</span>
        <a href="#509450" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107284" title="(pos: Mixin.this.global.Position, name: Mixin.this.global.TermName)Mixin.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#509474" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115616" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterName</a><span class="delimiter">(</span><a href="#509474" title="Mixin.this.global.Symbol">field</a>.<a href="../ast/TreeDSL.scala.html#105692" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Mixin.this.global.MethodSymbol">setFlag</a><span class="delimiter">(</span><a href="#509474" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span class="delimiter">(</span>PRIVATE <span title="Int(524292)">|</span> LOCAL<span class="delimiter">)</span> <span title="(x: Int)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a> <span title="(x: Int)Long">|</span> 
                     <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#509474" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isMutable</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#107425" title="(info: Mixin.this.global.Type)Mixin.this.global.MethodSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148698" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#509474" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// TODO preserve pre-erasure info?</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Create a new setter. Setters are never private or local. They are
       *  always accessors and deferred. */</span>
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="509463">newSetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509522">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="comment">//println(&quot;creating new setter for &quot;+field+field.locationString+(field hasFlag MUTABLE))</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.TermName" id="509523">setterName</a> = <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115618" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115616" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterName</a><span class="delimiter">(</span><a href="#509522" title="Mixin.this.global.Symbol">field</a>.<a href="../ast/TreeDSL.scala.html#105692" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.MethodSymbol" id="509524">setter</a> = <a href="#509450" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107284" title="(pos: Mixin.this.global.Position, name: Mixin.this.global.TermName)Mixin.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#509522" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#509523" title="Mixin.this.global.TermName">setterName</a><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Mixin.this.global.MethodSymbol">setFlag</a><span class="delimiter">(</span><a href="#509522" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span class="delimiter">(</span>PRIVATE <span title="Int(524292)">|</span> LOCAL<span class="delimiter">)</span> <span title="(x: Int)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
        <a href="#509524" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Mixin.this.global.Type)setter.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#148698" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#509524" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#107305" title="(argtypes: List[Mixin.this.global.Type])List[Mixin.this.global.Symbol]">newSyntheticValueParams</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.Type*)List[Mixin.this.global.Type]">List</span><span class="delimiter">(</span><a href="#509522" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">// TODO preserve pre-erasure info?</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#111894" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#509522" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//println(&quot;creating expanded setter from &quot;+field)</span>
          <a href="#509524" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#107408" title="(name: Mixin.this.global.Name)Unit">name</a> = <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115613" title="(name: Mixin.this.global.TermName, base: Mixin.this.global.Symbol)Mixin.this.global.TermName">expandedSetterName</a><span class="delimiter">(</span><a href="#509524" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#152392" title="=&gt; Mixin.this.global.TermName">name</a>, <a href="#509450" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#509524" title="Mixin.this.global.MethodSymbol">setter</a>
      <span class="delimiter">}</span>

      <a href="#509450" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a> <span class="comment">// make sure info is up to date, so that implClass is set.</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509464">impl</a> = <a href="#111889" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#509464" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509586">member</a> &lt;- <a href="#509464" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: Mixin.this.global.Symbol =&gt; Any)Unit">toList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107383" title="=&gt; Boolean">isModuleVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isDeferred</span>, <a href="#509586" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#509464" title="Mixin.this.global.Symbol">impl</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#509586" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107500" title="(base: Mixin.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="comment">// this will also make getter&amp;setter not private</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509587">getter</a> = <a href="#509586" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#509587" title="Mixin.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#111893" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a>, <a href="#509462" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newGetter</a><span class="delimiter">(</span><a href="#509586" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#67424" title="Mixin.this.global.ConstantType">ConstantType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#509586" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509604">setter</a> = <a href="#509586" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107496" title="(base: Mixin.this.global.Symbol, hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a>, <a href="#111894" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#509586" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#509604" title="Mixin.this.global.Symbol">setter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#111893" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#509450" title="Mixin.this.global.Symbol">clazz</a>, <a href="#509463" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newSetter</a><span class="delimiter">(</span><a href="#509586" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;new defs of &quot;)" class="string">&quot;new defs of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509450" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509450" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Map a lazy, mixedin field accessor to it's trait member accessor */</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="111896">initializer</a> = <span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">HashMap</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span>
  
  <span class="comment">/** Deferred bitmaps that will be added during the transformation of a class */</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]" id="111898">deferredBitmaps</a>: collection.mutable.<span title="scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">HashMap</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>
  
  <span class="comment">/** Add all members to be mixed in into a (non-trait-) class
   *  These are:
   *    for every mixin trait T that is not also inherited by the superclass:
   *     add late interface members to T and then:
   *      - if a member M of T is forwarded to the implementation class, add
   *        a forwarder for M unless one exists already.
   *        The alias of the forwarder is the static member it forwards to.
   *      - for every abstract accessor in T, add a field and an implementation for that accessor
   *      - for every super accessor in T, add an implementation of that accessor
   *      - for every module in T, add a module
   */</span>
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit" id="111900">addMixedinMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509627">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.CompilationUnit" id="509628">unit</a> : <a href="../CompilationUnits.scala.html#67942" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="509630">cloneBeforeErasure</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509631">iface</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="509632">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="509633">imember</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509634">newSym</a> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72331" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509639">res</a> = <a href="#509633" title="Mixin.this.global.Symbol">imember</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#509632" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="comment">// since we used the member (imember) from the interface that represents the trait that's being mixed in, </span>
        <span class="comment">// have to instantiate the interface type params (that may occur in imember's info) as they are seen from the class</span>
        <span class="comment">// we can't use the member that we get from the implementation class, as it's a clone that was made after erasure, </span>
        <span class="comment">// and thus it does not know its info at the beginning of erasure anymore</span>
        <span class="comment">// optimize: no need if iface has no typeparams</span>
        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#509631" title="Mixin.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#107438" title="=&gt; List[Mixin.this.global.Symbol]">typeParams</a> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#509639" title="Mixin.this.global.Symbol">res</a>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Mixin.this.global.Type)res.type">setInfo</a><span class="delimiter">(</span><a href="#509632" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107459" title="=&gt; Mixin.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#105358" title="(clazz: Mixin.this.global.Symbol)Mixin.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#509631" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105360" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#509633" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span><span class="delimiter">)</span> 
        <a href="#509639" title="Mixin.this.global.Symbol">res</a>
      <span class="delimiter">}</span> <span class="comment">// clone before erasure got rid of type info we'll need to generate a javaSig</span>
      <span class="comment">// now we'll have the type info at (the beginning of) erasure in our history,</span>
      <a href="#509634" title="Mixin.this.global.Symbol">newSym</a>.<a href="../symtab/Symbols.scala.html#107427" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">updateInfo</a><span class="delimiter">(</span><a href="#509633" title="Mixin.this.global.Symbol">imember</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105387" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#509634" title="Mixin.this.global.Symbol">newSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// and now newSym has the info that's been transformed to fit this period (no need for asSeenFrom as phase.erasedTypes)</span>
      <a href="#509634" title="Mixin.this.global.Symbol">newSym</a> <span class="comment">// TODO: verify we need the updateInfo and document why</span>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(1048576L)">JAVA</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#111881" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]">treatedClassInfos</a> <span title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">get</span> <a href="#509627" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#111881" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Type)Unit">treatedClassInfos</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>

      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a>, <a href="#509627" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">nonEmpty</span>, <a href="#509627" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      <span class="comment">// first complete the superclass with mixed in members</span>
      <a href="#111900" title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107470" title="=&gt; Mixin.this.global.Symbol">superClass</a>, <a href="#509628" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

      <span class="comment">//Console.println(&quot;adding members of &quot; + clazz.info.baseClasses.tail.takeWhile(superclazz !=) + &quot; to &quot; + clazz);//DEBUG</span>

      <span class="comment">/** Mix in members of implementation class mixinClass into class clazz */</span>
      <span class="keyword">def</span> <a title="(impl: Mixin.this.global.Symbol, iface: Mixin.this.global.Symbol)Unit" id="509667">mixinImplClassMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509678">impl</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="509679">iface</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span>
          <span class="comment">// XXX this should be impl.isImplClass, except that we get impl classes</span>
          <span class="comment">// coming through under -optimise which do not agree that they are (because</span>
          <span class="comment">// the IMPLCLASS flag is unset, I believe.) See ticket #4285.</span>
          <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115604" title="(name: Mixin.this.global.Name)Boolean">isImplClassName</a><span class="delimiter">(</span><a href="#509678" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#509678" title="Mixin.this.global.Symbol">impl</a>.<span title="=&gt; Boolean">isImplClass</span>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s (%s) is not a an implementation class, it cannot mix in %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#509678" title="Mixin.this.global.Symbol">impl</a>, <a href="#509678" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#107525" title="=&gt; String">defaultFlagString</a>, <a href="#509679" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509708">member</a> &lt;- <a href="#509678" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: Mixin.this.global.Symbol =&gt; Any)Unit">toList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#111885" title="(sym: Mixin.this.global.Symbol)Boolean">isForwarded</a><span class="delimiter">(</span><a href="#509708" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509709">imember</a> = <a href="#509708" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107489" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="#509679" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
            <span class="comment">// atPhase(currentRun.erasurePhase){ </span>
            <span class="comment">//   println(&quot;&quot;+(clazz, iface, clazz.typeParams, iface.typeParams, imember, clazz.thisType.baseType(iface), clazz.thisType.baseType(iface).memberInfo(imember), imember.info substSym(iface.typeParams, clazz.typeParams)  ))</span>
            <span class="comment">// }</span>
            <span class="comment">// Console.println(&quot;mixin member &quot;+member+&quot;:&quot;+member.tpe+member.locationString+&quot; &quot;+imember+&quot; &quot;+imember.overridingSymbol(clazz)+&quot; to &quot;+clazz+&quot; with scope &quot;+clazz.info.decls)//DEBUG</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#509709" title="Mixin.this.global.Symbol">imember</a>.<a href="../symtab/Symbols.scala.html#107490" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105397" title="(name: Mixin.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Mixin.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#509708" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a>, <span title="Long(0L)" class="int">0</span>, <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107450" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#509709" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509721">member1</a> = <a href="#111893" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span>
                    <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>,
                    <a href="#509630" title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneBeforeErasure</a><span class="delimiter">(</span><a href="#509679" title="Mixin.this.global.Symbol">iface</a>, <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>, <a href="#509709" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107264" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a> <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#509721" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.TermSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67321" title="Mixin.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span> <a href="../symtab/Symbols.scala.html#152401" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setAlias</a> <a href="#509708" title="Mixin.this.global.Symbol">member</a>;
                <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Mix in members of trait mixinClass into class clazz. Also,
       *  for each lazy field in mixinClass, add a link from its mixed in member to its
       *  initializer method inside the implclass.
       */</span>
      <span class="keyword">def</span> <a title="(mixinClass: Mixin.this.global.Symbol)Unit" id="509668">mixinTraitMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509742">mixinClass</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// For all members of a trait's interface do:</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509765">member</a> &lt;- <a href="#509742" title="Mixin.this.global.Symbol">mixinClass</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: Mixin.this.global.Symbol =&gt; Any)Unit">toList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#111891" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#111892" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>, <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;!!! is overridden val: &quot;)" class="string">&quot;!!! is overridden val: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#509765" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// mixin field accessors</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509771">member1</a> = <a href="#111893" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span>
                <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>,
                <a href="#509630" title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneBeforeErasure</a><span class="delimiter">(</span><a href="#509742" title="Mixin.this.global.Symbol">mixinClass</a>, <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>, <a href="#509765" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span> <span class="comment">//member.cloneSymbol(clazz)</span>
                  <a href="../symtab/Symbols.scala.html#107264" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>
                  <a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="comment">// println(&quot;mixing in: &quot;+ (member, member.info, member1.info))</span>
              <span class="comment">// atPhase(currentRun.erasurePhase){ </span>
              <span class="comment">//   println(&quot;before erasure: &quot;+ (member.info, member1.info))</span>
              <span class="comment">// }</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="509776">init</a> = <a href="#111889" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#509742" title="Mixin.this.global.Symbol">mixinClass</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#509776" title="Mixin.this.global.Symbol">init</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <span title="java.lang.String(&quot;Could not find initializer for &quot;)" class="string">&quot;Could not find initializer for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
                <a href="#111896" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Symbol)Unit">initializer</a><span class="delimiter">(</span><a href="#509771" title="Mixin.this.global.Symbol">member1</a><span class="delimiter">)</span> = <a href="#509776" title="Mixin.this.global.Symbol">init</a>
              <span class="delimiter">}</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107326" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span>
                <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                    <span class="comment">// member is a constant; only getter is needed</span>
                    ;
                  <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, TypeRef<span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                    <span class="comment">// member is a value of type unit. No field needed</span>
                    ;
                  <span class="keyword">case</span> <span title="Mixin.this.global.Symbol">_</span> =&gt; <span class="comment">// otherwise mixin a field as well</span>
                    <span class="comment">// atPhase: the private field is moved to the implementation class by erasure,</span>
                    <span class="comment">// so it can no longer be found in the member's owner (the trait)</span>
                    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509801">accessed</a> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72323" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="509802">sym</a> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.TermSymbol)Mixin.this.global.TermSymbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72331" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">{</span> <span class="comment">// #3857, need to retain info before erasure when cloning (since cloning only carries over the current entry in the type history)</span>
                      <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: Mixin.this.global.Position, name: Mixin.this.global.TermName)Mixin.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115617" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../ast/TreeDSL.scala.html#105692" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span> <span class="comment">// so we have a type history entry before erasure</span>
                    <span class="delimiter">}</span>
                    <a href="#509802" title="Mixin.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107427" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">updateInfo</a><span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span> <span class="comment">// info at current phase</span>
                    <a href="#111893" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>,
                              <a href="#509802" title="Mixin.this.global.TermSymbol">sym</a>
                                <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span>LOCAL <span title="Int(524292)">|</span> PRIVATE <span title="(x: Long)Long">|</span> <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107414" title="(mask: Long)Long">getFlag</a><span class="delimiter">(</span>MUTABLE <span title="Long(2147487744L)">|</span> LAZY<span class="delimiter">)</span><span class="delimiter">)</span>
                                <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><span title="Long" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">hasStableFlag</span><span class="delimiter">)</span> <span title="Long(4096L)">MUTABLE</span> <span class="keyword">else</span> <span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
                                <a href="../symtab/Symbols.scala.html#107271" title="(annots: List[Mixin.this.global.AnnotationInfoBase])sym.type">setAnnotations</a> <a href="#509801" title="Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107270" title="=&gt; List[Mixin.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isSuperAccessor</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// mixin super accessors</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509858">member1</a> = <a href="#111893" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>, <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107264" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#509858" title="Mixin.this.global.Symbol">member1</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#509858" title="Mixin.this.global.Symbol">member1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="509859">alias1</a> = <a href="#111890" title="(base: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol, mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol">rebindSuper</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>, <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a>, <a href="#509742" title="Mixin.this.global.Symbol">mixinClass</a><span class="delimiter">)</span>
            <a href="#509858" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.TermSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67321" title="Mixin.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span> <a href="../symtab/Symbols.scala.html#152401" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setAlias</a> <a href="#509859" title="Mixin.this.global.Symbol">alias1</a>

          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#509765" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<span title="(mask: Long)Boolean">hasNoFlags</span><span class="delimiter">(</span>LIFTED <span title="Long(17246978048L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// mixin objects: todo what happens with abstract objects?</span>
            <a href="#111893" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>, <a href="#509765" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107454" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#107264" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a><span class="delimiter">(</span><a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#107413" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509910">mc</a> &lt;- <a href="#509627" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107471" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">mixinClasses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#509910" title="Mixin.this.global.Symbol">mc</a> <span title="(mask: Long)Boolean">hasFlag</span> <a href="../symtab/Flags.scala.html#67038" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// @SEAN: adding trait tracking so we don't have to recompile transitive closures</span>
          <a href="#509628" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96418" title="=&gt; scala.collection.mutable.HashSet[Mixin.this.global.Symbol]">depends</a> <span title="(elem: Mixin.this.global.Symbol)unit.depends.type">+=</span> <a href="#509910" title="Mixin.this.global.Symbol">mc</a>
          <a href="#111895" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a><span class="delimiter">(</span><a href="#509910" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
          <a href="#509668" title="(mixinClass: Mixin.this.global.Symbol)Unit">mixinTraitMembers</a><span class="delimiter">(</span><a href="#509910" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
          <a href="#509667" title="(impl: Mixin.this.global.Symbol, iface: Mixin.this.global.Symbol)Unit">mixinImplClassMembers</a><span class="delimiter">(</span><a href="#111889" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#509910" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>, <a href="#509910" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The info transform for this phase does the following:
   *   - The parents of every class are mapped from implementation class to interface
   *   - Implementation classes become modules that inherit nothing
   *     and that define all.
   *
   *  @param sym ...
   *  @param tp  ...
   *  @return    ...
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, tp: Mixin.this.global.Type)Mixin.this.global.Type" id="111901">transformInfo</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="509921">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Type" id="509922">tp</a>: <a href="../symtab/Types.scala.html#67381" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#67381" title="Mixin.this.global.Type">Type</a> = <a href="#509922" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Mixin.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Type]" id="509929">parents</a>, <a title="Mixin.this.global.Scope" id="509930">decls</a>, <a title="Mixin.this.global.Symbol" id="509931">clazz</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Type]" id="509932">parents1</a> = <a href="#509929" title="List[Mixin.this.global.Type]">parents</a>
      <span class="keyword">var</span> <a title="Mixin.this.global.Scope" id="509933">decls1</a> = <a href="#509930" title="Mixin.this.global.Scope">decls</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isPackageClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#509931" title="Mixin.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)clazz.type">setFlag</a> <a href="../symtab/Flags.scala.html#67040" title="=&gt; Long">lateMODULE</a>
          <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="509941">sourceModule</a> = <a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112953" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96577" title="=&gt; Mixin.this.global.TermName">toTermName</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#509941" title="Mixin.this.global.Symbol">sourceModule</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#509941" title="Mixin.this.global.Symbol">sourceModule</a> <a href="../symtab/Symbols.scala.html#107264" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>
            <a href="#509941" title="Mixin.this.global.Symbol">sourceModule</a>.<a href="../symtab/Symbols.scala.html#107411" title="(fs: Long)Unit">flags</a> = MODULE <span title="Long(288L)">|</span> FINAL
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#509941" title="Mixin.this.global.Symbol">sourceModule</a> = <a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107288" title="(pos: Mixin.this.global.Position, name: Mixin.this.global.TermName, clazz: Mixin.this.global.ClassSymbol)Mixin.this.global.TermSymbol">newModule</a><span class="delimiter">(</span>
              <a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#96577" title="=&gt; Mixin.this.global.TermName">toTermName</a>, <a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.ClassSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#67326" title="Mixin.this.global.ClassSymbol">ClassSymbol</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#112946" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a> <a href="#509941" title="Mixin.this.global.Symbol">sourceModule</a>
          <span class="delimiter">}</span>
          <a href="#509941" title="Mixin.this.global.Symbol">sourceModule</a> <a href="../symtab/Symbols.scala.html#107425" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">setInfo</a> <a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>
          <span class="comment">// Companion module isn't visible for anonymous class at this point anyway</span>
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<span title="=&gt; Mixin.this.global.Symbol">sourceModule</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#509931" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107346" title="=&gt; Boolean">isAnonymousClass</a>, 
            <a href="#509931" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)java.lang.String">+</span> <span title="java.lang.String(&quot; has no sourceModule: sym = &quot;)" class="string">&quot; has no sourceModule: sym = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509921" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; sym.tpe = &quot;)" class="string">&quot; sym.tpe = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="#509932" title="List[Mixin.this.global.Type]">parents1</a> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#509933" title="Mixin.this.global.Scope">decls1</a> = <a href="../symtab/Scopes.scala.html#112941" title="(decls: List[Mixin.this.global.Symbol])Mixin.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="Mixin.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#509930" title="Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="=&gt; List[Mixin.this.global.Symbol]">toList</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">filter</span> <a href="#111883" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#509929" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#509932" title="List[Mixin.this.global.Type]">parents1</a> = <a href="#509929" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Mixin.this.global.Type">head</span> <a href="#510027" title="(x: Mixin.this.global.Type)List[Mixin.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#509929" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; List[Mixin.this.global.Type]">tail</span> <span title="(f: Mixin.this.global.Type =&gt; Mixin.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Type],Mixin.this.global.Type,List[Mixin.this.global.Type]])List[Mixin.this.global.Type]">map</span> <a href="#111886" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">//decls1 = atPhase(phase.next)(new Scope(decls1.toList))//debug</span>
      <span title="Mixin.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#509932" title="List[Mixin.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#509929" title="List[Mixin.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#509933" title="Mixin.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#509930" title="Mixin.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#509922" title="Mixin.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="../symtab/Types.scala.html#148601" title="(parents: List[Mixin.this.global.Type], decls: Mixin.this.global.Scope, typeSymbol: Mixin.this.global.Symbol)Mixin.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#509932" title="List[Mixin.this.global.Type]">parents1</a>, <a href="#509933" title="Mixin.this.global.Scope">decls1</a>, <a href="#509931" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Mixin.this.global.Type">MethodType</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Symbol]" id="510088">params</a>, <a title="Mixin.this.global.Type" id="510089">restp</a><span class="delimiter">)</span> =&gt;
      <a href="#111887" title="(v1: Mixin.this.global.Type)Mixin.this.global.Type">toInterfaceMap</a><span class="delimiter">(</span>
        <span title="Mixin.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#111883" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#509921" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="510091">ownerParam</a> = <a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107306" title="(argtype: Mixin.this.global.Type)Mixin.this.global.Symbol">newSyntheticValueParam</a><span class="delimiter">(</span><a href="#111886" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#509921" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107458" title="=&gt; Mixin.this.global.Type">typeOfThis</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../symtab/Types.scala.html#148698" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#510091" title="Mixin.this.global.Symbol">ownerParam</a> <a href="#510094" title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">::</a> <a href="#510088" title="List[Mixin.this.global.Symbol]">params</a>, <a href="#510089" title="Mixin.this.global.Type">restp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="#509922" title="Mixin.this.global.Type">tp</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Mixin.this.global.Type">_</span> =&gt;
      <a href="#509922" title="Mixin.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> scala.collection._

  <span class="comment">/** Return a map of single-use fields to the lazy value that uses them during initialization.
   *  Each field has to be private and defined in the enclosing class, and there must
   *  be exactly one lazy value using it.
   *
   *  Such fields will be nulled after the initializer has memoized the lazy value.
   */</span>
  <span class="keyword">def</span> <a title="(templ: Mixin.this.global.Template)scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="111903">singleUseFields</a><span class="delimiter">(</span><a title="Mixin.this.global.Template" id="510100">templ</a>: <span title="Mixin.this.global.Template">Template</span><span class="delimiter">)</span>: collection.<span title="scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="510102">usedIn</a> = <a href="#510105" title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="510105">mutable</a>.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">HashMap</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: Mixin.this.global.Symbol)scala.collection.immutable.Nil.type" id="510107">default</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510108">key</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object SingleUseTraverser" id="510103">SingleUseTraverser</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../ast/Trees.scala.html#67826" title="Mixin.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Unit" id="510150">traverse</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510152">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#510152" title="Mixin.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Assign</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510159">lhs</a>, <a title="Mixin.this.global.Tree" id="510160">rhs</a><span class="delimiter">)</span> =&gt; <a href="#510150" title="(tree: Mixin.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#510160" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span> <span class="comment">// assignments don't count</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#510152" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510152" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="510167">sym</a> = <a href="#510152" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#510167" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAccessorFlag</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#510167" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#510167" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510167" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#510167" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="comment">// getter</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#67688" title="object Mixin.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#106520" title="(sym: Mixin.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#510167" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510167" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#510100" title="Mixin.this.global.Template">templ</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#510167" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isLazy</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#510152" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;added use in: &quot;)" class="string">&quot;added use in: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -- &quot;)" class="string">&quot; -- &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510152" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
                <a href="#510102" title="(key: Mixin.this.global.Symbol, value: List[Mixin.this.global.Symbol])Unit">usedIn</a><span class="delimiter">(</span><a href="#510167" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">::=</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>

              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#162606" title="(tree: Mixin.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#510152" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>          
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="../ast/Trees.scala.html#162608" title="(tree: Mixin.this.global.Template)Mixin.this.global.Template">SingleUseTraverser</a><span class="delimiter">(</span><a href="#510100" title="Mixin.this.global.Template">templ</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;usedIn: &quot;)" class="string">&quot;usedIn: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510102" title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">usedIn</a><span class="delimiter">)</span>
    <a href="#510102" title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">usedIn</a> <span title="(p: (Mixin.this.global.Symbol, List[Mixin.this.global.Symbol]) =&gt; Boolean)scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">filter</span> <a href="#510214" title="Boolean" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, <a title="Mixin.this.global.Symbol" id="510221">member</a> :: <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#510221" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#107322" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510221" title="Mixin.this.global.Symbol">member</a>.<span title="=&gt; Boolean">isLazy</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                  =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="comment">// --------- term transformation -----------------------------------------------</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: Mixin.this.global.CompilationUnit)Mixin.this.global.Transformer" id="111904">newTransformer</a><span class="delimiter">(</span><a title="Mixin.this.global.CompilationUnit" id="510222">unit</a>: <a href="../CompilationUnits.scala.html#67942" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#67825" title="Mixin.this.global.Transformer">Transformer</a> =
    <span title="Mixin.this.MixinTransformer" class="keyword">new</span> <a href="#111905" title="Mixin.this.MixinTransformer">MixinTransformer</a><span class="delimiter">(</span><a href="#510222" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class MixinTransformer extends Mixin.this.global.Transformer with ScalaObject" id="111905">MixinTransformer</a><a href="#111905" title="ScalaObject" class="delimiter">(</a><a title="Mixin.this.global.CompilationUnit" id="510255">unit</a> : <a href="../CompilationUnits.scala.html#67942" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#67825" title="Mixin.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    <span class="comment">/** Within a static implementation method: the parameter referring to the
     *  current object undefined everywhere else.
     */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="510229">self</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = _

    <span class="comment">/** The rootContext used for typing */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Context" id="510231">rootContext</a> =
      <a href="../Global.scala.html#64918" title="object Mixin.this.global.erasure">erasure</a>.<a href="../typechecker/Contexts.scala.html#105502" title="=&gt; Mixin.this.global.erasure.Context">NoContext</a>.<a href="../typechecker/Contexts.scala.html#106697" title="(tree: Mixin.this.global.erasure.global.Tree, owner: Mixin.this.global.erasure.global.Symbol, scope: Mixin.this.global.erasure.global.Scope)Mixin.this.global.erasure.Context">make</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a>, <a href="../symtab/Definitions.scala.html#106036" title="=&gt; Mixin.this.global.ModuleClassSymbol">RootClass</a>, <a href="../symtab/Scopes.scala.html#112939" title="()Mixin.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#67680" title="Mixin.this.global.Scope">Scope</a><span class="delimiter">)</span>

    <span class="comment">/** The typer */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.erasure.Typer" id="510234">localTyper</a>: erasure.<a href="../typechecker/Typers.scala.html#105608" title="Mixin.this.global.erasure.Typer">Typer</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree" id="510236">typedPos</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="510293">pos</a>: <a href="../util/Position.scala.html#30599" title="Mixin.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510294">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#510234" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#105922" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../ast/Trees.scala.html#67840" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#510293" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510294" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="comment">/** Map lazy values to the fields they should null after initialization. */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="510238">lazyValNullables</a>: mutable.<span title="scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">MultiMap</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span> = _

    <span class="keyword">import</span> scala.collection._
    
    <span class="comment">/** Map a field symbol to a unique integer denoting its position in the class layout.
     *  For each class, fields defined by the class come after inherited fields. Mixed-in
     *  fields count as fields defined by the class itself.
     */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]" id="510241">fieldOffset</a>: mutable.<span title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">Map</span><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">HashMap</span><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span>

    <span class="comment">/** The first transform; called in a pre-order traversal at phase mixin
     *  (that is, every node is processed before its children).
     *  What transform does:
     *   - For every non-trait class, add all mixed in members to the class info.
     *   - For every trait, add all late interface members to the class info
     *   - For every static implementation method:
     *       - remove override flag
     *       - create a new method definition that also has a `self' parameter
     *         (which comes first) Iuli: this position is assumed by tail call elimination 
     *         on a different receiver. Storing a new 'this' assumes it is located at
     *         index 0 in the local variable table. See 'STORE_THIS' and GenJVM/GenMSIL.
     *   - Map implementation class types in type-apply's to their interfaces
     *   - Remove all fields in implementation classes
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="510243">preTransform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510315">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="510317">sym</a> = <a href="#510315" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>      
      <a href="#510315" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="510330">parents</a>, <a title="Mixin.this.global.ValDef" id="510331">self</a>, <a title="List[Mixin.this.global.Tree]" id="510332">body</a><span class="delimiter">)</span> =&gt;
          <a href="#510234" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="../Global.scala.html#64918" title="object Mixin.this.global.erasure">erasure</a>.<a href="Erasure.scala.html#111620" title="(context: Mixin.this.global.erasure.Context)Mixin.this.global.erasure.Eraser">newTyper</a><span class="delimiter">(</span><a href="#510231" title="=&gt; Mixin.this.global.erasure.Context">rootContext</a>.<a href="../typechecker/Contexts.scala.html#106700" title="(tree: Mixin.this.global.erasure.global.Tree, owner: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.Context">make</a><span class="delimiter">(</span><a href="#510315" title="Mixin.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="comment">//todo: needed?</span>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#106520" title="(sym: Mixin.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#111900" title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#510255" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a> <span title="(mask: Long)Boolean">hasFlag</span> <a href="../symtab/Flags.scala.html#67038" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span>
            <a href="#111895" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            
          <a href="#510315" title="Mixin.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="510381">mods</a>, <a title="Mixin.this.global.TermName" id="510382">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="510383">tparams</a>, <a href="#510385" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a><span class="delimiter">(</span><a title="List[Mixin.this.global.ValDef]" id="510407">vparams</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="510408">tpt</a>, <a title="Mixin.this.global.Tree" id="510409">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#111883" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#510317" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#510317" title="Mixin.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a> <a href="../symtab/Flags.scala.html#67056" title="=&gt; Long">notOVERRIDE</a>
              <a href="#510229" title="(x$1: Mixin.this.global.Symbol)Unit">self</a> = <a href="#510317" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107279" title="(pos: Mixin.this.global.Position, name: Mixin.this.global.TermName)Mixin.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#510317" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115290" title="=&gt; Mixin.this.global.nme.NameType">SELF</a><span class="delimiter">)</span> 
                .<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span>
                .<a href="../symtab/Symbols.scala.html#107425" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#111886" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107458" title="=&gt; Mixin.this.global.Type">typeOfThis</a><span class="delimiter">)</span><span class="delimiter">)</span>;
              <span class="keyword">val</span> <a title="Mixin.this.global.ValDef" id="510410">selfdef</a> = <a href="../ast/Trees.scala.html#67784" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#510229" title="=&gt; Mixin.this.global.Symbol">self</a><span class="delimiter">)</span> <span title="(tp: Mixin.this.global.Type)Mixin.this.global.ValDef">setType</span> <a href="../symtab/Types.scala.html#67395" title="object Mixin.this.global.NoType">NoType</a>
              <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#510315" title="Mixin.this.global.Tree">tree</a>, <a href="#510381" title="Mixin.this.global.Modifiers">mods</a>, <a href="#510382" title="Mixin.this.global.TermName">name</a>, <a href="#510383" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span><span class="delimiter">(</span><a href="#510410" title="Mixin.this.global.ValDef">selfdef</a> <a href="#510471" title="(x: Mixin.this.global.ValDef)List[Mixin.this.global.ValDef]">::</a> <a href="#510407" title="List[Mixin.this.global.ValDef]">vparams</a><span class="delimiter">)</span>, <a href="#510408" title="Mixin.this.global.Tree">tpt</a>, <a href="#510409" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510317" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107326" title="=&gt; Boolean">isSetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72323" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510317" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#510317" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107272" title="(annot: Mixin.this.global.AnnotationInfo)Unit">addAnnotation</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Mixin.this.global.Type, args: List[Mixin.this.global.Tree], assocs: List[(Mixin.this.global.Name, Mixin.this.global.ClassfileAnnotArg)])Mixin.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106485" title="=&gt; Mixin.this.global.Symbol">TraitSetterAnnotationClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#510315" title="Mixin.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Mixin.this.global.TypeApply" id="510511">tapp</a> @ TypeApply<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510514">fn</a>, <a href="#510516" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510538">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#510540" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#510538" title="Mixin.this.global.Tree">arg</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Type" id="510552">ifacetpe</a> = <a href="#111886" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#510538" title="Mixin.this.global.Tree">arg</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span>
            <a href="#510538" title="Mixin.this.global.Tree">arg</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#510552" title="Mixin.this.global.Type">ifacetpe</a>
            <a href="#510511" title="Mixin.this.global.TypeApply">tapp</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="../symtab/Types.scala.html#148698" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#510552" title="Mixin.this.global.Type">ifacetpe</a><span class="delimiter">)</span>
            <a href="#510315" title="Mixin.this.global.Tree">tree</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#510552" title="Mixin.this.global.Type">ifacetpe</a>
          <span class="delimiter">}</span>
          <a href="#510315" title="Mixin.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.EmptyTree.type">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<span title="=&gt; Boolean">isImplClass</span> =&gt;
          <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#510315" title="Mixin.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
         
    <span class="comment">/** Create an identifier which references self parameter.
     *
     *  @param pos ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position)Mixin.this.global.gen.global.Tree" id="510244">selfRef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="510569">pos</a>: <a href="../util/Position.scala.html#30599" title="Mixin.this.global.Position">Position</a><span class="delimiter">)</span> =
      <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105435" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#510229" title="=&gt; Mixin.this.global.Symbol">self</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">setPos</span> <a href="#510569" title="Mixin.this.global.Position">pos</a>

    <span class="comment">/** Replace a super reference by this or the self parameter, depending
     *  on whether we are in an implementation class or not.
     *  Leave all other trees unchanged. 
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree" id="510245">transformSuper</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510578">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#510578" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">Super</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510587">qual</a>, _<span class="delimiter">)</span> =&gt; 
        <a href="#510246" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformThis</a><span class="delimiter">(</span><a href="#510587" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt; 
        <a href="#510578" title="Mixin.this.global.Tree">tree</a>
    <span class="delimiter">}</span>
    
    <span class="comment">/** Replace a this reference to the current implementation class by the self 
     *  parameter. Leave all other trees unchanged.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree" id="510246">transformThis</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510588">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#510588" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#510588" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isImplClass</span> =&gt;
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#510588" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<span title="=&gt; Mixin.this.global.Symbol">enclClass</span><span class="delimiter">)</span>
        <a href="#510244" title="(pos: Mixin.this.global.Position)Mixin.this.global.gen.global.Tree">selfRef</a><span class="delimiter">(</span><a href="#510588" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
        <a href="#510588" title="Mixin.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Create a static reference to given symbol &lt;code&gt;sym&lt;/code&gt; of the
     *  form &lt;code&gt;M.sym&lt;/code&gt; where M is the symbol's implementation module.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="510247">staticRef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510602">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#510602" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>  <span class="comment">//todo: needed?</span>
      <a href="#510602" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a> <span class="comment">//todo: needed?</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#510602" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<span title="=&gt; Mixin.this.global.Symbol">sourceModule</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510602" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510602" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510602" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510602" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="=&gt; List[Mixin.this.global.Symbol]">toList</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <a href="../ast/TreeDSL.scala.html#113863" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#510602" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<span title="=&gt; Mixin.this.global.Symbol">sourceModule</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#113871" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.global.Select">DOT</a> <a href="#510602" title="Mixin.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>
      
    @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](field: Mixin.this.global.Symbol, transientCase: =&gt; T, privateCase: =&gt; T, rest: =&gt; T)T" id="510248">bitmapOperation</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="510250">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510636">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="=&gt; T" id="510637">transientCase</a>: =&gt; T, <a title="=&gt; T" id="510638">privateCase</a>: =&gt; T, <a title="=&gt; T" id="510639">rest</a>: =&gt; T<span class="delimiter">)</span>: <a href="#510250" title="T">T</a> =
      <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#510636" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Mixin.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106487" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#510637" title="=&gt; T">transientCase</a>
      <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#510636" title="Mixin.this.global.Symbol">field</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Int(4)">PRIVATE</span> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67048" title="=&gt; Long">notPRIVATE</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#510638" title="=&gt; T">privateCase</a>
      <span class="keyword">else</span>
        <a href="#510639" title="=&gt; T">rest</a>

    <span class="comment">/** Add all new definitions to a non-trait class 
     *  These fall into the following categories:
     *    - for a trait interface: 
     *       - abstract accessors for all fields in the implementation class
     *    - for a non-trait class:
     *       - A field for every in a mixin class 
     *       - Setters and getters for such fields
     *           - getters for mixed in lazy fields are completed 
     *       - module variables and module creators for every module in a mixin class
     *         (except if module is lifted -- in this case the module variable
     *          is local to some function, and the creator method is static.)
     *       - A super accessor for every super accessor in a mixin class
     *       - Forwarders for all methods that are implemented statically
     *  All superaccessors are completed with right-hand sides (@see completeSuperAccessor)
     *  @param clazz  The class to which definitions are added
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="510251">addNewDefs</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510653">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="510654">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" id="510656">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

      <span class="comment">/** Attribute given tree and anchor at given position */</span>
      <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="510657">attributedDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="510681">pos</a>: <a href="../util/Position.scala.html#30599" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="510682">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;add new def to &quot;)" class="string">&quot;add new def to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510653" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510682" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#510681" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510682" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** The position of given symbol, or, if this is undefined, 
       *  the position of the current class. */</span>
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position" id="510658">position</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510686">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Mixin.this.global.Position" class="keyword">if</span> <span class="delimiter">(</span><a href="#510686" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#67891" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#510653" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a> <span class="keyword">else</span> <a href="#510686" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>

      <span class="comment">/** Add tree at given position as new definition */</span>
      <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit" id="510659">addDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="510692">pos</a>: <a href="../util/Position.scala.html#30599" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="510693">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#510656" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a> <span title="(x: Mixin.this.global.Tree)newDefs.type">+=</span> <a href="#510657" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Mixin.this.global.Tree">attributedDef</a><span class="delimiter">(</span><a href="#510692" title="Mixin.this.global.Position">pos</a>, <a href="#510693" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Add new method definition.
       *
       *  @param sym   The method
       *  @param rhs   A function that maps formal parameters to the method's
       *               right-hand side
       */</span>
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, rhs: List[Mixin.this.global.Symbol] =&gt; Mixin.this.global.Tree)Unit" id="510660">addDefDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510703">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Symbol] =&gt; Mixin.this.global.Tree" id="510704">rhs</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; Tree<span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#510659" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#510658" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#510703" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67790" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#510703" title="Mixin.this.global.Symbol">sym</a>, <a href="#510704" title="(v1: List[Mixin.this.global.Symbol])Mixin.this.global.Tree">rhs</a><span class="delimiter">(</span><a href="#510703" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107439" title="=&gt; List[List[Mixin.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">head</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Add `newdefs' to `stats', removing any abstract method definitions
       *  in &lt;code&gt;stats&lt;/code&gt; that are matched by some symbol defined in
       *  &lt;code&gt;newDefs&lt;/code&gt;.
       */</span>
      <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="510661">add</a><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="510733">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[Mixin.this.global.Tree]" id="510734">newDefs</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Symbol]" id="510735">newSyms</a> = <a href="#510734" title="List[Mixin.this.global.Tree]">newDefs</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]])List[Mixin.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#510753" title="Mixin.this.global.Tree">_</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Boolean" id="510736">isNotDuplicate</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510781">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#510781" title="Mixin.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">DefDef</span><span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="510790">sym</a> = <a href="#510781" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#510790" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#510735" title="List[Mixin.this.global.Symbol]">newSyms</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510797">nsym</a> =&gt; <a href="#510797" title="Mixin.this.global.Symbol">nsym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#510790" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#510797" title="Mixin.this.global.Symbol">nsym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#105381" title="(that: Mixin.this.global.Type)Boolean">matches</a> <a href="#510790" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
        <span title="List[Mixin.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#510734" title="List[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#510733" title="List[Mixin.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <a href="#510734" title="List[Mixin.this.global.Tree]">newDefs</a> <a href="#510804" title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">:::</a> <a href="#510733" title="List[Mixin.this.global.Tree]">stats</a>.<span title="(p: Mixin.this.global.Tree =&gt; Boolean)List[Mixin.this.global.Tree]">filter</span><span class="delimiter">(</span><a href="#510736" title="(tree: Mixin.this.global.Tree)Boolean">isNotDuplicate</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, tree: Mixin.this.global.Tree)Unit" id="510662">addDeferredBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510818">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="510819">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// Append the set of deffered defs</span>
          <a href="#111898" title="(key: Mixin.this.global.Symbol, value: List[Mixin.this.global.Tree])Unit">deferredBitmaps</a><span class="delimiter">(</span><a href="#510818" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#510818" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510819" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span><a href="#510822" title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">::</a><a href="#111898" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">deferredBitmaps</a>.<span title="(key: Mixin.this.global.Symbol, default: =&gt; List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">getOrElse</span><span class="delimiter">(</span><a href="#510818" title="Mixin.this.global.Symbol">clazz</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** If `stat' is a superaccessor, complete it by adding a right-hand side.
       *  Note: superaccessors are always abstract until this point. 
       *   The method to call in a superaccessor is stored in the accessor symbol's alias field.
       *  The rhs is: 
       *    super.A(xs)  where A is the super accessor's alias and xs are its formal parameters.
       *  This rhs is typed and then mixin transformed.
       */</span>
      <span class="keyword">def</span> <a title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree" id="510663">completeSuperAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510845">stat</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#510845" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="510854">mods</a>, <a title="Mixin.this.global.TermName" id="510855">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="510856">tparams</a>, <a href="#510858" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a><span class="delimiter">(</span><a title="List[Mixin.this.global.ValDef]" id="510869">vparams</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="510870">tpt</a>, <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isSuperAccessor</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="510871">rhs0</a> = <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67799" title="(sym: Mixin.this.global.Symbol, mix: Mixin.this.global.TypeName)Mixin.this.global.Tree">Super</a><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>, <a href="../symtab/StdNames.scala.html#67709" title="object Mixin.this.global.tpnme">tpnme</a>.<span title="=&gt; Mixin.this.global.tpnme.NameType">EMPTY</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#149345" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510869" title="List[Mixin.this.global.ValDef]">vparams</a> <span title="(f: Mixin.this.global.ValDef =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.ValDef],Mixin.this.global.Ident,List[Mixin.this.global.Ident]])List[Mixin.this.global.Ident]">map</span> <span class="delimiter">(</span><a title="Mixin.this.global.ValDef" id="510920">v</a> =&gt; <a href="../ast/Trees.scala.html#67802" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#510920" title="Mixin.this.global.ValDef">v</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.erasure.global.Tree" id="510872">rhs1</a> = <a href="#510234" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105924" title="(tree: Mixin.this.global.erasure.global.Tree, pt: Mixin.this.global.erasure.global.Type)Mixin.this.global.erasure.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67840" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Apply)Mixin.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510871" title="Mixin.this.global.Apply">rhs0</a><span class="delimiter">)</span>, <a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="510873">rhs2</a> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72335" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510254" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#510872" title="Mixin.this.global.erasure.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;complete super acc &quot;)" class="string">&quot;complete super acc &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510872" title="Mixin.this.global.erasure.global.Tree">rhs1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107518" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510845" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><a href="../symtab/Flags.scala.html#67038" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="comment">//debug</span>
          <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#510845" title="Mixin.this.global.Tree">stat</a>, <a href="#510854" title="Mixin.this.global.Modifiers">mods</a>, <a href="#510855" title="Mixin.this.global.TermName">name</a>, <a href="#510856" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span><span class="delimiter">(</span><a href="#510869" title="List[Mixin.this.global.ValDef]">vparams</a><span class="delimiter">)</span>, <a href="#510870" title="Mixin.this.global.Tree">tpt</a>, <a href="#510873" title="Mixin.this.global.Tree">rhs2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#510845" title="Mixin.this.global.Tree">stat</a>
      <span class="delimiter">}</span>

      <span class="keyword">import</span> <a href="../Global.scala.html#64920" title="object Mixin.this.global.lazyVals">lazyVals</a>._
      
      <span class="comment">/**
       *  Private or transient lazy vals use bitmaps that are private for the class context,
       *  unlike public or protected vals, which can use inherited bitmaps.
       *  Similarly fields in the checkinit mode use private bitmaps.
       */</span>
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="510665">localBitmapField</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="510992">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#510992" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107273" title="(cls: Mixin.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106487" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#510992" title="Mixin.this.global.Symbol">field</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Int(4)">PRIVATE</span> <span title="(x: Long)Long">|</span> <a href="../symtab/Flags.scala.html#67048" title="=&gt; Long">notPRIVATE</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#510677" title="(field: Mixin.this.global.Symbol)Boolean">checkinitField</a><span class="delimiter">(</span><a href="#510992" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>

      <span class="comment">/**
       *  Return the bitmap field for 'offset'. Depending on the hierarchy it is possible to reuse
       *  the bitmap of its parents. If that does not exist yet we create one.
       */</span> 
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol" id="510666">bitmapFor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511021">clazz0</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="511022">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="511023">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="511025">searchParents</a>:<span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Name" id="511026">bitmapLazyName</a>: <a href="../symtab/Names.scala.html#66914" title="Mixin.this.global.Name">Name</a> =
          <a href="#510248" title="(field: Mixin.this.global.Symbol, transientCase: =&gt; Mixin.this.global.TermName, privateCase: =&gt; Mixin.this.global.TermName, rest: =&gt; Mixin.this.global.TermName)Mixin.this.global.TermName">bitmapOperation</a><span class="delimiter">(</span><a href="#511023" title="Mixin.this.global.Symbol">field</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115496" title="(n: Int)Mixin.this.global.TermName">bitmapNameForTransient</a><span class="delimiter">(</span><a href="#511022" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span>,
                          <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115497" title="(n: Int)Mixin.this.global.TermName">bitmapNameForPrivate</a><span class="delimiter">(</span><a href="#511022" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span>,
                          <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115495" title="(n: Int)Mixin.this.global.TermName">bitmapName</a><span class="delimiter">(</span><a href="#511022" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Name" id="511027">bitmapCheckinitName</a>: <a href="../symtab/Names.scala.html#66914" title="Mixin.this.global.Name">Name</a> =
          <a href="#510248" title="(field: Mixin.this.global.Symbol, transientCase: =&gt; Mixin.this.global.TermName, privateCase: =&gt; Mixin.this.global.TermName, rest: =&gt; Mixin.this.global.TermName)Mixin.this.global.TermName">bitmapOperation</a><span class="delimiter">(</span><a href="#511023" title="Mixin.this.global.Symbol">field</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115499" title="(n: Int)Mixin.this.global.TermName">bitmapNameForCheckinitTransient</a><span class="delimiter">(</span><a href="#511022" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span>,
                          <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115498" title="(n: Int)Mixin.this.global.TermName">bitmapNameForCheckinit</a><span class="delimiter">(</span><a href="#511022" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span>,
                          <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115498" title="(n: Int)Mixin.this.global.TermName">bitmapNameForCheckinit</a><span class="delimiter">(</span><a href="#511022" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Boolean" id="511028">checkinitField</a> = <span title="=&gt; Boolean">!</span><a href="#511023" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isLazy</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Name" id="511029">bitmapName</a> = <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#511028" title="Boolean">checkinitField</a><span class="delimiter">)</span> <a href="#511027" title="=&gt; Mixin.this.global.Name">bitmapCheckinitName</a> <span class="keyword">else</span> <a href="#511026" title="=&gt; Mixin.this.global.Name">bitmapLazyName</a>
 
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="511030">createBitmap</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="511075">sym</a> = <a href="#511021" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../symtab/Symbols.scala.html#107281" title="(pos: Mixin.this.global.Position, name: Mixin.this.global.TermName)Mixin.this.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#511021" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="../ast/TreeDSL.scala.html#105692" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">bitmapName</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107425" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106585" title="=&gt; Mixin.this.global.Symbol">IntClass</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#64980" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#72321" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#511075" title="Mixin.this.global.TermSymbol">sym</a> <a href="../symtab/Symbols.scala.html#107272" title="(annot: Mixin.this.global.AnnotationInfo)Unit">addAnnotation</a> <a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Mixin.this.global.Type, args: List[Mixin.this.global.Tree], assocs: List[(Mixin.this.global.Name, Mixin.this.global.ClassfileAnnotArg)])Mixin.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106489" title="=&gt; Mixin.this.global.Symbol">VolatileAttr</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          
          <a href="#510248" title="(field: Mixin.this.global.Symbol, transientCase: =&gt; Mixin.this.global.TermSymbol, privateCase: =&gt; Mixin.this.global.TermSymbol, rest: =&gt; Mixin.this.global.TermSymbol)Mixin.this.global.TermSymbol">bitmapOperation</a><span class="delimiter">(</span><a href="#511023" title="Mixin.this.global.Symbol">field</a>,
            <span class="delimiter">{</span><a href="#511075" title="Mixin.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107272" title="(annot: Mixin.this.global.AnnotationInfo)Unit">addAnnotation</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#134132" title="(atp: Mixin.this.global.Type, args: List[Mixin.this.global.Tree], assocs: List[(Mixin.this.global.Name, Mixin.this.global.ClassfileAnnotArg)])Mixin.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106487" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>; <a href="#511075" title="Mixin.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(524292L)">|</span> LOCAL<span class="delimiter">)</span><span class="delimiter">}</span>,
            <a href="#511075" title="Mixin.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(524292L)">|</span> LOCAL<span class="delimiter">)</span>,
            <a href="#511075" title="Mixin.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#107412" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span><span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#511028" title="Boolean">checkinitField</a><span class="delimiter">)</span> <span class="delimiter">(</span>PRIVATE <span title="Long(524292L)">|</span> LOCAL<span class="delimiter">)</span> <span class="keyword">else</span> <span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="#511021" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112946" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#511075" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#511021" title="Mixin.this.global.Symbol">clazz0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#510659" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="../ast/TreeDSL.scala.html#113847" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#511075" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#150123" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">===</a> <a href="../ast/TreeDSL.scala.html#113810" title="=&gt; Mixin.this.global.Literal">ZERO</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">//FIXME: the assertion below will not work because of the way bitmaps are added.</span>
            <span class="comment">// They should be added during infoTransform, so that in separate compilation, bitmap</span>
            <span class="comment">// is a member of clazz and doesn't fail the condition couple lines below.</span>
            <span class="comment">// This works, as long as we assume that the previous classes were compiled correctly.</span>
            <span class="comment">//assert(clazz0.sourceFile != null)</span>
            <a href="#510662" title="(clazz: Mixin.this.global.Symbol, tree: Mixin.this.global.Tree)Unit">addDeferredBitmap</a><span class="delimiter">(</span><a href="#511021" title="Mixin.this.global.Symbol">clazz0</a>, <a href="../ast/TreeDSL.scala.html#113847" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#511075" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#150123" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">===</a> <a href="../ast/TreeDSL.scala.html#113810" title="=&gt; Mixin.this.global.Literal">ZERO</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#511075" title="Mixin.this.global.TermSymbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="511031">sym</a> = <a href="#511021" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#511029" title="Mixin.this.global.Name">bitmapName</a><span class="delimiter">)</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#511031" title="Mixin.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(8589934592L)">OVERLOADED</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#511031" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#511025" title="Boolean">searchParents</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#510665" title="(field: Mixin.this.global.Symbol)Boolean">localBitmapField</a><span class="delimiter">(</span><a href="#511023" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#510667" title="(clazz0: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Option[Mixin.this.global.Symbol]">bitmapForParents</a><span class="delimiter">(</span><a href="#511021" title="Mixin.this.global.Symbol">clazz0</a>, <a href="#511022" title="Int">offset</a>, <a href="#511023" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511158">bitmap</a><span class="delimiter">)</span> =&gt;
                <a href="#511031" title="Mixin.this.global.Symbol">sym</a> = <a href="#511158" title="Mixin.this.global.Symbol">bitmap</a>
              <span class="keyword">case</span> <span title="Unit">None</span> =&gt;
                <a href="#511031" title="Mixin.this.global.Symbol">sym</a> = <a href="#511030" title="=&gt; Mixin.this.global.Symbol">createBitmap</a>
            <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="#511031" title="Mixin.this.global.Symbol">sym</a> = <a href="#511030" title="=&gt; Mixin.this.global.Symbol">createBitmap</a>
        <span class="delimiter">}</span>
        <a href="#511031" title="Mixin.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Option[Mixin.this.global.Symbol]" id="510667">bitmapForParents</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511154">clazz0</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="511155">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="511156">valSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[Mixin.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(fs: Int)Int" id="511159">requiredBitmaps</a><span class="delimiter">(</span><a title="Int" id="511162">fs</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#511162" title="Int">fs</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#511162" title="Int">fs</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a>
        
        <span class="keyword">var</span> <a title="Option[Mixin.this.global.Symbol]" id="511160">res</a>:<span title="Option[Mixin.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object None">None</span>
        <span class="keyword">val</span> <a title="Int" id="511161">bitmapNum</a> = <a href="#511155" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a>
        
        
        <span class="comment">// filter private and transient</span>
        <span class="comment">// since we do not inherit normal values (in checkinit mode) also filter them out</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511201">cl</a> &lt;- <a href="#511154" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">filter</span><span title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit" class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511185">c</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#511185" title="Mixin.this.global.Symbol">c</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511185" title="Mixin.this.global.Symbol">c</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1048576L)">JAVA</span><span class="delimiter">)</span><span class="delimiter">)</span>
             <span class="keyword">if</span> <a href="#511160" title="Option[Mixin.this.global.Symbol]">res</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="511202">fields0</a> = <a href="#510678" title="(clazz0: Mixin.this.global.Symbol)Int">usedBits</a><span class="delimiter">(</span><a href="#511201" title="Mixin.this.global.Symbol">cl</a><span class="delimiter">)</span>
         
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#511159" title="(fs: Int)Int">requiredBitmaps</a><span class="delimiter">(</span><a href="#511202" title="Int">fields0</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#511161" title="Int">bitmapNum</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
            <span class="keyword">val</span> <a title="Int" id="511208">fields1</a> = <a href="#511201" title="Mixin.this.global.Symbol">cl</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112963" title="(p: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Scope">filter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511215">decl</a> =&gt; <a href="#510676" title="(field: Mixin.this.global.Symbol)Boolean">fieldWithBitmap</a><span class="delimiter">(</span><a href="#511215" title="Mixin.this.global.Symbol">decl</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#510665" title="(field: Mixin.this.global.Symbol)Boolean">localBitmapField</a><span class="delimiter">(</span><a href="#511215" title="Mixin.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Scopes.scala.html#112944" title="=&gt; Int">size</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#511159" title="(fs: Int)Int">requiredBitmaps</a><span class="delimiter">(</span><a href="#511202" title="Int">fields0</a> <span title="(x: Int)Int">+</span> <a href="#511208" title="Int">fields1</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#511161" title="Int">bitmapNum</a><span class="delimiter">)</span>
              <a href="#511160" title="Option[Mixin.this.global.Symbol]">res</a> = <span title="(x: Mixin.this.global.Symbol)Some[Mixin.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#510666" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#511201" title="Mixin.this.global.Symbol">cl</a>, <a href="#511155" title="Int">offset</a>, <a href="#511156" title="Mixin.this.global.Symbol">valSym</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <span title="object None">None</span> <span class="comment">// Don't waste time, since we won't find bitmap anyway</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#511160" title="Option[Mixin.this.global.Symbol]">res</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Return an (untyped) tree of the form 'Clazz.this.bmp = Clazz.this.bmp | mask'. */</span>
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="510668">mkSetFlag</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511230">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="511231">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="511232">valSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="511233">bmp</a>   = <a href="#510666" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#511230" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511231" title="Int">offset</a>, <a href="#511232" title="Mixin.this.global.Symbol">valSym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="511234">mask</a>  = <a href="../ast/TreeDSL.scala.html#149290" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#511231" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.CODE.SelectStart" id="511235">x</a>     = <a href="../ast/Trees.scala.html#67800" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#511230" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#149379" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">DOT</a> <a href="#511233" title="Mixin.this.global.Symbol">bmp</a>
        
        <a href="../ast/TreeDSL.scala.html#113872" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">x</a> <a href="../ast/TreeDSL.scala.html#149380" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">===</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#113872" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">x</a> <a href="../ast/TreeDSL.scala.html#149368" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_|</a> <a href="#511234" title="Mixin.this.global.Literal">mask</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      
      <span class="comment">/** Return an (untyped) tree of the form 'clazz.this.bitmapSym &amp; mask (==|!=) 0', the
       *  precise comparison operator depending on the value of 'equalToZero'.
       */</span>
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree" id="510669">mkTest</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511277">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="511278">mask</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Symbol" id="511279">bitmapSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="511280">equalToZero</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Apply" id="511281">lhs</a> = <span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#511277" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#113872" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">DOT</a> <a href="#511279" title="Mixin.this.global.Symbol">bitmapSym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#149369" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_&amp;</a> <a href="#511278" title="Mixin.this.global.Tree">mask</a>
        <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#511280" title="Boolean">equalToZero</a><span class="delimiter">)</span>  <a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">lhs</a> <a href="../ast/TreeDSL.scala.html#149371" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_==</a> <a href="../ast/TreeDSL.scala.html#113810" title="=&gt; Mixin.this.global.Literal">ZERO</a>
        <span class="keyword">else</span>              <a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">lhs</a> <a href="../ast/TreeDSL.scala.html#149372" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_!=</a> <a href="../ast/TreeDSL.scala.html#113810" title="=&gt; Mixin.this.global.Literal">ZERO</a>
      <span class="delimiter">}</span>

      <span class="comment">/** return a 'lazified' version of rhs. It uses double-checked locking to ensure
       *  initialization is performed at most once. Private fields used only in this
       *  initializer are subsequently set to null.
       * 
       *  @param clazz The class symbol
       *  @param init The tree which initializes the field ( f = &lt;rhs&gt; )
       *  @param fieldSym The symbol of this lazy field
       *  @param offset The offset of this field in the flags bitmap
       *
       *  The result will be a tree of the form
       *  {
       *    if ((bitmap$n &amp; MASK) == 0) {
       *       synchronized(this) {
       *         if ((bitmap$n &amp; MASK) == 0) {
       *           init // l$ = &lt;rhs&gt;
       *           bitmap$n = bimap$n | MASK
       *         }
       *       }
       *       this.f1 = null
       *       ... this.fn = null 
       *    }
       *    l$
       *  }
       *  where bitmap$n is an int value acting as a bitmap of initialized values. It is
       *  the 'n' is (offset / 32), the MASK is (1 &lt;&lt; (offset % 32)).
       */</span>
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree" id="510670">mkLazyDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511320">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="511321">lzyVal</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="511322">init</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Mixin.this.global.Tree" id="511323">retVal</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Int" id="511324">offset</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="511325">nullify</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511332">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="511333">sym1</a> = <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#511332" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAccessorFlag</span><span class="delimiter">)</span> <a href="#511332" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a> <span class="keyword">else</span> <a href="#511332" title="Mixin.this.global.Symbol">sym</a>
          <a href="../ast/Trees.scala.html#67801" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="../ast/Trees.scala.html#67800" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#511320" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#511333" title="Mixin.this.global.Symbol">sym1</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#149380" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">===</a> <a href="../ast/TreeDSL.scala.html#149290" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="511326">bitmapSym</a> = <a href="#510666" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#511320" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511324" title="Int">offset</a>, <a href="#511321" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="511327">mask</a>      = <a href="../ast/TreeDSL.scala.html#149290" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#511324" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Tree" id="511328">cond</a>      = <a href="#510669" title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a><span class="delimiter">(</span><a href="#511320" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511327" title="Mixin.this.global.Literal">mask</a>, <a href="#511326" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Tree]" id="511329">nulls</a>     = <span class="delimiter">(</span><a href="#510238" title="(key: Mixin.this.global.Symbol)scala.collection.mutable.Set[Mixin.this.global.Symbol]">lazyValNullables</a><span class="delimiter">(</span><a href="#511321" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>.<span title="=&gt; List[Mixin.this.global.Symbol]">toList</span> <span title="(f: Mixin.this.global.Symbol =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[Mixin.this.global.Symbol]">sortBy</span> <span class="delimiter">(</span><a href="#511428" title="Mixin.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107258" title="=&gt; Int">id</a><span class="delimiter">)</span> <span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">map</span> <a href="#511325" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">nullify</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; List[Mixin.this.global.Tree]" id="511330">syncBody</a>  = <a href="#511322" title="List[Mixin.this.global.Tree]">init</a> <a href="#511531" title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">:::</a> <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#510668" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#511320" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511324" title="Int">offset</a>, <a href="#511321" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;nulling fields inside &quot;)" class="string">&quot;nulling fields inside &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#511321" title="Mixin.this.global.Symbol">lzyVal</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#511329" title="List[Mixin.this.global.Tree]">nulls</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="511331">result</a>    = <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105470" title="(clazz: Mixin.this.global.gen.global.Symbol, cond: Mixin.this.global.gen.global.Tree, syncBody: List[Mixin.this.global.gen.global.Tree], stats: List[Mixin.this.global.gen.global.Tree])Mixin.this.global.gen.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#511320" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511328" title="=&gt; Mixin.this.global.Tree">cond</a>, <a href="#511330" title="=&gt; List[Mixin.this.global.Tree]">syncBody</a>, <a href="#511329" title="List[Mixin.this.global.Tree]">nulls</a><span class="delimiter">)</span>
        <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#511322" title="List[Mixin.this.global.Tree]">init</a>.<span title="=&gt; Mixin.this.global.Tree">head</span>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#113858" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#511331" title="Mixin.this.global.gen.global.Tree">result</a>, <a href="#511323" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="510671">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="511558">attrThis</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Tree" id="511559">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> =
        <a href="#511559" title="Mixin.this.global.Tree">rhs</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.Block">Block</span><span class="delimiter">(</span><a href="#511566" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="511577">assign</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="511578">returnTree</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> Assign<a href="#511584" title="Mixin.this.global.Tree" id="511579" class="delimiter">(</a><a title="Mixin.this.global.Tree" id="511584">moduleVarRef</a>, _<span class="delimiter">)</span> = <a href="#511577" title="Mixin.this.global.Tree">assign</a>
            <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="511580">cond</a> = <a href="../ast/TreeDSL.scala.html#105692" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#105692" title="(qualifier: Mixin.this.global.Tree, name: Mixin.this.global.Name)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="#511579" title="Mixin.this.global.Tree">moduleVarRef</a>, <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#115346" title="=&gt; Mixin.this.global.nme.NameType">eq</a><span class="delimiter">)</span>,<span title="(xs: Mixin.this.global.Literal*)List[Mixin.this.global.Literal]">List</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#105692" title="(value: Mixin.this.global.Constant)Mixin.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#105692" title="(value: Any)Mixin.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="511581">doubleSynchrTree</a> = <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105471" title="(attrThis: Mixin.this.global.gen.global.Tree, cond: Mixin.this.global.gen.global.Tree, syncBody: List[Mixin.this.global.gen.global.Tree], stats: List[Mixin.this.global.gen.global.Tree])Mixin.this.global.gen.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#511558" title="Mixin.this.global.Tree">attrThis</a>, <a href="#511580" title="Mixin.this.global.Apply">cond</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#511577" title="Mixin.this.global.Tree">assign</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <a href="../ast/TreeDSL.scala.html#105692" title="(stats: List[Mixin.this.global.Tree], expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.gen.global.Tree*)List[Mixin.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="#511581" title="Mixin.this.global.gen.global.Tree">doubleSynchrTree</a><span class="delimiter">)</span>, <a href="#511578" title="Mixin.this.global.Tree">returnTree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.EmptyTree.type">_</span> =&gt;
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;Invalid getter &quot;)" class="string">&quot;Invalid getter &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#511559" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; for module in class &quot;)" class="string">&quot; for module in class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="510672">mkCheckedAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511679">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="511680">retVal</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Int" id="511681">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Position" id="511682">pos</a>: <a href="../util/Position.scala.html#30599" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Symbol" id="511683">fieldSym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="511684">bitmapSym</a> = <a href="#510666" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#511679" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511681" title="Int">offset</a>, <a href="#511683" title="Mixin.this.global.Symbol">fieldSym</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#511683" title="Mixin.this.global.Symbol">fieldSym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="511685">mask</a>      = <a href="../ast/TreeDSL.scala.html#149290" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#511681" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#111696" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="511686">msg</a>       = <span title="java.lang.String(&quot;Uninitialized field: &quot;)" class="string">&quot;Uninitialized field: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510255" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#96402" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#511682" title="Mixin.this.global.Position">pos</a>.<a href="../util/Position.scala.html#97214" title="=&gt; Int">line</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.If" id="511687">result</a>    = 
          <a href="../ast/TreeDSL.scala.html#113856" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#510669" title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a><span class="delimiter">(</span><a href="#511679" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511685" title="Mixin.this.global.Literal">mask</a>, <a href="#511684" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> .
            <a href="../ast/TreeDSL.scala.html#149329" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">THEN</a> <span class="delimiter">(</span><a href="#511680" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span> .
            <a href="../ast/TreeDSL.scala.html#149330" title="(elsep: Mixin.this.global.Tree)Mixin.this.global.If">ELSE</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#113839" title="(sym: Mixin.this.global.Symbol, msg: Mixin.this.global.Tree)Mixin.this.global.Throw">THROW</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#106107" title="=&gt; Mixin.this.global.Symbol">UninitializedErrorClass</a>, <a href="../ast/TreeDSL.scala.html#149290" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#511686" title="java.lang.String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#511682" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#113858" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#511687" title="Mixin.this.global.If">result</a>, <a href="#511680" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
       
      <span class="comment">/** Complete lazy field accessors. Applies only to classes, for it's own (non inherited) lazy fields.
       *  If 'checkinit' is enabled, getters that check for the initialized bit are generated, and
       *  the class constructor is changed to set the initialized bits.
       */</span>
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="510673">addCheckedGetters</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511706">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="511707">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>

        <span class="keyword">val</span> <a title="List[Mixin.this.global.Tree]" id="511708">stats1</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="511786">stat</a> &lt;- <a href="#511707" title="(f: Mixin.this.global.Tree =&gt; (Mixin.this.global.Tree, Mixin.this.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],(Mixin.this.global.Tree, Mixin.this.global.Symbol),List[(Mixin.this.global.Tree, Mixin.this.global.Symbol)]])List[(Mixin.this.global.Tree, Mixin.this.global.Symbol)]">stats</a>; <a title="Mixin.this.global.Symbol" id="511787">sym</a> = <a href="#511786" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#511786" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="511796">mods</a>, <a title="Mixin.this.global.TermName" id="511797">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="511798">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="511799">vp</a>, <a title="Mixin.this.global.Tree" id="511800">tpt</a>, <a title="Mixin.this.global.Tree" id="511801">rhs</a><span class="delimiter">)</span> 
            <span class="keyword">if</span> <a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isLazy</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#511801" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isImplClass</span> =&gt;
              <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#510241" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="511806">rhs1</a> = <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Mixin.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> 
                <a href="#510670" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511787" title="Mixin.this.global.Symbol">sym</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#511801" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> Block<a href="#511850" title="(List[Mixin.this.global.Tree], Mixin.this.global.Tree)" class="delimiter">(</a><a href="#511849" title="List[Mixin.this.global.Tree]" id="511850">stats</a>, <a href="#511849" title="Mixin.this.global.Tree" id="511851">res</a><span class="delimiter">)</span> = <a href="#511801" title="Mixin.this.global.Tree">rhs</a>
                <a href="#510670" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511787" title="Mixin.this.global.Symbol">sym</a>, <a href="#511850" title="List[Mixin.this.global.Tree]">stats</a>, <a href="../ast/Trees.scala.html#67801" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#511851" title="Mixin.this.global.Tree">res</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#511786" title="Mixin.this.global.Tree">stat</a>, <a href="#511796" title="Mixin.this.global.Modifiers">mods</a>, <a href="#511797" title="Mixin.this.global.TermName">name</a>, <a href="#511798" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#511799" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#511800" title="Mixin.this.global.Tree">tpt</a>, <a href="#511806" title="Mixin.this.global.Tree">rhs1</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="511914">mods</a>, <a title="Mixin.this.global.TermName" id="511915">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="511916">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="511917">vp</a>, <a title="Mixin.this.global.Tree" id="511918">tpt</a>, <a title="Mixin.this.global.Tree" id="511919">rhs</a><span class="delimiter">)</span> 
            <span class="keyword">if</span> <a href="#510674" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#511919" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> =&gt;
              <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#510241" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="511924">rhs1</a> = <span class="delimiter">(</span><a href="#510672" title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkCheckedAccessor</a><span title="(v1: Mixin.this.global.Tree)Mixin.this.global.Tree" class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511928" title="Mixin.this.global.Tree">_</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#511786" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>, <a href="#511787" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Mixin.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a> <span class="keyword">else</span> <a href="#511919" title="Mixin.this.global.Tree">rhs</a>
              <span class="delimiter">)</span>
              <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#511786" title="Mixin.this.global.Tree">stat</a>, <a href="#511914" title="Mixin.this.global.Modifiers">mods</a>, <a href="#511915" title="Mixin.this.global.TermName">name</a>, <a href="#511916" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#511917" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#511918" title="Mixin.this.global.Tree">tpt</a>, <a href="#511924" title="Mixin.this.global.Tree">rhs1</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="511961">mods</a>, <a title="Mixin.this.global.TermName" id="511962">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="511963">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="511964">vp</a>, <a title="Mixin.this.global.Tree" id="511965">tpt</a>, <a title="Mixin.this.global.Tree" id="511966">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a> =&gt;
            <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#511786" title="Mixin.this.global.Tree">stat</a>, <a href="#511961" title="Mixin.this.global.Modifiers">mods</a>, <a href="#511962" title="Mixin.this.global.TermName">name</a>, <a href="#511963" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#511964" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#511965" title="Mixin.this.global.Tree">tpt</a>, <a href="#510675" title="(clazz: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">addInitBits</a><span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>, <a href="#511966" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Mixin.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="511977">mods</a>, <a title="Mixin.this.global.TermName" id="511978">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="511979">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="511980">vp</a>, <a title="Mixin.this.global.Tree" id="511981">tpt</a>, <a title="Mixin.this.global.Tree" id="511982">rhs</a><span class="delimiter">)</span>
            <span class="keyword">if</span> <a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36680" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">checkInit</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107326" title="=&gt; Boolean">isSetter</a> =&gt;
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="511986">getter</a> = <a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#510674" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#511986" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510241" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#511986" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#511786" title="Mixin.this.global.Tree">stat</a>, <a href="#511977" title="Mixin.this.global.Modifiers">mods</a>, <a href="#511978" title="Mixin.this.global.TermName">name</a>, <a href="#511979" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#511980" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#511981" title="Mixin.this.global.Tree">tpt</a>,
                        <a href="../ast/TreeDSL.scala.html#105692" title="(stats: List[Mixin.this.global.Tree], expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span><span class="delimiter">(</span><a href="#511982" title="Mixin.this.global.Tree">rhs</a>, <a href="#510234" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a><span class="delimiter">(</span><a href="#510668" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#511986" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="#511986" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> 
                <a href="#511786" title="Mixin.this.global.Tree">stat</a>
          <span class="keyword">case</span> <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="512038">mods</a>, <a title="Mixin.this.global.TermName" id="512039">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="512040">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="512041">vp</a>, <a title="Mixin.this.global.Tree" id="512042">tpt</a>, <a title="Mixin.this.global.Tree" id="512043">rhs</a><span class="delimiter">)</span>
            <span class="keyword">if</span> <a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <a href="#511706" title="Mixin.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511787" title="Mixin.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="512044">attrThis</a> =
                <span title="Mixin.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105435" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#512041" title="List[List[Mixin.this.global.ValDef]]">vp</a>.<span title="=&gt; List[Mixin.this.global.ValDef]">head</span>.<span title="=&gt; Mixin.this.global.ValDef">head</span>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>
                  <span class="comment">// Martin to Hubert I think this can be replaced by selfRef(tree.pos)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> 
                  <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105434" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#511706" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="512045">rhs1</a> = <a href="#510671" title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span><a href="#512044" title="Mixin.this.global.gen.global.Tree">attrThis</a>, <a href="#512043" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>
              <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162409" title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#511786" title="Mixin.this.global.Tree">stat</a>, <a href="#512038" title="Mixin.this.global.Modifiers">mods</a>, <a href="#512039" title="Mixin.this.global.TermName">name</a>, <a href="#512040" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#512041" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#512042" title="Mixin.this.global.Tree">tpt</a>, <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#511786" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#512045" title="Mixin.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt; <a href="#511786" title="Mixin.this.global.Tree">stat</a>
        <span class="delimiter">}</span>
        <a href="#511708" title="List[Mixin.this.global.Tree]">stats1</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Does this field require an initialized bit?
       *  Note: fields of classes inheriting DelayedInit are not checked.
       *        This is because the they are neither initialized in the constructor
       *        nor do they have a setter (not if they are vals anyway). The usual
       *        logic for setting bitmaps does therefor not work for such fields.
       *        That's why they are excluded.
       */</span>
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="510674">needsInitFlag</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511001">sym</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="511002">res</a> = <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36680" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">checkInit</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a> 
           <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#511001" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a> 
           <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511001" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107331" title="=&gt; Boolean">isInitializedToDefault</a>
           <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511001" title="Mixin.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span>PARAMACCESSOR | SPECIALIZED <span title="Long(1102195982336L)">|</span> LAZY<span class="delimiter">)</span>
           <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511001" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(137438953472L)">PRESUPER</span><span class="delimiter">)</span>
           <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511001" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107371" title="=&gt; Boolean">isOuterAccessor</a>
           <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#511001" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#107448" title="(that: Mixin.this.global.Symbol)Boolean">isSubClass</a> <a href="../symtab/Definitions.scala.html#106197" title="=&gt; Mixin.this.global.Symbol">DelayedInitClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
<span class="comment">//        if (settings.debug.value) {</span>
<span class="comment">//          log(&quot;needsInitFlag(&quot; + sym.fullName + &quot;): &quot; + res)</span>
<span class="comment">//          log(&quot;\tsym.isGetter: &quot; + sym.isGetter)</span>
<span class="comment">//          log(&quot;\t!isInitializedToDefault: &quot; + !sym.isInitializedToDefault + sym.hasFlag(DEFAULTINIT) + sym.hasAccessorFlag + sym.isTerm)</span>
<span class="comment">//          log(&quot;\t!sym.isParamAccessor: &quot; + !sym.isParamAccessor)</span>
<span class="comment">//          //println(&quot;\t!sym.accessed.hasFlag(PRESUPER): &quot; + !sym.accessed.hasFlag(PRESUPER))</span>
<span class="comment">//          log(&quot;\t!sym.isOuterAccessor: &quot; + !sym.isOuterAccessor)</span>
<span class="comment">//        }</span>
        
        <a href="#511002" title="Boolean">res</a>
      <span class="delimiter">}</span>
      
      <span class="comment">/** Adds statements to set the 'init' bit for each field initialized 
       * in the body of a constructor. 
       */</span>
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="510675">addInitBits</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511967">clazz</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="511968">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="#512080" title="Mixin.this.global.Transformer" class="keyword">new</a> <a href="../ast/Trees.scala.html#67825" title="anonymous class $anon extends Mixin.this.global.Transformer" id="512080">Transformer</a> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree], exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]" id="512082">transformStats</a><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="512083">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Mixin.this.global.Symbol" id="512084">exprOwner</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Mixin.this.global.erasure.global.Tree]" id="512087">stats1</a> = <a href="#512083" title="List[Mixin.this.global.Tree]">stats</a> <span title="(f: Mixin.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Mixin.this.global.erasure.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.erasure.global.Tree,List[Mixin.this.global.erasure.global.Tree]])List[Mixin.this.global.erasure.global.Tree]">flatMap</span> <span class="delimiter">{</span> <a title="Mixin.this.global.Tree" id="512104">stat</a> =&gt; <a href="#512104" title="Mixin.this.global.Tree">stat</a> <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[Mixin.this.global.erasure.global.Tree]">Assign</span><span class="delimiter">(</span><a title="Mixin.this.global.Select" id="512107">lhs</a> @ Select<span class="delimiter">(</span>This<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="512115">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="512116">sym</a> = <a href="#511967" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105347" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115616" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterName</a><span class="delimiter">(</span><a href="#512107" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../ast/TreeDSL.scala.html#105692" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  .<a href="../symtab/Symbols.scala.html#107452" title="(cond: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#512123" title="Mixin.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
                <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#512115" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
                  List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#512116" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510674" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#512116" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510241" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#512116" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;adding checked getter for: &quot;)" class="string">&quot;adding checked getter for: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#512116" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<span title="(flags: Long)String">flagsToString</span><span class="delimiter">(</span><a href="#512107" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span><span class="delimiter">(</span><a href="#512104" title="Mixin.this.global.Tree">stat</a>, <a href="#510234" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#105922" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a><span class="delimiter">(</span><a href="#510668" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#511967" title="Mixin.this.global.Symbol">clazz</a>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#512116" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#512116" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#512104" title="Mixin.this.global.Tree">stat</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="List[Nothing]">Apply</span><span class="delimiter">(</span><a title="Mixin.this.global.Select" id="512177">setter</a> @ Select<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Mixin.this.global.Name" id="512185">self</a><span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a href="#512187" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#512177" title="Mixin.this.global.Select">setter</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107326" title="=&gt; Boolean">isSetter</a> =&gt;
                <span class="comment">// remove initialization for default values</span>
                List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Mixin.this.global.Tree]">_</span> =&gt; <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#512104" title="Mixin.this.global.Tree">stat</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#512080" title="Mixin.this.global.Transformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162521" title="(stats: List[Mixin.this.global.Tree], exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#512087" title="List[Mixin.this.global.erasure.global.Tree]">stats1</a>, <a href="#512084" title="Mixin.this.global.Symbol">exprOwner</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>.<a href="../ast/Trees.scala.html#162512" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#511968" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="510676">fieldWithBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511216">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#511216" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a> <span class="comment">// ensure that nested objects are transformed</span>
        <span class="comment">// For checkinit consider normal value getters</span>
        <span class="comment">// but for lazy values only take into account lazy getters</span>
        <a href="#511216" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isLazy</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#511216" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511216" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isDeferred</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="510677">checkinitField</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511000">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = 
        <a href="#510674" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#511000" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#511000" title="Mixin.this.global.Symbol">field</a>.<span title="=&gt; Boolean">isDeferred</span>
      
      <span class="comment">/**
       * Return the number of bits used by superclass fields.
       */</span>
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol)Int" id="510678">usedBits</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="511203">clazz0</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="512245">needsBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="512247">field</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#512247" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#511203" title="Mixin.this.global.Symbol">clazz0</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#510676" title="(field: Mixin.this.global.Symbol)Boolean">fieldWithBitmap</a><span class="delimiter">(</span><a href="#512247" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="512246">bits</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="Mixin.this.global.Symbol" id="512263">cl</a> &lt;- <a href="#511203" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<span title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">tail</span>
          <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#512263" title="Mixin.this.global.Symbol">cl</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#512263" title="Mixin.this.global.Symbol">cl</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span><span title="Long(1048576L)">JAVA</span><span class="delimiter">)</span>
          <a title="Mixin.this.global.Symbol" id="512278">field</a> &lt;- <a href="#512263" title="Mixin.this.global.Symbol">cl</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112959" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">iterator</a>
          <span class="keyword">if</span> <a href="#512245" title="(field: Mixin.this.global.Symbol)Boolean">needsBitmap</a><span class="delimiter">(</span><a href="#512278" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#510665" title="(field: Mixin.this.global.Symbol)Boolean">localBitmapField</a><span class="delimiter">(</span><a href="#512278" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <a href="#512246" title="Int">bits</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

        <a href="#512246" title="Int">bits</a>
      <span class="delimiter">}</span>
      
      <span class="comment">/** Fill the map from fields to offset numbers.
       *  Instead of field symbols, the map keeps their getter symbols. This makes
       *  code generation easier later.
       */</span>
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol)Unit" id="510679">buildFieldPositions</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="512285">clazz0</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="512286">fields</a> = <a href="#510678" title="(clazz0: Mixin.this.global.Symbol)Int">usedBits</a><span class="delimiter">(</span><a href="#512285" title="Mixin.this.global.Symbol">clazz0</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="512287">fieldsPrivate</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">var</span> <a title="Int" id="512288">fieldsTransient</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">var</span> <a title="Int" id="512289">fieldsCheckinit</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">var</span> <a title="Int" id="512290">fieldsCheckinitTransient</a> = <span title="Int(0)" class="int">0</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="512302">f</a> &lt;- <a href="#512285" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112959" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#512302" title="Mixin.this.global.Symbol">f</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#512286" title="Int">fields</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#510676" title="(field: Mixin.this.global.Symbol)Boolean">fieldWithBitmap</a><span class="delimiter">(</span><a href="#512302" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#512350" title="Int" id="512308" class="delimiter">(</a><a title="Int" id="512350">idx</a>, _<span class="delimiter">)</span> =
              <a href="#510248" title="(field: Mixin.this.global.Symbol, transientCase: =&gt; (Int, Unit), privateCase: =&gt; (Int, Unit), rest: =&gt; (Int, Unit))(Int, Unit)">bitmapOperation</a><span title="(Int, Unit) @unchecked" class="delimiter">(</span><a href="#512302" title="Mixin.this.global.Symbol">f</a>, <span title="(_1: Int, _2: Unit)(Int, Unit)" class="delimiter">(</span><a href="#512288" title="Int">fieldsTransient</a>, <a href="#512288" title="Int">fieldsTransient</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
                                 <span title="(_1: Int, _2: Unit)(Int, Unit)" class="delimiter">(</span><a href="#512287" title="Int">fieldsPrivate</a>, <a href="#512287" title="Int">fieldsPrivate</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
                                 <span title="(_1: Int, _2: Unit)(Int, Unit)" class="delimiter">(</span><a href="#512286" title="Int">fields</a>, <a href="#512286" title="Int">fields</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#510241" title="(key: Mixin.this.global.Symbol, value: Int)Unit">fieldOffset</a><span class="delimiter">(</span><a href="#512302" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span> = <a href="#512308" title="Int">idx</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#510677" title="(field: Mixin.this.global.Symbol)Boolean">checkinitField</a><span class="delimiter">(</span><a href="#512302" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// bitmaps for checkinit fields are not inherited</span>
            <span class="keyword">val</span> <a href="#512395" title="Int" id="512353" class="delimiter">(</a><a title="Int" id="512395">idx</a>, _<span class="delimiter">)</span> = 
              <a href="#510248" title="(field: Mixin.this.global.Symbol, transientCase: =&gt; (Int, Unit), privateCase: =&gt; (Int, Unit), rest: =&gt; (Int, Unit))(Int, Unit)">bitmapOperation</a><span title="(Int, Unit) @unchecked" class="delimiter">(</span><a href="#512302" title="Mixin.this.global.Symbol">f</a>, <span title="(_1: Int, _2: Unit)(Int, Unit)" class="delimiter">(</span><a href="#512290" title="Int">fieldsCheckinitTransient</a>, <a href="#512290" title="Int">fieldsCheckinitTransient</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
                                 <span title="(_1: Int, _2: Unit)(Int, Unit)" class="delimiter">(</span><a href="#512289" title="Int">fieldsCheckinit</a>, <a href="#512289" title="Int">fieldsCheckinit</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>,
                                 <span title="(_1: Int, _2: Unit)(Int, Unit)" class="delimiter">(</span><a href="#512289" title="Int">fieldsCheckinit</a>, <a href="#512289" title="Int">fieldsCheckinit</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#510241" title="(key: Mixin.this.global.Symbol, value: Int)Unit">fieldOffset</a><span class="delimiter">(</span><a href="#512302" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span> = <a href="#512353" title="Int">idx</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>        
      <span class="delimiter">}</span>
      
      <span class="comment">// begin addNewDefs      </span>
      <a href="#510679" title="(clazz0: Mixin.this.global.Symbol)Unit">buildFieldPositions</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Tree]" id="510680">stats1</a> = <a href="#510673" title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addCheckedGetters</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>, <a href="#510654" title="List[Mixin.this.global.Tree]">stats</a><span class="delimiter">)</span>
      
      <span class="comment">// add deffered bitmaps</span>
      <a href="#111898" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">deferredBitmaps</a>.<span title="(key: Mixin.this.global.Symbol)Option[List[Mixin.this.global.Tree]]">remove</span><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="512399">deferred</a><span class="delimiter">)</span> =&gt;
            <a href="#510680" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#510661" title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a><span class="delimiter">(</span><a href="#510680" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#512399" title="List[Mixin.this.global.Tree]">deferred</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">None</span> =&gt;
      <span class="delimiter">}</span>

      <span class="comment">// for all symbols `sym' in the class definition, which are mixed in:</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="512422">sym</a> &lt;- <a href="#510653" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#112957" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">toList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a> <span title="(mask: Long)Boolean">hasFlag</span> <a href="../symtab/Flags.scala.html#67038" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// if current class is a trait interface, add an abstract method for accessor `sym'</span>
            <a href="#510660" title="(sym: Mixin.this.global.Symbol, rhs: List[Mixin.this.global.Symbol] =&gt; Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="512424">vparamss</a> =&gt; <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span> 
            <span class="comment">// if class is not a trait add accessor definitions</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
                <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> <a href="../symtab/Flags.scala.html#67036" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
              <span class="comment">// add accessor definitions</span>
              <a href="#510660" title="(sym: Mixin.this.global.Symbol, rhs: List[Mixin.this.global.Symbol] =&gt; Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="512426">vparams</a> =&gt; <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="512427">accessedRef</a> = <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Mixin.this.global.Literal">MethodType</span><span class="delimiter">(</span><a href="#512431" title="(x: List[Mixin.this.global.Symbol])Some[List[Mixin.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, ConstantType<span class="delimiter">(</span><a title="Mixin.this.global.Constant" id="512454">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../ast/TreeDSL.scala.html#105692" title="(value: Mixin.this.global.Constant)Mixin.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#512454" title="Mixin.this.global.Constant">c</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt; 
                    <span class="comment">// if it is a mixed-in lazy value, complete the accessor</span>
                    <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isLazy</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107325" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="512472">rhs1</a> = 
                        <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Mixin.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
                          <a href="#510670" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <span title="(xs: Mixin.this.global.Apply*)List[Mixin.this.global.Apply]">List</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#105692" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#510247" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#111896" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="(xs: Mixin.this.global.gen.global.Tree*)List[Mixin.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105434" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span class="delimiter">{</span>
                          <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="512540">assign</a> = <a href="../ast/Trees.scala.html#67840" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Assign)Mixin.this.global.Assign">atPos</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                            <a href="../ast/TreeDSL.scala.html#105692" title="(lhs: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67801" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span> <span class="comment">/*gen.mkAttributedRef(sym.accessed)*/</span> ,
                                <a href="../ast/TreeDSL.scala.html#105692" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#510247" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#111896" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105434" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#512601" title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
                          <span class="delimiter">}</span>
                          <a href="#510670" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <span title="(xs: Mixin.this.global.Assign*)List[Mixin.this.global.Assign]">List</span><span class="delimiter">(</span><a href="#512540" title="Mixin.this.global.Assign">assign</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67801" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                        <span class="delimiter">}</span>
                      <a href="#512472" title="Mixin.this.global.Tree">rhs1</a>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="&lt;none&gt; extends Mixin.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#105327" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106577" title="=&gt; Mixin.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      <a href="../ast/Trees.scala.html#67801" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#67800" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107462" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                <span class="delimiter">}</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107326" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Boolean" id="512714">isOverriddenSetter</a> = 
                    <a href="../symtab/StdNames.scala.html#67713" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#115610" title="(name: Mixin.this.global.Name)Boolean">isTraitSetterName</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
                      <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107491" title="=&gt; List[Mixin.this.global.Symbol]">allOverriddenSymbols</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                        <span class="keyword">case</span> <a title="Boolean" id="512720">other</a> :: _ =&gt; 
                          <a href="#111892" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#512720" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#512720" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#510653" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105385" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a><span class="delimiter">)</span>
                        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
                          <span title="Boolean(false)" class="keyword">false</span>
                      <span class="delimiter">}</span>
                    <span class="delimiter">}</span>
                  <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#512714" title="Boolean">isOverriddenSetter</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                  <span class="keyword">else</span> <a href="#512427" title="Mixin.this.global.Tree">accessedRef</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Literal</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#512427" title="Mixin.this.global.Tree">accessedRef</a>
                    <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
                      <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="512725">init</a> = <a href="../ast/TreeDSL.scala.html#105692" title="(lhs: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#512427" title="Mixin.this.global.Tree">accessedRef</a>, <a href="../ast/Trees.scala.html#67802" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#512426" title="List[Mixin.this.global.Symbol]">vparams</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span><span class="delimiter">)</span><span class="delimiter">)</span> 
                      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="512726">getter</a> = <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>                      
                      <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#510674" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#512726" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span>
                        <a href="../ast/TreeDSL.scala.html#105692" title="(stats: List[Mixin.this.global.Tree], expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#512725" title="Mixin.this.global.Assign">init</a>, <a href="#510668" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#512726" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="#512726" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#113813" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>
                      <span class="keyword">else</span>
                        <a href="#512725" title="Mixin.this.global.Assign">init</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#510674" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#510672" title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkCheckedAccessor</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>,  <a href="#512427" title="Mixin.this.global.Tree">accessedRef</a>, <a href="#510241" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107263" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105442" title="(tree: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#512427" title="Mixin.this.global.Tree">accessedRef</a><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModule</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a> <span title="(mask: Long)Boolean">hasFlag</span> LIFTED <span title="Long(17246978048L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> 
              <span class="comment">// add modules  </span>
              <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.ValDef" id="512802">vdef</a> = <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105452" title="(accessor: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> 
              <a href="#510659" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#510658" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#512802" title="Mixin.this.global.gen.global.ValDef">vdef</a><span class="delimiter">)</span>
              
              <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="512803">rhs</a>  = <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105455" title="(accessor: Mixin.this.global.gen.global.Symbol, tpe: Mixin.this.global.gen.global.Type)Mixin.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <a href="#512802" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<span title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.gen.global.Type">tpe</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="512804">assignAndRet</a> = <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105451" title="(lhs: Mixin.this.global.gen.global.Symbol, rhs: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#512802" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<span title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</span>, <a href="#512803" title="Mixin.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="512805">attrThis</a> = <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105434" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="512806">rhs1</a> = <a href="#510671" title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span><a href="#512805" title="Mixin.this.global.gen.global.Tree">attrThis</a>, <a href="#512804" title="Mixin.this.global.gen.global.Tree">assignAndRet</a><span class="delimiter">)</span>
              <a href="#510659" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#510658" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67790" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <a href="#512806" title="Mixin.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// add fields</span>
              <a href="#510659" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#510658" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#67784" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSuperAccessor</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// add superaccessors</span>
              <a href="#510660" title="(sym: Mixin.this.global.Symbol, rhs: List[Mixin.this.global.Symbol] =&gt; Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="512844">vparams</a> =&gt; <a href="../ast/TreeDSL.scala.html#105692" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// add forwarders</span>
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#512422" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#510660" title="(sym: Mixin.this.global.Symbol, rhs: List[Mixin.this.global.Symbol] =&gt; Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="512853">vparams</a> =&gt;
                <a href="../ast/TreeDSL.scala.html#105692" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#510247" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#512422" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107466" title="=&gt; Mixin.this.global.Symbol">alias</a><span class="delimiter">)</span>, <a href="../Global.scala.html#64832" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#105434" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#512856" title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">::</a> <span class="delimiter">(</span><a href="#512853" title="List[Mixin.this.global.Symbol]">vparams</a> <span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Ident,List[Mixin.this.global.Ident]])List[Mixin.this.global.Ident]">map</span> <a href="../ast/Trees.scala.html#67802" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#510680" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#510661" title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a><span class="delimiter">(</span><a href="#510680" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#510656" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; List[Mixin.this.global.Tree]">toList</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#510653" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#510680" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#510680" title="List[Mixin.this.global.Tree]">stats1</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">map</span> <a href="#510663" title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree">completeSuperAccessor</a>
      <a href="#510680" title="List[Mixin.this.global.Tree]">stats1</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(templ: Mixin.this.global.Template)scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="510252">nullableFields</a><span class="delimiter">(</span><a title="Mixin.this.global.Template" id="512970">templ</a>: <span title="Mixin.this.global.Template">Template</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="nullables extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="512973">nullables</a> = <a href="#512974" title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="512974">mutable</a>.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]]">HashMap</span><span class="delimiter">[</span>Symbol, mutable.Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">with</span> mutable.<span title="scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">MultiMap</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: Mixin.this.global.Symbol)scala.collection.mutable.Set[Mixin.this.global.Symbol]" id="512976">default</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="512983">key</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="scala.collection.mutable.Set[Mixin.this.global.Symbol]">empty</span>
      <span class="delimiter">}</span>

      <span class="comment">// if there are no lazy fields, take the fast path and save a traversal of the whole AST</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512970" title="Mixin.this.global.Template">templ</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105346" title="=&gt; Mixin.this.global.Scope">decls</a>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#513043" title="Mixin.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isLazy</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// check what fields can be nulled for</span>
        <span class="keyword">val</span> <a title="scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="513044">uses</a> = <a href="#111903" title="(templ: Mixin.this.global.Template)scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">singleUseFields</a><span class="delimiter">(</span><a href="#512970" title="Mixin.this.global.Template">templ</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="513087">field</a>, <a title="List[Mixin.this.global.Symbol]" id="513088">users</a><span class="delimiter">)</span> &lt;- <a href="#513044" title="(f: (Mixin.this.global.Symbol, List[Mixin.this.global.Symbol]) =&gt; Unit)Unit">uses</a>; <a title="Mixin.this.global.Symbol" id="513108">lazyFld</a> &lt;- <a href="#513088" title="(f: Mixin.this.global.Symbol =&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol])Unit">users</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#512973" title="nullables extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">nullables</a>.<span title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Symbol)nullables.type">addBinding</span><span class="delimiter">(</span><a href="#513108" title="Mixin.this.global.Symbol">lazyFld</a>, <a href="#513087" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#512973" title="nullables extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">nullables</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The transform that gets applied to a tree after it has been completely
     *  traversed and possible modified by a preTransform.
     *  This step will
     *    - change every node type that refers to an implementation class to its 
     *      corresponding interface, unless the node's symbol is an implementation class.
     *    - change parents of templates to conform to parents in the symbol info
     *    - add all new definitions to a class or interface
     *    - remove widening casts
     *    - change calls to methods which are defined only in implementation classes
     *      to static calls of methods in implementation modules (@see staticCall)
     *    - change super calls to methods in implementation classes to static calls
     *      (@see staticCall)
     *    - change `this' in implementation modules to references to the self parameter
     *    - refer to fields in some implementation class vie an abstract method in the interface.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="510253">postTransform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="513113">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="513115">sym</a> = <a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>

      <span class="comment">// change every node type that refers to an implementation class to its</span>
      <span class="comment">// corresponding interface, unless the node's symbol is an implementation class.</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#111886" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span>;

      <a href="#513113" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="513123">parents</a>, <a title="Mixin.this.global.ValDef" id="513124">self</a>, <a title="List[Mixin.this.global.Tree]" id="513125">body</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// change parents of templates to conform to parents in the symbol info</span>
          <span class="keyword">val</span> <a title="List[Mixin.this.global.TypeTree]" id="513126">parents1</a> = <a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105322" title="=&gt; List[Mixin.this.global.Type]">parents</a> <span title="(f: Mixin.this.global.Type =&gt; Mixin.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Type],Mixin.this.global.TypeTree,List[Mixin.this.global.TypeTree]])List[Mixin.this.global.TypeTree]">map</span> <span class="delimiter">(</span><a title="Mixin.this.global.Type" id="513148">t</a> =&gt; <a href="../ast/Trees.scala.html#67807" title="(tp: Mixin.this.global.Type)Mixin.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#513148" title="Mixin.this.global.Type">t</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.TypeTree">setPos</span> <a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span>

          <a href="#510238" title="(x$1: scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol])Unit">lazyValNullables</a> = <a href="#510252" title="(templ: Mixin.this.global.Template)scala.collection.mutable.HashMap[Mixin.this.global.Symbol,scala.collection.mutable.Set[Mixin.this.global.Symbol]] with scala.collection.mutable.MultiMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">nullableFields</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.Template" class="delimiter">[</span><span title="Mixin.this.global.Template">Template</span><span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="comment">// add all new definitions to current class or interface</span>
          <span class="keyword">val</span> <a title="List[Mixin.this.global.Tree]" id="513127">body1</a> = <a href="#510251" title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addNewDefs</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#513125" title="List[Mixin.this.global.Tree]">body</a><span class="delimiter">)</span>

          <a href="../ast/Trees.scala.html#162504" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#162414" title="(tree: Mixin.this.global.Tree, parents: List[Mixin.this.global.Tree], self: Mixin.this.global.ValDef, body: List[Mixin.this.global.Tree])Mixin.this.global.Template">Template</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>, <a href="#513126" title="List[Mixin.this.global.TypeTree]">parents1</a>, <a href="#513124" title="Mixin.this.global.ValDef">self</a>, <a href="#513127" title="List[Mixin.this.global.Tree]">body1</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span><a title="Mixin.this.global.Select" id="513192">sel</a> @ Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="513197">qual</a>, <a title="Mixin.this.global.Name" id="513198">name</a><span class="delimiter">)</span>, <a href="#513200" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="513211">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#513213" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#106418" title="=&gt; Mixin.this.global.Symbol">Object_asInstanceOf</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#513197" title="Mixin.this.global.Tree">qual</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span> <a href="../symtab/Types.scala.html#105374" title="(that: Mixin.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#513211" title="Mixin.this.global.Tree">targ</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="comment">// remove widening casts</span>
          <a href="#513197" title="Mixin.this.global.Tree">qual</a>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="513236">qual</a>, _<span class="delimiter">)</span>, <a title="List[Mixin.this.global.Tree]" id="513237">args</a><span class="delimiter">)</span> =&gt;
          <span class="comment">/** Changes &lt;code&gt;qual.m(args)&lt;/code&gt; where m refers to an implementation
           *  class method to Q.m(S, args) where Q is the implementation module of
           *  &lt;code&gt;m&lt;/code&gt; and S is the self parameter for the call, which
           *  is determined as follows:
           *     - if qual != super, qual itself
           *     - if qual == super, and we are in an implementation class,
           *       the current self parameter.
           *     - if qual == super, and we are not in an implementation class, `this'
           */</span>
          <span class="keyword">def</span> <a title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree" id="513238">staticCall</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="513239">target</a>: <a href="../symtab/Symbols.scala.html#67320" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#513239" title="Mixin.this.global.Symbol">target</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#513115" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#111889" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#111889" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102821" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#111889" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107423" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#105354" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107407" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>;<span class="comment">//debug</span>
            
            <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#105692" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#510247" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#513239" title="Mixin.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="#510245" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformSuper</a><span class="delimiter">(</span><a href="#513236" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="#513255" title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">::</a> <a href="#513237" title="List[Mixin.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#111884" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// change calls to methods which are defined only in implementation</span>
            <span class="comment">// classes to static calls of methods in implementation modules</span>
            <a href="#513238" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#513236" title="Mixin.this.global.Tree">qual</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Super</span><span class="delimiter">(</span>_, <a title="Mixin.this.global.TypeName" id="513265">mix</a><span class="delimiter">)</span> =&gt;
              <span class="comment">// change super calls to methods in implementation classes to static calls.</span>
              <span class="comment">// Transform references super.m(args) as follows:</span>
              <span class="comment">//  - if `m' refers to a trait, insert a static call to the corresponding static</span>
              <span class="comment">//    implementation</span>
              <span class="comment">//  - otherwise return tree unchanged</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#513265" title="Mixin.this.global.TypeName">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#67709" title="object Mixin.this.global.tpnme">tpnme</a>.<span title="=&gt; Mixin.this.global.tpnme.NameType">EMPTY</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<span title="=&gt; Mixin.this.global.Symbol">enclClass</span>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span>
                <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;illegal super in trait: &quot;)" class="string">&quot;illegal super in trait: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<span title="=&gt; Mixin.this.global.Symbol">enclClass</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#513113" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>;
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(mask: Long)Boolean">hasFlag</span> <a href="../symtab/Flags.scala.html#67038" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAccessorFlag</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#513237" title="List[Mixin.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="513273">sym1</a> = <a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107490" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<span title="=&gt; Mixin.this.global.Symbol">enclClass</span><span class="delimiter">)</span>
                  <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#510245" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformSuper</a><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#513236" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#149345" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#513273" title="Mixin.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#513238" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102821" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107490" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#111889" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#162506" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<span title="=&gt; Mixin.this.global.Symbol">enclClass</span>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span>
                <a href="#513113" title="Mixin.this.global.Tree">tree</a>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
              <a href="#513113" title="Mixin.this.global.Tree">tree</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#510246" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformThis</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Name" id="513307">name</a><span class="delimiter">)</span> =&gt;
          <a href="#513113" title="Mixin.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="Mixin.this.global.erasure.global.Tree">Select</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="513312">qual</a>, <a title="Mixin.this.global.Name" id="513313">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#111884" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
          <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;no method allowed here: %s%s %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>, <a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107382" title="=&gt; Boolean">isImplOnly</a>, <a href="../symtab/Flags.scala.html#24079" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107410" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="comment">// refer to fields in some implementation class via an abstract</span>
          <span class="comment">// getter in the interface.</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="513314">iface</a> = <a href="#111886" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="513315">getter</a> = <a href="#513115" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#107494" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#513314" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
          <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#513315" title="Mixin.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#67328" title="object Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#149345" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#513315" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.erasure.global.Tree">Assign</span><span class="delimiter">(</span>Apply<span class="delimiter">(</span><a title="Mixin.this.global.Select" id="513347">lhs</a> @ Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="513352">qual</a>, _<span class="delimiter">)</span>, <a href="#513354" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="513365">rhs</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// assign to fields in some implementation class via an abstract</span>
          <span class="comment">// setter in the interface.</span>
          <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="513366">setter</a> = <a href="#513347" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107496" title="(base: Mixin.this.global.Symbol, hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><span class="delimiter">(</span>
            <a href="#111886" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#513347" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../symtab/Symbols.scala.html#107400" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#107421" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#105313" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>, 
            <a href="#111894" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#513347" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#107264" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#513347" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>
          
          <a href="#510236" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#513113" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#113868" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#149345" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#513366" title="=&gt; Mixin.this.global.Symbol">setter</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#513365" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span> <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#513113" title="Mixin.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** The main transform method.
     *  This performs pre-order traversal preTransform at mixin phase;
     *  when coming back, it performs a postTransform at phase after.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="510254">transform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="510975">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span> <span class="comment">//debug</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Typer" id="513386">outerTyper</a> = <a href="#510234" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="513387">tree1</a> = <a href="#111905" title="Mixin.this.MixinTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#162512" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#510243" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">preTransform</a><span class="delimiter">(</span><a href="#510975" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="513388">res</a> = <a href="../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#64795" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#102836" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#510253" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">postTransform</a><span class="delimiter">(</span><a href="#513387" title="Mixin.this.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// needed when not flattening inner classes. parts after an</span>
        <span class="comment">// inner class will otherwise be typechecked with a wrong scope</span>
        <a href="#510234" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="#513386" title="Mixin.this.global.erasure.Typer">outerTyper</a>
        <a href="#513388" title="Mixin.this.global.Tree">res</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="513397">ex</a>: <span title="Throwable">Throwable</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;exception when traversing &quot;)" class="string">&quot;exception when traversing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#510975" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#513397" title="java.lang.Throwable">ex</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>