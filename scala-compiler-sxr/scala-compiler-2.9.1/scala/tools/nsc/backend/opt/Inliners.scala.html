<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/opt/Inliners.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Iulian Dragos
 */</span>


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.opt

<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> scala.tools.nsc.symtab._

<span class="comment">/**
 *  @author Iulian Dragos
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Inliners extends scala.tools.nsc.SubComponent with ScalaObject" id="15710">Inliners</a> <a href="#15710" title="ScalaObject" class="keyword">extends</a> <a href="../../SubComponent.scala.html#10972" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../../SubComponent.scala.html#95918" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#64836" title="object Inliners.this.global.icodes">icodes</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#64836" title="object Inliners.this.global.icodes">icodes</a>.<a href="../icode/Opcodes.scala.html#96975" title="object Inliners.this.global.icodes.opcodes">opcodes</a>._
  <span class="keyword">import</span> <a href="../../symtab/Definitions.scala.html#67688" title="object Inliners.this.global.definitions">definitions</a>.<span class="delimiter">{</span>
    NullClass, NothingClass, ObjectClass,
    PredefModule, RuntimePackage, ScalaInlineClass, ScalaNoInlineClass,
    isFunctionType
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="java.lang.String" id="112059">phaseName</a> = <span title="java.lang.String(&quot;inliner&quot;)" class="string">&quot;inliner&quot;</span>

  <span class="comment">/** Debug - for timing the inliner. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](s: String, body: =&gt; T)T" id="112061">timed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="112063">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="254409">s</a>: <span title="String">String</span>, <a title="=&gt; T" id="254410">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#112063" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="254414">t1</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="T" id="254415">res</a> = <a href="#254410" title="=&gt; T">body</a>
    <span class="keyword">val</span> <a title="Long" id="254416">t2</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span>    
    <span class="keyword">val</span> <a title="Int" id="254417">ms</a> = <span class="delimiter">(</span><a href="#254416" title="Long">t2</a> <span title="(x: Long)Long">-</span> <a href="#254414" title="Long">t1</a><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#254417" title="Int">ms</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2000)">MAX_INLINE_MILLIS</span><span class="delimiter">)</span>
      <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s: %d milliseconds&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#254409" title="String">s</a>, <a href="#254417" title="Int">ms</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#254415" title="T">res</a>
  <span class="delimiter">}</span>

  <span class="comment">/* A warning threshold */</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(2000)" id="112064">MAX_INLINE_MILLIS</a> = <span title="Int(2000)" class="int">2000</span>

  <span class="comment">/** The maximum size in basic blocks of methods considered for inlining. */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(16)" id="112066">MAX_INLINE_SIZE</a> = <span title="Int(16)" class="int">16</span>

  <span class="comment">/** Maximum loop iterations. */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(15)" id="112068">MAX_INLINE_RETRY</a> = <span title="Int(15)" class="int">15</span>

  <span class="comment">/** Small method size (in blocks) */</span>
  <span class="keyword">val</span> <a title="Int" id="112070">SMALL_METHOD_SIZE</a> = <span title="Int(1)" class="int">1</span>

  <span class="comment">/** Create a new phase */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(p: scala.tools.nsc.Phase)Inliners.this.InliningPhase" id="112072">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="113702">p</a>: <a href="../../Phase.scala.html#10630" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> = <span title="Inliners.this.InliningPhase" class="keyword">new</span> <a href="#112073" title="Inliners.this.InliningPhase">InliningPhase</a><span class="delimiter">(</span><a href="#113702" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>

  <span class="comment">/** The Inlining phase.
   */</span>
  <span class="keyword">class</span> <a title="class InliningPhase extends Inliners.this.global.icodes.ICodePhase with ScalaObject" id="112073">InliningPhase</a><a href="#112073" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="113712">prev</a>: <a href="../../Phase.scala.html#10630" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../icode/ICodes.scala.html#96950" title="Inliners.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#113712" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="113708">name</a> = <a href="#112059" title="=&gt; java.lang.String">phaseName</a>
    <span class="keyword">val</span> <a title="Inliners.this.Inliner" id="113709">inliner</a> = <span title="Inliners.this.Inliner" class="keyword">new</span> <a href="#112077" title="Inliners.this.Inliner">Inliner</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(c: Inliners.this.global.icodes.IClass)Unit" id="113711">apply</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="254466">c</a>: <a href="../icode/Members.scala.html#96961" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#113709" title="=&gt; Inliners.this.Inliner">inliner</a> <a href="#254450" title="(cls: Inliners.this.global.icodes.IClass)Unit">analyzeClass</a> <a href="#254466" title="Inliners.this.global.icodes.IClass">c</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="112074">isBottomType</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="254485">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#254485" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106085" title="=&gt; Inliners.this.global.Symbol">NullClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#254485" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106087" title="=&gt; Inliners.this.global.Symbol">NothingClass</a>
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)java.lang.String" id="112075">posToStr</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.Position" id="254496">pos</a>: util.<a href="../../util/Position.scala.html#30599" title="scala.tools.nsc.util.Position">Position</a><span class="delimiter">)</span> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#254496" title="scala.tools.nsc.util.Position">pos</a>.<a href="../../util/Position.scala.html#97188" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#254496" title="scala.tools.nsc.util.Position">pos</a>.<a href="../../util/Position.scala.html#97195" title="=&gt; Int">point</a>.<span title="()java.lang.String">toString</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&lt;nopos&gt;&quot;)" class="string">&quot;&lt;nopos&gt;&quot;</span>

  <span class="comment">/** Is the given class a closure? */</span>
  <span class="keyword">def</span> <a title="(cls: Inliners.this.global.Symbol)Boolean" id="112076">isClosureClass</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="232477">cls</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#232477" title="Inliners.this.global.Symbol">cls</a>.<span title="=&gt; Boolean">isFinal</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#232477" title="Inliners.this.global.Symbol">cls</a>.<span title="=&gt; Boolean">isSynthetic</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#232477" title="Inliners.this.global.Symbol">cls</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#232477" title="Inliners.this.global.Symbol">cls</a>.<a href="../../symtab/Symbols.scala.html#107347" title="=&gt; Boolean">isAnonymousFunction</a>

  <span class="comment">/** 
   * Simple inliner.
   */</span>
  <span class="keyword">class</span> <a title="class Inliner extends java.lang.Object with ScalaObject" id="112077">Inliner</a> <a href="#112077" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">object</span> <a title="object Inliner.this.NonPublicRefs" id="254438">NonPublicRefs</a> <span title="ScalaObject" class="keyword">extends</span> <span title="Enumeration">Enumeration</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="254476">Public</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="254478">Protected</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="254480">Private</a> = <span title="=&gt; scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value">Value</span>
      
      <span class="comment">/** Cache whether a method calls private members. */</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]" id="254482">usesNonPublics</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]">Map</span><span class="delimiter">[</span>IMethod, Value<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]">HashMap</span>
    <span class="delimiter">}</span>
    <span class="keyword">import</span> <a href="#254438" title="object Inliner.this.NonPublicRefs">NonPublicRefs</a>._

    <span class="comment">/* fresh name counter */</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[String,Int]" id="254441">fresh</a> = <span title="()scala.collection.mutable.HashMap[String,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[String,Int]">HashMap</span><span class="delimiter">[</span>String, Int<span class="delimiter">]</span> <span title="(d: Int)scala.collection.mutable.Map[String,Int]">withDefaultValue</span> <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="254443">freshName</a><span class="delimiter">(</span><a title="String" id="254529">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#254441" title="(key: String, value: Int)Unit">fresh</a><span class="delimiter">(</span><a href="#254529" title="String">s</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <a href="#254529" title="String">s</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#254441" title="(key: String)Int">fresh</a><span class="delimiter">(</span><a href="#254529" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="254444">hasInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="254591">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="#254591" title="Inliners.this.global.Symbol">sym</a> <a href="../../symtab/Symbols.scala.html#107273" title="(cls: Inliners.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../symtab/Definitions.scala.html#106145" title="=&gt; Inliners.this.global.Symbol">ScalaInlineClass</a>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="254445">hasNoInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="254599">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#254599" title="Inliners.this.global.Symbol">sym</a> <a href="../../symtab/Symbols.scala.html#107273" title="(cls: Inliners.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../symtab/Definitions.scala.html#106147" title="=&gt; Inliners.this.global.Symbol">ScalaNoInlineClass</a>    

    <span class="comment">/** The current iclass */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Inliners.this.global.icodes.IClass" id="254447">currentIClazz</a>: <a href="../icode/Members.scala.html#96961" title="Inliners.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Inliners.this.global.Position, msg: String)Unit" id="254449">warn</a><span class="delimiter">(</span><a title="Inliners.this.global.Position" id="254607">pos</a>: <a href="../../util/Position.scala.html#30599" title="Inliners.this.global.Position">Position</a>, <a title="String" id="254608">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#254447" title="=&gt; Inliners.this.global.icodes.IClass">currentIClazz</a>.<a href="../icode/Members.scala.html#97399" title="=&gt; Inliners.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#96431" title="(pos: Inliners.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#254607" title="Inliners.this.global.Position">pos</a>, <a href="#254608" title="String">msg</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(cls: Inliners.this.global.icodes.IClass)Unit" id="254450">analyzeClass</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="254474">cls</a>: <a href="../icode/Members.scala.html#96961" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36764" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">inline</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        	<a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Analyzing &quot;)" class="string">&quot;Analyzing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#254474" title="Inliners.this.global.icodes.IClass">cls</a><span class="delimiter">)</span>

        <a href="#112077" title="Inliner.this.type" class="keyword">this</a>.<a href="#254447" title="(x$1: Inliners.this.global.icodes.IClass)Unit">currentIClazz</a> = <a href="#254474" title="Inliners.this.global.icodes.IClass">cls</a>
        <a href="#254474" title="Inliners.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#97396" title="=&gt; List[Inliners.this.global.icodes.IMethod]">methods</a> <span title="(p: Inliners.this.global.icodes.IMethod =&gt; Boolean)List[Inliners.this.global.icodes.IMethod]">filterNot</span> <span class="delimiter">(</span><a href="#254630" title="Inliners.this.global.icodes.IMethod">_</a>.<a href="../icode/Members.scala.html#197724" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107334" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="(f: Inliners.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <a href="#254455" title="(m: Inliners.this.global.icodes.IMethod)Unit">analyzeMethod</a>
      <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Inliners.this.global.analysis.MethodTFA" id="254451">tfa</a>   = <span title="Inliners.this.global.analysis.MethodTFA" class="keyword">new</span> <a href="../../Global.scala.html#64842" title="object Inliners.this.global.analysis">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#107133" title="Inliners.this.global.analysis.MethodTFA">MethodTFA</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#254451" title="=&gt; Inliners.this.global.analysis.MethodTFA">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#223914" title="(x$1: Boolean)Unit">stat</a>  = <a href="../../SubComponent.scala.html#95918" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#64877" title="object Inliners.this.global.opt">opt</a>.<a href="../../settings/AestheticSettings.scala.html#97462" title="=&gt; Boolean">printStats</a>

    <span class="comment">// how many times have we already inlined this method here?</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]" id="254453">inlinedMethodCount</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">Map</span><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span> = <a href="#254656" title="scala.collection.mutable.HashMap[Inliners.this.global.Symbol,Int]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[Inliners.this.global.Symbol,Int]" id="254656">mutable</a>.<span title="scala.collection.mutable.HashMap[Inliners.this.global.Symbol,Int]">HashMap</span><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span> <span class="delimiter">{</span>
    	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(k: Inliners.this.global.Symbol)Int" id="255131">default</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255132">k</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="Int(0)" class="int">0</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: Inliners.this.global.icodes.IMethod)Unit" id="254455">analyzeMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="254651">m</a>: <a href="../icode/Members.scala.html#96963" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="255157">sizeBeforeInlining</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197800" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<span title="=&gt; Int">length</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="255158">instrBeforeInlining</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197800" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<span title="(z: Int)(op: (Int, Inliners.this.global.icodes.BasicBlock) =&gt; Int)Int">foldLeft</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#255196" title="Int">_</a> <span title="(x: Int)Int">+</span> <a href="#255197" title="Inliners.this.global.icodes.BasicBlock">_</a>.<a href="../icode/BasicBlocks.scala.html#197654" title="=&gt; Int">length</a><span class="delimiter">)</span>  <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Boolean" id="255159">retry</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">var</span> <a title="Int" id="255160">count</a> = <span title="Int(0)" class="int">0</span>
      <a href="#254441" title="=&gt; scala.collection.mutable.Map[String,Int]">fresh</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#254453" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">inlinedMethodCount</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="255161">caller</a> = <span title="Inliner.this.IMethodInfo" class="keyword">new</span> <a href="#254460" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span><a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Inliner.this.tfa.lattice.Elem" id="255162">info</a>: tfa.lattice.<a href="../icode/analysis/SemiLattice.scala.html#223447" title="Inliner.this.tfa.lattice.Elem">Elem</a> = <span title="Null(null)" class="keyword">null</span>

      <span class="keyword">def</span> <a title="(msym: Inliners.this.global.Symbol, i: Inliners.this.global.icodes.Instruction, bb: Inliners.this.global.icodes.BasicBlock)Boolean" id="255163">analyzeInc</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255240">msym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.icodes.Instruction" id="255241">i</a>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="255242">bb</a>: <a href="../icode/BasicBlocks.scala.html#96970" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Boolean" id="255243">inlined</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.Type]" id="255244">paramTypes</a>  = <a href="#255240" title="Inliners.this.global.Symbol">msym</a>.<a href="../../symtab/Symbols.scala.html#107423" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105335" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a>
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Symbol" id="255245">receiver</a>    = <span class="delimiter">(</span><a href="#255162" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#226539" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#212087" title="=&gt; Inliners.this.global.analysis.global.icodes.Rep">types</a> <span title="(n: Int)List[Inliners.this.global.analysis.global.icodes.TypeKind]">drop</span> <a href="#255244" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<span title="=&gt; Inliners.this.global.analysis.global.icodes.TypeKind">head</span> <span title="Inliners.this.global.icodes.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Inliners.this.global.icodes.global.Symbol">REFERENCE</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="255264">s</a><span class="delimiter">)</span> =&gt; <a href="#255264" title="Inliners.this.global.icodes.global.Symbol">s</a>
          <span class="keyword">case</span> <span title="Inliners.this.global.NoSymbol.type">_</span>            =&gt; <a href="../../symtab/Symbols.scala.html#67328" title="object Inliners.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.Symbol" id="255246">concreteMethod</a>  = <a href="#254459" title="(sym: Inliners.this.global.Symbol, clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookupImplFor</a><span class="delimiter">(</span><a href="#255240" title="Inliners.this.global.Symbol">msym</a>, <a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(reason: String)Unit" id="255247">warnNoInline</a><span class="delimiter">(</span><a title="String" id="255268">reason</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#254444" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#255240" title="Inliners.this.global.Symbol">msym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255216" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span>
            <a href="#254449" title="(pos: Inliners.this.global.Position, msg: String)Unit">warn</a><span class="delimiter">(</span><a href="#255241" title="Inliners.this.global.icodes.Instruction">i</a>.<a href="../icode/Opcodes.scala.html#197946" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Could not inline required method %s because %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#255240" title="Inliners.this.global.Symbol">msym</a>.<a href="../../symtab/Symbols.scala.html#107409" title="=&gt; Inliners.this.global.Name">originalName</a>.<a href="../../symtab/Names.scala.html#96619" title="=&gt; String">decode</a>, <a href="#255268" title="String">reason</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#254458" title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean">shouldLoadImplFor</a><span class="delimiter">(</span><a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64836" title="object Inliners.this.global.icodes">icodes</a>.<a href="../icode/Repository.scala.html#97147" title="(sym: Inliners.this.global.icodes.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a>.<span title="=&gt; Inliners.this.global.Symbol">enclClass</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="=&gt; Boolean" id="255248">isAvailable</a> = <a href="../../Global.scala.html#64836" title="object Inliners.this.global.icodes">icodes</a> <a href="../icode/Repository.scala.html#97144" title="(sym: Inliners.this.global.icodes.global.Symbol)Boolean">available</a> <a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a>.<span title="=&gt; Inliners.this.global.Symbol">enclClass</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="255249">isCandidate</a> = <a href="#112076" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../symtab/Symbols.scala.html#107388" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a>.<span title="=&gt; Boolean">isFinal</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="255250">isApply</a>     = <a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../symtab/Symbols.scala.html#107407" title="=&gt; Inliners.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/StdNames.scala.html#67713" title="object Inliners.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115310" title="=&gt; Inliners.this.global.nme.NameType">apply</a>        
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="255251">isCountable</a> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#112076" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">||</span> <a href="#255250" title="=&gt; Boolean">isApply</a>
                <span title="(x: Boolean)Boolean">||</span> <a href="#254456" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">||</span> <a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a>.<a href="../../symtab/Symbols.scala.html#107474" title="=&gt; Inliners.this.global.icodes.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#67688" title="object Inliners.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106048" title="=&gt; Inliners.this.global.Symbol">RuntimePackage</a>
                <span class="delimiter">)</span>   <span class="comment">// only count non-closures</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Treating &quot;)" class="string">&quot;Treating &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255241" title="Inliners.this.global.icodes.Instruction">i</a> 
              <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\011receiver: &quot;)" class="string">&quot;\n\treceiver: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a>
              <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\011icodes.available: &quot;)" class="string">&quot;\n\ticodes.available: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255248" title="=&gt; Boolean">isAvailable</a>
              <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\011concreteMethod.isEffectivelyFinal: &quot;)" class="string">&quot;\n\tconcreteMethod.isEffectivelyFinal: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../symtab/Symbols.scala.html#107388" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#255248" title="=&gt; Boolean">isAvailable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255249" title="=&gt; Boolean">isCandidate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#254462" title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]">lookupIMethod</a><span class="delimiter">(</span><a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Any">Some</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="255318">callee</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="255319">inc</a>   = <span title="Inliner.this.IMethodInfo" class="keyword">new</span> <a href="#254460" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span><a href="#255318" title="Inliners.this.global.icodes.IMethod">callee</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Inliner.this.CallerCalleeInfo" id="255320">pair</a>  = <span title="Inliner.this.CallerCalleeInfo" class="keyword">new</span> <a href="#254461" title="Inliner.this.CallerCalleeInfo">CallerCalleeInfo</a><span class="delimiter">(</span><a href="#255161" title="Inliner.this.IMethodInfo">caller</a>, <a href="#255319" title="Inliner.this.IMethodInfo">inc</a><span class="delimiter">)</span>
            
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#255320" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#255330" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isStampedForInlining</a> <a href="#255162" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#226539" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#255159" title="Boolean">retry</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#255243" title="Boolean">inlined</a> = <span title="Boolean(true)" class="keyword">true</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255251" title="=&gt; Boolean">isCountable</a><span class="delimiter">)</span>
                  <a href="#255160" title="Int">count</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

                <a href="#255320" title="Inliner.this.CallerCalleeInfo">pair</a>.<a href="#255329" title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.Instruction)Unit">doInline</a><span class="delimiter">(</span><a href="#255242" title="Inliners.this.global.icodes.BasicBlock">bb</a>, <a href="#255241" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#255319" title="Inliner.this.IMethodInfo">inc</a>.<a href="#255213" title="=&gt; Boolean">inline</a> <span title="(x: Boolean)Boolean">||</span> <a href="#255319" title="Inliner.this.IMethodInfo">inc</a>.<a href="#255219" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span>
                  <a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255234" title="(x$1: Int)Unit">inlinedCalls</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
                <a href="#254453" title="(key: Inliners.this.global.Symbol, value: Int)Unit">inlinedMethodCount</a><span class="delimiter">(</span><a href="#255319" title="Inliner.this.IMethodInfo">inc</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

                <span class="comment">/* Remove this method from the cache, as the calls-private relation
                 * might have changed after the inlining.
                 */</span>
                <a href="#254482" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a> <span title="(key: Inliners.this.global.icodes.IMethod)Inliner.this.NonPublicRefs.usesNonPublics.type">-=</span> <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                  <a href="#255320" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#255331" title="(stack: Inliners.this.global.icodes.TypeStack)Unit">logFailure</a> <a href="#255162" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#226539" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>
                  
                <a href="#255247" title="(reason: String)Unit">warnNoInline</a><span class="delimiter">(</span><a href="#255320" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#255332" title="(stack: Inliners.this.global.icodes.TypeStack)java.lang.String">failureReason</a> <a href="#255162" title="Inliner.this.tfa.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#226539" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">None</span> =&gt;
              <a href="#255247" title="(reason: String)Unit">warnNoInline</a><span class="delimiter">(</span><span title="java.lang.String(&quot;bytecode was not available&quot;)" class="string">&quot;bytecode was not available&quot;</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not find icode\012\011receiver: &quot;)" class="string">&quot;could not find icode\n\treceiver: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255245" title="Inliners.this.global.icodes.global.Symbol">receiver</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\011method: &quot;)" class="string">&quot;\n\tmethod: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255246" title="Inliners.this.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#255247" title="(reason: String)Unit">warnNoInline</a><span class="delimiter">(</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#255248" title="=&gt; Boolean">isAvailable</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;bytecode was not available&quot;)" class="string">&quot;bytecode was not available&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;it is not final&quot;)" class="string">&quot;it is not final&quot;</span>
        <span class="delimiter">)</span>
        <a href="#255243" title="Boolean">inlined</a>
      <span class="delimiter">}</span>

      <span class="keyword">import</span> scala.util.control.<span title="object scala.util.control.Breaks">Breaks</span>._
      <a href="#255165" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
        <a href="#255159" title="Boolean">retry</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255213" title="=&gt; Boolean">inline</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Not inlining into &quot;)" class="string">&quot;Not inlining into &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107409" title="=&gt; Inliners.this.global.icodes.global.Name">originalName</a>.<a href="../../symtab/Names.scala.html#96619" title="=&gt; String">decode</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; because it is marked @inline.&quot;)" class="string">&quot; because it is marked @inline.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255230" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Analyzing &quot;)" class="string">&quot;Analyzing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; count &quot;)" class="string">&quot; count &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255160" title="Int">count</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255223" title="=&gt; Int">length</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; blocks&quot;)" class="string">&quot; blocks&quot;</span><span class="delimiter">)</span>
          <a href="#254451" title="=&gt; Inliners.this.global.analysis.MethodTFA">tfa</a> <a href="../icode/analysis/TypeFlowAnalysis.scala.html#228921" title="(m: Inliners.this.global.analysis.global.icodes.IMethod)Unit">init</a> <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>
          <a href="#254451" title="=&gt; Inliners.this.global.analysis.MethodTFA">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#228924" title="()Unit">run</a>
          <a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255226" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">linearized</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="255532">bb</a> =&gt;
            <a href="#255162" title="Inliner.this.tfa.lattice.Elem">info</a> = <a href="#254451" title="=&gt; Inliners.this.global.analysis.MethodTFA">tfa</a> <a href="../icode/analysis/DataFlowAnalysis.scala.html#223907" title="(key: Inliner.this.tfa.P)Inliner.this.tfa.lattice.Elem">in</a> <a href="#255532" title="Inliners.this.global.icodes.BasicBlock">bb</a>

            <span title="(op: =&gt; Unit)Unit">breakable</span> <span class="delimiter">{</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="255575">i</a> &lt;- <a href="../icode/BasicBlocks.scala.html#197651" title="(f: Inliners.this.global.icodes.Instruction =&gt; Unit)Unit">bb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#255575" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="255578">msym</a>, <a href="../icode/Opcodes.scala.html#113648" title="object Inliners.this.global.icodes.opcodes.Dynamic">Dynamic</a><span class="delimiter">)</span> =&gt;
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255163" title="(msym: Inliners.this.global.Symbol, i: Inliners.this.global.icodes.Instruction, bb: Inliners.this.global.icodes.BasicBlock)Boolean">analyzeInc</a><span class="delimiter">(</span><a href="#255578" title="Inliners.this.global.icodes.global.Symbol">msym</a>, <a href="#255575" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#255532" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="()Unit">break</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#255162" title="Inliner.this.tfa.lattice.Elem">info</a> = <a href="#254451" title="=&gt; Inliners.this.global.analysis.MethodTFA">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#228926" title="(in: Inliners.this.global.analysis.typeFlowLattice.Elem, i: Inliners.this.global.analysis.global.icodes.Instruction)Inliners.this.global.analysis.typeFlowLattice.Elem">interpret</a><span class="delimiter">(</span><a href="#255162" title="Inliner.this.tfa.lattice.Elem">info</a>, <a href="#255575" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#254451" title="=&gt; Inliners.this.global.analysis.MethodTFA">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#223913" title="=&gt; Boolean">stat</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197724" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; iterations: &quot;)" class="string">&quot; iterations: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#254451" title="=&gt; Inliners.this.global.analysis.MethodTFA">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#223916" title="=&gt; Int">iterations</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; (size: &quot;)" class="string">&quot; (size: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255161" title="Inliner.this.IMethodInfo">caller</a>.<a href="#255223" title="=&gt; Int">length</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> 
      <span class="keyword">while</span> <span class="delimiter">(</span><a href="#255159" title="Boolean">retry</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255160" title="Int">count</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(15)">MAX_INLINE_RETRY</span><span class="delimiter">)</span>
      
      <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197765" title="()Unit">normalize</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255157" title="Int">sizeBeforeInlining</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="255593">instrAfterInlining</a> = <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197800" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<span title="(z: Int)(op: (Int, Inliners.this.global.icodes.BasicBlock) =&gt; Int)Int">foldLeft</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#255614" title="Int">_</a> <span title="(x: Int)Int">+</span> <a href="#255615" title="Inliners.this.global.icodes.BasicBlock">_</a>.<a href="../icode/BasicBlocks.scala.html#197654" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="255594">prefix</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#255593" title="Int">instrAfterInlining</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(2)" class="int">2</span> <span title="(x: Int)Int">*</span> <a href="#255158" title="Int">instrBeforeInlining</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#255593" title="Int">instrAfterInlining</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(200)" class="int">200</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; !! &quot;)" class="string">&quot; !! &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#255594" title="java.lang.String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; %s blocks before inlining: %d (%d) after: %d (%d)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197724" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span>, <a href="#255157" title="Int">sizeBeforeInlining</a>, <a href="#255158" title="Int">instrBeforeInlining</a>, <a href="#254651" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197800" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<span title="=&gt; Int">length</span>, <a href="#255593" title="Int">instrAfterInlining</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="254456">isMonadicMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255293">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#255303" title="Inliners.this.global.Name" id="255296" class="delimiter">(</a><a title="Inliners.this.global.Name" id="255303">origName</a>, _, _<span class="delimiter">)</span> = <a href="../../symtab/StdNames.scala.html#67713" title="object Inliners.this.global.nme">nme</a>.<a href="../../symtab/NameManglers.scala.html#115615" title="(name: Inliners.this.global.Name)(Inliners.this.global.Name, String, String)">splitSpecializedName</a><span title="(Inliners.this.global.Name, String, String) @unchecked" class="delimiter">(</span><a href="#255293" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107407" title="=&gt; Inliners.this.global.Name">name</a><span class="delimiter">)</span>
      <a href="#255296" title="Inliners.this.global.Name">origName</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../symtab/StdNames.scala.html#67713" title="Boolean(true)">nme</a>.<a href="../../symtab/StdNames.scala.html#115364" title="=&gt; Inliners.this.global.nme.NameType">foreach</a> | <a href="../../symtab/StdNames.scala.html#67713" title="object Inliners.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115356" title="=&gt; Inliners.this.global.nme.NameType">filter</a> | <a href="../../symtab/StdNames.scala.html#67713" title="object Inliners.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115468" title="=&gt; Inliners.this.global.nme.NameType">withFilter</a> | <a href="../../symtab/StdNames.scala.html#67713" title="object Inliners.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115404" title="=&gt; Inliners.this.global.nme.NameType">map</a> | <a href="../../symtab/StdNames.scala.html#67713" title="object Inliners.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115362" title="=&gt; Inliners.this.global.nme.NameType">flatMap</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Boolean" id="254457">isHigherOrderMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255638">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#255638" title="Inliners.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../symtab/SymbolTable.scala.html#64804" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#64980" title="=&gt; Inliners.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72331" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../Phase.scala.html#102821" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#255638" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107423" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105335" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a> <span title="(p: Inliners.this.global.Type =&gt; Boolean)Boolean">exists</span> <a href="../../symtab/Definitions.scala.html#106352" title="(tp: Inliners.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">)</span>
		
    <span class="comment">/** Should method 'sym' being called in 'receiver' be loaded from disk? */</span>
    <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean" id="254458">shouldLoadImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255281">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="255282">receiver</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255659">alwaysLoad</a>    = <span class="delimiter">(</span><a href="#255282" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../symtab/Symbols.scala.html#107474" title="=&gt; Inliners.this.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106048" title="=&gt; Inliners.this.global.Symbol">RuntimePackage</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#255282" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106168" title="=&gt; Inliners.this.global.Symbol">PredefModule</a>.<a href="../../symtab/Symbols.scala.html#107486" title="=&gt; Inliners.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255660">loadCondition</a> = <a href="#255281" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107388" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#254456" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#255281" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#254457" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#255281" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span>
      
      <span class="keyword">val</span> <a title="Boolean" id="255661">res</a> = <a href="#254444" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#255281" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#255659" title="=&gt; Boolean">alwaysLoad</a> <span title="(x: Boolean)Boolean">||</span> <a href="#255660" title="=&gt; Boolean">loadCondition</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;shouldLoadImplFor: &quot;)" class="string">&quot;shouldLoadImplFor: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255282" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255281" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255661" title="Boolean">res</a><span class="delimiter">)</span>
      <a href="#255661" title="Boolean">res</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Look up implementation of method 'sym in 'clazz'.
     */</span>
    <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="254459">lookupImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255265">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="255266">clazz</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="comment">// TODO: verify that clazz.superClass is equivalent here to clazz.tpe.parents(0).typeSymbol (.tpe vs .info)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255674">needsLookup</a> = <span class="delimiter">(</span><a href="#255266" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/Symbols.scala.html#67328" title="object Inliners.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#255266" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#255265" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107400" title="=&gt; Inliners.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#255265" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107388" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255266" title="Inliners.this.global.Symbol">clazz</a>.<span title="=&gt; Boolean">isFinal</span>

      <span class="keyword">def</span> <a title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="255675">lookup</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255684">clazz</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="comment">// println(&quot;\t\tlooking up &quot; + meth + &quot; in &quot; + clazz.fullName + &quot; meth.owner = &quot; + meth.owner)</span>
        <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#255265" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107400" title="=&gt; Inliners.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#255684" title="Inliners.this.global.Symbol">clazz</a> <span title="(x: Boolean)Boolean">||</span> <a href="#112074" title="(sym: Inliners.this.global.Symbol)Boolean">isBottomType</a><span class="delimiter">(</span><a href="#255684" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#255265" title="Inliners.this.global.Symbol">sym</a>
        <span class="keyword">else</span> <a href="#255265" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107490" title="(ofclazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#255684" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="Inliners.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../symtab/Symbols.scala.html#67328" title="Inliners.this.global.Symbol">NoSymbol</a>  =&gt; <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#255265" title="Inliners.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107400" title="=&gt; Inliners.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107339" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#255265" title="Inliners.this.global.Symbol">sym</a> <span class="keyword">else</span> <a href="#255675" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#255684" title="Inliners.this.global.Symbol">clazz</a>.<a href="../../symtab/Symbols.scala.html#107470" title="=&gt; Inliners.this.global.Symbol">superClass</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Inliners.this.global.Symbol" id="255696">imp</a>       =&gt; <a href="#255696" title="Inliners.this.global.Symbol">imp</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Inliners.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#255674" title="=&gt; Boolean">needsLookup</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.Symbol" id="255697">concreteMethod</a> = <a href="#255675" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#255266" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\011looked up method: &quot;)" class="string">&quot;\tlooked up method: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255697" title="Inliners.this.global.Symbol">concreteMethod</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>

        <a href="#255697" title="Inliners.this.global.Symbol">concreteMethod</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#255265" title="Inliners.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class IMethodInfo extends java.lang.Object with ScalaObject" id="254460">IMethodInfo</a><a href="#254460" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Inliners.this.global.icodes.IMethod" id="255239">m</a>: <a href="../icode/Members.scala.html#96963" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Symbol" id="255206">sym</a>           = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197724" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.Name" id="255208">name</a>          = <a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107407" title="=&gt; Inliners.this.global.icodes.global.Name">name</a>
      <span class="keyword">def</span> <a title="=&gt; Inliners.this.global.icodes.global.Symbol" id="255210">owner</a>         = <a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107400" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.global.Type]" id="255211">paramTypes</a>    = <a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107423" title="=&gt; Inliners.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105335" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="255212">minimumStack</a>  = <a href="#255211" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255213">inline</a>        = <a href="#254444" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255214">noinline</a>      = <a href="#254445" title="(sym: Inliners.this.global.Symbol)Boolean">hasNoInline</a><span class="delimiter">(</span><a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="255215">numInlined</a>    = <a href="#254453" title="(key: Inliners.this.global.Symbol)Int">inlinedMethodCount</a><span class="delimiter">(</span><a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255216">isBridge</a>      = <a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<span title="=&gt; Boolean">isBridge</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255217">isInClosure</a>   = <a href="#112076" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#255210" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255218">isHigherOrder</a> = <a href="#254457" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255219">isMonadic</a>     = <a href="#254456" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]" id="255220">handlers</a>      = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197733" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>
      <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" id="255221">blocks</a>        = <span title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" class="keyword">if</span> <span class="delimiter">(</span><a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;blocks = null + &quot;)" class="string">&quot;blocks = null + &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197800" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.Local]" id="255222">locals</a>        = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197745" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="255223">length</a>        = <a href="#255221" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<span title="=&gt; Int">length</span>
      <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" id="255224">openBlocks</a>    = <a href="#255221" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a> <span title="(p: Inliners.this.global.icodes.BasicBlock =&gt; Boolean)scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">filterNot</span> <span class="delimiter">(</span><a href="#255746" title="Inliners.this.global.icodes.BasicBlock">_</a>.<a href="../icode/BasicBlocks.scala.html#197624" title="=&gt; Boolean">closed</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.Instruction]" id="255225">instructions</a>  = <a href="#255221" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<span title="(implicit asTraversable: Inliners.this.global.icodes.BasicBlock =&gt; scala.collection.TraversableOnce[Inliners.this.global.icodes.Instruction])scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.Instruction]">flatten</span>
      <span class="keyword">def</span> <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="255226">linearized</a>    = <a href="../icode/ICodes.scala.html#96923" title="=&gt; Inliners.this.global.icodes.Linearizer">linearizer</a> <a href="../icode/Linearizers.scala.html#215296" title="(c: Inliners.this.global.icodes.IMethod)List[Inliners.this.global.icodes.BasicBlock]">linearize</a> <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>
      
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255227">isSmall</a>       = <span class="delimiter">(</span><a href="#255223" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#112070" title="=&gt; Int">SMALL_METHOD_SIZE</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255221" title="(n: Int)Inliners.this.global.icodes.BasicBlock">blocks</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#197654" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(10)" class="int">10</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255228">isLarge</a>       = <a href="#255223" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(16)">MAX_INLINE_SIZE</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255229">isRecursive</a>   = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197742" title="=&gt; Boolean">recursive</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255230">hasCode</a>       = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255231">hasSourceFile</a> = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197736" title="=&gt; String">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255232">hasHandlers</a>   = <a href="#255220" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a>.<span title="=&gt; Boolean">nonEmpty</span>

      <span class="comment">// the number of inlined calls in 'm', used by 'shouldInline'</span>
      <span class="keyword">var</span> <a title="Int" id="255234">inlinedCalls</a> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">def</span> <a title="(ls: List[Inliners.this.global.icodes.Local])Unit" id="255236">addLocals</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.Local]" id="255828">ls</a>: <span title="List[Inliners.this.global.icodes.Local]">List</span><span class="delimiter">[</span>Local<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197746" title="(x$1: List[Inliners.this.global.icodes.Local])Unit">locals</a> <span title="(that: scala.collection.GenTraversableOnce[Inliners.this.global.icodes.Local])(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">++=</span> <a href="#255828" title="List[Inliners.this.global.icodes.Local]">ls</a>
      <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Unit" id="255237">addLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="255908">l</a>: <a href="../icode/Members.scala.html#96964" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>          = <a href="#255236" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a><span class="delimiter">(</span><span title="(xs: Inliners.this.global.icodes.Local*)List[Inliners.this.global.icodes.Local]">List</span><span class="delimiter">(</span><a href="#255908" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit" id="255238">addHandlers</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.ExceptionHandler]" id="255918">exhs</a>: <span title="List[Inliners.this.global.icodes.ExceptionHandler]">List</span><span class="delimiter">[</span>ExceptionHandler<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197734" title="(x$1: List[Inliners.this.global.icodes.ExceptionHandler])Unit">exh</a> = <a href="#255918" title="List[Inliners.this.global.icodes.ExceptionHandler]">exhs</a> <a href="#255922" title="(prefix: List[Inliners.this.global.icodes.ExceptionHandler])List[Inliners.this.global.icodes.ExceptionHandler]">:::</a> <a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197733" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class CallerCalleeInfo extends java.lang.Object with ScalaObject" id="254461">CallerCalleeInfo</a><a href="#254461" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="255339">caller</a>: <a href="#254460" title="Inliner.this.IMethodInfo">IMethodInfo</a>, <span class="keyword">val</span> <a title="Inliner.this.IMethodInfo" id="255340">inc</a>: <a href="#254460" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255328">isLargeSum</a>  = <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255223" title="=&gt; Int">length</a> <span title="(x: Int)Int">+</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255223" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#112070" title="=&gt; Int">SMALL_METHOD_SIZE</a>

      <span class="comment">/** Inline 'inc' into 'caller' at the given block and instruction.
       *  The instruction must be a CALL_METHOD.
       */</span>
      <span class="keyword">def</span> <a title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.Instruction)Unit" id="255329">doInline</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="255367">block</a>: <a href="../icode/BasicBlocks.scala.html#96970" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Inliners.this.global.icodes.Instruction" id="255368">instr</a>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Position" id="255959">targetPos</a> = <a href="#255368" title="Inliners.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#197946" title="=&gt; scala.tools.nsc.util.Position">pos</a>
        <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Inlining &quot;)" class="string">&quot;Inlining &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; at pos: &quot;)" class="string">&quot; at pos: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#112075" title="(pos: scala.tools.nsc.util.Position)java.lang.String">posToStr</a><span class="delimiter">(</span><a href="#255959" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="255960">blockEmit</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="255978">i</a>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#197664" title="(instr: Inliners.this.global.icodes.Instruction, pos: scala.tools.nsc.util.Position)Unit">emit</a><span class="delimiter">(</span><a href="#255978" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#255959" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local" id="255961">newLocal</a><span class="delimiter">(</span><a title="String" id="255985">baseName</a>: <span title="String">String</span>, <a title="Inliners.this.global.icodes.TypeKind" id="255986">kind</a>: <a href="../icode/TypeKinds.scala.html#96991" title="Inliners.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span> =
          <span title="Inliners.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#96964" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107281" title="(pos: Inliners.this.global.icodes.global.Position, name: Inliners.this.global.icodes.global.TermName)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#255959" title="scala.tools.nsc.util.Position">targetPos</a>, <a href="#254443" title="(s: String)java.lang.String">freshName</a><a href="../../SubComponent.scala.html#95918" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Inliners.this.global.TermName" class="delimiter">(</a><a href="#255985" title="String">baseName</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#255986" title="Inliners.this.global.icodes.TypeKind">kind</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Inliners.this.global.analysis.MethodTFA" id="255962">a</a> = <a href="../icode/analysis/TypeFlowAnalysis.scala.html#228923" title="(m: Inliners.this.global.analysis.global.icodes.IMethod)Inliners.this.global.analysis.MethodTFA" class="keyword">new</a> <a href="../../Global.scala.html#64842" title="object Inliners.this.global.analysis">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#107133" title="Inliners.this.global.analysis.MethodTFA">MethodTFA</a><span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

        <span class="comment">/* The exception handlers that are active at the current block. */</span>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.ExceptionHandler]" id="255963">activeHandlers</a> = <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255220" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <span title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)List[Inliners.this.global.icodes.ExceptionHandler]">filter</span> <span class="delimiter">(</span><a href="#255999" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../icode/ExceptionHandlers.scala.html#203094" title="(elem: Inliners.this.global.icodes.BasicBlock)Boolean">covered</a> <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a><span class="delimiter">)</span>

        <span class="comment">/* Map 'original' blocks to the ones inlined in the caller. */</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" id="255964">inlinedBlock</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">Map</span><span class="delimiter">[</span>BasicBlock, BasicBlock<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">HashMap</span>

        <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]" id="255965">varsInScope</a>: mutable.<span title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">Set</span><span class="delimiter">[</span>Local<span class="delimiter">]</span> = mutable.<span title="(elems: Inliners.this.global.icodes.Local*)scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">HashSet</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">++=</span> <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#197637" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a>

        <span class="comment">/** Side effects varsInScope when it sees SCOPE_ENTERs. */</span>
        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Boolean" id="255966">instrBeforeFilter</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="256033">i</a>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#256033" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="varsInScope.type">SCOPE_ENTER</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256035">l</a><span class="delimiter">)</span> =&gt; <a href="#255965" title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(elem: Inliners.this.global.icodes.Local)varsInScope.type">+=</span> <a href="#256035" title="Inliners.this.global.icodes.Local">l</a> ; <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#256033" title="Inliners.this.global.icodes.Instruction">i</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#255368" title="Inliners.this.global.icodes.Instruction">instr</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.Instruction]" id="255967">instrBefore</a> = <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#197646" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <span title="(p: Inliners.this.global.icodes.Instruction =&gt; Boolean)List[Inliners.this.global.icodes.Instruction]">takeWhile</span> <a href="#255966" title="(i: Inliners.this.global.icodes.Instruction)Boolean">instrBeforeFilter</a>
        <span class="keyword">val</span> <a title="List[Inliners.this.global.icodes.Instruction]" id="255968">instrAfter</a>  = <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#197646" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <span title="(n: Int)List[Inliners.this.global.icodes.Instruction]">drop</span> <span class="delimiter">(</span><a href="#255967" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#255968" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>.<span title="=&gt; Boolean">isEmpty</span>, <span title="java.lang.String(&quot;CALL_METHOD cannot be the last instruction in block!&quot;)" class="string">&quot;CALL_METHOD cannot be the last instruction in block!&quot;</span><span class="delimiter">)</span>

        <span class="comment">// store the '$this' into the special local</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="255969">inlinedThis</a> = <a href="#255961" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$inlThis&quot;)" class="string">&quot;$inlThis&quot;</span>, <a href="../icode/TypeKinds.scala.html#196332" title="(cls: Inliners.this.global.icodes.global.Symbol)Inliners.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106079" title="=&gt; Inliners.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">/** buffer for the returned value */</span>
        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="255970">retVal</a> = <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197739" title="=&gt; Inliners.this.global.icodes.TypeKind">returnType</a> <span title="Inliners.this.global.icodes.Local" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#96997" title="Null(null)">UNIT</a>  =&gt; <span title="Null(null)" class="keyword">null</span>
          <span class="keyword">case</span> <a title="Inliners.this.global.icodes.Local" id="256084">x</a>     =&gt; <a href="#255961" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$retVal&quot;)" class="string">&quot;$retVal&quot;</span>, <a href="#256084" title="Inliners.this.global.icodes.TypeKind">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" id="255971">inlinedLocals</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">Map</span><span class="delimiter">[</span>Local, Local<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">HashMap</span>

        <span class="comment">/** Add a new block in the current context. */</span>
        <span class="keyword">def</span> <a title="()Inliners.this.global.icodes.BasicBlock" id="255972">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.BasicBlock" id="256088">b</a> = <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197819" title="=&gt; Inliners.this.global.icodes.BasicBlock">newBlock</a>
          <a href="#255963" title="List[Inliners.this.global.icodes.ExceptionHandler]">activeHandlers</a> <span title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)Unit">foreach</span> <span class="delimiter">(</span><a href="#256108" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../icode/ExceptionHandlers.scala.html#203097" title="(b: Inliners.this.global.icodes.BasicBlock)x$9.type">addCoveredBlock</a> <a href="#256088" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#255970" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#256088" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197637" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(elem: Inliners.this.global.icodes.Local)scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">+=</span> <a href="#255970" title="Inliners.this.global.icodes.Local">retVal</a>
          <a href="#256088" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197637" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(elem: Inliners.this.global.icodes.Local)scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">+=</span> <a href="#255969" title="Inliners.this.global.icodes.Local">inlinedThis</a>
          <a href="#256088" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197637" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">++=</span> <a href="#255965" title="scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a>
          <a href="#256088" title="Inliners.this.global.icodes.BasicBlock">b</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler" id="255973">translateExh</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.ExceptionHandler" id="256159">e</a>: <a href="../icode/ExceptionHandlers.scala.html#97037" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.ExceptionHandler" id="256160">handler</a>: <a href="../icode/ExceptionHandlers.scala.html#97037" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a> = <a href="#256159" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203105" title="=&gt; Inliners.this.global.icodes.ExceptionHandler">dup</a>
          <a href="#256160" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#203095" title="(x$1: scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock])Unit">covered</a> = <a href="#256160" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#203094" title="=&gt; scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">covered</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]])scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">map</span> <a href="#255964" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a>
          <a href="#256160" title="Inliners.this.global.icodes.ExceptionHandler">handler</a> <a href="../icode/ExceptionHandlers.scala.html#203092" title="(b: Inliners.this.global.icodes.BasicBlock)Unit">setStartBlock</a> <a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256159" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203093" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="#256160" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>
        <span class="delimiter">}</span>

        <span class="comment">/** alfa-rename `l' in caller's context. */</span>
        <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local" id="255974">dupLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256237">l</a>: <a href="../icode/Members.scala.html#96964" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../icode/Members.scala.html#96964" title="Inliners.this.global.icodes.Local">Local</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.global.TermSymbol" id="256238">sym</a> = <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107281" title="(pos: Inliners.this.global.icodes.global.Position, name: Inliners.this.global.icodes.global.TermName)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#256237" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#197915" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107263" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a>, <a href="#254443" title="(s: String)java.lang.String">freshName</a><a href="../../SubComponent.scala.html#95918" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Inliners.this.global.TermName" class="delimiter">(</a><a href="#256237" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#197915" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107407" title="=&gt; Inliners.this.global.icodes.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96583" title="()String">toString</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="comment">// sym.setInfo(l.sym.tpe)</span>
          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Local" id="256239">dupped</a> = <span title="Inliners.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#96964" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#256238" title="Inliners.this.global.icodes.global.TermSymbol">sym</a>, <a href="#256237" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#197917" title="=&gt; Inliners.this.global.icodes.TypeKind">kind</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <a href="#255971" title="(key: Inliners.this.global.icodes.Local, value: Inliners.this.global.icodes.Local)Unit">inlinedLocals</a><span class="delimiter">(</span><a href="#256237" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> = <a href="#256239" title="Inliners.this.global.icodes.Local">dupped</a>
          <a href="#256239" title="Inliners.this.global.icodes.Local">dupped</a>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Inliners.this.global.icodes.BasicBlock" id="255975">afterBlock</a> = <a href="#255972" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="comment">/** Map from nw.init instructions to their matching NEW call */</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]" id="255976">pending</a>: mutable.<span title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">Map</span><span class="delimiter">[</span>Instruction, NEW<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashMap[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">HashMap</span>

        <span class="comment">/** Map an instruction from the callee to one suitable for the caller. */</span>
        <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" id="255977">map</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="256246">i</a>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a> = <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction" id="256247">assertLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256250">l</a>: <a href="../icode/Members.scala.html#96964" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255222" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <span title="(elem: Any)Boolean">contains</span> <a href="#256250" title="Inliners.this.global.icodes.Local">l</a>, <span title="java.lang.String(&quot;Could not find local \'&quot;)" class="string">&quot;Could not find local '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#256250" title="Inliners.this.global.icodes.Local">l</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' in locals, nor in inlinedLocals: &quot;)" class="string">&quot;' in locals, nor in inlinedLocals: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255971" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
            <a href="#256246" title="Inliners.this.global.icodes.Instruction">i</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(l: Inliners.this.global.icodes.Local)Boolean" id="256248">isInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256253">l</a>: <a href="../icode/Members.scala.html#96964" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <a href="#255971" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a> <span title="(key: Inliners.this.global.icodes.Local)Boolean">isDefinedAt</span> <a href="#256253" title="Inliners.this.global.icodes.Local">l</a>

          <span class="keyword">val</span> <a title="Inliners.this.global.icodes.Instruction" id="256249">newInstr</a> = <a href="#256246" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Inliners.this.global.icodes.Instruction" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.LOAD_LOCAL">THIS</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="256257">clasz</a><span class="delimiter">)</span>                    =&gt; <a href="../icode/Opcodes.scala.html#206409" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#255969" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#202746" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#255969" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.JUMP">JUMP</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="256264">whereto</a><span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#202617" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256264" title="Inliners.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.CJUMP">CJUMP</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="256286">succ</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="256287">fail</a>, <a title="Inliners.this.global.icodes.TestOp" id="256288">cond</a>, <a title="Inliners.this.global.icodes.TypeKind" id="256289">kind</a><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#203298" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CJUMP">CJUMP</a><span class="delimiter">(</span><a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256286" title="Inliners.this.global.icodes.BasicBlock">succ</a><span class="delimiter">)</span>, <a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256287" title="Inliners.this.global.icodes.BasicBlock">fail</a><span class="delimiter">)</span>, <a href="#256288" title="Inliners.this.global.icodes.TestOp">cond</a>, <a href="#256289" title="Inliners.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.CZJUMP">CZJUMP</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="256332">succ</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="256333">fail</a>, <a title="Inliners.this.global.icodes.TestOp" id="256334">cond</a>, <a title="Inliners.this.global.icodes.TypeKind" id="256335">kind</a><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#203373" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CZJUMP">CZJUMP</a><span class="delimiter">(</span><a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256332" title="Inliners.this.global.icodes.BasicBlock">succ</a><span class="delimiter">)</span>, <a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256333" title="Inliners.this.global.icodes.BasicBlock">fail</a><span class="delimiter">)</span>, <a href="#256334" title="Inliners.this.global.icodes.TestOp">cond</a>, <a href="#256335" title="Inliners.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.SWITCH">SWITCH</span><span class="delimiter">(</span><a title="List[List[Int]]" id="256376">tags</a>, <a title="List[Inliners.this.global.icodes.BasicBlock]" id="256377">labels</a><span class="delimiter">)</span>           =&gt; <a href="../icode/Opcodes.scala.html#203445" title="(tags: List[List[Int]], labels: List[Inliners.this.global.icodes.BasicBlock])Inliners.this.global.icodes.opcodes.SWITCH">SWITCH</a><span class="delimiter">(</span><a href="#256376" title="List[List[Int]]">tags</a>, <a href="#256377" title="List[Inliners.this.global.icodes.BasicBlock]">labels</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,List[Inliners.this.global.icodes.BasicBlock]])List[Inliners.this.global.icodes.BasicBlock]">map</span> <a href="#255964" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.JUMP">RETURN</span><span class="delimiter">(</span>_<span class="delimiter">)</span>                      =&gt; <a href="../icode/Opcodes.scala.html#202617" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#255975" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256438">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#256248" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#256438" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#206409" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#255971" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#256438" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256464">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#256248" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#256464" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#202746" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#255971" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#256464" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.Instruction">LOAD_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256482">l</a><span class="delimiter">)</span>                  =&gt; <a href="#256247" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><span class="delimiter">(</span><a href="#256482" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.Instruction">STORE_LOCAL</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256484">l</a><span class="delimiter">)</span>                 =&gt; <a href="#256247" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><span class="delimiter">(</span><a href="#256484" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.SCOPE_ENTER">SCOPE_ENTER</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256486">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#256248" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#256486" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#207786" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_ENTER">SCOPE_ENTER</a><span class="delimiter">(</span><a href="#255971" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#256486" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.SCOPE_EXIT">SCOPE_EXIT</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256505">l</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#256248" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><a href="#256505" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#202715" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_EXIT">SCOPE_EXIT</a><span class="delimiter">(</span><a href="#255971" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#256505" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <a title="Inliners.this.global.icodes.opcodes.NEW" id="256523">nw</a> @ NEW<span class="delimiter">(</span><a title="Inliners.this.global.icodes.REFERENCE" id="256525">sym</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Inliners.this.global.icodes.opcodes.NEW" id="256526">r</a> = <a href="../icode/Opcodes.scala.html#208126" title="(kind: Inliners.this.global.icodes.REFERENCE)Inliners.this.global.icodes.opcodes.NEW">NEW</a><span class="delimiter">(</span><a href="#256525" title="Inliners.this.global.icodes.REFERENCE">sym</a><span class="delimiter">)</span>
              <a href="#255976" title="(key: Inliners.this.global.icodes.Instruction, value: Inliners.this.global.icodes.opcodes.NEW)Unit">pending</a><span class="delimiter">(</span><a href="#256523" title="Inliners.this.global.icodes.opcodes.NEW">nw</a>.<a href="../icode/Opcodes.scala.html#208134" title="=&gt; Inliners.this.global.icodes.opcodes.CALL_METHOD">init</a><span class="delimiter">)</span> = <a href="#256526" title="Inliners.this.global.icodes.opcodes.NEW">r</a>
              <a href="#256526" title="Inliners.this.global.icodes.opcodes.NEW">r</a>

            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="256533">meth</a>, Static<span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#256533" title="Inliners.this.global.icodes.global.Symbol">meth</a>.<a href="../../symtab/Symbols.scala.html#107332" title="=&gt; Boolean">isClassConstructor</a> =&gt;
              <a href="../icode/Opcodes.scala.html#208442" title="(method: Inliners.this.global.icodes.global.Symbol, style: Inliners.this.global.icodes.opcodes.InvokeStyle)Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">(</span><a href="#256533" title="Inliners.this.global.icodes.global.Symbol">meth</a>, <a href="../icode/Opcodes.scala.html#208764" title="(onInstance: Boolean)Inliners.this.global.icodes.opcodes.Static">Static</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Inliners.this.global.icodes.Instruction">_</span> =&gt; <a href="#256246" title="Inliners.this.global.icodes.Instruction">i</a>.<a href="../icode/Opcodes.scala.html#197951" title="()Inliners.this.global.icodes.Instruction">clone</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="comment">// check any pending NEW's</span>
          <a href="#255976" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a> <span title="(key: Inliners.this.global.icodes.Instruction)Option[Inliners.this.global.icodes.opcodes.NEW]">remove</span> <a href="#256246" title="Inliners.this.global.icodes.Instruction">i</a> <span title="(f: Inliners.this.global.icodes.opcodes.NEW =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#256544" title="Inliners.this.global.icodes.opcodes.NEW">_</a>.<a href="../icode/Opcodes.scala.html#208135" title="(x$1: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit">init</a> = <a href="#256249" title="Inliners.this.global.icodes.Instruction">newInstr</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Inliners.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">[</span><a href="../icode/Opcodes.scala.html#113587" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#256249" title="Inliners.this.global.icodes.Instruction">newInstr</a>
        <span class="delimiter">}</span>

        <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#255236" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255222" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <span title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">map</span> <a href="#255974" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">dupLocal</a><span class="delimiter">)</span>
        <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#255237" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#255969" title="Inliners.this.global.icodes.Local">inlinedThis</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255970" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#255237" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#255970" title="Inliners.this.global.icodes.Local">retVal</a>

        <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255221" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">blocks</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local])Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="256615">b</a> =&gt;
          <a href="#255964" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a> <span title="(kv: (Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock))inlinedBlock.type">+=</span> <span class="delimiter">(</span><a href="#256615" title="(x: Inliners.this.global.icodes.BasicBlock)ArrowAssoc[Inliners.this.global.icodes.BasicBlock]">b</a> <span title="(y: Inliners.this.global.icodes.BasicBlock)(Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock)">-&gt;</span> <a href="#255972" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256615" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#197637" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">++=</span> <span class="delimiter">(</span><a href="#256615" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197637" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <span title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]])scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]">map</span> <a href="#255971" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">// analyse callee</span>
        <a href="#255962" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#228924" title="()Unit">run</a>

        <span class="comment">// re-emit the instructions before the call</span>
        <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#197670" title="()Unit">open</a>
        <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#197671" title="()Unit">clear</a>
        <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a> <a href="../icode/BasicBlocks.scala.html#197665" title="(instrs: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#255967" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>

        <span class="comment">// store the arguments into special locals</span>
        <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197748" title="=&gt; List[Inliners.this.global.icodes.Local]">params</a>.<span title="=&gt; List[Inliners.this.global.icodes.Local]">reverse</span> <span title="(f: Inliners.this.global.icodes.Local =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="256918">p</a> =&gt; <a href="#255960" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#202746" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#255971" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#256918" title="Inliners.this.global.icodes.Local">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#255960" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#202746" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#255969" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// jump to the start block of the callee</span>
        <a href="#255960" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#202617" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197727" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197802" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#255367" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#197669" title="()Unit">close</a>

        <span class="comment">// duplicate the other blocks in the callee</span>
        <a href="../icode/ICodes.scala.html#96923" title="=&gt; Inliners.this.global.icodes.Linearizer">linearizer</a> <a href="../icode/Linearizers.scala.html#215296" title="(c: Inliners.this.global.icodes.IMethod)List[Inliners.this.global.icodes.BasicBlock]">linearize</a> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="256974">bb</a> =&gt; 
          <span class="keyword">var</span> <a title="a.lattice.Elem" id="256975">info</a> = <a href="#255962" title="Inliners.this.global.analysis.MethodTFA">a</a> <a href="../icode/analysis/DataFlowAnalysis.scala.html#223907" title="(key: a.P)a.lattice.Elem">in</a> <a href="#256974" title="Inliners.this.global.icodes.BasicBlock">bb</a>
          <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="256976">emitInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="257001">i</a>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256974" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#197664" title="(instr: Inliners.this.global.icodes.Instruction, pos: scala.tools.nsc.util.Position)Unit">emit</a><span class="delimiter">(</span><a href="#257001" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#255959" title="scala.tools.nsc.util.Position">targetPos</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(toDrop: Int)Unit" id="256977">emitDrops</a><span class="delimiter">(</span><a title="Int" id="257023">toDrop</a>: <span title="Int">Int</span><span class="delimiter">)</span>      = <a href="#256975" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#226539" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#212087" title="=&gt; Inliners.this.global.analysis.global.icodes.Rep">types</a> <span title="(n: Int)List[Inliners.this.global.analysis.global.icodes.TypeKind]">drop</span> <a href="#257023" title="Int">toDrop</a> <span title="(f: Inliners.this.global.analysis.global.icodes.TypeKind =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Inliners.this.global.analysis.global.icodes.TypeKind" id="257046">t</a> =&gt; <a href="#256976" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#206820" title="(typ: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="#257046" title="Inliners.this.global.analysis.global.icodes.TypeKind">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="257069">i</a> &lt;- <a href="../icode/BasicBlocks.scala.html#197651" title="(f: Inliners.this.global.icodes.Instruction =&gt; Unit)Unit">bb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#257069" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#96997" title="object Inliners.this.global.icodes.UNIT">UNIT</a><span class="delimiter">)</span> =&gt; <a href="#256977" title="(toDrop: Int)Unit">emitDrops</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeKind" id="257072">kind</a><span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#256975" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#226539" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#212093" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#256976" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#202746" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#255970" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#256977" title="(toDrop: Int)Unit">emitDrops</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
                  <a href="#256976" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#206409" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#255970" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="Unit">_</span>            =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#256976" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="#255977" title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction">map</a><span class="delimiter">(</span><a href="#257069" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#256975" title="a.lattice.Elem">info</a> = <a href="#255962" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#228926" title="(in: Inliners.this.global.analysis.typeFlowLattice.Elem, i: Inliners.this.global.analysis.global.icodes.Instruction)Inliners.this.global.analysis.typeFlowLattice.Elem">interpret</a><span class="delimiter">(</span><a href="#256975" title="a.lattice.Elem">info</a>, <a href="#257069" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#255964" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#256974" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#197669" title="()Unit">close</a>
        <span class="delimiter">}</span>

        <a href="#255975" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a> <a href="../icode/BasicBlocks.scala.html#197665" title="(instrs: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#255968" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>
        <a href="#255975" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>.<a href="../icode/BasicBlocks.scala.html#197669" title="()Unit">close</a>

        <span class="comment">// add exception handlers of the callee</span>
        <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#255238" title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit">addHandlers</a> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255220" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <span title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.ExceptionHandler],Inliners.this.global.icodes.ExceptionHandler,List[Inliners.this.global.icodes.ExceptionHandler]])List[Inliners.this.global.icodes.ExceptionHandler]">map</span> <a href="#255973" title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler">translateExh</a><span class="delimiter">)</span>
        <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#255976" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a>.<span title="=&gt; Boolean">isEmpty</span>, <span title="java.lang.String(&quot;Pending NEW elements: &quot;)" class="string">&quot;Pending NEW elements: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255976" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../Global.scala.html#64836" title="object Inliners.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#96929" title="(m: Inliners.this.global.icodes.IMethod)Unit">checkValid</a><span class="delimiter">(</span><a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)Boolean" id="255330">isStampedForInlining</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="255341">stack</a>: <a href="../icode/TypeStacks.scala.html#96981" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span> =
        <span title="=&gt; Boolean">!</span><a href="#255334" title="=&gt; Boolean">sameSymbols</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255230" title="=&gt; Boolean">hasCode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255338" title="=&gt; Boolean">shouldInline</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255335" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#255341" title="Inliners.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)Unit" id="255331">logFailure</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="255427">stack</a>: <a href="../icode/TypeStacks.scala.html#96981" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span> = <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|inline failed for %s:
           |  pair.sameSymbols: %s
           |  inc.numInlined &lt; 2: %s
           |  inc.hasCode: %s
           |  isSafeToInline: %s
           |  shouldInline: %s
        &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>, <a href="#255334" title="=&gt; Boolean">sameSymbols</a>, <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255215" title="=&gt; Int">numInlined</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span>,
          <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255230" title="=&gt; Boolean">hasCode</a>, <a href="#255335" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#255427" title="Inliners.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>, <a href="#255338" title="=&gt; Boolean">shouldInline</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      
      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)java.lang.String" id="255332">failureReason</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="255465">stack</a>: <a href="../icode/TypeStacks.scala.html#96981" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span> =
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255230" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;bytecode was unavailable&quot;)" class="string">&quot;bytecode was unavailable&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#255335" title="(stack: Inliners.this.global.icodes.TypeStack)Boolean">isSafeToInline</a><span class="delimiter">(</span><a href="#255465" title="Inliners.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;it is unsafe (target may reference private fields)&quot;)" class="string">&quot;it is unsafe (target may reference private fields)&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;of a bug (run with -Ylog:inline -Ydebug for more information)&quot;)" class="string">&quot;of a bug (run with -Ylog:inline -Ydebug for more information)&quot;</span>      

      <span class="keyword">def</span> <a title="(level: Inliner.this.NonPublicRefs.Value)Boolean" id="255333">canAccess</a><span class="delimiter">(</span><a title="Inliner.this.NonPublicRefs.Value" id="257159">level</a>: NonPublicRefs.<span title="Inliner.this.NonPublicRefs.Value">Value</span><span class="delimiter">)</span> = <a href="#257159" title="Inliner.this.NonPublicRefs.Value">level</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#254480" title="Boolean">Private</a>    =&gt; <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255210" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255210" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
        <span class="keyword">case</span> <a href="#254478" title="Boolean">Protected</a>  =&gt; <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255210" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107421" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a> <a href="../../symtab/Types.scala.html#105374" title="(that: Inliners.this.global.icodes.global.Type)Boolean">&lt;:&lt;</a> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255210" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107421" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a>
        <span class="keyword">case</span> <a href="#254476" title="Boolean(true)">Public</a>     =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="255334">sameSymbols</a> = <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>

      <span class="comment">/** A method is safe to inline when:
       *    - it does not contain calls to private methods when
       *      called from another class
       *    - it is not inlined into a position with non-empty stack,
       *      while having a top-level finalizer (see liftedTry problem)
       *    - it is not recursive
       * Note:
       *    - synthetic private members are made public in this pass.
       */</span>
      <span class="keyword">def</span> <a title="(stack: Inliners.this.global.icodes.TypeStack)Boolean" id="255335">isSafeToInline</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeStack" id="255361">stack</a>: <a href="../icode/TypeStacks.scala.html#96981" title="Inliners.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(f: Inliners.this.global.Symbol)Boolean" id="257170">makePublic</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="257173">f</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = 
          <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255231" title="=&gt; Boolean">hasSourceFile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#257173" title="Inliners.this.global.Symbol">f</a>.<span title="=&gt; Boolean">isSynthetic</span> <span title="(x: Boolean)Boolean">||</span> <a href="#257173" title="Inliners.this.global.Symbol">f</a>.<span title="=&gt; Boolean">isParamAccessor</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Making not-private symbol out of synthetic: &quot;)" class="string">&quot;Making not-private symbol out of synthetic: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#257173" title="Inliners.this.global.Symbol">f</a><span class="delimiter">)</span>

            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#257173" title="Inliners.this.global.Symbol">f</a> <span title="(mask: Long)Boolean">hasFlag</span> Flags.<span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span> <a href="#257173" title="Inliners.this.global.Symbol">f</a> <a href="../../symtab/Symbols.scala.html#107412" title="(mask: Long)f.type">setFlag</a> <a href="../../symtab/Flags.scala.html#24079" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<a href="../../symtab/Flags.scala.html#67048" title="=&gt; Long">notPRIVATE</a>
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255230" title="=&gt; Boolean">hasCode</a> <span title="(x: Boolean)Boolean">||</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255229" title="=&gt; Boolean">isRecursive</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
      
        <span class="keyword">val</span> <a title="Inliner.this.NonPublicRefs.Value" id="257171">accessNeeded</a> = <a href="#254482" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a>.<span title="(key: Inliners.this.global.icodes.IMethod, op: =&gt; Inliner.this.NonPublicRefs.Value)Inliner.this.NonPublicRefs.Value">getOrElseUpdate</span><span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>, <span class="delimiter">{</span>
          <span class="comment">// Avoiding crashing the compiler if there are open blocks.</span>
          <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255224" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">openBlocks</a> <span title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Nothing)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="257218">b</a> =&gt;
            <a href="#254449" title="(pos: Inliners.this.global.Position, msg: String)Unit">warn</a><span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107263" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a>,
                <span class="string">&quot;Encountered open block in isSafeToInline: this indicates a bug in the optimizer!\n&quot;</span> <span title="java.lang.String(&quot;Encountered open block in isSafeToInline: this indicates a bug in the optimizer!\012  caller = &quot;)">+</span>
                <span class="string">&quot;  caller = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, callee = &quot;)" class="string">&quot;, callee = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>
              <span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value" id="257191">check</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="257220">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Boolean" id="257221">cond</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
            <span title="Inliner.this.NonPublicRefs.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#257221" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#254480" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
            <span class="keyword">else</span> <span title="Inliner.this.NonPublicRefs.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#257220" title="Inliners.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isProtected</span><span class="delimiter">)</span> <a href="#254478" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>
            <span class="keyword">else</span> <a href="#254476" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>

          <span class="keyword">def</span> <a title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="257192">checkField</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="257222">f</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#257191" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#257222" title="Inliners.this.global.Symbol">f</a>, <a href="#257222" title="Inliners.this.global.Symbol">f</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#257170" title="(f: Inliners.this.global.Symbol)Boolean">makePublic</a><span class="delimiter">(</span><a href="#257222" title="Inliners.this.global.Symbol">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="257193">checkSuper</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="257223">m</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#257191" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#257223" title="Inliners.this.global.Symbol">m</a>, <a href="#257223" title="Inliners.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#257223" title="Inliners.this.global.Symbol">m</a>.<a href="../../symtab/Symbols.scala.html#107332" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="257194">checkMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="257224">m</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#257191" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#257224" title="Inliners.this.global.Symbol">m</a>, <a href="#257224" title="Inliners.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isPrivate</span><span class="delimiter">)</span>
          
          <span class="keyword">def</span> <a title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value" id="257195">getAccess</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="257225">i</a>: <a href="../icode/Opcodes.scala.html#96974" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#257225" title="Inliners.this.global.icodes.Instruction">i</a> <span title="Inliner.this.NonPublicRefs.Value" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="257228">m</a>, SuperCall<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#257193" title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkSuper</a><span class="delimiter">(</span><a href="#257228" title="Inliners.this.global.icodes.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">CALL_METHOD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="257232">m</a>, _<span class="delimiter">)</span>            =&gt; <a href="#257194" title="(m: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkMethod</a><span class="delimiter">(</span><a href="#257232" title="Inliners.this.global.icodes.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">LOAD_FIELD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="257235">f</a>, _<span class="delimiter">)</span>             =&gt; <a href="#257192" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><span class="delimiter">(</span><a href="#257235" title="Inliners.this.global.icodes.global.Symbol">f</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">STORE_FIELD</span><span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="257238">f</a>, _<span class="delimiter">)</span>            =&gt; <a href="#257192" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><span class="delimiter">(</span><a href="#257238" title="Inliners.this.global.icodes.global.Symbol">f</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Inliner.this.NonPublicRefs.Value">_</span>                            =&gt; <a href="#254476" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="()Inliner.this.NonPublicRefs.Value" id="257196">iterate</a><span class="delimiter">(</span><span class="delimiter">)</span>: NonPublicRefs.<span title="Inliner.this.NonPublicRefs.Value">Value</span> = <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Boolean" id="257239">seenProtected</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255225" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.Instruction]">instructions</a> <span title="(f: Inliners.this.global.icodes.Instruction =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.Instruction" id="257271">i</a> =&gt;
              <a href="#257195" title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value">getAccess</a><span class="delimiter">(</span><a href="#257271" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="#254480" title="Nothing">Private</a>    =&gt; <span title="Nothing" class="keyword">return</span> <a href="#254480" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
                <span class="keyword">case</span> <a href="#254478" title="Unit">Protected</a>  =&gt; <a href="#257239" title="Boolean">seenProtected</a> = <span title="Boolean(true)" class="keyword">true</span>
                <span class="keyword">case</span> <span title="Unit">_</span>          =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span title="Inliner.this.NonPublicRefs.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#257239" title="Boolean">seenProtected</a><span class="delimiter">)</span> <a href="#254478" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a> <span class="keyword">else</span> <a href="#254476" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>
          <span class="delimiter">}</span>
          <a href="#257196" title="()Inliner.this.NonPublicRefs.Value">iterate</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="=&gt; Boolean" id="257172">isIllegalStack</a> = <span class="delimiter">(</span><a href="#255361" title="Inliners.this.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#212093" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255212" title="=&gt; Int">minimumStack</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255232" title="=&gt; Boolean">hasHandlers</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;method &quot;)" class="string">&quot;method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255206" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is used on a non-empty stack with finalizer.&quot;)" class="string">&quot; is used on a non-empty stack with finalizer.&quot;</span><span class="delimiter">)</span>

          <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
<span class="comment">//        if (!canAccess(accessNeeded))</span>
<span class="comment">//          println(&quot;access needed and failed: &quot; + accessNeeded)</span>
        <a href="#255333" title="(level: Inliner.this.NonPublicRefs.Value)Boolean">canAccess</a><span class="delimiter">(</span><a href="#257171" title="Inliner.this.NonPublicRefs.Value">accessNeeded</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#257172" title="=&gt; Boolean">isIllegalStack</a>
      <span class="delimiter">}</span>
      
      <span class="comment">/** Decide whether to inline or not. Heuristics:
       *   - it's bad to make the caller larger (&gt; SMALL_METHOD_SIZE) if it was small
       *   - it's bad to inline large methods
       *   - it's good to inline higher order functions 
       *   - it's good to inline closures functions. 
       *   - it's bad (useless) to inline inside bridge methods
       */</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="255336">neverInline</a>   = <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255216" title="=&gt; Boolean">isBridge</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255230" title="=&gt; Boolean">hasCode</a> <span title="(x: Boolean)Boolean">||</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255214" title="=&gt; Boolean">noinline</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="255337">alwaysInline</a>  = <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255213" title="=&gt; Boolean">inline</a>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="255338">shouldInline</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#255336" title="=&gt; Boolean">neverInline</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#255337" title="=&gt; Boolean">alwaysInline</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;shouldInline: &quot;)" class="string">&quot;shouldInline: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Int" id="257286">score</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// better not inline inside closures, but hope that the closure itself</span>
        <span class="comment">// is repeatedly inlined</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255217" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span> <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255234" title="=&gt; Int">inlinedCalls</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span> <span class="comment">// only monadic methods can trigger the first inline</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255227" title="=&gt; Boolean">isSmall</a><span class="delimiter">)</span>
          <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#255227" title="=&gt; Boolean">isSmall</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#255328" title="=&gt; Boolean">isLargeSum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64818" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36760" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42162" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;shouldInline: score decreased to &quot;)" class="string">&quot;shouldInline: score decreased to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#257286" title="Int">score</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; because small &quot;)" class="string">&quot; because small &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255339" title="=&gt; Inliner.this.IMethodInfo">caller</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; would become large&quot;)" class="string">&quot; would become large&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255228" title="=&gt; Boolean">isLarge</a><span class="delimiter">)</span>
          <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255219" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span>
          <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(3)" class="int">3</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255218" title="=&gt; Boolean">isHigherOrder</a><span class="delimiter">)</span>
          <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255217" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span>
          <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">+=</span> <span title="Int(2)" class="int">2</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255215" title="=&gt; Int">numInlined</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#257286" title="Int">score</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>

        <a href="../../Global.scala.html#64872" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;shouldInline(&quot;)" class="string">&quot;shouldInline(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#255340" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#255239" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) score: &quot;)" class="string">&quot;) score: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#257286" title="Int">score</a><span class="delimiter">)</span>

        <a href="#257286" title="Int">score</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]" id="254462">lookupIMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="255314">meth</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="255315">receiver</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[Inliners.this.global.icodes.IMethod]">Option</span><span class="delimiter">[</span>IMethod<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]" id="257341">tryParent</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="257342">sym</a>: <a href="../../symtab/Symbols.scala.html#67320" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../Global.scala.html#64836" title="object Inliners.this.global.icodes">icodes</a> <a href="../icode/Repository.scala.html#97145" title="(sym: Inliners.this.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IClass]">icode</a> <a href="#257342" title="Inliners.this.global.Symbol">sym</a> <span title="(f: Inliners.this.global.icodes.global.icodes.IClass =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Option[Inliners.this.global.icodes.global.icodes.IMethod]">flatMap</span> <span class="delimiter">(</span><a href="#257352" title="Inliners.this.global.icodes.global.icodes.IClass">_</a> <a href="../icode/Members.scala.html#97410" title="(s: Inliners.this.global.icodes.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">lookupMethod</a> <a href="#255314" title="Inliners.this.global.Symbol">meth</a><span class="delimiter">)</span>
      
      <a href="#255315" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../symtab/Symbols.scala.html#107423" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105385" title="=&gt; List[Inliners.this.global.Symbol]">baseClasses</a>.<span title="=&gt; Iterator[Inliners.this.global.Symbol]">iterator</span> <span title="(f: Inliners.this.global.Symbol =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Iterator[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">map</span> <a href="#257341" title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">tryParent</a> <span title="(p: Option[Inliners.this.global.icodes.global.icodes.IMethod] =&gt; Boolean)Option[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">find</span> <span class="delimiter">(</span><a href="#257377" title="Option[Inliners.this.global.icodes.global.icodes.IMethod]">_</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span title="(default: =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Option[Inliners.this.global.icodes.global.icodes.IMethod]">getOrElse</span> <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="comment">/* class Inliner */</span>
<span class="delimiter">}</span> <span class="comment">/* class Inliners */</span>

        </pre>
    </body>
</html>