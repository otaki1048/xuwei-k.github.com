<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/jvm/GenJVM.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Iulian Dragos
 */</span>


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.jvm

<span class="keyword">import</span> java.io.<span class="delimiter">{</span> DataOutputStream, OutputStream <span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.ByteBuffer
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.generic.<span class="delimiter">{</span> PickleFormat, PickleBuffer <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.reflect.SigParser
<span class="keyword">import</span> scala.tools.nsc.io.<span class="delimiter">{</span> AbstractFile, Path <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.util.ScalaClassLoader
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.symtab.classfile.<a href="../../symtab/classfile/ClassfileConstants.scala.html#25247" title="object scala.tools.nsc.symtab.classfile.ClassfileConstants">ClassfileConstants</a>._
<span class="keyword">import</span> ch.epfl.lamp.fjbg._
<span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JAccessFlags">JAccessFlags</span>._
<span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JObjectType">JObjectType</span>.<span class="delimiter">{</span> JAVA_LANG_STRING, JAVA_LANG_OBJECT <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.jar.<span class="delimiter">{</span> JarEntry, JarOutputStream <span class="delimiter">}</span>

<span class="comment">/** This class ...
 *
 *  @author  Iulian Dragos
 *  @version 1.0
 * 
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class GenJVM extends scala.tools.nsc.SubComponent with scala.tools.nsc.backend.jvm.GenJVMUtil with scala.tools.nsc.backend.jvm.GenAndroid with scala.tools.nsc.backend.jvm.BytecodeWriters with ScalaObject" id="14988">GenJVM</a> <a href="#14988" title="ScalaObject" class="keyword">extends</a> <a href="../../SubComponent.scala.html#10961" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="keyword">with</span> <a href="GenJVMUtil.scala.html#14961" title="scala.tools.nsc.backend.jvm.GenJVMUtil">GenJVMUtil</a> <span class="keyword">with</span> <a href="GenAndroid.scala.html#15003" title="scala.tools.nsc.backend.jvm.GenAndroid">GenAndroid</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#15024" title="scala.tools.nsc.backend.jvm.BytecodeWriters">BytecodeWriters</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="BytecodeWriters.scala.html#112670" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#64847" title="object GenJVM.this.global.icodes">icodes</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#64847" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/Opcodes.scala.html#96996" title="object GenJVM.this.global.icodes.opcodes">opcodes</a>._
  <span class="keyword">import</span> <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<span class="delimiter">{</span>
    NullClass, RuntimeNullClass, NothingClass, RuntimeNothingClass,
    AnyClass, ObjectClass, ThrowsClass, ThrowableClass, ClassfileAnnotationClass,
    SerializableClass, StringClass, ClassClass, FunctionClass,
    DeprecatedAttr, SerializableAttr, SerialVersionUIDAttr, VolatileAttr,
    TransientAttr, CloneableAttr, RemoteAttr
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="java.lang.String" id="112599">phaseName</a> = <span title="java.lang.String(&quot;jvm&quot;)" class="string">&quot;jvm&quot;</span>

  <span class="comment">/** Create a new phase */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(p: scala.tools.nsc.Phase)scala.tools.nsc.Phase" id="112601">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="195496">p</a>: <a href="../../Phase.scala.html#10619" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../../Phase.scala.html#10619" title="scala.tools.nsc.Phase">Phase</a> = <span title="GenJVM.this.JvmPhase" class="keyword">new</span> <a href="#112605" title="GenJVM.this.JvmPhase">JvmPhase</a><span class="delimiter">(</span><a href="#195496" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)scala.tools.nsc.io.AbstractFile" id="112602">outputDirectory</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="232316">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#21448" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">(</span>
    <a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#36568" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../../settings/MutableSettings.scala.html#42229" title="(src: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">outputDirFor</a> <span class="delimiter">{</span>
      <a href="../../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72344" title="=&gt; scala.tools.nsc.Phase">flattenPhase</a>.<a href="../../Phase.scala.html#102962" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#232316" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107643" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="112603">getFile</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="232324">base</a>: <a href="../../io/AbstractFile.scala.html#21448" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="232325">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="232326">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#21448" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scala.tools.nsc.io.AbstractFile" id="232328">dir</a> = <a href="#232324" title="scala.tools.nsc.io.AbstractFile">base</a>
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="232329">pathParts</a> = <a href="#232325" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.lang.String" id="232460">part</a> &lt;- <a href="#232329" title="List[java.lang.String]">pathParts</a>.<span title="(f: java.lang.String =&gt; Unit)Unit">init</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#232328" title="scala.tools.nsc.io.AbstractFile">dir</a> = <a href="#232328" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#96503" title="(name: String)scala.tools.nsc.io.AbstractFile">subdirectoryNamed</a><span class="delimiter">(</span><a href="#232460" title="java.lang.String">part</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#232328" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#96502" title="(name: String)scala.tools.nsc.io.AbstractFile">fileNamed</a><span class="delimiter">(</span><a href="#232329" title="List[java.lang.String]">pathParts</a>.<span title="=&gt; java.lang.String">last</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#232326" title="String">suffix</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="112604">getFile</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="232462">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="232463">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="232464">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#21448" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> =
    <a href="#112603" title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#112602" title="(sym: GenJVM.this.global.Symbol)scala.tools.nsc.io.AbstractFile">outputDirectory</a><span class="delimiter">(</span><a href="#232462" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#232463" title="ch.epfl.lamp.fjbg.JClass">cls</a>, <a href="#232464" title="String">suffix</a><span class="delimiter">)</span>

  <span class="comment">/** JVM code generation phase
   */</span>
  <span class="keyword">class</span> <a title="class JvmPhase extends GenJVM.this.global.icodes.ICodePhase with ScalaObject" id="112605">JvmPhase</a><a href="#112605" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="232315">prev</a>: <a href="../../Phase.scala.html#10619" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../icode/ICodes.scala.html#96971" title="GenJVM.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#232315" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="232311">name</a> = <a href="#112599" title="=&gt; java.lang.String">phaseName</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="232312">erasedTypes</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(cls: GenJVM.this.global.icodes.IClass)Nothing" id="232313">apply</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="232482">cls</a>: <a href="../icode/Members.scala.html#96982" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> = sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;no implementation&quot;)" class="string">&quot;no implementation&quot;</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="232314">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// we reinstantiate the bytecode generator at each run, to allow the GC</span>
      <span class="comment">// to collect everything</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../Global.scala.html#64873" title="(msg: String)Unit">inform</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[running phase &quot;)" class="string">&quot;[running phase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#232311" title="=&gt; java.lang.String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; on icode]&quot;)" class="string">&quot; on icode]&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36745" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xdce</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="232572">sym</a>, <a title="GenJVM.this.global.icodes.IClass" id="232573">cls</a><span class="delimiter">)</span> &lt;- <a href="../../Global.scala.html#64847" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#96940" title="(f: (GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.IClass) =&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass])Unit">classes</a> <span class="keyword">if</span> <a href="../../Global.scala.html#64945" title="object GenJVM.this.global.inliner">inliner</a>.<a href="../opt/Inliners.scala.html#112216" title="(cls: GenJVM.this.global.inliner.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#232572" title="GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../Global.scala.html#64949" title="object GenJVM.this.global.deadCode">deadCode</a>.<a href="../opt/DeadCodeElimination.scala.html#112314" title="(elem: GenJVM.this.global.deadCode.global.Symbol)Boolean">liveClosures</a><span class="delimiter">(</span><a href="#232572" title="GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64847" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#96940" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a> <span title="(key: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.classes.type">-=</span> <a href="#232572" title="GenJVM.this.global.icodes.global.Symbol">sym</a>
        
      <span class="keyword">val</span> <a title="GenJVM.this.BytecodeWriter" id="232498">bytecodeWriter</a> = <a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#36568" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../../settings/MutableSettings.scala.html#42225" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">getSingleOutput</a> <span title="GenJVM.this.BytecodeWriter" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="GenJVM.this.DirectToJarfileWriter">Some</span><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="232586">f</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#232586" title="scala.tools.nsc.io.AbstractFile">f</a> <a href="../../io/AbstractFile.scala.html#96475" title="(other: String)Boolean">hasExtension</a> <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span>    =&gt;
          <span title="GenJVM.this.DirectToJarfileWriter" class="keyword">new</span> <a href="BytecodeWriters.scala.html#112676" title="GenJVM.this.DirectToJarfileWriter">DirectToJarfileWriter</a><span class="delimiter">(</span><a href="#232586" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="bytecodeWriter extends java.lang.Object with GenJVM.this.ClassBytecodeWriter">_</span>                                  =&gt;
          <span title="bytecodeWriter extends java.lang.Object with GenJVM.this.ClassBytecodeWriter" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36779" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ygenjavap</a>.<a href="../../settings/MutableSettings.scala.html#42148" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span> <a href="#232599" title="java.lang.Object with GenJVM.this.ClassBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with GenJVM.this.ClassBytecodeWriter" id="232599">ClassBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#232603" title="java.lang.Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.JavapBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.JavapBytecodeWriter" id="232603">ClassBytecodeWriter</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#112677" title="GenJVM.this.JavapBytecodeWriter">JavapBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="GenJVM.this.BytecodeGenerator" id="232499">codeGenerator</a> = <span title="GenJVM.this.BytecodeGenerator" class="keyword">new</span> <a href="#112610" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a><span class="delimiter">(</span><a href="#232498" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a><span class="delimiter">)</span>
      <a href="../icode/ICodes.scala.html#96940" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="=&gt; Iterable[GenJVM.this.global.icodes.IClass]">values</span> <span title="(f: GenJVM.this.global.icodes.IClass =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#232499" title="GenJVM.this.BytecodeGenerator">codeGenerator</a> <a href="#231432" title="(c: GenJVM.this.global.icodes.IClass)Unit">genClass</a> <a href="#232669" title="GenJVM.this.global.icodes.IClass">_</a><span class="delimiter">)</span>
      <a href="#232498" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a>.<a href="BytecodeWriters.scala.html#230616" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../icode/ICodes.scala.html#96940" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Return the suffix of a class name */</span>
  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)java.lang.String" id="112606">moduleSuffix</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="232673">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#232673" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasModuleFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#232673" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
       <span title="=&gt; Boolean">!</span><a href="#232673" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#232673" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
    <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="keyword">var</span> <a title="Int" id="112608">pickledBytes</a> = <span title="Int(0)" class="int">0</span> <span class="comment">// statistics</span>

  <span class="comment">/**
   * Java bytecode generator.
   *
   */</span>
  <span class="keyword">class</span> <a title="class BytecodeGenerator extends java.lang.Object with GenJVM.this.BytecodeUtil with ScalaObject" id="112610">BytecodeGenerator</a><a href="#112610" title="ScalaObject" class="delimiter">(</a><a title="GenJVM.this.BytecodeWriter" id="232634">bytecodeWriter</a>: <a href="BytecodeWriters.scala.html#112675" title="GenJVM.this.BytecodeWriter">BytecodeWriter</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="GenJVMUtil.scala.html#112654" title="GenJVM.this.BytecodeUtil">BytecodeUtil</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="()GenJVM.this.BytecodeGenerator" id="231355" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#112610" title="BytecodeGenerator.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#232924" title="java.lang.Object with GenJVM.this.ClassBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with GenJVM.this.ClassBytecodeWriter" id="232924">ClassBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="231356">debugLevel</a> = <a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36726" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">debuginfo</a>.<a href="../../settings/MutableSettings.scala.html#46836" title="=&gt; Int">indexOfChoice</a>
    <span class="keyword">import</span> <a href="#232634" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a>.writeClass

    <span class="keyword">val</span> <a title="Double" id="231358">MIN_SWITCH_DENSITY</a> = <span title="Double(0.7)" class="double">0.7</span>
    <span class="keyword">val</span> <a title="Int" id="231360">INNER_CLASSES_FLAGS</a> =
      <span class="delimiter">(</span>ACC_PUBLIC | ACC_PRIVATE | ACC_PROTECTED | ACC_STATIC | ACC_FINAL | ACC_INTERFACE <span title="Int(1567)">|</span> ACC_ABSTRACT<span class="delimiter">)</span>
    
    <span class="keyword">val</span> <a title="Int" id="231362">PublicStatic</a>      = ACC_PUBLIC <span title="Int(9)">|</span> ACC_STATIC
    <span class="keyword">val</span> <a title="Int" id="231364">PublicStaticFinal</a> = ACC_PUBLIC | ACC_STATIC <span title="Int(25)">|</span> ACC_FINAL

    <span class="keyword">val</span> <a title="String" id="231366">StringBuilderClassName</a> = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106379" title="=&gt; GenJVM.this.global.Symbol">StringBuilderClass</a>.<span title="=&gt; String">fullName</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="231368">BoxesRunTime</a> = <span title="java.lang.String(&quot;scala.runtime.BoxesRunTime&quot;)" class="string">&quot;scala.runtime.BoxesRunTime&quot;</span>

    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="231370">StringBuilderType</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#231366" title="=&gt; String">StringBuilderClassName</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="231372">toStringType</a>      = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_STRING</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="231374">arrayCloneType</a>    = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="231376">MethodTypeType</a>    = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.dyn.MethodType&quot;)" class="string">&quot;java.dyn.MethodType&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="231378">JavaLangClassType</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.lang.Class&quot;)" class="string">&quot;java.lang.Class&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="231380">MethodHandleType</a>  = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.dyn.MethodHandle&quot;)" class="string">&quot;java.dyn.MethodHandle&quot;</span><span class="delimiter">)</span>

    <span class="comment">// Scala attributes</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="231382">BeanInfoAttr</a>     = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106635" title="(fullname: GenJVM.this.global.Name)GenJVM.this.global.Symbol">getClass</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)GenJVM.this.global.TermName" class="string">&quot;scala.reflect.BeanInfo&quot;</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="231384">BeanInfoSkipAttr</a> = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106635" title="(fullname: GenJVM.this.global.Name)GenJVM.this.global.Symbol">getClass</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)GenJVM.this.global.TermName" class="string">&quot;scala.reflect.BeanInfoSkip&quot;</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="231386">BeanDisplayNameAttr</a> = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106635" title="(fullname: GenJVM.this.global.Name)GenJVM.this.global.Symbol">getClass</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)GenJVM.this.global.TermName" class="string">&quot;scala.reflect.BeanDisplayName&quot;</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="231388">BeanDescriptionAttr</a> = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106635" title="(fullname: GenJVM.this.global.Name)GenJVM.this.global.Symbol">getClass</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)GenJVM.this.global.TermName" class="string">&quot;scala.reflect.BeanDescription&quot;</a><span class="delimiter">)</span>

    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="231391">CloneableClass</a>  = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106635" title="(fullname: GenJVM.this.global.Name)GenJVM.this.global.Symbol">getClass</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)GenJVM.this.global.TermName" class="string">&quot;java.lang.Cloneable&quot;</a><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="231393">RemoteInterface</a> = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106635" title="(fullname: GenJVM.this.global.Name)GenJVM.this.global.Symbol">getClass</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)GenJVM.this.global.TermName" class="string">&quot;java.rmi.Remote&quot;</a><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="231395">RemoteException</a> = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106635" title="(fullname: GenJVM.this.global.Name)GenJVM.this.global.Symbol">getClass</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)GenJVM.this.global.TermName" class="string">&quot;java.rmi.RemoteException&quot;</a><span class="delimiter">)</span>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a>

    <span class="keyword">val</span> <a title="scala.reflect.generic.PickleBuffer" id="231396">versionPickle</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.reflect.generic.PickleBuffer" id="232737">vp</a> = <span title="scala.reflect.generic.PickleBuffer" class="keyword">new</span> <span title="scala.reflect.generic.PickleBuffer">PickleBuffer</span><span class="delimiter">(</span><span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(16)" class="int">16</span><span class="delimiter">)</span>, -<span title="Int(-1)" class="int">1</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="#231475" title="(cond: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#232737" title="scala.reflect.generic.PickleBuffer">vp</a>.<span title="=&gt; Int">writeIndex</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="#232737" title="scala.reflect.generic.PickleBuffer">vp</a> <span title="(x: Int)Unit">writeNat</span> <span title="object scala.reflect.generic.PickleFormat">PickleFormat</span>.<span title="=&gt; Int">MajorVersion</span>
      <a href="#232737" title="scala.reflect.generic.PickleBuffer">vp</a> <span title="(x: Int)Unit">writeNat</span> <span title="object scala.reflect.generic.PickleFormat">PickleFormat</span>.<span title="=&gt; Int">MinorVersion</span>
      <a href="#232737" title="scala.reflect.generic.PickleBuffer">vp</a> <span title="(x: Int)Unit">writeNat</span> <span title="Int(0)" class="int">0</span>
      <a href="#232737" title="scala.reflect.generic.PickleBuffer">vp</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.IClass" id="231399">clasz</a>: <a href="../icode/Members.scala.html#96982" title="GenJVM.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.IMethod" id="231402">method</a>: <a href="../icode/Members.scala.html#96984" title="GenJVM.this.global.icodes.IMethod">IMethod</a> = _
    <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JClass" id="231405">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span> = _
    <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="231408">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span> = _
<span class="comment">//    var jcode: JExtendedCode = _</span>

    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.FJBGContext" id="231410">fjbgContext</a> = <span title="(x$1: Int, x$2: Int)ch.epfl.lamp.fjbg.FJBGContext" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.FJBGContext">FJBGContext</span><span class="delimiter">(</span><span title="Int(49)" class="int">49</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Boolean" id="231412">emitSource</a> = <a href="#231356" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(1)" class="int">1</span>
    <span class="keyword">val</span> <a title="Boolean" id="231414">emitLines</a>  = <a href="#231356" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span>
    <span class="keyword">val</span> <a title="Boolean" id="231416">emitVars</a>   = <a href="#231356" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(3)" class="int">3</span>
    
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)String" id="231418">javaName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="232228">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#232228" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#232228" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107387" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>.<span title="=&gt; Boolean">isPackageClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#232228" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span>
        <a href="#231430" title="=&gt; scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol]">innerClassBuffer</a> <span title="(x: GenJVM.this.global.Symbol)BytecodeGenerator.this.innerClassBuffer.type">+=</span> <a href="#232228" title="GenJVM.this.global.Symbol">sym</a>
      
      <a href="#112610" title="GenJVM.this.BytecodeGenerator" class="keyword">super</a>.<a href="GenJVMUtil.scala.html#231347" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#232228" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Write a class to disk, adding the Scala signature (pickled type
     *  information) and inner classes.
     * 
     * @param jclass The FJBG class, where code was emitted
     * @param sym    The corresponding symbol, used for looking up pickled information
     */</span>
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit" id="231419">emitClass</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="232978">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="232979">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#231444" title="(jclass: ch.epfl.lamp.fjbg.JClass)Unit">addInnerClasses</a><span class="delimiter">(</span><a href="#232978" title="ch.epfl.lamp.fjbg.JClass">jclass</a><span class="delimiter">)</span>
      <a href="BytecodeWriters.scala.html#230615" title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">writeClass</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#232979" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.Name">name</a>, <a href="#232978" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232979" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Returns the ScalaSignature annotation if it must be added to this class,
     *  none otherwise; furthermore, it adds to `jclass` the ScalaSig marker
     *  attribute (marking that a scala signature annotation is present) or the
     *  Scala marker attribute (marking that the signature for this class is in
     *  another file). The annotation that is returned by this method must be
     *  added to the class' annotations list when generating them.
     *
     *  @param jclass The class file that is being readied.
     *  @param sym    The symbol for which the signature has been entered in
     *                the symData map. This is different than the symbol
     *                that is being generated in the case of a mirror class.
     *  @return       An option that is:
     *                - defined and contains an annotation info of the
     *                  ScalaSignature type, instantiated with the pickle
     *                  signature for sym (a ScalaSig marker attribute has
     *                  been written);
     *                - undefined if the jclass/sym couple must not contain a
     *                  signature (a Scala marker attribute has been written).
     */</span>
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]" id="231420">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="232986">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="232987">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[GenJVM.this.global.AnnotationInfo]">Option</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span> =
      <a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72369" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.generic.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)Option[scala.reflect.generic.PickleBuffer]">get</span> <a href="#232987" title="GenJVM.this.global.Symbol">sym</a> <span title="Option[GenJVM.this.global.AnnotationInfo]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Some[GenJVM.this.global.AnnotationInfo]">Some</span><span class="delimiter">(</span><a title="scala.reflect.generic.PickleBuffer" id="233007">pickle</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#232986" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="233008">scalaAttr</a> =
            <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: java.lang.String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#232986" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232986" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115107" title="=&gt; GenJVM.this.global.tpnme.NameType">ScalaSignatureATTR</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
                                        <a href="#231396" title="=&gt; scala.reflect.generic.PickleBuffer">versionPickle</a>.<span title="=&gt; Array[Byte]">bytes</span>, <a href="#231396" title="=&gt; scala.reflect.generic.PickleBuffer">versionPickle</a>.<span title="=&gt; Int">writeIndex</span><span class="delimiter">)</span>
          <a href="#232986" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#233008" title="ch.epfl.lamp.fjbg.JOtherAttribute">scalaAttr</a>
          <span class="keyword">val</span> <a title="GenJVM.this.global.AnnotationInfo" id="233009">scalaAnnot</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.ScalaSigBytes" id="233060">sigBytes</a> = <a href="../../symtab/AnnotationInfos.scala.html#233063" title="(bytes: Array[Byte])GenJVM.this.global.ScalaSigBytes">ScalaSigBytes</a><span class="delimiter">(</span><a href="#233007" title="scala.reflect.generic.PickleBuffer">pickle</a>.<span title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</span>.<span title="(n: Int)Array[Byte]">take</span><span class="delimiter">(</span><a href="#233007" title="scala.reflect.generic.PickleBuffer">pickle</a>.<span title="=&gt; Int">writeIndex</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../symtab/AnnotationInfos.scala.html#134310" title="(atp: GenJVM.this.global.Type, args: List[GenJVM.this.global.Tree], assocs: List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#233060" title="GenJVM.this.global.ScalaSigBytes">sigBytes</a>.<a href="../../symtab/AnnotationInfos.scala.html#233072" title="=&gt; GenJVM.this.global.Type">sigAnnot</a>, <span title="object Nil">Nil</span>, <span title="(xs: (GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)*)List[(GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)]">List</span><span class="delimiter">(</span><span title="(_1: GenJVM.this.global.nme.NameType, _2: GenJVM.this.global.ScalaSigBytes)(GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)" class="delimiter">(</span><a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115464" title="=&gt; GenJVM.this.global.nme.NameType">bytes</a>, <a href="#233060" title="GenJVM.this.global.ScalaSigBytes">sigBytes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#112608" title="(x$1: Int)Unit">pickledBytes</a> <span title="(x: Int)Int">+=</span> <a href="#233007" title="scala.reflect.generic.PickleBuffer">pickle</a>.<span title="=&gt; Int">writeIndex</span>
          <a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72369" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.generic.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.generic.PickleBuffer]">-=</span> <a href="#232987" title="GenJVM.this.global.Symbol">sym</a>
          <a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72369" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.generic.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.generic.PickleBuffer]">-=</span> <a href="#232987" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107623" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a>
          <span title="(x: GenJVM.this.global.AnnotationInfo)Some[GenJVM.this.global.AnnotationInfo]">Some</span><span class="delimiter">(</span><a href="#233009" title="GenJVM.this.global.AnnotationInfo">scalaAnnot</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="233246">markerAttr</a> =
            <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: java.lang.String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#232986" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232986" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115105" title="=&gt; GenJVM.this.global.tpnme.NameType">ScalaATTR</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>, <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a href="#232986" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#233246" title="ch.epfl.lamp.fjbg.JOtherAttribute">markerAttr</a>
          <span title="object None">None</span>
      <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Option[Long]" id="231422">serialVUID</a>: <span title="Option[Long]">Option</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <span title="object None">None</span>
    <span class="keyword">var</span> <a title="Boolean" id="231425">isRemoteClass</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="Boolean" id="231428">isParcelableClass</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol]" id="231430">innerClassBuffer</a> = <span title="scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="(c: GenJVM.this.global.icodes.IClass)Unit" id="231432">genClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="232670">c</a>: <a href="../icode/Members.scala.html#96982" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#231399" title="(x$1: GenJVM.this.global.icodes.IClass)Unit">clasz</a> = <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>
      <a href="#231430" title="=&gt; scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol]">innerClassBuffer</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="List[GenJVM.this.global.icodes.global.Type]" id="233251">parents</a> = <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105463" title="=&gt; List[GenJVM.this.global.icodes.global.Type]">parents</a>
      <span class="keyword">var</span> <a title="Array[java.lang.String]" id="233252">ifaces</a>  = <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[java.lang.String]">NO_INTERFACES</span>
      <span class="keyword">val</span> <a title="String" id="233253">name</a>    = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#231422" title="(x$1: Option[Long])Unit">serialVUID</a>  = <span title="object None">None</span>
      <a href="#231425" title="(x$1: Boolean)Unit">isRemoteClass</a> = <span title="Boolean(false)" class="keyword">false</span>
      <a href="#231428" title="(x$1: Boolean)Unit">isParcelableClass</a> = <a href="GenAndroid.scala.html#112666" title="(sym: GenJVM.this.global.Symbol)Boolean">isAndroidParcelableClass</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
        <a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a> = <span title="(xs: GenJVM.this.global.Type*)List[GenJVM.this.global.Type]">List</span><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106220" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.AnnotationInfo" id="233294">annot</a> &lt;- <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107411" title="(f: GenJVM.this.global.icodes.global.AnnotationInfo =&gt; Unit)Unit">annotations</a><span class="delimiter">)</span> <a href="#233294" title="GenJVM.this.global.icodes.global.AnnotationInfo">annot</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">AnnotationInfo</span><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="233340">tp</a>, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#233340" title="GenJVM.this.global.Type">tp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106624" title="=&gt; GenJVM.this.global.Symbol">SerializableAttr</a> =&gt;
          <a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a> <span title="(elem: GenJVM.this.global.icodes.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.Type],GenJVM.this.global.icodes.global.Type,List[GenJVM.this.global.icodes.global.Type]])List[GenJVM.this.global.icodes.global.Type]">:+=</span> <a href="../../symtab/Definitions.scala.html#106346" title="=&gt; GenJVM.this.global.Symbol">SerializableClass</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Unit">AnnotationInfo</span><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="233416">tp</a>, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#233416" title="GenJVM.this.global.Type">tp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106606" title="=&gt; GenJVM.this.global.Symbol">CloneableAttr</a> =&gt;
          <a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a> <span title="(elem: GenJVM.this.global.icodes.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.Type],GenJVM.this.global.icodes.global.Type,List[GenJVM.this.global.icodes.global.Type]])List[GenJVM.this.global.icodes.global.Type]">:+=</span> <a href="#231390" title="=&gt; GenJVM.this.global.Symbol">CloneableClass</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Unit">AnnotationInfo</span><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="233477">tp</a>, Literal<span class="delimiter">(</span><a title="GenJVM.this.global.Constant" id="233487">const</a><span class="delimiter">)</span> :: _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#233477" title="GenJVM.this.global.Type">tp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106622" title="=&gt; GenJVM.this.global.Symbol">SerialVersionUIDAttr</a> =&gt;
          <a href="#231422" title="(x$1: Option[Long])Unit">serialVUID</a> = <span title="(x: Long)Some[Long]">Some</span><span class="delimiter">(</span><a href="#233487" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Long">longValue</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">AnnotationInfo</span><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="233499">tp</a>, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#233499" title="GenJVM.this.global.Type">tp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106616" title="=&gt; GenJVM.this.global.Symbol">RemoteAttr</a> =&gt;
          <a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a> <span title="(elem: GenJVM.this.global.icodes.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.Type],GenJVM.this.global.icodes.global.Type,List[GenJVM.this.global.icodes.global.Type]])List[GenJVM.this.global.icodes.global.Type]">:+=</span> <a href="#231392" title="=&gt; GenJVM.this.global.Symbol">RemoteInterface</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a>
          <a href="#231425" title="(x$1: Boolean)Unit">isRemoteClass</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>

      <a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a> = <a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a>.<span title="=&gt; List[GenJVM.this.global.icodes.global.Type]">distinct</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a>.<span title="=&gt; List[GenJVM.this.global.icodes.global.Type]">tail</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
        <a href="#233252" title="Array[java.lang.String]">ifaces</a> = <a href="GenJVMUtil.scala.html#231346" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#233251" title="List[GenJVM.this.global.icodes.global.Type]">parents</a> <span title="(n: Int)List[GenJVM.this.global.icodes.global.Type]">drop</span> <span title="Int(1)" class="int">1</span> <span title="(f: GenJVM.this.global.icodes.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.Type],String,Traversable[String]])Traversable[String]">map</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Type" id="233595">x</a> =&gt; <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233595" title="GenJVM.this.global.icodes.global.Type">x</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#231405" title="(x$1: ch.epfl.lamp.fjbg.JClass)Unit">jclass</a> = <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: java.lang.String, x$4: Array[java.lang.String], x$5: java.lang.String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span><a href="#112611" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                                  <a href="#233253" title="String">name</a>,
                                  <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233251" title="(n: Int)GenJVM.this.global.icodes.global.Type">parents</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a><span class="delimiter">)</span>,
                                  <a href="#233252" title="Array[java.lang.String]">ifaces</a>,
                                  <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97420" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#96530" title="()String">toString</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#112613" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#231422" title="=&gt; Option[Long]">serialVUID</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">||</span> <a href="#231428" title="=&gt; Boolean">isParcelableClass</a> <span title="(x: Boolean)Boolean">||</span>
          <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97423" title="=&gt; Option[String]">bootstrapClass</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#112613" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#231450" title="()Unit">addModuleInstanceField</a>
        <a href="#231451" title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit">addStaticInit</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97433" title="=&gt; Option[GenJVM.this.global.icodes.IMethod]">lookupStaticCtor</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#112612" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107620" title="=&gt; GenJVM.this.global.icodes.global.Symbol">companionClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#231456" title="(clasz: GenJVM.this.global.Symbol, sourceFile: String)Unit">dumpMirrorClass</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97420" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#96530" title="()String">toString</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;No mirror class for module with linked class: &quot;)" class="string">&quot;No mirror class for module with linked class: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97433" title="=&gt; Option[GenJVM.this.global.icodes.IMethod]">lookupStaticCtor</a> <span title="(f: GenJVM.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="233721">constructor</a> =&gt; <a href="#231451" title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit">addStaticInit</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <span title="(x: GenJVM.this.global.icodes.IMethod)Some[GenJVM.this.global.icodes.IMethod]">Some</span><span class="delimiter">(</span><a href="#233721" title="GenJVM.this.global.icodes.IMethod">constructor</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// it must be a top level class (name contains no $s)</span>
        <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="233715">isCandidateForForwarders</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="233726">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
          <a href="../../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72334" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#233726" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">toString</a> <span title="(elem: Any)Boolean">contains</span> <span title="Char(\'$\')" class="char">'$'</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#233726" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasModuleFlag</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233726" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233726" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107532" title="=&gt; Boolean">isNestedClass</a>
          <span class="delimiter">}</span>

        <span class="comment">// At some point this started throwing lots of exceptions as a compile was finishing.</span>
        <span class="comment">// error: java.lang.AssertionError:</span>
        <span class="comment">//   assertion failed: List(object package$CompositeThrowable, object package$CompositeThrowable)</span>
        <span class="comment">// ...is the one I've seen repeatedly.  Suppressing.</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="233716">lmoc</a> = <span class="delimiter">(</span>
          <span class="keyword">try</span> <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107622" title="=&gt; GenJVM.this.global.icodes.global.Symbol">companionModule</a>
          <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="GenJVM.this.global.NoSymbol.type" id="233743">x</a>: <span title="java.lang.AssertionError">AssertionError</span> =&gt;
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Suppressing failed assert: &quot;)" class="string">&quot;Suppressing failed assert: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#233743" title="java.lang.AssertionError">x</a><span class="delimiter">)</span>
            <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
        <span class="delimiter">)</span>
        <span class="comment">// add static forwarders if there are no name conflicts; see bugs #363 and #1735</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233716" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; Boolean">isInterface</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233715" title="(sym: GenJVM.this.global.Symbol)Boolean">isCandidateForForwarders</a><span class="delimiter">(</span><a href="#233716" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36673" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noForwarders</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Adding static forwarders from '%s' to implementations in '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#233716" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#231455" title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit">addForwarders</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#233716" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a>.<a href="../../symtab/Symbols.scala.html#107627" title="=&gt; GenJVM.this.global.icodes.global.Symbol">moduleClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97423" title="=&gt; Option[String]">bootstrapClass</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
        <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: java.lang.String)Unit">setBootstrapClass</span> <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97423" title="=&gt; Option[String]">bootstrapClass</a>.<span title="=&gt; String">get</span>

      <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97414" title="=&gt; List[GenJVM.this.global.icodes.IField]">fields</a> <span title="(f: GenJVM.this.global.icodes.IField =&gt; Unit)Unit">foreach</span> <a href="#231445" title="(f: GenJVM.this.global.icodes.IField)Unit">genField</a>
      <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97417" title="=&gt; List[GenJVM.this.global.icodes.IMethod]">methods</a> <span title="(f: GenJVM.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <a href="#231446" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genMethod</a>

      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.AnnotationInfo]" id="233254">ssa</a> = <a href="#231420" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#231440" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#231441" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.icodes.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.AnnotationInfo],GenJVM.this.global.icodes.global.AnnotationInfo,List[GenJVM.this.global.AnnotationInfo]])List[GenJVM.this.global.AnnotationInfo]">++</span> <a href="#233254" title="(xo: Option[GenJVM.this.global.AnnotationInfo])Iterable[GenJVM.this.global.AnnotationInfo]">ssa</a><span class="delimiter">)</span>

      <a href="#231433" title="(jclass: ch.epfl.lamp.fjbg.JClass, clazz: GenJVM.this.global.Symbol)Unit">addEnclosingMethodAttribute</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#231419" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">emitClass</a><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../symtab/Symbols.scala.html#107414" title="(cls: GenJVM.this.global.icodes.global.Symbol)Boolean">hasAnnotation</a> <a href="#231382" title="=&gt; GenJVM.this.global.Symbol">BeanInfoAttr</a><span class="delimiter">)</span>
        <a href="#231434" title="(c: GenJVM.this.global.icodes.IClass)Unit">genBeanInfoClass</a><span class="delimiter">(</span><a href="#232670" title="GenJVM.this.global.icodes.IClass">c</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, clazz: GenJVM.this.global.Symbol)Unit" id="231433">addEnclosingMethodAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="233954">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="233955">clazz</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="233960">sym</a> = <a href="#233955" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../symtab/Symbols.scala.html#107616" title="=&gt; GenJVM.this.global.Symbol">originalEnclosingMethod</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233960" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosing method for %s is %s (in %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#233955" title="GenJVM.this.global.Symbol">clazz</a>, <a href="#233960" title="GenJVM.this.global.Symbol">sym</a>, <a href="#233960" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; GenJVM.this.global.Symbol">enclClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#233954" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: java.lang.String, x$3: java.lang.String, x$4: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JEnclosingMethodAttribute">JEnclosingMethodAttribute</span><span class="delimiter">(</span>
          <a href="#233954" title="ch.epfl.lamp.fjbg.JClass">jclass</a>,
          <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233960" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; GenJVM.this.global.Symbol">enclClass</span><span class="delimiter">)</span>,
          <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233960" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>,
          <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#233960" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233955" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../symtab/Symbols.scala.html#107487" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="233997">enclClass</a> = <a href="#233955" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../symtab/Symbols.scala.html#107387" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>        
        <a href="#231474" title="(cond: Boolean, msg: =&gt; String)Unit">assert</a><span class="delimiter">(</span><a href="#233997" title="GenJVM.this.global.Symbol">enclClass</a>.<span title="=&gt; Boolean">isClass</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#233997" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="233998">sym</a> = <a href="#233997" title="GenJVM.this.global.Symbol">enclClass</a>.<a href="../../symtab/Symbols.scala.html#107597" title="=&gt; GenJVM.this.global.Symbol">primaryConstructor</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233998" title="GenJVM.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Ran out of room looking for an enclosing method for %s: no constructor here.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#233997" title="GenJVM.this.global.Symbol">enclClass</a>, <a href="#233955" title="GenJVM.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosing method for %s is %s (in %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#233955" title="GenJVM.this.global.Symbol">clazz</a>, <a href="#233998" title="GenJVM.this.global.Symbol">sym</a>, <a href="#233997" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#233954" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: java.lang.String, x$3: java.lang.String, x$4: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JEnclosingMethodAttribute">JEnclosingMethodAttribute</span><span class="delimiter">(</span>
            <a href="#233954" title="ch.epfl.lamp.fjbg.JClass">jclass</a>,
            <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233997" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>,
            <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233998" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>,
            <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#233998" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Generate a bean info class that describes the given class.
     *
     * @author Ross Judson (ross.judson@soletta.com)
     */</span>
    <span class="keyword">def</span> <a title="(c: GenJVM.this.global.icodes.IClass)Unit" id="231434">genBeanInfoClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="233958">c</a>: <a href="../icode/Members.scala.html#96982" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.icodes.global.AnnotationInfo]" id="234019">description</a> = <a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a>.<span title="(p: GenJVM.this.global.icodes.global.AnnotationInfo =&gt; Boolean)Option[GenJVM.this.global.icodes.global.AnnotationInfo]">find</span><span class="delimiter">(</span><a href="#234037" title="GenJVM.this.global.icodes.global.AnnotationInfo">_</a>.<a href="../../symtab/AnnotationInfos.scala.html#133491" title="=&gt; GenJVM.this.global.icodes.global.Type">atp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#231388" title="=&gt; GenJVM.this.global.Symbol">BeanDescriptionAttr</a><span class="delimiter">)</span>
      <span class="comment">// informProgress(description.toString)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JClass" id="234020">beanInfoClass</a> = <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: java.lang.String, x$4: Array[java.lang.String], x$5: java.lang.String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span><a href="#112611" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
            <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;BeanInfo&quot;)" class="string">&quot;BeanInfo&quot;</span>,
            <span title="java.lang.String(&quot;scala/reflect/ScalaBeanInfo&quot;)" class="string">&quot;scala/reflect/ScalaBeanInfo&quot;</span>,
            <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[java.lang.String]">NO_INTERFACES</span>,
            <a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97420" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#96423" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#96530" title="()String">toString</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="List[String]" id="234021">fieldList</a> = List<span class="delimiter">[</span>String<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IField" id="234163">f</a> &lt;- <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97414" title="(f: GenJVM.this.global.icodes.IField =&gt; (GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IField],(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol),List[(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol)]])List[(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol)]">fields</a> <span class="keyword">if</span> <a href="#234163" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107469" title="=&gt; Boolean">hasGetter</a>;
	         <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="234164">g</a> = <a href="#234163" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107635" title="(base: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol">getter</a><span class="delimiter">(</span><a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>;
	         <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="234165">s</a> = <a href="#234163" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107636" title="(base: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol">setter</a><span class="delimiter">(</span><a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>;
	         <span class="keyword">if</span> <a href="#234164" title="GenJVM.this.global.icodes.global.Symbol">g</a>.<span title="=&gt; Boolean">isPublic</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#234163" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.icodes.global.Name">name</a> <a href="../../symtab/Names.scala.html#96627" title="(name: String)Boolean">startsWith</a> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">// inserting $outer breaks the bean</span>
        <a href="#234021" title="List[String]">fieldList</a> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#234163" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="#234166" title="(x: String)List[String]">::</a> <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#234164" title="GenJVM.this.global.icodes.global.Symbol">g</a><span class="delimiter">)</span> <a href="#234167" title="(x: String)List[String]">::</a> <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#234165" title="GenJVM.this.global.icodes.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#234165" title="GenJVM.this.global.icodes.global.Symbol">s</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#234168" title="(x: String)List[String]">::</a> <a href="#234021" title="List[String]">fieldList</a>
      <span class="keyword">val</span> <a title="List[String]" id="234022">methodList</a> = 
	     <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="234203">m</a> &lt;- <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97417" title="(f: GenJVM.this.global.icodes.IMethod =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IMethod],String,List[String]])List[String]">methods</a> 
	         <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#234203" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <a href="#234203" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; Boolean">isPublic</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#234203" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.icodes.global.Name">name</a> <a href="../../symtab/Names.scala.html#96627" title="(name: String)Boolean">startsWith</a> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><a href="#234203" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107466" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><a href="#234203" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107467" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#234203" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="234023">constructor</a> = <a href="#234020" title="ch.epfl.lamp.fjbg.JClass">beanInfoClass</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><span title="Int(1)">ACC_PUBLIC</span>, <span title="java.lang.String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="Array[ch.epfl.lamp.fjbg.JType]" class="keyword">new</span> <span title="Array[ch.epfl.lamp.fjbg.JType]">Array</span><span class="delimiter">[</span>JType<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Array[String]" class="keyword">new</span> <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="234024">jcode</a> = <a href="#234023" title="ch.epfl.lamp.fjbg.JMethod">constructor</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="234025">strKind</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106300" title="=&gt; GenJVM.this.global.Symbol">StringClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JArrayType" id="234026">stringArrayKind</a> = <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="#234025" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="234027">conType</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106304" title="=&gt; GenJVM.this.global.Symbol">ClassClass</a><span class="delimiter">)</span>, <a href="#234026" title="ch.epfl.lamp.fjbg.JArrayType">stringArrayKind</a>, <a href="#234026" title="ch.epfl.lamp.fjbg.JArrayType">stringArrayKind</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(lst: Seq[String])Unit" id="234028">push</a><span class="delimiter">(</span><a title="Seq[String]" id="234324">lst</a>:<span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="234325">fi</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="234342">f</a> &lt;- <a href="#234324" title="(f: String =&gt; Unit)Unit">lst</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#234325" title="Int">fi</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#234342" title="String">f</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: java.lang.String)Unit">emitPUSH</span> <a href="#234342" title="String">f</a>
          <span class="keyword">else</span>
            <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitACONST_NULL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitASTORE</span> <a href="#234025" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
          <a href="#234325" title="Int">fi</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span> 
      <span class="delimiter">}</span>

      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">// push the class</span>
      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitPUSH</span> <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>

      <span class="comment">// push the the string array of field information</span>
      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#234021" title="List[String]">fieldList</a>.<span title="=&gt; Int">length</span>
      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="#234025" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
      <a href="#234028" title="(lst: Seq[String])Unit">push</a><span class="delimiter">(</span><a href="#234021" title="List[String]">fieldList</a><span class="delimiter">)</span>

      <span class="comment">// push the string array of method information	</span>
      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#234022" title="List[String]">methodList</a>.<span title="=&gt; Int">length</span>
      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="#234025" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
      <a href="#234028" title="(lst: Seq[String])Unit">push</a><span class="delimiter">(</span><a href="#234022" title="List[String]">methodList</a><span class="delimiter">)</span>

      <span class="comment">// invoke the superclass constructor, which will do the</span>
      <span class="comment">// necessary java reflection and create Method objects.	</span>
      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala/reflect/ScalaBeanInfo&quot;)" class="string">&quot;scala/reflect/ScalaBeanInfo&quot;</span>, <span title="java.lang.String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>, <a href="#234027" title="ch.epfl.lamp.fjbg.JMethodType">conType</a><span class="delimiter">)</span>
      <a href="#234024" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitRETURN</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">// write the bean information class file.</span>
      <a href="BytecodeWriters.scala.html#230615" title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">writeClass</a><span class="delimiter">(</span><span title="java.lang.String(&quot;BeanInfo &quot;)" class="string">&quot;BeanInfo &quot;</span>, <a href="#234020" title="ch.epfl.lamp.fjbg.JClass">beanInfoClass</a>, <a href="#233958" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Add the given 'throws' attributes to jmethod */</span>
    <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit" id="231435">addExceptionsAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="234385">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="234386">excs</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#234386" title="List[GenJVM.this.global.AnnotationInfo]">excs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JConstantPool" id="234388">cpool</a> = <a href="#234385" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>
      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="234389">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(512)" class="int">512</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="234390">nattr</a> = <span title="Int(0)" class="int">0</span>

      <span class="comment">// put some random value; the actual number is determined at the end</span>
      <a href="#234389" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <span title="Int(47802)" class="int">0xbaba</span>.<span title="=&gt; Short">toShort</span>

      <span class="keyword">for</span> <span class="delimiter">(</span>AnnotationInfo<span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="234740">tp</a>, <a href="#234677" title="(x: List[GenJVM.this.global.Tree])Some[List[GenJVM.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="GenJVM.this.global.Tree" id="234753">exc</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> &lt;- <a href="#234386" title="List[GenJVM.this.global.AnnotationInfo]">excs</a>.<a href="#234671" title="(f: GenJVM.this.global.AnnotationInfo =&gt; Unit)Unit">distinct</a> <span class="keyword">if</span> <a href="#234740" title="GenJVM.this.global.Type">tp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106262" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> Literal<a href="#234758" title="GenJVM.this.global.Constant" id="234754" class="delimiter">(</a><a title="GenJVM.this.global.Constant" id="234758">const</a><span class="delimiter">)</span> = <a href="#234753" title="GenJVM.this.global.Tree">exc</a>
        <a href="#234389" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span>
          <a href="#234388" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: java.lang.String)Int">addClass</span><span title="implicit scala.Predef.int2Integer : (x: Int)java.lang.Integer" class="delimiter">(</span>
            <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#234754" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; GenJVM.this.global.Type">typeValue</span>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()Short">shortValue</span><span class="delimiter">)</span>
        <a href="#234390" title="Int">nattr</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#231475" title="(cond: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#234390" title="Int">nattr</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="#234389" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Int, x$2: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#234390" title="Int">nattr</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <a href="#231443" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#234385" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115091" title="=&gt; GenJVM.this.global.tpnme.NameType">ExceptionsATTR</a>, <a href="#234389" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Whether an annotation should be emitted as a Java annotation
     *   .initialize: if 'annot' is read from pickle, atp might be un-initialized
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(annot: GenJVM.this.global.AnnotationInfo)Boolean" id="231436">shouldEmitAnnotation</a><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="234808">annot</a>: <a href="../../symtab/AnnotationInfos.scala.html#67754" title="GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> =
      <a href="#234808" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../symtab/AnnotationInfos.scala.html#133491" title="=&gt; GenJVM.this.global.Type">atp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a>.<a href="../../symtab/Symbols.scala.html#107572" title="=&gt; GenJVM.this.global.Symbol">initialize</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#234808" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../symtab/AnnotationInfos.scala.html#133491" title="=&gt; GenJVM.this.global.Type">atp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a>.<a href="../../symtab/Symbols.scala.html#107588" title="(that: GenJVM.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106252" title="=&gt; GenJVM.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#234808" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../symtab/AnnotationInfos.scala.html#133493" title="=&gt; List[GenJVM.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int" id="231437">emitJavaAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JConstantPool" id="234820">cpool</a>: <span title="ch.epfl.lamp.fjbg.JConstantPool">JConstantPool</span>, <a title="java.nio.ByteBuffer" id="234821">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="234822">annotations</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit" id="234824">emitArgument</a><span class="delimiter">(</span><a title="GenJVM.this.global.ClassfileAnnotArg" id="234828">arg</a>: <a href="../../symtab/AnnotationInfos.scala.html#67740" title="GenJVM.this.global.ClassfileAnnotArg">ClassfileAnnotArg</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#234828" title="GenJVM.this.global.ClassfileAnnotArg">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">LiteralAnnotArg</span><span class="delimiter">(</span><a title="GenJVM.this.global.Constant" id="234848">const</a><span class="delimiter">)</span> =&gt;
          <a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Int">tag</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">BooleanTag</span> =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'Z\')" class="char">'Z'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Boolean">booleanValue</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ByteTag</span>    =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'B\')" class="char">'B'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Int">byteValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ShortTag</span>   =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'S\')" class="char">'S'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Int">shortValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">CharTag</span>    =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'C\')" class="char">'C'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Int">charValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">IntTag</span>     =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'I\')" class="char">'I'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Int">intValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">LongTag</span>    =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'J\')" class="char">'J'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Long)Int">addLong</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Long">longValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">FloatTag</span>   =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'F\')" class="char">'F'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Float)Int">addFloat</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Float">floatValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">DoubleTag</span>  =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'D\')" class="char">'D'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Double)Int">addDouble</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; Double">doubleValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">StringTag</span>  =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'s\')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; String">stringValue</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ClassTag</span>   =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'c\')" class="char">'c'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231349" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; GenJVM.this.global.Type">typeValue</span><span class="delimiter">)</span>.<span title="()java.lang.String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">EnumTag</span> =&gt;
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'e\')" class="char">'e'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231349" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; GenJVM.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="()java.lang.String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
              <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="#234848" title="GenJVM.this.global.Constant">const</a>.<span title="=&gt; GenJVM.this.global.Symbol">symbolValue</span>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="Unit" id="234947">sb</a>@ScalaSigBytes<span class="delimiter">(</span><a title="Array[Byte]" id="234966">bytes</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#234947" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../symtab/AnnotationInfos.scala.html#233071" title="=&gt; Boolean">isLong</a> =&gt;
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'s\')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Array[Byte])Int">addUtf8</span><span class="delimiter">(</span><a href="#234947" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../symtab/AnnotationInfos.scala.html#233069" title="=&gt; Array[Byte]">encodedBytes</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>

        <span class="keyword">case</span> <a title="Unit" id="235000">sb</a>@ScalaSigBytes<span class="delimiter">(</span><a title="Array[Byte]" id="235001">bytes</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#235000" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../symtab/AnnotationInfos.scala.html#233071" title="=&gt; Boolean">isLong</a> =&gt;
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'[\')" class="char">'['</span>.<span title="=&gt; Byte">toByte</span>
          <span class="keyword">val</span> <a title="Int" id="235002">stringCount</a> = <span class="delimiter">(</span><a href="#235000" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../symtab/AnnotationInfos.scala.html#233069" title="=&gt; Array[Byte]">encodedBytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">/</span> <span title="Int(65534)" class="int">65534</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#235002" title="Int">stringCount</a>.<span title="=&gt; Short">toShort</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="235149">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; java.nio.ByteBuffer)Unit">until</span> <a href="#235002" title="Int">stringCount</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'s\')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
            <span class="keyword">val</span> <a title="Int" id="235150">j</a> = <a href="#235149" title="Int">i</a> <span title="(x: Int)Int">*</span> <span title="Int(65535)" class="int">65535</span>
            <span class="keyword">val</span> <a title="Array[Byte]" id="235151">string</a> = <a href="#235000" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../symtab/AnnotationInfos.scala.html#233069" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">encodedBytes</a>.<span title="(from: Int, until: Int)Array[Byte]">slice</span><span class="delimiter">(</span><a href="#235150" title="Int">j</a>, <a href="#235150" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(65535)" class="int">65535</span><span class="delimiter">)</span>
            <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Array[Byte])Int">addUtf8</span><span class="delimiter">(</span><a href="#235151" title="Array[Byte]">string</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">ArrayAnnotArg</span><span class="delimiter">(</span><a title="Array[GenJVM.this.global.ClassfileAnnotArg]" id="235313">args</a><span class="delimiter">)</span> =&gt;
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'[\')" class="char">'['</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#235313" title="Array[GenJVM.this.global.ClassfileAnnotArg]">args</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Short">toShort</span>
          <a href="#235313" title="(xs: Array[GenJVM.this.global.ClassfileAnnotArg])scala.collection.mutable.ArrayOps[GenJVM.this.global.ClassfileAnnotArg]">args</a> <span title="(f: GenJVM.this.global.ClassfileAnnotArg =&gt; Unit)Unit">foreach</span> <a href="#234824" title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit">emitArgument</a>

        <span class="keyword">case</span> <span title="Unit">NestedAnnotArg</span><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="236079">annInfo</a><span class="delimiter">)</span> =&gt;
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char(\'@\')" class="char">'@'</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#234825" title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit">emitAnnotation</a><span class="delimiter">(</span><a href="#236079" title="GenJVM.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit" id="234825">emitAnnotation</a><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="236084">annotInfo</a>: <a href="../../symtab/AnnotationInfos.scala.html#67754" title="GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> AnnotationInfo<a href="#236086" title="(GenJVM.this.global.Type, List[GenJVM.this.global.Tree], List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])" class="delimiter">(</a><a href="#236085" title="GenJVM.this.global.Type" id="236086">typ</a>, <a href="#236085" title="List[GenJVM.this.global.Tree]" id="236087">args</a>, <a href="#236085" title="List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)]" id="236088">assocs</a><span class="delimiter">)</span> = <a href="#236084" title="GenJVM.this.global.AnnotationInfo">annotInfo</a>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JType" id="236089">jtype</a> = <a href="GenJVMUtil.scala.html#231349" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#236086" title="GenJVM.this.global.Type">typ</a><span class="delimiter">)</span>
        <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="#236089" title="ch.epfl.lamp.fjbg.JType">jtype</a>.<span title="()java.lang.String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="#231474" title="(cond: Boolean, msg: =&gt; String)Unit">assert</a><span class="delimiter">(</span><a href="#236087" title="List[GenJVM.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#236087" title="List[GenJVM.this.global.Tree]">args</a>.<span title="()String">toString</span><span class="delimiter">)</span>
        <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#236088" title="List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)]">assocs</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Short">toShort</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="GenJVM.this.global.Name" id="236170">name</a>, <a title="GenJVM.this.global.ClassfileAnnotArg" id="236171">value</a><span class="delimiter">)</span> &lt;- <a href="#236088" title="(f: (GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg) =&gt; Unit)Unit">assocs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#234820" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="#236170" title="GenJVM.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <a href="#234824" title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit">emitArgument</a><span class="delimiter">(</span><a href="#236171" title="GenJVM.this.global.ClassfileAnnotArg">value</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Int" id="234826">nannots</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="Int" id="234827">pos</a> = <a href="#234821" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">// put some random value; the actual number of annotations is determined at the end</span>
      <a href="#234821" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <span title="Int(47802)" class="int">0xbaba</span>.<span title="=&gt; Short">toShort</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="236191">annot</a> &lt;- <a href="#234822" title="(f: GenJVM.this.global.AnnotationInfo =&gt; Unit)Unit">annotations</a> <span class="keyword">if</span> <a href="#231436" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a><span class="delimiter">(</span><a href="#236191" title="GenJVM.this.global.AnnotationInfo">annot</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#234826" title="Int">nannots</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#234825" title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit">emitAnnotation</a><span class="delimiter">(</span><a href="#236191" title="GenJVM.this.global.AnnotationInfo">annot</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// save the number of annotations</span>
      <a href="#234821" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Int, x$2: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><a href="#234827" title="Int">pos</a>, <a href="#234826" title="Int">nannots</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <a href="#234826" title="Int">nannots</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Run the signature parser to catch bogus signatures.
     */</span>
    <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol, sig: String)Boolean" id="231438">isValidSignature</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="236199">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="String" id="236200">sig</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#236199" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <a href="../../../reflect/SigParser.scala.html#31462" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#236212" title="(s: String)Boolean">verifyMethod</a> <a href="#236200" title="String">sig</a>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#236199" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <a href="../../../reflect/SigParser.scala.html#31462" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#236213" title="(s: String)Boolean">verifyType</a> <a href="#236200" title="String">sig</a>
      <span class="keyword">else</span> <a href="../../../reflect/SigParser.scala.html#31462" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#236211" title="(s: String)Boolean">verifyClass</a> <a href="#236200" title="String">sig</a>
    <span class="delimiter">)</span>

    <span class="comment">// @M don't generate java generics sigs for (members of) implementation</span>
    <span class="comment">// classes, as they are monomorphic (TODO: ok?)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="231439">needsGenericSignature</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="236255">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span>
      <span class="comment">// PP: This condition used to include sym.hasExpandedName, but this leads</span>
      <span class="comment">// to the total loss of generic information if a private member is</span>
      <span class="comment">// accessed from a closure: both the field and the accessor were generated</span>
      <span class="comment">// without it.  This is particularly bad because the availability of</span>
      <span class="comment">// generic information could disappear as a consequence of a seemingly</span>
      <span class="comment">// unrelated change.</span>
         <a href="#236255" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSynthetic</span>
      <span title="(x: Boolean)Boolean">||</span> <a href="#236255" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107517" title="=&gt; Boolean">isLiftedMethod</a>
      <span title="(x: Boolean)Boolean">||</span> <a href="#236255" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isBridge</span>
      <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#236255" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107544" title="=&gt; List[GenJVM.this.global.Symbol]">ownerChain</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#236273" title="GenJVM.this.global.Symbol">_</a>.<span title="=&gt; Boolean">isImplClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit" id="231440">addGenericSignature</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="233834">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="GenJVM.this.global.Symbol" id="233835">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="233836">owner</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231439" title="(sym: GenJVM.this.global.Symbol)Boolean">needsGenericSignature</a><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="236274">memberTpe</a> = <a href="../../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; GenJVM.this.global.Type)GenJVM.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72342" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#233836" title="GenJVM.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107600" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../symtab/Types.scala.html#105501" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// println(&quot;addGenericSignature sym: &quot; + sym.fullName + &quot; : &quot; + memberTpe + &quot; sym.info: &quot; + sym.info)</span>
        <span class="comment">// println(&quot;addGenericSignature: &quot;+ (sym.ownerChain map (x =&gt; (x.name, x.isImplClass))))</span>
        <a href="../../Global.scala.html#64929" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../transform/Erasure.scala.html#111751" title="(sym0: GenJVM.this.global.erasure.global.Symbol, info: GenJVM.this.global.erasure.global.Type)Option[String]">javaSig</a><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>, <a href="#236274" title="GenJVM.this.global.Type">memberTpe</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="236293">sig</a> =&gt;
          <span class="comment">/** Since we're using a sun internal class for signature validation,
           *  we have to allow for it not existing or otherwise malfunctioning:
           *  in which case we treat every signature as valid.  Medium term we
           *  should certainly write independent signature validation.
           */</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36689" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xverify</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/SigParser.scala.html#31462" title="object scala.tools.reflect.SigParser">SigParser</a>.<a href="../../../reflect/SigParser.scala.html#236210" title="=&gt; Boolean">isParserAvailable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#231438" title="(sym: GenJVM.this.global.Symbol, sig: String)Boolean">isValidSignature</a><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>, <a href="#236293" title="String">sig</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97420" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#96452" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107404" title="=&gt; GenJVM.this.global.Position">pos</a>, 
                <span title="java.lang.String(&quot;|compiler bug: created invalid generic signature for %s in %s\012                   |signature: %s\012                   |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala\012                &quot;)" class="string">&quot;&quot;&quot;|compiler bug: created invalid generic signature for %s in %s
                   |signature: %s
                   |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala
                &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>, <a href="#233835" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107498" title="=&gt; GenJVM.this.global.Symbol">skipPackageObject</a>.<span title="=&gt; String">fullName</span>, <a href="#236293" title="String">sig</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36735" title="=&gt; scala.tools.nsc.Settings#PhasesSetting">check</a>.<a href="../../settings/MutableSettings.scala.html#48672" title="=&gt; List[java.lang.String]">value</a> <span title="(elem: Any)Boolean">contains</span> <span title="java.lang.String(&quot;genjvm&quot;)" class="string">&quot;genjvm&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.erasure.global.Type" id="236323">normalizedTpe</a> = <a href="../../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72342" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Global.scala.html#64929" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../transform/Erasure.scala.html#111749" title="(v1: GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">prepareSigMap</a><span class="delimiter">(</span><a href="#236274" title="GenJVM.this.global.Type">memberTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="236324">bytecodeTpe</a> = <a href="#233836" title="GenJVM.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107600" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../symtab/Types.scala.html#105501" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../../Global.scala.html#64929" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../transform/Erasure.scala.html#236646" title="(tp: GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="#236323" title="GenJVM.this.global.erasure.global.Type">normalizedTpe</a><span class="delimiter">)</span> <a href="../../symtab/Types.scala.html#105520" title="(that: GenJVM.this.global.erasure.global.Type)Boolean">=:=</a> <a href="#236324" title="GenJVM.this.global.Type">bytecodeTpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97420" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#96452" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107404" title="=&gt; GenJVM.this.global.Position">pos</a>, 
                  <span title="java.lang.String(&quot;|compiler bug: created generic signature for %s in %s that does not conform to its erasure\012                     |signature: %s\012                     |original type: %s\012                     |normalized type: %s\012                     |erasure type: %s\012                     |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala\012                  &quot;)" class="string">&quot;&quot;&quot;|compiler bug: created generic signature for %s in %s that does not conform to its erasure
                     |signature: %s
                     |original type: %s
                     |normalized type: %s
                     |erasure type: %s
                     |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala
                  &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>, <a href="#233835" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107498" title="=&gt; GenJVM.this.global.Symbol">skipPackageObject</a>.<span title="=&gt; String">fullName</span>, <a href="#236293" title="String">sig</a>, <a href="#236274" title="GenJVM.this.global.Type">memberTpe</a>, <a href="#236323" title="GenJVM.this.global.erasure.global.Type">normalizedTpe</a>, <a href="#236324" title="GenJVM.this.global.Type">bytecodeTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
               <span title="Nothing" class="keyword">return</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Short" id="236294">index</a> = <a href="#233834" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="#236293" title="String">sig</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64888" title="object GenJVM.this.global.opt">opt</a>.<a href="../../settings/AestheticSettings.scala.html#97490" title="=&gt; Boolean">verboseDebug</a><span class="delimiter">)</span> 
            <a href="../../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72342" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;add generic sig &quot;)" class="string">&quot;add generic sig &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#233835" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; ==&gt; &quot;)" class="string">&quot; ==&gt; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#236293" title="String">sig</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; @ &quot;)" class="string">&quot; @ &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#236294" title="Short">index</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="236295">buf</a> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#236295" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#236294" title="Short">index</a>
          <a href="#231443" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#233834" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115109" title="=&gt; GenJVM.this.global.tpnme.NameType">SignatureATTR</a>, <a href="#236295" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit" id="231441">addAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="233838">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="233839">annotations</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233839" title="List[GenJVM.this.global.AnnotationInfo]">annotations</a>.<span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#236696" title="GenJVM.this.global.AnnotationInfo">_</a>.<a href="../../symtab/AnnotationInfos.scala.html#133491" title="=&gt; GenJVM.this.global.Type">atp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106608" title="=&gt; GenJVM.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="236702">attr</a> = <a href="#233838" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.FJBGContext">getContext</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: java.lang.String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span>
          <a href="#233838" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JClass">getJClass</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#233838" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115089" title="=&gt; GenJVM.this.global.tpnme.NameType">DeprecatedATTR</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
          <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#233838" title="ch.epfl.lamp.fjbg.JMember">jmember</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#236702" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[GenJVM.this.global.AnnotationInfo]" id="236688">toEmit</a> = <a href="#233839" title="List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)List[GenJVM.this.global.AnnotationInfo]">filter</span> <a href="#231436" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#236688" title="List[GenJVM.this.global.AnnotationInfo]">toEmit</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="236689">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>
      <a href="#231437" title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int">emitJavaAnnotations</a><span class="delimiter">(</span><a href="#233838" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>, <a href="#236689" title="java.nio.ByteBuffer">buf</a>, <a href="#236688" title="List[GenJVM.this.global.AnnotationInfo]">toEmit</a><span class="delimiter">)</span>
      <a href="#231443" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#233838" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115101" title="=&gt; GenJVM.this.global.tpnme.NameType">RuntimeAnnotationATTR</a>, <a href="#236689" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit" id="231442">addParamAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="236711">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="List[List[GenJVM.this.global.AnnotationInfo]]" id="236712">pannotss</a>: <span title="List[List[GenJVM.this.global.AnnotationInfo]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[List[GenJVM.this.global.AnnotationInfo]]" id="236714">annotations</a> = <a href="#236712" title="List[List[GenJVM.this.global.AnnotationInfo]]">pannotss</a> <span title="(f: List[GenJVM.this.global.AnnotationInfo] =&gt; List[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[GenJVM.this.global.AnnotationInfo]],List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span> <span class="delimiter">(</span><a href="#236732" title="List[GenJVM.this.global.AnnotationInfo]">_</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)List[GenJVM.this.global.AnnotationInfo]">filter</span> <a href="#231436" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#236714" title="List[List[GenJVM.this.global.AnnotationInfo]]">annotations</a> <span title="(p: List[GenJVM.this.global.AnnotationInfo] =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#236770" title="List[GenJVM.this.global.AnnotationInfo]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="236715">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>

      <span class="comment">// number of parameters</span>
      <a href="#236715" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Byte)java.nio.ByteBuffer">put</span><span class="delimiter">(</span><a href="#236714" title="List[List[GenJVM.this.global.AnnotationInfo]]">annotations</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Byte">toByte</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[GenJVM.this.global.AnnotationInfo]" id="236794">annots</a> &lt;- <a href="#236714" title="(f: List[GenJVM.this.global.AnnotationInfo] =&gt; Int)Unit">annotations</a><span class="delimiter">)</span>
        <a href="#231437" title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int">emitJavaAnnotations</a><span class="delimiter">(</span><a href="#236711" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>, <a href="#236715" title="java.nio.ByteBuffer">buf</a>, <a href="#236794" title="List[GenJVM.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>

      <a href="#231443" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#236711" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115103" title="=&gt; GenJVM.this.global.tpnme.NameType">RuntimeParamAnnotationATTR</a>, <a href="#236715" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit" id="231443">addAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="234804">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="GenJVM.this.global.Name" id="234805">name</a>: <a href="../../symtab/Names.scala.html#66925" title="GenJVM.this.global.Name">Name</a>, <a title="java.nio.ByteBuffer" id="234806">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#234806" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="Int" id="236796">length</a> = <a href="#234806" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[Byte]" id="236797">arr</a> = <a href="#234806" title="java.nio.ByteBuffer">buf</a>.<span title="()Array[Byte]">array</span><span title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="(from: Int, until: Int)Array[Byte]">slice</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#236796" title="Int">length</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="236798">attr</a> = <a href="#234804" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.FJBGContext">getContext</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: java.lang.String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#234804" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JClass">getJClass</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                                      <a href="#234804" title="ch.epfl.lamp.fjbg.JMember">jmember</a>,
                                                      <a href="#234805" title="GenJVM.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
                                                      <a href="#236797" title="Array[Byte]">arr</a>,
                                                      <a href="#236796" title="Int">length</a><span class="delimiter">)</span>
      <a href="#234804" title="ch.epfl.lamp.fjbg.JMember">jmember</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#236798" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass)Unit" id="231444">addInnerClasses</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="232981">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">/** The outer name for this inner class. Note that it returns null
       *  when the inner class should not get an index in the constant pool.
       *  That means non-member classes (anonymous). See Section 4.7.5 in the JVMS.
       */</span>
      <span class="keyword">def</span> <a title="(innerSym: GenJVM.this.global.Symbol)String" id="236910">outerName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="236913">innerSym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#236913" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../symtab/Symbols.scala.html#107616" title="=&gt; GenJVM.this.global.Symbol">originalEnclosingMethod</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="236919">outerName</a> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#236913" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../symtab/Symbols.scala.html#107387" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#112612" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#236913" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../symtab/Symbols.scala.html#107387" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#236919" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">outerName</a> <span title="(suffix: String)java.lang.String">stripSuffix</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
          <span class="keyword">else</span> <a href="#236919" title="String">outerName</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(innerSym: GenJVM.this.global.Symbol)String" id="236911">innerName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="236923">innerSym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = 
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#236923" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../symtab/Symbols.scala.html#107487" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#236923" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../symtab/Symbols.scala.html#107488" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span>
          <a href="#236923" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../symtab/Symbols.scala.html#107390" title="=&gt; GenJVM.this.global.Name">rawname</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>

      <span class="comment">// add inner classes which might not have been referenced yet</span>
      <a href="../../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72342" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="236972">sym</a> &lt;- <span title="(xs: GenJVM.this.global.icodes.global.Symbol*)List[GenJVM.this.global.icodes.global.Symbol]">List</span><span title="(f: GenJVM.this.global.icodes.global.Symbol =&gt; Unit)Unit" class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107624" title="=&gt; GenJVM.this.global.icodes.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span> ; <a title="GenJVM.this.global.icodes.global.Symbol" id="236993">m</a> &lt;- <a href="#236972" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105487" title="(f: GenJVM.this.global.icodes.global.Symbol =&gt; scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol])Unit">decls</a> ; <span class="keyword">if</span> <a href="#236993" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<span title="=&gt; Boolean">isClass</span><span class="delimiter">)</span>
          <a href="#231430" title="=&gt; scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol]">innerClassBuffer</a> <span title="(x: GenJVM.this.global.Symbol)BytecodeGenerator.this.innerClassBuffer.type">+=</span> <a href="#236993" title="GenJVM.this.global.icodes.global.Symbol">m</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[GenJVM.this.global.Symbol]" id="236912">allInners</a> = <a href="#231430" title="=&gt; scala.collection.mutable.ListBuffer[GenJVM.this.global.Symbol]">innerClassBuffer</a>.<span title="=&gt; List[GenJVM.this.global.Symbol]">toList</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#236912" title="List[GenJVM.this.global.Symbol]">allInners</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JInnerClassesAttribute" id="237000">innerClassesAttr</a> = <a href="#232981" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JInnerClassesAttribute">getInnerClasses</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="comment">// sort them so inner classes succeed their enclosing class</span>
        <span class="comment">// to satisfy the Eclipse Java compiler</span>
        <span class="comment">//for (innerSym &lt;- innerClasses.toList sortBy (_.name.length)) {</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="237111">innerSym</a> &lt;- <a href="#236912" title="List[GenJVM.this.global.Symbol]">allInners</a>.<span title="=&gt; List[GenJVM.this.global.Symbol]">distinct</span> <span title="(f: GenJVM.this.global.Symbol =&gt; Unit)Unit">sortBy</span> <span class="delimiter">(</span><a href="#237034" title="GenJVM.this.global.Symbol">_</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96593" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="237112">flags</a> = <a href="#112611" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#237111" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#237111" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../symtab/Symbols.scala.html#107387" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>.<span title="=&gt; Boolean">hasModuleFlag</span><span class="delimiter">)</span>
            <a href="#237112" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(8)">ACC_STATIC</span>

          <a href="#237000" title="ch.epfl.lamp.fjbg.JInnerClassesAttribute">innerClassesAttr</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: java.lang.String, x$4: Int)Unit">addEntry</span><span class="delimiter">(</span>
            <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#237111" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>,
            <a href="#236910" title="(innerSym: GenJVM.this.global.Symbol)String">outerName</a><span class="delimiter">(</span><a href="#237111" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>,
            <a href="#236911" title="(innerSym: GenJVM.this.global.Symbol)String">innerName</a><span class="delimiter">(</span><a href="#237111" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>,
            <a href="#237112" title="Int">flags</a> <span title="(x: Int)Int">&amp;</span> <a href="#231360" title="=&gt; Int">INNER_CLASSES_FLAGS</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(f: GenJVM.this.global.icodes.IField)Unit" id="231445">genField</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IField" id="233800">f</a>: <a href="../icode/Members.scala.html#96983" title="GenJVM.this.global.icodes.IField">IField</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Adding field: &quot;)" class="string">&quot;Adding field: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Int" id="237122">attributes</a> = <a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a>.<span title="(f: GenJVM.this.global.icodes.global.AnnotationInfo =&gt; GenJVM.this.global.icodes.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.AnnotationInfo],GenJVM.this.global.icodes.global.Symbol,List[GenJVM.this.global.icodes.global.Symbol]])List[GenJVM.this.global.icodes.global.Symbol]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,GenJVM.this.global.icodes.global.Symbol,List[GenJVM.this.global.icodes.global.Symbol]]" class="delimiter">(</span><a href="#237149" title="GenJVM.this.global.icodes.global.AnnotationInfo">_</a>.<a href="../../symtab/AnnotationInfos.scala.html#133491" title="=&gt; GenJVM.this.global.icodes.global.Type">atp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a><span class="delimiter">)</span>.<span title="(z: Int)(f: (Int, GenJVM.this.global.icodes.global.Symbol) =&gt; Int)Int">foldLeft</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#237196" title="Int" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Int" class="delimiter">(</span><a title="Int" id="237206">res</a>, <a href="../../symtab/Definitions.scala.html#106628" title="=&gt; GenJVM.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span> =&gt; <a href="#237206" title="Int">res</a> <span title="(x: Int)Int">|</span> <span title="Int(128)">ACC_TRANSIENT</span>
        <span class="keyword">case</span> <span title="Int" class="delimiter">(</span><a title="Int" id="237213">res</a>, <a href="../../symtab/Definitions.scala.html#106630" title="=&gt; GenJVM.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span>  =&gt; <a href="#237213" title="Int">res</a> <span title="(x: Int)Int">|</span> <span title="Int(64)">ACC_VOLATILE</span>
        <span class="keyword">case</span> <span title="Int" class="delimiter">(</span><a title="Int" id="237220">res</a>, _<span class="delimiter">)</span>             =&gt; <a href="#237220" title="Int">res</a>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Int" id="237123">flags</a> = <a href="#112611" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; Boolean">isMutable</span><span class="delimiter">)</span>
        <a href="#237123" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(16)">ACC_FINAL</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JField" id="237124">jfield</a> =
        <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span class="delimiter">(</span><a href="#237123" title="Int">flags</a> <span title="(x: Int)Int">|</span> <a href="#237122" title="Int">attributes</a>,
                           <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                           <a href="GenJVMUtil.scala.html#231349" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#231440" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#237124" title="ch.epfl.lamp.fjbg.JField">jfield</a>, <a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#231441" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#237124" title="ch.epfl.lamp.fjbg.JField">jfield</a>, <a href="#233800" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#210687" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="231446">genMethod</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="233829">m</a>: <a href="../icode/Members.scala.html#96984" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107526" title="=&gt; Boolean">isStaticConstructor</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.icodes.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115665" title="=&gt; GenJVM.this.global.TermName">getClass_</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197812" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Generating method &quot;)" class="string">&quot;Generating method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
      <a href="#231402" title="(x$1: GenJVM.this.global.icodes.IMethod)Unit">method</a> = <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>
      <a href="#231465" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]">endPC</a>.<span title="()Unit">clear</span>
      <a href="#231471" title="(m: GenJVM.this.global.icodes.IMethod)Unit">computeLocalVarsIndex</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JType" id="237236">resTpe</a> = <a href="GenJVMUtil.scala.html#231349" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a>.<a href="../../symtab/Types.scala.html#105468" title="=&gt; GenJVM.this.global.icodes.global.Type">resultType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107473" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
        <a href="#237236" title="ch.epfl.lamp.fjbg.JType">resTpe</a> = <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>

      <span class="keyword">var</span> <a title="Int" id="237237">flags</a> = <a href="#112611" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()Boolean">isInterface</span><span class="delimiter">)</span>
        <a href="#237237" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(1024)">ACC_ABSTRACT</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107502" title="=&gt; Boolean">isStrictFP</a><span class="delimiter">)</span>
        <a href="#237237" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(2048)">ACC_STRICT</span>

      <span class="comment">// native methods of objects are generated in mirror classes</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197794" title="=&gt; Boolean">native</a><span class="delimiter">)</span>
        <a href="#237237" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(256)">ACC_NATIVE</span>

      <a href="#231408" title="(x$1: ch.epfl.lamp.fjbg.JMethod)Unit">jmethod</a> = <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><a href="#237237" title="Int">flags</a>,
                                    <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                                    <a href="#237236" title="ch.epfl.lamp.fjbg.JType">resTpe</a>,
                                    <a href="GenJVMUtil.scala.html#231345" title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">mkArray</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197812" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(f: GenJVM.this.global.icodes.Local =&gt; ch.epfl.lamp.fjbg.JType)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],ch.epfl.lamp.fjbg.JType,Traversable[ch.epfl.lamp.fjbg.JType]])Traversable[ch.epfl.lamp.fjbg.JType]">map</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="237305">p</a> =&gt; <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#237305" title="GenJVM.this.global.icodes.Local">p</a>.<a href="../icode/Members.scala.html#197981" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                                    <a href="GenJVMUtil.scala.html#231346" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197812" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(f: GenJVM.this.global.icodes.Local =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],String,Traversable[String]])Traversable[String]">map</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="237362">p</a> =&gt; <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#237362" title="GenJVM.this.global.icodes.Local">p</a>.<a href="../icode/Members.scala.html#197979" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#231447" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit">addRemoteException</a><span class="delimiter">(</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isAbstract</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197794" title="=&gt; Boolean">native</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="237393">jcode</a> = <a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

        <span class="comment">// add a fake local for debugging purposes</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231416" title="=&gt; Boolean">emitVars</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#231449" title="(sym: GenJVM.this.global.Symbol)Boolean">isClosureApply</a><span class="delimiter">(</span><a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="237397">outerField</a> = <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105488" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115428" title="=&gt; GenJVM.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#237397" title="GenJVM.this.global.icodes.global.Symbol">outerField</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Adding fake local to represent outer \'this\' for closure &quot;)" class="string">&quot;Adding fake local to represent outer 'this' for closure &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.Local" id="237408">_this</a> = <span title="GenJVM.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#96985" title="GenJVM.this.global.icodes.Local">Local</a><span class="delimiter">(</span>
              <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107422" title="(pos: GenJVM.this.global.icodes.global.Position, name: GenJVM.this.global.icodes.global.TermName)GenJVM.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="../../symtab/Positions.scala.html#67902" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115418" title="=&gt; GenJVM.this.global.nme.NameType">FAKE_LOCAL_THIS</a><span class="delimiter">)</span>, <a href="../icode/TypeKinds.scala.html#97048" title="(t: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#237397" title="GenJVM.this.global.icodes.global.Symbol">outerField</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197810" title="(x$1: List[GenJVM.this.global.icodes.Local])Unit">locals</a> = <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197809" title="=&gt; List[GenJVM.this.global.icodes.Local]">locals</a> <a href="#237417" title="(prefix: List[GenJVM.this.global.icodes.Local])List[GenJVM.this.global.icodes.Local]">:::</a> <span title="(xs: GenJVM.this.global.icodes.Local*)List[GenJVM.this.global.icodes.Local]">List</span><span class="delimiter">(</span><a href="#237408" title="GenJVM.this.global.icodes.Local">_this</a><span class="delimiter">)</span>
            <a href="#231471" title="(m: GenJVM.this.global.icodes.IMethod)Unit">computeLocalVarsIndex</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span> <span class="comment">// since we added a new local, we need to recompute indexes</span>

            <a href="#237393" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#237393" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETFIELD</span><span class="delimiter">(</span><a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                               <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#237397" title="GenJVM.this.global.icodes.global.Symbol">outerField</a><span class="delimiter">)</span>,
                               <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#237397" title="GenJVM.this.global.icodes.global.Symbol">outerField</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#237393" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitSTORE</span><span class="delimiter">(</span><a href="#231470" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#237408" title="GenJVM.this.global.icodes.Local">_this</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#237408" title="GenJVM.this.global.icodes.Local">_this</a>.<a href="../icode/Members.scala.html#197981" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="237494">local</a> &lt;- <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197809" title="(f: GenJVM.this.global.icodes.Local =&gt; ch.epfl.lamp.fjbg.JLocalVariable)Unit">locals</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span> <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197812" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#237494" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;add local var: &quot;)" class="string">&quot;add local var: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#237494" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>
          <a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: java.lang.String)ch.epfl.lamp.fjbg.JLocalVariable">addNewLocalVariable</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#237494" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#197981" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>, <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#237494" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#197979" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#231463" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genCode</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231416" title="=&gt; Boolean">emitVars</a><span class="delimiter">)</span>
          <a href="#231464" title="(m: GenJVM.this.global.icodes.IMethod, jcode: ch.epfl.lamp.fjbg.JCode)Unit">genLocalVariableTable</a><span class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>, <a href="#237393" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#231440" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#237239" title="(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])" class="delimiter">(</a><a href="#237238" title="List[GenJVM.this.global.AnnotationInfo]" id="237239">excs</a>, <a href="#237238" title="List[GenJVM.this.global.AnnotationInfo]" id="237240">others</a><span class="delimiter">)</span> = <a href="#231448" title="(annotations: List[GenJVM.this.global.AnnotationInfo], annotSym: GenJVM.this.global.Symbol)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])">splitAnnotations</a><span title="(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo]) @unchecked" class="delimiter">(</span><a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a>, <a href="../../symtab/Definitions.scala.html#106262" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span>
      <a href="#231435" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit">addExceptionsAttribute</a><span class="delimiter">(</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#237239" title="List[GenJVM.this.global.AnnotationInfo]">excs</a><span class="delimiter">)</span>
      <a href="#231441" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#237240" title="List[GenJVM.this.global.AnnotationInfo]">others</a><span class="delimiter">)</span>
      <a href="#231442" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit">addParamAnnotations</a><span class="delimiter">(</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#233829" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197812" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a>.<span title="(f: GenJVM.this.global.icodes.Local =&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],List[GenJVM.this.global.icodes.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[GenJVM.this.global.icodes.global.AnnotationInfo],List[List[GenJVM.this.global.icodes.global.AnnotationInfo]]]" class="delimiter">(</span><a href="#237554" title="GenJVM.this.global.icodes.Local">_</a>.<a href="../icode/Members.scala.html#197979" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit" id="231447">addRemoteException</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="237390">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="GenJVM.this.global.Symbol" id="237391">meth</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(ainfo: GenJVM.this.global.AnnotationInfo)Boolean" id="237582">isRemoteThrows</a><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="237583">ainfo</a>: <a href="../../symtab/AnnotationInfos.scala.html#67754" title="GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <a href="#237583" title="GenJVM.this.global.AnnotationInfo">ainfo</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">AnnotationInfo</span><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="237587">tp</a>, <a href="#237589" title="(x: List[GenJVM.this.global.Tree])Some[List[GenJVM.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="GenJVM.this.global.Tree" id="237600">arg</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#237587" title="GenJVM.this.global.Type">tp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106262" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a> =&gt;
          <a href="#237600" title="GenJVM.this.global.Tree">arg</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean(true)">Literal</span><span class="delimiter">(</span>Constant<span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="237609">tpe</a>: <a href="../../symtab/Types.scala.html#67392" title="GenJVM.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#237609" title="GenJVM.this.global.Type">tpe</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#231394" title="=&gt; GenJVM.this.global.Type">RemoteException</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231425" title="=&gt; Boolean">isRemoteClass</a> <span title="(x: Boolean)Boolean">||</span>
          <span class="delimiter">(</span><a href="#237391" title="GenJVM.this.global.Symbol">meth</a>.<a href="../../symtab/Symbols.scala.html#107414" title="(cls: GenJVM.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106616" title="=&gt; GenJVM.this.global.Symbol">RemoteAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#237390" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isPublic</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Constant" id="237616">c</a> = <a href="BytecodeWriters.scala.html#112670" title="(value: Any)GenJVM.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#231394" title="=&gt; GenJVM.this.global.Type">RemoteException</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.AnnotationInfo" id="237617">ainfo</a> = <a href="../../symtab/AnnotationInfos.scala.html#134310" title="(atp: GenJVM.this.global.Type, args: List[GenJVM.this.global.Tree], assocs: List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106262" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a>, <span title="(xs: GenJVM.this.global.Literal*)List[GenJVM.this.global.Literal]">List</span><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="(value: GenJVM.this.global.Constant)GenJVM.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#237616" title="GenJVM.this.global.Constant">c</a><span class="delimiter">)</span>.<span title="(tp: GenJVM.this.global.Type)GenJVM.this.global.Literal">setType</span><span class="delimiter">(</span><a href="#237616" title="GenJVM.this.global.Constant">c</a>.<span title="=&gt; GenJVM.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#237391" title="GenJVM.this.global.Symbol">meth</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a>.<span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#237582" title="(ainfo: GenJVM.this.global.AnnotationInfo)Boolean">isRemoteThrows</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#237391" title="GenJVM.this.global.Symbol">meth</a> <a href="../../symtab/Symbols.scala.html#107413" title="(annot: GenJVM.this.global.AnnotationInfo)Unit">addAnnotation</a> <a href="#237617" title="GenJVM.this.global.AnnotationInfo">ainfo</a>
        <span class="delimiter">}</span>      
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    <span class="comment">/** Return a pair of lists of annotations, first one containing all 
     *  annotations for the given symbol, and the rest.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(annotations: List[GenJVM.this.global.AnnotationInfo], annotSym: GenJVM.this.global.Symbol)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])" id="231448">splitAnnotations</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.AnnotationInfo]" id="237511">annotations</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, <a title="GenJVM.this.global.Symbol" id="237512">annotSym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])" class="delimiter">(</span>List<span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, List<span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#237511" title="List[GenJVM.this.global.AnnotationInfo]">annotations</a>.<span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])">partition</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.AnnotationInfo" id="237668">a</a> =&gt; <a href="#237668" title="GenJVM.this.global.AnnotationInfo">a</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)">AnnotationInfo</span><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="237672">tp</a>, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#237672" title="GenJVM.this.global.Type">tp</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#237512" title="GenJVM.this.global.Symbol">annotSym</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span><span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="231449">isClosureApply</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="237394">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#237394" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115450" title="=&gt; GenJVM.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#237394" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<span title="=&gt; Boolean">isSynthetic</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#237394" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a>.<a href="../../symtab/Types.scala.html#105463" title="=&gt; List[GenJVM.this.global.Type]">parents</a>.<span title="(p: GenJVM.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.Type" id="237696">t</a> =&gt; 
        <span class="keyword">val</span> TypeRef<a href="#237701" title="GenJVM.this.global.Symbol" id="237697" class="delimiter">(</a>_, <a title="GenJVM.this.global.Symbol" id="237701">sym</a>, _<span class="delimiter">)</span> = <a href="#237696" title="GenJVM.this.global.Type">t</a>
        <a href="../../symtab/Definitions.scala.html#106469" title="(xs: Array[GenJVM.this.global.Symbol])scala.collection.mutable.ArrayOps[GenJVM.this.global.Symbol]">FunctionClass</a> <span title="(elem: Any)Boolean">contains</span> <a href="#237697" title="GenJVM.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()Unit" id="231450">addModuleInstanceField</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span title="Unit" class="delimiter">(</span><a href="#231364" title="=&gt; Int">PublicStaticFinal</a>,
                        <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115424" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
                        <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit" id="231451">addStaticInit</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="233696">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="Option[GenJVM.this.global.icodes.IMethod]" id="233697">mopt</a>: <span title="Option[GenJVM.this.global.icodes.IMethod]">Option</span><span class="delimiter">[</span>IMethod<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="237726">clinitMethod</a> = <a href="#233696" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><a href="#231362" title="=&gt; Int">PublicStatic</a>,
                                          <span title="java.lang.String(&quot;&lt;clinit&gt;&quot;)" class="string">&quot;&lt;clinit&gt;&quot;</span>,
                                          <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>,
                                          <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span>,
                                          <span title="Array[String]" class="keyword">new</span> <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="237727">clinit</a> = <a href="#237726" title="ch.epfl.lamp.fjbg.JMethod">clinitMethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

      <a href="#233697" title="Option[GenJVM.this.global.icodes.IMethod]">mopt</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
       	<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="237731">m</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97423" title="=&gt; Option[String]">bootstrapClass</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#231453" title="(jcode: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyEmitBootstrapMethodInstall</a><span class="delimiter">(</span><a href="#237727" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="237732">oldLastBlock</a> = <a href="#237731" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197791" title="=&gt; GenJVM.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197864" title="=&gt; scala.collection.mutable.ListBuffer[GenJVM.this.global.icodes.BasicBlock]">blocks</a>.<span title="=&gt; GenJVM.this.global.icodes.BasicBlock">last</span>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="237733">lastBlock</a> = <a href="#237731" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197791" title="=&gt; GenJVM.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#197883" title="=&gt; GenJVM.this.global.icodes.BasicBlock">newBlock</a>
          <a href="#237732" title="GenJVM.this.global.icodes.BasicBlock">oldLastBlock</a>.<a href="../icode/BasicBlocks.scala.html#197720" title="(pos: Int, instr: GenJVM.this.global.icodes.Instruction)Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#237732" title="GenJVM.this.global.icodes.BasicBlock">oldLastBlock</a>.<a href="../icode/BasicBlocks.scala.html#197718" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="../icode/Opcodes.scala.html#202681" title="(whereto: GenJVM.this.global.icodes.BasicBlock)GenJVM.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#112613" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// call object's private ctor from static ctor</span>
            <a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#197727" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#208190" title="(kind: GenJVM.this.global.icodes.REFERENCE)GenJVM.this.global.icodes.opcodes.NEW">NEW</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#196396" title="(cls: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="#237731" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; GenJVM.this.global.icodes.global.Symbol">enclClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#197727" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#208506" title="(method: GenJVM.this.global.icodes.global.Symbol, style: GenJVM.this.global.icodes.opcodes.InvokeStyle)GenJVM.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">(</span><a href="#237731" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<span title="=&gt; GenJVM.this.global.icodes.global.Symbol">enclClass</span>.<a href="../../symtab/Symbols.scala.html#107597" title="=&gt; GenJVM.this.global.icodes.global.Symbol">primaryConstructor</a>, <a href="../icode/Opcodes.scala.html#208828" title="(onInstance: Boolean)GenJVM.this.global.icodes.opcodes.Static">Static</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="comment">// add serialVUID code</span>
          <a href="#231422" title="=&gt; Option[Long]">serialVUID</a> <span title="(f: Long =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Long" id="237789">value</a> =&gt;
            <span class="keyword">import</span> <a href="../../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>._, <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>._
            <span class="keyword">val</span> <a title="java.lang.String" id="237792">fieldName</a> = <span title="java.lang.String(&quot;serialVersionUID&quot;)" class="string">&quot;serialVersionUID&quot;</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.TermSymbol" id="237793">fieldSymbol</a> = <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107420" title="(pos: GenJVM.this.global.icodes.global.Position, name: GenJVM.this.global.icodes.global.TermName)GenJVM.this.global.icodes.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../symtab/Positions.scala.html#67902" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="../../symtab/Names.scala.html#66914" title="(s: String)GenJVM.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#237792" title="java.lang.String">fieldName</a><span class="delimiter">)</span><span class="delimiter">)</span>
                                .<a href="../../symtab/Symbols.scala.html#107553" title="(mask: Long)GenJVM.this.global.icodes.global.TermSymbol">setFlag</a><span class="delimiter">(</span>STATIC <span title="Long(8388640L)">|</span> FINAL<span class="delimiter">)</span>
                                .<a href="../../symtab/Symbols.scala.html#107566" title="(info: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106455" title="=&gt; GenJVM.this.global.Type">longType</a><span class="delimiter">)</span>
            <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a> <a href="../icode/Members.scala.html#97426" title="(f: GenJVM.this.global.icodes.IField)GenJVM.this.global.icodes.IClass">addField</a> <span title="GenJVM.this.global.icodes.IField" class="keyword">new</span> <a href="../icode/Members.scala.html#96983" title="GenJVM.this.global.icodes.IField">IField</a><span class="delimiter">(</span><a href="#237793" title="GenJVM.this.global.icodes.global.TermSymbol">fieldSymbol</a><span class="delimiter">)</span>
            <a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#197727" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#207044" title="(constant: GenJVM.this.global.icodes.global.Constant)GenJVM.this.global.icodes.opcodes.CONSTANT">CONSTANT</a><span class="delimiter">(</span><a href="BytecodeWriters.scala.html#112670" title="(value: Any)GenJVM.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#237789" title="Long">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#197727" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#205688" title="(field: GenJVM.this.global.icodes.global.Symbol, isStatic: Boolean)GenJVM.this.global.icodes.opcodes.STORE_FIELD">STORE_FIELD</a><span class="delimiter">(</span><a href="#237793" title="GenJVM.this.global.icodes.global.TermSymbol">fieldSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231428" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span>
            <a href="GenAndroid.scala.html#112667" title="(codegen: GenJVM.this.BytecodeGenerator, block: GenJVM.this.global.icodes.BasicBlock)Unit">addCreatorCode</a><span class="delimiter">(</span><a href="#112610" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a>.<span class="keyword">this</span>, <a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97423" title="=&gt; Option[String]">bootstrapClass</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
            <span class="comment">// emit bootstrap method install</span>
            <span class="comment">//emitBootstrapMethodInstall(block)</span>
          <span class="delimiter">}</span>

          <a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#197727" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#202718" title="(kind: GenJVM.this.global.icodes.TypeKind)GenJVM.this.global.icodes.opcodes.RETURN">RETURN</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97018" title="object GenJVM.this.global.icodes.UNIT">UNIT</a><span class="delimiter">)</span>
          <a href="#237733" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a>.<a href="../icode/BasicBlocks.scala.html#197733" title="()Unit">close</a>

       	  <a href="#231402" title="(x$1: GenJVM.this.global.icodes.IMethod)Unit">method</a> = <a href="#237731" title="GenJVM.this.global.icodes.IMethod">m</a>
       	  <a href="#231408" title="(x$1: ch.epfl.lamp.fjbg.JMethod)Unit">jmethod</a> = <a href="#237726" title="ch.epfl.lamp.fjbg.JMethod">clinitMethod</a>
       	  <a href="#231463" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genCode</a><span class="delimiter">(</span><a href="#237731" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
       	<span class="keyword">case</span> <span title="Unit">None</span> =&gt;
          <a href="#231452" title="(cls: ch.epfl.lamp.fjbg.JClass, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyStaticInitializer</a><span class="delimiter">(</span><a href="#233696" title="ch.epfl.lamp.fjbg.JClass">cls</a>, <a href="#237727" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: ch.epfl.lamp.fjbg.JClass, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit" id="231452">legacyStaticInitializer</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="237859">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="237860">clinit</a>: <span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#112613" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a> <span title="(x$1: java.lang.String)Unit">emitNEW</span> <a href="#237859" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#237859" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                 JMethod.<span title="java.lang.String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span>,
                                 <span title="object ch.epfl.lamp.fjbg.JMethodType">JMethodType</span>.<span title="ch.epfl.lamp.fjbg.JMethodType">ARGLESS_VOID_FUNCTION</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#231422" title="=&gt; Option[Long]">serialVUID</a> <span title="(f: Long =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Long" id="237866">value</a> =&gt;
        <span class="keyword">val</span> <a title="java.lang.String" id="237867">fieldName</a> = <span title="java.lang.String(&quot;serialVersionUID&quot;)" class="string">&quot;serialVersionUID&quot;</span>
        <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span class="delimiter">(</span><a href="#231364" title="=&gt; Int">PublicStaticFinal</a>, <a href="#237867" title="java.lang.String">fieldName</a>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">LONG</span><span class="delimiter">)</span>
        <a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a> <span title="(x$1: Long)Unit">emitPUSH</span> <a href="#237866" title="Long">value</a>
        <a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: Long)Unit">emitPUSH</span><span class="delimiter">(</span><a href="#237866" title="Long">value</a><span class="delimiter">)</span>
        <a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#237867" title="java.lang.String">fieldName</a>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">LONG</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231428" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span>
        <a href="GenAndroid.scala.html#112668" title="(codegen: GenJVM.this.BytecodeGenerator, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyAddCreatorCode</a><span class="delimiter">(</span><a href="#112610" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a>.<span class="keyword">this</span>, <a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97423" title="=&gt; Option[String]">bootstrapClass</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
        <a href="#231453" title="(jcode: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyEmitBootstrapMethodInstall</a><span class="delimiter">(</span><a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>

      <a href="#237860" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="()Unit">emitRETURN</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Emit code that installs a boostrap method for invoke dynamic. It
     *  installs the default method, found in scala.runtime.DynamicDispatch.
     */</span>
    <span class="keyword">def</span> <a title="(jcode: ch.epfl.lamp.fjbg.JExtendedCode)Unit" id="231453">legacyEmitBootstrapMethodInstall</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JExtendedCode" id="237734">jcode</a>: <span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitPUSH</span> <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitPUSH</span> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala.runtime.DynamicDispatch&quot;)" class="string">&quot;scala.runtime.DynamicDispatch&quot;</span><span class="delimiter">)</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: java.lang.String)Unit">emitPUSH</span> <span title="java.lang.String(&quot;bootstrapInvokeDynamic&quot;)" class="string">&quot;bootstrapInvokeDynamic&quot;</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.dyn.Linkage&quot;)" class="string">&quot;java.dyn.Linkage&quot;</span>, <span title="java.lang.String(&quot;BOOTSTRAP_METHOD_TYPE&quot;)" class="string">&quot;BOOTSTRAP_METHOD_TYPE&quot;</span>, <a href="#231376" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">MethodTypeType</a><span class="delimiter">)</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Console&quot;)" class="string">&quot;scala.Console&quot;</span>, <span title="java.lang.String(&quot;println&quot;)" class="string">&quot;println&quot;</span>, <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.dyn.MethodHandles&quot;)" class="string">&quot;java.dyn.MethodHandles&quot;</span>, <span title="java.lang.String(&quot;findStatic&quot;)" class="string">&quot;findStatic&quot;</span>, 
                              <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="#231380" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">MethodHandleType</a>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="#231378" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">JavaLangClassType</a>, <span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_STRING</span>, <a href="#231376" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">MethodTypeType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#237734" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.dyn.Linkage&quot;)" class="string">&quot;java.dyn.Linkage&quot;</span>, <span title="java.lang.String(&quot;registerBootstrapMethod&quot;)" class="string">&quot;registerBootstrapMethod&quot;</span>,
                              <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="#231378" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">JavaLangClassType</a>, <a href="#231380" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">MethodHandleType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Add a forwarder for method m */</span>
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, module: GenJVM.this.global.Symbol, m: GenJVM.this.global.Symbol, accessFlags: Int)Unit" id="231454">addForwarder</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="237966">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="237967">module</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="237968">m</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="Int" id="237969">accessFlags</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="237971">moduleName</a>     = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#237967" title="GenJVM.this.global.Symbol">module</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="237972">methodInfo</a>     = <a href="#237967" title="GenJVM.this.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#107600" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../symtab/Types.scala.html#105501" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#237968" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[ch.epfl.lamp.fjbg.JType]" id="237973">paramJavaTypes</a> = <a href="#237972" title="GenJVM.this.global.Type">methodInfo</a>.<a href="../../symtab/Types.scala.html#105476" title="=&gt; List[GenJVM.this.global.Type]">paramTypes</a> <span title="(f: GenJVM.this.global.Type =&gt; ch.epfl.lamp.fjbg.JType)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Type],ch.epfl.lamp.fjbg.JType,List[ch.epfl.lamp.fjbg.JType]])List[ch.epfl.lamp.fjbg.JType]">map</span> <a href="GenJVMUtil.scala.html#231349" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a>
      <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[java.lang.String]" id="237974">paramNames</a>     = <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(end: Int)scala.collection.immutable.Range">until</span> <a href="#237973" title="List[ch.epfl.lamp.fjbg.JType]">paramJavaTypes</a>.<span title="=&gt; Int">length</span> <span title="(f: Int =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],java.lang.String,scala.collection.immutable.IndexedSeq[java.lang.String]])scala.collection.immutable.IndexedSeq[java.lang.String]">map</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;x_&quot;)" class="string">&quot;x_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238138" title="Int">_</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="237975">mirrorMethod</a> = <a href="#237966" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span>
        <a href="#237969" title="Int">accessFlags</a>,
        <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#237968" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#231349" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#237972" title="GenJVM.this.global.Type">methodInfo</a>.<a href="../../symtab/Types.scala.html#105468" title="=&gt; GenJVM.this.global.Type">resultType</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#231345" title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">mkArray</a><span class="delimiter">(</span><a href="#237973" title="List[ch.epfl.lamp.fjbg.JType]">paramJavaTypes</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#231346" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#237974" title="scala.collection.immutable.IndexedSeq[java.lang.String]">paramNames</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="237976">mirrorCode</a> = <a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>
      <a href="#237976" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#237971" title="String">moduleName</a>,
                               <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115424" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
                               <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#237971" title="String">moduleName</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Int" id="237977">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="237978">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Array[ch.epfl.lamp.fjbg.JType]" id="237979">argTypes</a> = <a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()Array[ch.epfl.lamp.fjbg.JType]">getArgumentTypes</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#237977" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#237979" title="Array[ch.epfl.lamp.fjbg.JType]">argTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#237983" title="()Unit" class="delimiter">{</a>
        <a href="#237976" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitLOAD</span><span class="delimiter">(</span><a href="#237978" title="Int">index</a>, <a href="#237979" title="(i: Int)ch.epfl.lamp.fjbg.JType">argTypes</a><span class="delimiter">(</span><a href="#237977" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#237978" title="Int">index</a> <span title="(x: Int)Int">+=</span> <a href="#237979" title="(i: Int)ch.epfl.lamp.fjbg.JType">argTypes</a><span class="delimiter">(</span><a href="#237977" title="Int">i</a><span class="delimiter">)</span>.<span title="()Int">getSize</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#237977" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#237976" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#237971" title="String">moduleName</a>, <a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()java.lang.String">getName</span>, <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#237968" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <a href="#237976" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitRETURN</span> <a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()ch.epfl.lamp.fjbg.JType">getReturnType</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#231447" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit">addRemoteException</a><span class="delimiter">(</span><a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#237968" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
      <span class="comment">// only add generic signature if the method is concrete; bug #1745</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#237968" title="GenJVM.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isDeferred</span><span class="delimiter">)</span>
        <a href="#231440" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#237968" title="GenJVM.this.global.Symbol">m</a>, <a href="#237967" title="GenJVM.this.global.Symbol">module</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#237981" title="(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])" class="delimiter">(</a><a href="#237980" title="List[GenJVM.this.global.AnnotationInfo]" id="237981">throws</a>, <a href="#237980" title="List[GenJVM.this.global.AnnotationInfo]" id="237982">others</a><span class="delimiter">)</span> = <a href="#231448" title="(annotations: List[GenJVM.this.global.AnnotationInfo], annotSym: GenJVM.this.global.Symbol)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])">splitAnnotations</a><span title="(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo]) @unchecked" class="delimiter">(</span><a href="#237968" title="GenJVM.this.global.Symbol">m</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a>, <a href="../../symtab/Definitions.scala.html#106262" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span>
      <a href="#231435" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit">addExceptionsAttribute</a><span class="delimiter">(</span><a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#237981" title="List[GenJVM.this.global.AnnotationInfo]">throws</a><span class="delimiter">)</span>
      <a href="#231441" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#237982" title="List[GenJVM.this.global.AnnotationInfo]">others</a><span class="delimiter">)</span>
      <a href="#231442" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit">addParamAnnotations</a><span class="delimiter">(</span><a href="#237975" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#237968" title="GenJVM.this.global.Symbol">m</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105475" title="=&gt; List[GenJVM.this.global.Symbol]">params</a>.<span title="(f: GenJVM.this.global.Symbol =&gt; List[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]]" class="delimiter">(</span><a href="#238237" title="GenJVM.this.global.Symbol">_</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> 

    <span class="comment">/** Add forwarders for all methods defined in `module' that don't conflict
     *  with methods in the companion class of `module'. A conflict arises when
     *  a method with the same name is defined both in a class and its companion
     *  object: method signature is not taken into account.
     */</span>
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit" id="231455">addForwarders</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="233773">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="233774">moduleClass</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#231475" title="(cond: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a>.<span title="=&gt; Boolean">isModuleClass</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Dumping mirror class for object: &quot;)" class="string">&quot;Dumping mirror class for object: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="java.lang.String" id="238265">className</a>    = <a href="#233773" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()java.lang.String">getName</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="238266">linkedClass</a>  = <a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../symtab/Symbols.scala.html#107620" title="=&gt; GenJVM.this.global.Symbol">companionClass</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="238267">linkedModule</a> = <a href="#238266" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../symtab/Symbols.scala.html#107623" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a>

      <span class="comment">/** If we use the usual algorithm for forwarders, we run into a problem if
       *  an object extends its companion class.  However, there is an out: since
       *  all the forwarders are static, inheriting from the class is no problem
       *  so long as the methods aren't final (the JVM will not allow redefinition
       *  of a final static method.) Thus the following.
       */</span>
      <span class="keyword">val</span> <a title="Boolean" id="238268">isIncestuous</a> = <a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a> <a href="../../symtab/Types.scala.html#105515" title="(that: GenJVM.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#238266" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a>
      <span class="keyword">val</span> <a title="Int" id="238269">accessFlags</a>  = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#238268" title="Boolean">isIncestuous</a><span class="delimiter">)</span> <a href="#231362" title="=&gt; Int">PublicStatic</a> <span class="keyword">else</span> <a href="#231364" title="=&gt; Int">PublicStaticFinal</a>

      <span class="comment">/** There was a bit of a gordian logic knot here regarding forwarders.
       *  All we really have to do is exclude certain categories of symbols and
       *  then all matching names.
       */</span>
      <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)scala.collection.immutable.Set[String]" id="238270">memberNames</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="238282">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#238282" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105490" title="=&gt; List[GenJVM.this.global.Symbol]">members</a> <span title="(f: GenJVM.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#238302" title="GenJVM.this.global.Symbol">_</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a><span class="delimiter">)</span> <span title="scala.collection.immutable.Set[String]">toSet</span> 
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="238272">membersInCommon</a>     = 
        <a href="#238270" title="(sym: GenJVM.this.global.Symbol)scala.collection.immutable.Set[String]">memberNames</a><span class="delimiter">(</span><a href="#238267" title="GenJVM.this.global.Symbol">linkedModule</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenSet[String])scala.collection.immutable.Set[String]">intersect</span> <a href="#238270" title="(sym: GenJVM.this.global.Symbol)scala.collection.immutable.Set[String]">memberNames</a><span class="delimiter">(</span><a href="#238266" title="GenJVM.this.global.Symbol">linkedClass</a><span class="delimiter">)</span>

      <span class="comment">/** Should method `m' get a forwarder in the mirror class? */</span>      
      <span class="keyword">def</span> <a title="(m: GenJVM.this.global.Symbol)Boolean" id="238273">shouldForward</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="238340">m</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span>
        <a href="#238340" title="GenJVM.this.global.Symbol">m</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/Definitions.scala.html#106220" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238340" title="GenJVM.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isMethod</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#238340" title="GenJVM.this.global.Symbol">m</a>.<span title="=&gt; Boolean">isPublic</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#238340" title="GenJVM.this.global.Symbol">m</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span>Flags.CASE | Flags.DEFERRED | Flags.SPECIALIZED <span title="Long(1116691499024L)">|</span> Flags.LIFTED<span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#238340" title="GenJVM.this.global.Symbol">m</a>.<a href="../../symtab/Symbols.scala.html#107475" title="=&gt; Boolean">isConstructor</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#238340" title="GenJVM.this.global.Symbol">m</a>.<a href="../../symtab/Symbols.scala.html#107527" title="=&gt; Boolean">isStaticMember</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#238271" title="(elem: String)Boolean">membersInCommon</a><span class="delimiter">(</span><a href="#238340" title="GenJVM.this.global.Symbol">m</a>.<a href="../../symtab/Symbols.scala.html#107548" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="238399">m</a> &lt;- <a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#105491" title="(f: GenJVM.this.global.Symbol =&gt; Unit)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238273" title="(m: GenJVM.this.global.Symbol)Boolean">shouldForward</a><span class="delimiter">(</span><a href="#238399" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Adding static forwarder for '%s' from %s to '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#238399" title="GenJVM.this.global.Symbol">m</a>, <a href="#238265" title="java.lang.String">className</a>, <a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#231454" title="(jclass: ch.epfl.lamp.fjbg.JClass, module: GenJVM.this.global.Symbol, m: GenJVM.this.global.Symbol, accessFlags: Int)Unit">addForwarder</a><span class="delimiter">(</span><a href="#233773" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a>, <a href="#238399" title="GenJVM.this.global.Symbol">m</a>, <a href="#238269" title="Int">accessFlags</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;No forwarder for '%s' from %s to '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#238399" title="GenJVM.this.global.Symbol">m</a>, <a href="#238265" title="java.lang.String">className</a>, <a href="#233774" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Dump a mirror class for a top-level module. A mirror class is a class
     *  containing only static methods that forward to the corresponding method
     *  on the MODULE instance of the given Scala object.  It will only be
     *  generated if there is no companion class: if there is, an attempt will
     *  instead be made to add the forwarder methods to the companion class.
     */</span>
    <span class="keyword">def</span> <a title="(clasz: GenJVM.this.global.Symbol, sourceFile: String)Unit" id="231456">dumpMirrorClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="233708">clasz</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="String" id="233709">sourceFile</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JAccessFlags">JAccessFlags</span>._
      <span class="keyword">val</span> <a title="String" id="238411">moduleName</a> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#233708" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span> <span class="comment">// + &quot;$&quot;</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="238412">mirrorName</a> = <a href="#238411" title="String">moduleName</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#238411" title="String">moduleName</a>.<span title="()Int">length</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JClass" id="238413">mirrorClass</a> = <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: java.lang.String, x$3: java.lang.String, x$4: Array[java.lang.String], x$5: java.lang.String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span>ACC_SUPER | ACC_PUBLIC <span title="Int(49)">|</span> ACC_FINAL,
                                           <a href="#238412" title="java.lang.String">mirrorName</a>,
                                           <span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>.<span title="()java.lang.String">getName</span>,
                                           <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[java.lang.String]">NO_INTERFACES</span>,
                                           <a href="#233709" title="String">sourceFile</a><span class="delimiter">)</span>

      <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Dumping mirror class for '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#238413" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#231455" title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit">addForwarders</a><span class="delimiter">(</span><a href="#238413" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#233708" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.AnnotationInfo]" id="238414">ssa</a> = <a href="#231420" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a href="#238413" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#233708" title="GenJVM.this.global.Symbol">clasz</a>.<a href="../../symtab/Symbols.scala.html#107623" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a><span class="delimiter">)</span>
      <a href="#231441" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#238413" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#233708" title="GenJVM.this.global.Symbol">clasz</a>.<a href="../../symtab/Symbols.scala.html#107411" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.AnnotationInfo],GenJVM.this.global.AnnotationInfo,List[GenJVM.this.global.AnnotationInfo]])List[GenJVM.this.global.AnnotationInfo]">++</span> <a href="#238414" title="(xo: Option[GenJVM.this.global.AnnotationInfo])Iterable[GenJVM.this.global.AnnotationInfo]">ssa</a><span class="delimiter">)</span>
      <a href="#231419" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">emitClass</a><span class="delimiter">(</span><a href="#238413" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#233708" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="231458">linearization</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
    <span class="keyword">var</span> <a title="Boolean" id="231461">isModuleInitialized</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/**
     *  @param m ...
     */</span>
    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="231463">genCode</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="237505">m</a>: <a href="../icode/Members.scala.html#96984" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="238530">jcode</a> = <a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(bs: List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]" id="238531">makeLabels</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.icodes.BasicBlock]" id="238539">bs</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Making labels for: &quot;)" class="string">&quot;Making labels for: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>

        mutable.<span title="(elems: (GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)*)scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]">HashMap</span><span class="delimiter">(</span><a href="#238539" title="List[GenJVM.this.global.icodes.BasicBlock]">bs</a> <span title="(f: GenJVM.this.global.icodes.BasicBlock =&gt; (GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label))(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.BasicBlock],(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label),List[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)]])List[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)]">map</span> <span class="delimiter">(</span><a href="#238562" title="(x: GenJVM.this.global.icodes.BasicBlock)ArrowAssoc[GenJVM.this.global.icodes.BasicBlock]">_</a> <span title="(y: ch.epfl.lamp.fjbg.JCode#Label)(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)">-&gt;</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()ch.epfl.lamp.fjbg.JCode#Label">newLabel</span><span class="delimiter">)</span> : _*<span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#231461" title="(x$1: Boolean)Unit">isModuleInitialized</a> = <span title="Boolean(false)" class="keyword">false</span>

      <a href="#231458" title="(x$1: List[GenJVM.this.global.icodes.BasicBlock])Unit">linearization</a> = <a href="../icode/ICodes.scala.html#96944" title="=&gt; GenJVM.this.global.icodes.Linearizer">linearizer</a>.<a href="../icode/Linearizers.scala.html#215360" title="(c: GenJVM.this.global.icodes.IMethod)List[GenJVM.this.global.icodes.BasicBlock]">linearize</a><span class="delimiter">(</span><a href="#237505" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]" id="238532">labels</a> = <a href="#238531" title="(bs: List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]">makeLabels</a><span class="delimiter">(</span><a href="#231458" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>
      <span class="comment">/** local variables whose scope appears in this block. */</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]" id="238533">varsInBlock</a>: mutable.<span title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">Set</span><span class="delimiter">[</span>Local<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]">HashSet</span>

      <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="238534">nextBlock</a>: <a href="../icode/BasicBlocks.scala.html#96991" title="GenJVM.this.global.icodes.BasicBlock">BasicBlock</a> = <a href="#231458" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a>.<span title="=&gt; GenJVM.this.global.icodes.BasicBlock">head</span>

      <span class="keyword">def</span> <a title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit" id="238535">genBlocks</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.icodes.BasicBlock]" id="238634">l</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#238634" title="List[GenJVM.this.global.icodes.BasicBlock]">l</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="238639">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> = <span title="Null(null)" class="keyword">null</span>; <a href="#238537" title="(b: GenJVM.this.global.icodes.BasicBlock)Unit">genBlock</a><span class="delimiter">(</span><a href="#238639" title="GenJVM.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="238645">x</a> :: <a title="GenJVM.this.global.icodes.BasicBlock" id="238653">y</a> :: <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="238654">ys</a> =&gt; <a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> = <a href="#238653" title="GenJVM.this.global.icodes.BasicBlock">y</a>; <a href="#238537" title="(b: GenJVM.this.global.icodes.BasicBlock)Unit">genBlock</a><span class="delimiter">(</span><a href="#238645" title="GenJVM.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>; <a href="#238535" title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit">genBlocks</a><span class="delimiter">(</span><a href="#238653" title="GenJVM.this.global.icodes.BasicBlock">y</a> <a href="#238655" title="(x: GenJVM.this.global.icodes.BasicBlock)List[GenJVM.this.global.icodes.BasicBlock]">::</a> <a href="#238654" title="List[GenJVM.this.global.icodes.BasicBlock]">ys</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Generate exception handlers for the current method. */</span>
    <span class="keyword">def</span> <a title="()Unit" id="238536">genExceptionHandlers</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="comment">/** Return a list of pairs of intervals where the handler is active.
       *  The intervals in the list have to be inclusive in the beginning and
       *  exclusive in the end: [start, end).
       */</span>
      <span class="keyword">def</span> <a title="(e: GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]" id="238661">ranges</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ExceptionHandler" id="238662">e</a>: <a href="../icode/ExceptionHandlers.scala.html#97058" title="GenJVM.this.global.icodes.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]" id="238663">covered</a> = <a href="#238662" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203158" title="=&gt; scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a>
        <span class="keyword">var</span> <a title="List[(Int, Int)]" id="238664">ranges</a>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span>
        <span class="keyword">var</span> <a title="Int" id="238665">start</a> = -<span title="Int(-1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="238666">end</a> = -<span title="Int(-1)" class="int">1</span>

        <a href="#231458" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a> <span title="(f: GenJVM.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="238688">b</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#238663" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(elem: GenJVM.this.global.icodes.BasicBlock)Boolean">contains</span> <a href="#238688" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238665" title="Int">start</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// we're inside a handler range</span>
              <a href="#238666" title="Int">end</a> = <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#238688" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#238664" title="List[(Int, Int)]">ranges</a> <span title="(x: (Int, Int))List[(Int, Int)]">::=</span> <span class="delimiter">(</span><a href="#238665" title="Int">start</a>, <a href="#238666" title="Int">end</a><span class="delimiter">)</span>
              <a href="#238665" title="Int">start</a> = -<span title="Int(-1)" class="int">1</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238665" title="Int">start</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>  <span class="comment">// we're not inside a handler range</span>
              <a href="#238665" title="Int">start</a> = <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#238688" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>

            <a href="#238666" title="Int">end</a> = <a href="#231465" title="(key: GenJVM.this.global.icodes.BasicBlock)Int">endPC</a><span class="delimiter">(</span><a href="#238688" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
            <a href="#238663" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(elem: GenJVM.this.global.icodes.BasicBlock)scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">-=</span> <a href="#238688" title="GenJVM.this.global.icodes.BasicBlock">b</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">/* Add the last interval. Note that since the intervals are 
         * open-ended to the right, we have to give a number past the actual
         * code!
         */</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238665" title="Int">start</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#238664" title="List[(Int, Int)]">ranges</a> <span title="(x: (Int, Int))List[(Int, Int)]">::=</span> <span class="delimiter">(</span><a href="#238665" title="Int">start</a>, <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#238663" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Some covered blocks were not found in method: &quot;)" class="string">&quot;Some covered blocks were not found in method: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; covered: &quot;)" class="string">&quot; covered: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238663" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231458" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>
        <a href="#238664" title="List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>
      
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ExceptionHandler" id="238849">e</a> &lt;- <a href="#112610" title="BytecodeGenerator.this.type" class="keyword">this</a>.<a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197797" title="(f: GenJVM.this.global.icodes.ExceptionHandler =&gt; Unit)Unit">exh</a> ; <a title="(Int, Int)" id="238933">p</a> &lt;- <a href="#238661" title="(e: GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]">ranges</a><span class="delimiter">(</span><a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a><span class="delimiter">)</span>.<span title="(f: (Int, Int) =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[(Int, Int)]">sortBy</span><span title="(f: (Int, Int) =&gt; Unit)Unit" class="delimiter">(</span><a href="#238856" title="(Int, Int)">_</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238933" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#238933" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Adding exception handler &quot;)" class="string">&quot;Adding exception handler &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;at block: &quot;)" class="string">&quot;at block: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203157" title="=&gt; GenJVM.this.global.icodes.BasicBlock">startBlock</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; from: &quot;)" class="string">&quot; from: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238933" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238933" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; catching: &quot;)" class="string">&quot; catching: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203141" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>;
          <span class="keyword">val</span> <a title="String" id="238938">cls</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203141" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Symbols.scala.html#67339" title="object GenJVM.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203141" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Definitions.scala.html#106246" title="=&gt; GenJVM.this.global.Symbol">ThrowableClass</a><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span>
                    <span class="keyword">else</span> <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203141" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: Int, x$3: Int, x$4: java.lang.String)Unit">addExceptionHandler</span><span class="delimiter">(</span><a href="#238933" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span>, <a href="#238933" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span>,
                                    <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#238849" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#203157" title="=&gt; GenJVM.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                    <a href="#238938" title="String">cls</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> 
          <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Empty exception range: &quot;)" class="string">&quot;Empty exception range: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238933" title="(Int, Int)">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: GenJVM.this.global.icodes.BasicBlock)Unit" id="238537">genBlock</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="238640">b</a>: <a href="../icode/BasicBlocks.scala.html#96991" title="GenJVM.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Unit">anchorToNext</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Generating code for block: &quot;)" class="string">&quot;Generating code for block: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; at pc: &quot;)" class="string">&quot; at pc: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="239001">lastMappedPC</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="239002">lastLineNr</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="239003">crtPC</a> = <span title="Int(0)" class="int">0</span>
      <a href="#238533" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Instruction" id="239056">instr</a> &lt;- <a href="../icode/BasicBlocks.scala.html#197715" title="(f: GenJVM.this.global.icodes.Instruction =&gt; Unit)Unit">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">class</span> <a title="class CompilationException extends java.lang.Exception with ScalaObject" id="239057">CompilationException</a><a href="#239057" title="ScalaObject" class="delimiter">(</a><a title="String" id="239066">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span><a href="#239066" title="String">msg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="239063">toString</a>: <span title="String">String</span> = <span class="delimiter">{</span>
            <a href="#239066" title="String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;\012Current method: &quot;)" class="string">&quot;\nCurrent method: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> 
            <span title="java.lang.String(&quot;\012Current block: &quot;)" class="string">&quot;\nCurrent block: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012Current instruction: &quot;)" class="string">&quot;\nCurrent instruction: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239056" title="GenJVM.this.global.icodes.Instruction">instr</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012---------------------&quot;)" class="string">&quot;\n---------------------&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197830" title="()Unit">dump</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(cond: Boolean, msg: String)Unit" id="239058">assert</a><span class="delimiter">(</span><a title="Boolean" id="239074">cond</a>: <span title="Boolean">Boolean</span>, <a title="String" id="239075">msg</a>: <span title="String">String</span><span class="delimiter">)</span> =
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#239074" title="Boolean">cond</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="CompilationException" class="keyword">new</span> <a href="#239057" title="CompilationException">CompilationException</a><span class="delimiter">(</span><a href="#239075" title="String">msg</a><span class="delimiter">)</span>

        <a href="#239056" title="GenJVM.this.global.icodes.Instruction">instr</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">THIS</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239077">clasz</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">CONSTANT</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Constant" id="239079">const</a><span class="delimiter">)</span> =&gt;
            <a href="GenJVMUtil.scala.html#231351" title="(jcode: ch.epfl.lamp.fjbg.JExtendedCode, const: GenJVM.this.global.Constant)Unit">genConstant</a><span class="delimiter">(</span><a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>, <a href="#239079" title="GenJVM.this.global.icodes.global.Constant">const</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_ARRAY_ITEM</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239086">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitALOAD</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239086" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_LOCAL</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="239098">local</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitLOAD</span><span class="delimiter">(</span><a href="#231470" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#239098" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239098" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#197981" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="Unit" id="239111">lf</a> @ LOAD_FIELD<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239114">field</a>, <a title="Boolean" id="239115">isStatic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">var</span> <a title="String" id="239116">owner</a> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239111" title="GenJVM.this.global.icodes.opcodes.LOAD_FIELD">lf</a>.<a href="../icode/Opcodes.scala.html#209276" title="=&gt; GenJVM.this.global.icodes.global.Symbol">hostClass</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>            
              <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;LOAD_FIELD with owner: &quot;)" class="string">&quot;LOAD_FIELD with owner: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239116" title="String">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<span title="(flags: Long)String">flagsToString</span><span class="delimiter">(</span><a href="#239114" title="GenJVM.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239115" title="Boolean">isStatic</a><span class="delimiter">)</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#239116" title="String">owner</a>,
                                  <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239114" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239114" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETFIELD</span><span class="delimiter">(</span><a href="#239116" title="String">owner</a>,
                                  <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239114" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239114" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_MODULE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239136">module</a><span class="delimiter">)</span> =&gt;
<span class="comment">//            assert(module.isModule, &quot;Expected module: &quot; + module)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;generating LOAD_MODULE for: &quot;)" class="string">&quot;generating LOAD_MODULE for: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239136" title="GenJVM.this.global.icodes.global.Symbol">module</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
                  <a href="../../symtab/Flags.scala.html#24068" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<span title="(flags: Long)String">flagsToString</span><span class="delimiter">(</span><a href="#239136" title="GenJVM.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#107551" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span>;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#239136" title="GenJVM.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#107627" title="=&gt; GenJVM.this.global.icodes.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115566" title="=&gt; GenJVM.this.global.nme.NameType">readResolve</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a><span class="delimiter">)</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239136" title="GenJVM.this.global.icodes.global.Symbol">module</a><span class="delimiter">)</span> <span class="comment">/* + &quot;$&quot; */</span> ,
                                  <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115424" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
                                  <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239136" title="GenJVM.this.global.icodes.global.Symbol">module</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_ARRAY_ITEM</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239160">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitASTORE</span> <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239160" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_LOCAL</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="239172">local</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitSTORE</span><span class="delimiter">(</span><a href="#231470" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#239172" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239172" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#197981" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <span class="comment">// this only works for impl classes because the self parameter comes first</span>
            <span class="comment">// in the method signature. If that changes, this code has to be revisited.</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitASTORE_0</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_FIELD</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239188">field</a>, <a title="Boolean" id="239189">isStatic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="239190">owner</a> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239188" title="GenJVM.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239189" title="Boolean">isStatic</a><span class="delimiter">)</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#239190" title="String">owner</a>,
                                  <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239188" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239188" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTFIELD</span><span class="delimiter">(</span><a href="#239190" title="String">owner</a>,
                                  <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239188" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239188" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">CALL_PRIMITIVE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Primitive" id="239204">primitive</a><span class="delimiter">)</span> =&gt;
            <a href="#238538" title="(primitive: GenJVM.this.global.icodes.Primitive, pos: GenJVM.this.global.Position)Unit">genPrimitive</a><span class="delimiter">(</span><a href="#239204" title="GenJVM.this.global.icodes.Primitive">primitive</a>, <a href="#239056" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#198010" title="=&gt; scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span>

          <span class="comment">/** Special handling to access native Array.clone() */</span>
          <span class="keyword">case</span> <a title="Unit" id="239207">call</a> @ CALL_METHOD<span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106399" title="=&gt; GenJVM.this.global.Symbol">Array_clone</a>, <a href="../icode/Opcodes.scala.html#113788" title="object GenJVM.this.global.icodes.opcodes.Dynamic">Dynamic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="239210">target</a>: <span title="String">String</span> = <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239207" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>.<a href="../icode/Opcodes.scala.html#208520" title="=&gt; GenJVM.this.global.icodes.TypeKind">targetTypeKind</a><span class="delimiter">)</span>.<span title="()java.lang.String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#239210" title="String">target</a>, <span title="java.lang.String(&quot;clone&quot;)" class="string">&quot;clone&quot;</span>, <a href="#231374" title="=&gt; ch.epfl.lamp.fjbg.JMethodType">arrayCloneType</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="Unit" id="239217">call</a> @ CALL_METHOD<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239220">method</a>, <a title="GenJVM.this.global.icodes.opcodes.InvokeStyle" id="239221">style</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="239222">owner</a>: <span title="String">String</span> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239220" title="GenJVM.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="comment">// reference the type of the receiver instead of the method owner (if not an interface!)</span>
            <span class="keyword">val</span> <a title="String" id="239223">dynamicOwner</a> =
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#231472" title="(sym: GenJVM.this.global.Symbol)Boolean">needsInterfaceCall</a><span class="delimiter">(</span><a href="#239217" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>.<a href="../icode/Opcodes.scala.html#208516" title="=&gt; GenJVM.this.global.icodes.global.Symbol">hostClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#239222" title="String">owner</a>
              <span class="keyword">else</span> <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239217" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>.<a href="../icode/Opcodes.scala.html#208516" title="=&gt; GenJVM.this.global.icodes.global.Symbol">hostClass</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="239224">jname</a> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239220" title="GenJVM.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="239225">jtype</a> = <a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239220" title="GenJVM.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span>

            <a href="#239221" title="GenJVM.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/Opcodes.scala.html#113790" title="Unit">InvokeDynamic</a> =&gt;
                <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEINTERFACE</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.dyn.Dynamic&quot;)" class="string">&quot;java.dyn.Dynamic&quot;</span>, <a href="#239224" title="String">jname</a>, <a href="#239225" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>

              <span class="keyword">case</span> <a href="../icode/Opcodes.scala.html#113788" title="Unit">Dynamic</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#231472" title="(sym: GenJVM.this.global.Symbol)Boolean">needsInterfaceCall</a><span class="delimiter">(</span><a href="#239220" title="GenJVM.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEINTERFACE</span><span class="delimiter">(</span><a href="#239222" title="String">owner</a>, <a href="#239224" title="String">jname</a>, <a href="#239225" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
                <span class="keyword">else</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#239223" title="String">dynamicOwner</a>, <a href="#239224" title="String">jname</a>, <a href="#239225" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>

              <span class="keyword">case</span> <span title="Unit">Static</span><span class="delimiter">(</span><a title="Boolean" id="239234">instance</a><span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239234" title="Boolean">instance</a><span class="delimiter">)</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#239222" title="String">owner</a>, <a href="#239224" title="String">jname</a>, <a href="#239225" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
                <span class="keyword">else</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#239222" title="String">owner</a>, <a href="#239224" title="String">jname</a>, <a href="#239225" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>

              <span class="keyword">case</span> <span title="Unit">SuperCall</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#239222" title="String">owner</a>, <a href="#239224" title="String">jname</a>, <a href="#239225" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
                <span class="comment">// we initialize the MODULE$ field immediately after the super ctor</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#112613" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#97411" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#231461" title="=&gt; Boolean">isModuleInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> JMethod.<span title="java.lang.String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#239224" title="String">jname</a> <span title="(x$1: AnyRef)Boolean">==</span> JMethod.<span title="java.lang.String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#231461" title="(x$1: Boolean)Unit">isModuleInitialized</a> = <span title="Boolean(true)" class="keyword">true</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                      <a href="../../symtab/StdNames.scala.html#67724" title="object GenJVM.this.global.nme">nme</a>.<a href="../../symtab/StdNames.scala.html#115424" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
                                      <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">BOX</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239248">kind</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="239249">boxedType</a> = <a href="../../symtab/Definitions.scala.html#67699" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#106700" title="(key: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol">boxedClass</a><span class="delimiter">(</span><a href="#239248" title="GenJVM.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#196006" title="=&gt; GenJVM.this.global.icodes.global.Type">toType</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="239250">mtype</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231350" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239249" title="GenJVM.this.global.Symbol">boxedType</a><span class="delimiter">)</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239248" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#231368" title="=&gt; java.lang.String">BoxesRunTime</a>, <span title="java.lang.String(&quot;boxTo&quot;)" class="string">&quot;boxTo&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239249" title="GenJVM.this.global.Symbol">boxedType</a>.<span title="=&gt; String">decodedName</span>, <a href="#239250" title="ch.epfl.lamp.fjbg.JMethodType">mtype</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">UNBOX</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239316">kind</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="239317">mtype</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239316" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#231368" title="=&gt; java.lang.String">BoxesRunTime</a>, <span title="java.lang.String(&quot;unboxTo&quot;)" class="string">&quot;unboxTo&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239316" title="GenJVM.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#196006" title="=&gt; GenJVM.this.global.icodes.global.Type">toType</a>.<a href="../../symtab/Types.scala.html#105454" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a>.<span title="=&gt; String">decodedName</span>, <a href="#239317" title="ch.epfl.lamp.fjbg.JMethodType">mtype</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">NEW</span><span class="delimiter">(</span>REFERENCE<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239351">cls</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="239352">className</a> = <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239351" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: java.lang.String)Unit">emitNEW</span> <a href="#239352" title="String">className</a>

          <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239355">elem</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> =&gt; <a href="#239355" title="GenJVM.this.global.icodes.TypeKind">elem</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239355" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitNEWARRAY</span> <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239355" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239372">elem</a>, <a title="Int" id="239373">dims</a><span class="delimiter">)</span> =&gt; 
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType, x$2: Int)Unit">emitMULTIANEWARRAY</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97039" title="(elem: GenJVM.this.global.icodes.TypeKind, dims: Int)GenJVM.this.global.icodes.ARRAY">ArrayN</a><span class="delimiter">(</span><a href="#239372" title="GenJVM.this.global.icodes.TypeKind">elem</a>, <a href="#239373" title="Int">dims</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>, <a href="#239373" title="Int">dims</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">IS_INSTANCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239383">tpe</a><span class="delimiter">)</span> =&gt;
            <a href="#239383" title="GenJVM.this.global.icodes.TypeKind">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239385">cls</a><span class="delimiter">)</span> =&gt;
                <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitINSTANCEOF</span> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239385" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239387">elem</a><span class="delimiter">)</span> =&gt;
                <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitINSTANCEOF</span> <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239387" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <a href="../../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown reference type in IS_INSTANCE: &quot;)" class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239383" title="GenJVM.this.global.icodes.TypeKind">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CHECK_CAST</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239397">tpe</a><span class="delimiter">)</span> =&gt;
            <a href="#239397" title="GenJVM.this.global.icodes.TypeKind">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="239399">cls</a><span class="delimiter">)</span> =&gt;
                <span class="comment">// No need to checkcast for Objects</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239399" title="GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../symtab/Definitions.scala.html#106220" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitCHECKCAST</span> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#239399" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="239405">elem</a><span class="delimiter">)</span> =&gt;
                <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitCHECKCAST</span> <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#239405" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <a href="../../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown reference type in IS_INSTANCE: &quot;)" class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239397" title="GenJVM.this.global.icodes.TypeKind">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">SWITCH</span><span class="delimiter">(</span><a title="List[List[Int]]" id="239416">tags</a>, <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="239417">branches</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Array[Array[Int]]" id="239418">tagArray</a> = <span title="Array[Array[Int]]" class="keyword">new</span> <span title="Array[Array[Int]]">Array</span><span class="delimiter">[</span>Array<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#239416" title="List[List[Int]]">tags</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="List[List[Int]]" id="239419">caze</a> = <a href="#239416" title="List[List[Int]]">tags</a>
            <span class="keyword">var</span> <a title="Int" id="239420">i</a> = <span title="Int(0)" class="int">0</span>

            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#239420" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#239418" title="Array[Array[Int]]">tagArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#239422" title="()Unit" class="delimiter">{</a>
              <a href="#239418" title="(i: Int, x: Array[Int])Unit">tagArray</a><span class="delimiter">(</span><a href="#239420" title="Int">i</a><span class="delimiter">)</span> = <span title="Array[Int]" class="keyword">new</span> <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#239419" title="List[List[Int]]">caze</a>.<span title="=&gt; List[Int]">head</span>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
              <a href="#239419" title="List[List[Int]]">caze</a>.<span title="=&gt; List[Int]">head</span>.<span title="(xs: Array[Int], start: Int)Unit">copyToArray</span><span class="delimiter">(</span><a href="#239418" title="(i: Int)Array[Int]">tagArray</a><span class="delimiter">(</span><a href="#239420" title="Int">i</a><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="#239420" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
              <a href="#239419" title="List[List[Int]]">caze</a> = <a href="#239419" title="List[List[Int]]">caze</a>.<span title="=&gt; List[List[Int]]">tail</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Array[ch.epfl.lamp.fjbg.JCode#Label]" id="239421">branchArray</a> = <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int)Array[ch.epfl.lamp.fjbg.JCode#Label]">newLabels</span><span class="delimiter">(</span><a href="#239418" title="Array[Array[Int]]">tagArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <a href="#239420" title="Int">i</a> = <span title="Int(0)" class="int">0</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#239420" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#239421" title="Array[ch.epfl.lamp.fjbg.JCode#Label]">branchArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#239423" title="()Unit" class="delimiter">{</a>
              <a href="#239421" title="(i: Int, x: ch.epfl.lamp.fjbg.JCode#Label)Unit">branchArray</a><span class="delimiter">(</span><a href="#239420" title="Int">i</a><span class="delimiter">)</span> = <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239417" title="(n: Int)GenJVM.this.global.icodes.BasicBlock">branches</a><span class="delimiter">(</span><a href="#239420" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#239420" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Emitting SWITCH:\012tags: &quot;)" class="string">&quot;Emitting SWITCH:\ntags: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239416" title="List[List[Int]]">tags</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012branches: &quot;)" class="string">&quot;\nbranches: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239417" title="List[GenJVM.this.global.icodes.BasicBlock]">branches</a><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Array[Array[Int]], x$2: Array[ch.epfl.lamp.fjbg.JCode#Label], x$3: ch.epfl.lamp.fjbg.JCode#Label, x$4: Double)Unit">emitSWITCH</span><span class="delimiter">(</span><a href="#239418" title="Array[Array[Int]]">tagArray</a>, 
                             <a href="#239421" title="Array[ch.epfl.lamp.fjbg.JCode#Label]">branchArray</a>,
                             <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239417" title="List[GenJVM.this.global.icodes.BasicBlock]">branches</a>.<span title="=&gt; GenJVM.this.global.icodes.BasicBlock">last</span><span class="delimiter">)</span>,
                             <a href="#231358" title="=&gt; Double">MIN_SWITCH_DENSITY</a><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">JUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="239590">whereto</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#239590" title="GenJVM.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239590" title="GenJVM.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="comment">// default to short jumps</span>

          <span class="keyword">case</span> <span title="Unit">CJUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="239617">success</a>, <a title="GenJVM.this.global.icodes.BasicBlock" id="239618">failure</a>, <a title="GenJVM.this.global.icodes.TestOp" id="239619">cond</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="239620">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#239620" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#239617" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ICMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231343" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="comment">// .. and fall through to success label</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ICMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239617" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#239617" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ACMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231343" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="comment">// .. and fall through to success label</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ACMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239617" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">(</span><a href="#239620" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#97012" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97032" title="Unit">FLOAT</a>  =&gt; 
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97109" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97113" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Unit">DOUBLE</a> =&gt; 
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97109" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97113" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#239617" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231343" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="comment">// .. and fall through to success label</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#239619" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239617" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>;
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#239618" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CZJUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="240195">success</a>, <a title="GenJVM.this.global.icodes.BasicBlock" id="240196">failure</a>, <a title="GenJVM.this.global.icodes.TestOp" id="240197">cond</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="240198">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#240198" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231343" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="240311">Success</a> = <a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a>
                <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="240312">Failure</a> = <a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a>
                <span title="(_1: GenJVM.this.global.icodes.TestOp, _2: GenJVM.this.global.icodes.BasicBlock)(GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.BasicBlock)" class="delimiter">(</span><a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a>, <a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97105" title="object GenJVM.this.global.icodes.EQ">EQ</a>, <a href="#240311" title="GenJVM.this.global.icodes.BasicBlock">Success</a><span class="delimiter">)</span> =&gt;
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97107" title="object GenJVM.this.global.icodes.NE">NE</a>, <a href="#240312" title="GenJVM.this.global.icodes.BasicBlock">Failure</a><span class="delimiter">)</span> =&gt;
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97105" title="object GenJVM.this.global.icodes.EQ">EQ</a>, <a href="#240312" title="GenJVM.this.global.icodes.BasicBlock">Failure</a><span class="delimiter">)</span> =&gt;
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97107" title="object GenJVM.this.global.icodes.NE">NE</a>, <a href="#240311" title="GenJVM.this.global.icodes.BasicBlock">Success</a><span class="delimiter">)</span> =&gt;
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97105" title="object GenJVM.this.global.icodes.EQ">EQ</a>, _<span class="delimiter">)</span> =&gt;
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97107" title="object GenJVM.this.global.icodes.NE">NE</a>, _<span class="delimiter">)</span> =&gt;
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">(</span><a href="#240198" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#97012" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt;
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97032" title="Unit">FLOAT</a>  =&gt; 
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97109" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97113" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>                    
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Unit">DOUBLE</a> =&gt; 
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97109" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#97113" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231343" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231341" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#240197" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240195" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238534" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#240196" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="240606">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitRETURN</span> <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240606" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">THROW</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitATHROW</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">DROP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="240617">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#240617" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a> | <a href="../icode/TypeKinds.scala.html#97034" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitPOP2</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitPOP</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">DUP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="240619">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#240619" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a> | <a href="../icode/TypeKinds.scala.html#97034" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP2</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">MONITOR_ENTER</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitMONITORENTER</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">MONITOR_EXIT</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitMONITOREXIT</span><span class="delimiter">(</span><span class="delimiter">)</span>            

          <span class="keyword">case</span> <span title="Unit">SCOPE_ENTER</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="240621">lv</a><span class="delimiter">)</span> =&gt; 
            <a href="#238533" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a> <span title="(elem: GenJVM.this.global.icodes.Local)varsInBlock.type">+=</span> <a href="#240621" title="GenJVM.this.global.icodes.Local">lv</a>
            <a href="#240621" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197990" title="(x$1: Int)Unit">start</a> = <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Any">SCOPE_EXIT</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="240631">lv</a><span class="delimiter">)</span> =&gt;
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238533" title="(elem: GenJVM.this.global.icodes.Local)Boolean">varsInBlock</a><span class="delimiter">(</span><a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197996" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197989" title="=&gt; Int">start</a>, <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#240653" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197995" title="=&gt; List[(Int, Int)]">ranges</a>
              <a href="#238533" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a> <span title="(elem: GenJVM.this.global.icodes.Local)varsInBlock.type">-=</span> <a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a>
            <span class="delimiter">}</span> 
            <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197701" title="(elem: GenJVM.this.global.icodes.Local)Boolean">varsInScope</a><span class="delimiter">(</span><a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197996" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#240683" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197995" title="=&gt; List[(Int, Int)]">ranges</a>
              <a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197701" title="=&gt; scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInScope</a> <span title="(elem: GenJVM.this.global.icodes.Local)scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">-=</span> <a href="#240631" title="GenJVM.this.global.icodes.Local">lv</a>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#239058" title="(cond: Boolean, msg: String)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;Illegal local var nesting: &quot;)" class="string">&quot;Illegal local var nesting: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_EXCEPTION</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#239003" title="Int">crtPC</a> = <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>
        
<span class="comment">//        assert(instr.pos.source.isEmpty || instr.pos.source.get == (clasz.cunit.source), &quot;sources don't match&quot;)</span>
<span class="comment">//        val crtLine = instr.pos.line.get(lastLineNr);</span>

        <span class="keyword">val</span> <a title="Int" id="239059">crtLine</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
          <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#239056" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#198010" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Positions.scala.html#67902" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#239002" title="Int">lastLineNr</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#239056" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#198010" title="=&gt; scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span>.<a href="../../util/Position.scala.html#97235" title="=&gt; Int">line</a> <span class="comment">// check NoPosition to avoid costly exception</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Int">_</span>: <span title="UnsupportedOperationException">UnsupportedOperationException</span> =&gt;
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Warning: wrong position in: &quot;)" class="string">&quot;Warning: wrong position in: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>
            <a href="#239002" title="Int">lastLineNr</a>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197739" title="=&gt; GenJVM.this.global.icodes.Instruction">lastInstruction</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#239056" title="GenJVM.this.global.icodes.Instruction">instr</a><span class="delimiter">)</span>
          <a href="#231465" title="(key: GenJVM.this.global.icodes.BasicBlock, value: Int)Unit">endPC</a><span class="delimiter">(</span><a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> = <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="comment">//System.err.println(&quot;CRTLINE: &quot; + instr.pos + &quot; &quot; + </span>
        <span class="comment">//           /* (if (instr.pos &lt; clasz.cunit.source.content.length) clasz.cunit.source.content(instr.pos) else '*') + */ &quot; &quot; + crtLine);</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239003" title="Int">crtPC</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#239001" title="Int">lastMappedPC</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: Int, x$3: Int)Unit">completeLineNumber</span><span class="delimiter">(</span><a href="#239001" title="Int">lastMappedPC</a>, <a href="#239003" title="Int">crtPC</a>, <a href="#239059" title="Int">crtLine</a><span class="delimiter">)</span>
          <a href="#239001" title="Int">lastMappedPC</a> = <a href="#239003" title="Int">crtPC</a>
          <a href="#239002" title="Int">lastLineNr</a>   = <a href="#239059" title="Int">crtLine</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      
      <span class="comment">// local vars that survived this basic block </span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="240784">lv</a> &lt;- <a href="#238533" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">varsInBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#240784" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197996" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#240784" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197989" title="=&gt; Int">start</a>, <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#240785" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#240784" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197995" title="=&gt; List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="240814">lv</a> &lt;- <a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#197701" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">varsInScope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#240814" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197996" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#238532" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#238640" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#240815" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#240814" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197995" title="=&gt; List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    <span class="comment">/**
     *  @param primitive ...
     *  @param pos       ...
     */</span>
    <span class="keyword">def</span> <a title="(primitive: GenJVM.this.global.icodes.Primitive, pos: GenJVM.this.global.Position)Unit" id="238538">genPrimitive</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Primitive" id="239205">primitive</a>: <a href="../icode/Primitives.scala.html#97064" title="GenJVM.this.global.icodes.Primitive">Primitive</a>, <a title="GenJVM.this.global.Position" id="239206">pos</a>: <a href="../../util/Position.scala.html#30588" title="GenJVM.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#239205" title="GenJVM.this.global.icodes.Primitive">primitive</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Negation</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="240842">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#240842" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt; 
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitINEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97032" title="Unit">FLOAT</a>  =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Unit">DOUBLE</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <a href="../../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Impossible to negate a &quot;)" class="string">&quot;Impossible to negate a &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#240842" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Arithmetic</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ArithmeticOp" id="240847">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="240848">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#240847" title="GenJVM.this.global.icodes.ArithmeticOp">op</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97118" title="Unit">ADD</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitADD</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240848" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97120" title="Unit">SUB</a> =&gt;
              <span class="delimiter">(</span><a href="#240848" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#97012" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97032" title="Unit">FLOAT</a>  =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Unit">DOUBLE</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97122" title="Unit">MUL</a> =&gt;
              <span class="delimiter">(</span><a href="#240848" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#97012" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97032" title="Unit">FLOAT</a>  =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Unit">DOUBLE</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97124" title="Unit">DIV</a> =&gt;
              <span class="delimiter">(</span><a href="#240848" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#97012" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97032" title="Unit">FLOAT</a>  =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Unit">DOUBLE</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97126" title="Unit">REM</a> =&gt;
              <span class="delimiter">(</span><a href="#240848" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#97012" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97032" title="Unit">FLOAT</a>  =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Unit">DOUBLE</a> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97128" title="Unit">NOT</a> =&gt;
              <a href="#240848" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97020" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#97022" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#97026" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#97024" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int)Unit">emitPUSH</span><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97030" title="Unit">LONG</a>   =&gt;
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Long)Unit">emitPUSH</span><span class="delimiter">(</span>-<span title="Long(-1L)" class="long">1l</span><span class="delimiter">)</span>
                  <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                  <a href="../../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Impossible to negate an &quot;)" class="string">&quot;Impossible to negate an &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#240848" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
              <a href="../../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown arithmetic primitive &quot;)" class="string">&quot;Unknown arithmetic primitive &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239205" title="GenJVM.this.global.icodes.Primitive">primitive</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Logical</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.LogicalOp" id="240869">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="240870">kind</a><span class="delimiter">)</span> =&gt; <span title="(_1: GenJVM.this.global.icodes.LogicalOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.LogicalOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#240869" title="GenJVM.this.global.icodes.LogicalOp">op</a>, <a href="#240870" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97138" title="object GenJVM.this.global.icodes.AND">AND</a>, <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97138" title="object GenJVM.this.global.icodes.AND">AND</a>, <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97138" title="object GenJVM.this.global.icodes.AND">AND</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240870" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#97020" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240870" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97140" title="object GenJVM.this.global.icodes.OR">OR</a>, <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97140" title="object GenJVM.this.global.icodes.OR">OR</a>, <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97140" title="object GenJVM.this.global.icodes.OR">OR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240870" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#97020" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240870" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97142" title="object GenJVM.this.global.icodes.XOR">XOR</a>, <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97142" title="object GenJVM.this.global.icodes.XOR">XOR</a>, <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97142" title="object GenJVM.this.global.icodes.XOR">XOR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#240870" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#97020" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240870" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Shift</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ShiftOp" id="240945">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="240946">kind</a><span class="delimiter">)</span> =&gt; <span title="(_1: GenJVM.this.global.icodes.ShiftOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ShiftOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#240945" title="GenJVM.this.global.icodes.ShiftOp">op</a>, <a href="#240946" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97131" title="object GenJVM.this.global.icodes.LSL">LSL</a>, <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97131" title="object GenJVM.this.global.icodes.LSL">LSL</a>, <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97131" title="object GenJVM.this.global.icodes.LSL">LSL</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240946" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97133" title="object GenJVM.this.global.icodes.ASR">ASR</a>, <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97133" title="object GenJVM.this.global.icodes.ASR">ASR</a>, <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97133" title="object GenJVM.this.global.icodes.ASR">ASR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240946" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97135" title="object GenJVM.this.global.icodes.LSR">LSR</a>, <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97135" title="object GenJVM.this.global.icodes.LSR">LSR</a>, <a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97135" title="object GenJVM.this.global.icodes.LSR">LSR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97028" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#240946" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Comparison</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ComparisonOp" id="241009">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="241010">kind</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="(_1: GenJVM.this.global.icodes.ComparisonOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#241009" title="GenJVM.this.global.icodes.ComparisonOp">op</a>, <a href="#241010" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>: @<span title="(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind) @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97100" title="object GenJVM.this.global.icodes.CMP">CMP</a>, <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span>    =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97098" title="object GenJVM.this.global.icodes.CMPL">CMPL</a>, <a href="../icode/TypeKinds.scala.html#97032" title="object GenJVM.this.global.icodes.FLOAT">FLOAT</a><span class="delimiter">)</span>  =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97102" title="object GenJVM.this.global.icodes.CMPG">CMPG</a>, <a href="../icode/TypeKinds.scala.html#97032" title="object GenJVM.this.global.icodes.FLOAT">FLOAT</a><span class="delimiter">)</span>  =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97098" title="object GenJVM.this.global.icodes.CMPL">CMPL</a>, <a href="../icode/TypeKinds.scala.html#97034" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a><span class="delimiter">)</span> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#97102" title="object GenJVM.this.global.icodes.CMPG">CMPG</a>, <a href="../icode/TypeKinds.scala.html#97034" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a><span class="delimiter">)</span> =&gt; <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Conversion</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="241029">src</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="241030">dst</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Converting from: &quot;)" class="string">&quot;Converting from: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#241029" title="GenJVM.this.global.icodes.TypeKind">src</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#241030" title="GenJVM.this.global.icodes.TypeKind">dst</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#241030" title="GenJVM.this.global.icodes.TypeKind">dst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/TypeKinds.scala.html#97020" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Illegal conversion at: &quot;)" class="string">&quot;Illegal conversion at: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231399" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a> <span title="(x$1: Any)java.lang.String">+</span>
                    <span title="java.lang.String(&quot; at: &quot;)" class="string">&quot; at: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239206" title="GenJVM.this.global.Position">pos</a>.<a href="../../util/Position.scala.html#97208" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239206" title="GenJVM.this.global.Position">pos</a>.<a href="../../util/Position.scala.html#97235" title="=&gt; Int">line</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#241029" title="GenJVM.this.global.icodes.TypeKind">src</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#241030" title="GenJVM.this.global.icodes.TypeKind">dst</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">ArrayLength</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitARRAYLENGTH</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97092" title="Unit">StartConcat</a> =&gt;
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: java.lang.String)Unit">emitNEW</span> <a href="#231366" title="=&gt; String">StringBuilderClassName</a>
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#231366" title="=&gt; String">StringBuilderClassName</a>,
                                  JMethod.<span title="java.lang.String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span>,
                                  <span title="object ch.epfl.lamp.fjbg.JMethodType">JMethodType</span>.<span title="ch.epfl.lamp.fjbg.JMethodType">ARGLESS_VOID_FUNCTION</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">StringConcat</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="241056">el</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JType" id="241057">jtype</a> = <a href="#241056" title="GenJVM.this.global.icodes.TypeKind">el</a> <span title="ch.epfl.lamp.fjbg.JType" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="ch.epfl.lamp.fjbg.JObjectType">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>
            <span class="keyword">case</span> <span title="ch.epfl.lamp.fjbg.JType">_</span> =&gt; <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#241056" title="GenJVM.this.global.icodes.TypeKind">el</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#231366" title="=&gt; String">StringBuilderClassName</a>,
                                  <span title="java.lang.String(&quot;append&quot;)" class="string">&quot;append&quot;</span>,
                                  <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="#231370" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">StringBuilderType</a>,
                                  <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="#241057" title="ch.epfl.lamp.fjbg.JType">jtype</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#97094" title="Unit">EndConcat</a> =&gt;
          <a href="#238530" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#231366" title="=&gt; String">StringBuilderClassName</a>,
                                  <span title="java.lang.String(&quot;toString&quot;)" class="string">&quot;toString&quot;</span>,
                                  <a href="#231372" title="=&gt; ch.epfl.lamp.fjbg.JMethodType">toStringType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unimplemented primitive &quot;)" class="string">&quot;Unimplemented primitive &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239205" title="GenJVM.this.global.icodes.Primitive">primitive</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

      <span class="comment">// genCode starts here</span>
      <a href="#238535" title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit">genBlocks</a><span class="delimiter">(</span><a href="#231458" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#112610" title="BytecodeGenerator.this.type" class="keyword">this</a>.<a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197797" title="=&gt; List[GenJVM.this.global.icodes.ExceptionHandler]">exh</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object Nil">Nil</span><span class="delimiter">)</span>
        <a href="#238536" title="()Unit">genExceptionHandlers</a>;
    <span class="delimiter">}</span>


    <span class="comment">/** Emit a Local variable table for debugging purposes.
     *  Synthetic locals are skipped. All variables are method-scoped.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod, jcode: ch.epfl.lamp.fjbg.JCode)Unit" id="231464">genLocalVariableTable</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="237507">m</a>: <a href="../icode/Members.scala.html#96984" title="GenJVM.this.global.icodes.IMethod">IMethod</a>, <a title="ch.epfl.lamp.fjbg.JCode" id="237508">jcode</a>: <span title="ch.epfl.lamp.fjbg.JCode">JCode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.Local]" id="241097">vars</a> = <a href="#237507" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197809" title="=&gt; List[GenJVM.this.global.icodes.Local]">locals</a> <span title="(p: GenJVM.this.global.icodes.Local =&gt; Boolean)List[GenJVM.this.global.icodes.Local]">filterNot</span> <span class="delimiter">(</span><a href="#241110" title="GenJVM.this.global.icodes.Local">_</a>.<a href="../icode/Members.scala.html#197979" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a>.<span title="=&gt; Boolean">isSynthetic</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#241097" title="List[GenJVM.this.global.icodes.Local]">vars</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JConstantPool" id="241098">pool</a> = <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>
      <span class="keyword">val</span> <a title="Int" id="241099">pc</a> = <a href="#237508" title="ch.epfl.lamp.fjbg.JCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="241100">anonCounter</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="241101">entries</a> = <span title="Int(0)" class="int">0</span>
      <a href="#241097" title="List[GenJVM.this.global.icodes.Local]">vars</a>.<span title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.Local" id="241131">lv</a> =&gt;
        <a href="#241131" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197996" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <a href="#231473" title="(ranges: List[(Int, Int)])List[(Int, Int)]">mergeEntries</a><span class="delimiter">(</span><a href="#241131" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197995" title="=&gt; List[(Int, Int)]">ranges</a>.<span title="=&gt; List[(Int, Int)]">reverse</span><span class="delimiter">)</span>;
        <a href="#241101" title="Int">entries</a> <span title="(x: Int)Int">+=</span> <a href="#241131" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197995" title="=&gt; List[(Int, Int)]">ranges</a>.<span title="=&gt; Int">length</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isStatic</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#241101" title="Int">entries</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="241102">lvTab</a> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span> <span title="(x: Int)Int">+</span> <span title="Int(10)" class="int">10</span> <span title="(x: Int)Int">*</span> <a href="#241101" title="Int">entries</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit" id="241103">emitEntry</a><span class="delimiter">(</span><a title="String" id="241153">name</a>: <span title="String">String</span>, <a title="String" id="241154">signature</a>: <span title="String">String</span>, <a title="Short" id="241155">idx</a>: <span title="Short">Short</span>, <a title="Short" id="241156">start</a>: <span title="Short">Short</span>, <a title="Short" id="241157">end</a>: <span title="Short">Short</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#241102" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#241156" title="Short">start</a>
        <a href="#241102" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#241157" title="Short">end</a>
        <a href="#241102" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#241098" title="ch.epfl.lamp.fjbg.JConstantPool">pool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="#241153" title="String">name</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="#241102" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#241098" title="ch.epfl.lamp.fjbg.JConstantPool">pool</a>.<span title="(x$1: java.lang.String)Int">addUtf8</span><span class="delimiter">(</span><a href="#241154" title="String">signature</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="#241102" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#241155" title="Short">idx</a>
      <span class="delimiter">}</span>

      <a href="#241102" title="java.nio.ByteBuffer">lvTab</a>.<span title="(x$1: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><a href="#241101" title="Int">entries</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#231408" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isStatic</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#241103" title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit">emitEntry</a><span class="delimiter">(</span><span title="java.lang.String(&quot;this&quot;)" class="string">&quot;this&quot;</span>, <a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()java.lang.String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Short(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span>.<span title="=&gt; Short">toShort</span>, <a href="#241099" title="Int">pc</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="241190">lv</a> &lt;- <a href="#241097" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">vars</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="241191">name</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#241190" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197979" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#241100" title="Int">anonCounter</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <span title="java.lang.String(&quot;&lt;anon&quot;)" class="string">&quot;&lt;anon&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#241100" title="Int">anonCounter</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#231418" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#241190" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197979" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Short" id="241192">index</a> = <a href="#231470" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#241190" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="241193">tpe</a>   = <a href="GenJVMUtil.scala.html#231348" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#241190" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197981" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>.<span title="()java.lang.String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="241242">start</a>, <a title="Int" id="241243">end</a><span class="delimiter">)</span> &lt;- <a href="#241190" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#197995" title="(f: (Int, Int) =&gt; Unit)Unit">ranges</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#241103" title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit">emitEntry</a><span class="delimiter">(</span><a href="#241191" title="java.lang.String">name</a>, <a href="#241193" title="java.lang.String">tpe</a>, <a href="#241192" title="Short">index</a>, <a href="#241242" title="Int">start</a>.<span title="=&gt; Short">toShort</span>, <span class="delimiter">(</span><a href="#241243" title="Int">end</a> <span title="(x: Int)Int">-</span> <a href="#241242" title="Int">start</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="241104">attr</a> =
        <a href="#231410" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: java.lang.String, x$4: Array[Byte])ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#231405" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>,
                                    <a href="#237508" title="ch.epfl.lamp.fjbg.JCode">jcode</a>,
                                    <a href="../../symtab/StdNames.scala.html#67720" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../symtab/StdNames.scala.html#115099" title="=&gt; GenJVM.this.global.tpnme.NameType">LocalVariableTableATTR</a>.<a href="../../symtab/Names.scala.html#96604" title="()String">toString</a>,
                                    <a href="#241102" title="java.nio.ByteBuffer">lvTab</a>.<span title="()Array[Byte]">array</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#237508" title="ch.epfl.lamp.fjbg.JCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#241104" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
    <span class="delimiter">}</span>


    <span class="comment">/** For each basic block, the first PC address following it. */</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]" id="231465">endPC</a> = <span title="()scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]">HashMap</span><span class="delimiter">[</span>BasicBlock, Int<span class="delimiter">]</span>

    <span class="comment">////////////////////// local vars ///////////////////////</span>

    <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="231467">sizeOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="241252">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#231468" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#97048" title="(t: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#241252" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107562" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(k: GenJVM.this.global.icodes.TypeKind)Int" id="231468">sizeOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="241258">k</a>: <a href="../icode/TypeKinds.scala.html#97012" title="GenJVM.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#241258" title="GenJVM.this.global.icodes.TypeKind">k</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#97034" title="Int(2)">DOUBLE</a> | <a href="../icode/TypeKinds.scala.html#97030" title="object GenJVM.this.global.icodes.LONG">LONG</a> =&gt; <span title="Int(2)" class="int">2</span>
      <span class="keyword">case</span> <span title="Int(1)">_</span> =&gt; <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod, sym: GenJVM.this.global.Symbol)Int" id="231469">indexOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="237475">m</a>: <a href="../icode/Members.scala.html#96984" title="GenJVM.this.global.icodes.IMethod">IMethod</a>, <a title="GenJVM.this.global.Symbol" id="237476">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Some<a href="#241270" title="GenJVM.this.global.icodes.Local" id="241262" class="delimiter">(</a><a title="GenJVM.this.global.icodes.Local" id="241270">local</a><span class="delimiter">)</span> = <a href="#237475" title="GenJVM.this.global.icodes.IMethod">m</a> <a href="../icode/Members.scala.html#197822" title="(sym: GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.Local]">lookupLocal</a> <a href="#237476" title="GenJVM.this.global.Symbol">sym</a>
      <a href="#231470" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#241262" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(local: GenJVM.this.global.icodes.Local)Int" id="231470">indexOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="237473">local</a>: <a href="../icode/Members.scala.html#96985" title="GenJVM.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <a href="#231474" title="(cond: Boolean, msg: =&gt; String)Unit">assert</a><span class="delimiter">(</span><a href="#237473" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#197986" title="=&gt; Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>,
             <span title="java.lang.String(&quot;Invalid index for: &quot;)" class="string">&quot;Invalid index for: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#237473" title="GenJVM.this.global.icodes.Local">local</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#237473" title="GenJVM.this.global.icodes.Local">local</a>.<span title="()Int">##</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span><span class="delimiter">)</span>
      <a href="#237473" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#197986" title="=&gt; Int">index</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Compute the indexes of each local variable of the given
     * method. Assumes parameters come first in the list of locals.
     */</span>
    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="231471">computeLocalVarsIndex</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="237253">m</a>: <a href="../icode/Members.scala.html#96984" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="241283">idx</a> = <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#237253" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197788" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#107527" title="=&gt; Boolean">isStaticMember</a><span class="delimiter">)</span>
        <a href="#241283" title="Int">idx</a> = <span title="Int(0)" class="int">0</span>;

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="241305">l</a> &lt;- <a href="#237253" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#197809" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">locals</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#64829" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#36747" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#42149" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Index value for &quot;)" class="string">&quot;Index value for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#241305" title="GenJVM.this.global.icodes.Local">l</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#241305" title="GenJVM.this.global.icodes.Local">l</a>.<span title="()Int">##</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#241283" title="Int">idx</a><span class="delimiter">)</span>
        <a href="#241305" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#197987" title="(x$1: Int)Unit">index</a> = <a href="#241283" title="Int">idx</a>
        <a href="#241283" title="Int">idx</a> <span title="(x: Int)Int">+=</span> <a href="#231468" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="#241305" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#197981" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">////////////////////// Utilities ////////////////////////</span>

    <span class="comment">/** Calls to methods in 'sym' need invokeinterface? */</span>
    <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="231472">needsInterfaceCall</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="239226">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="../../Global.scala.html#64883" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checking for interface call: &quot;)" class="string">&quot;checking for interface call: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#239226" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; String">fullName</span><span class="delimiter">)</span>
      <span class="comment">// the following call to 'info' may cause certain symbols to fail loading</span>
      <span class="comment">// because we're too late in the compilation chain (aliases to overloaded</span>
      <span class="comment">// symbols will not be properly resolved, see scala.Range, method</span>
      <span class="comment">// `super$++` that fails in UnPickler at LazyTypeRefAndAlias.complete</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#239226" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107480" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#239226" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107564" title="=&gt; GenJVM.this.global.Type">info</a> <span class="comment">// needed so that the type is up to date</span>
                                <span class="comment">// (erasure may add lateINTERFACE to traits)</span>

      <a href="#239226" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isInterface</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#239226" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isJavaDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#239226" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107588" title="(that: GenJVM.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="../../symtab/Definitions.scala.html#106252" title="=&gt; GenJVM.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Merge adjacent ranges. */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ranges: List[(Int, Int)])List[(Int, Int)]" id="231473">mergeEntries</a><span class="delimiter">(</span><a title="List[(Int, Int)]" id="241132">ranges</a>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> = 
      <span class="delimiter">(</span><a href="#241132" title="List[(Int, Int)]">ranges</a>.<span title="(z: List[(Int, Int)])(f: (List[(Int, Int)], (Int, Int)) =&gt; List[(Int, Int)])List[(Int, Int)]">foldLeft</span><span class="delimiter">(</span><span title="object Nil">Nil</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span>collapsed: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span>, p: <span title="(Int, Int)" class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(_1: List[(Int, Int)], _2: (Int, Int))(List[(Int, Int)], (Int, Int))" class="delimiter">(</span><a href="#241348" title="List[(Int, Int)]">collapsed</a>, <a href="#241349" title="(Int, Int)">p</a><span class="delimiter">)</span> <span title="List[(Int, Int)]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[(Int, Int)]" class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt; <span title="(xs: (Int, Int)*)List[(Int, Int)]">List</span><span class="delimiter">(</span><a href="#241349" title="(Int, Int)">p</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="List[(Int, Int)]" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="241373">s1</a>, <a title="Int" id="241374">e1</a><span class="delimiter">)</span> :: <a title="List[(Int, Int)]" id="241375">rest</a>, <span class="delimiter">(</span><a title="Int" id="241378">s2</a>, <a title="Int" id="241379">e2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#241374" title="Int">e1</a> <span title="(x: Int)Boolean">==</span> <a href="#241378" title="Int">s2</a><span class="delimiter">)</span> =&gt; <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#241373" title="Int">s1</a>, <a href="#241379" title="Int">e2</a><span class="delimiter">)</span> <a href="#241384" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#241375" title="List[(Int, Int)]">rest</a>
        <span class="keyword">case</span> <span title="List[(Int, Int)]">_</span> =&gt; <a href="#241349" title="(Int, Int)">p</a> <a href="#241396" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#241348" title="List[(Int, Int)]">collapsed</a>
      <span class="delimiter">}</span><span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[(Int, Int)]">reverse</span>

    <span class="keyword">def</span> <a title="(cond: Boolean, msg: =&gt; String)Unit" id="231474">assert</a><span class="delimiter">(</span><a title="Boolean" id="232746">cond</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; String" id="232747">msg</a>: =&gt; String<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#232746" title="Boolean">cond</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#197830" title="()Unit">dump</a>
      <a href="../../symtab/SymbolTable.scala.html#64790" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><a href="#232747" title="=&gt; String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012Method: &quot;)" class="string">&quot;\nMethod: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#231402" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cond: Boolean)Unit" id="231475">assert</a><span class="delimiter">(</span><a title="Boolean" id="232744">cond</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#231474" title="(cond: Boolean, msg: =&gt; String)Unit">assert</a><span class="delimiter">(</span><a href="#232744" title="Boolean">cond</a>, <span title="java.lang.String(&quot;Assertion failed.&quot;)" class="string">&quot;Assertion failed.&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Return the Java modifiers for the given symbol.
   * Java modifiers for classes:
   *  - public, abstract, final, strictfp (not used)
   * for interfaces:
   *  - the same as for classes, without 'final'
   * for fields:
   *  - public, private (*)
   *  - static, final 
   * for methods:
   *  - the same as for fields, plus:
   *  - abstract, synchronized (not used), strictfp (not used), native (not used)
   * 
   *  (*) protected cannot be used, since inner classes 'see' protected members,
   *      and they would fail verification after lifted.
   */</span>
  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="112611">javaFlags</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="233675">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(args: Int*)Int" id="241407">mkFlags</a><span class="delimiter">(</span><a title="Int*" id="241409">args</a>: <span title="Int*">Int</span>*<span class="delimiter">)</span> = <a href="#241409" title="Int*">args</a>.<span title="(z: Int)(op: (Int, Int) =&gt; Int)Int">foldLeft</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#241422" title="Int">_</a> <span title="(x: Int)Int">|</span> <a href="#241423" title="Int">_</a><span class="delimiter">)</span>
    <span class="comment">// constructors of module classes should be private</span>
    <span class="comment">// PP: why are they only being marked private at this stage and not earlier?</span>
    <span class="keyword">val</span> <a title="Boolean" id="241408">isConsideredPrivate</a> =
      <a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isPrivate</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107519" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#112612" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107541" title="=&gt; GenJVM.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#241407" title="(args: Int*)Int">mkFlags</a><span class="delimiter">(</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#241408" title="Boolean">isConsideredPrivate</a><span class="delimiter">)</span> <span title="Int(2)">ACC_PRIVATE</span> <span class="keyword">else</span> <span title="Int(1)">ACC_PUBLIC</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isDeferred</span> <span title="(x: Boolean)Boolean">||</span> <a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">hasAbstractFlag</span><span class="delimiter">)</span> <span title="Int(1024)">ACC_ABSTRACT</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isInterface</span><span class="delimiter">)</span> <span title="Int(512)">ACC_INTERFACE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isFinal</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; GenJVM.this.global.Symbol">enclClass</span>.<span title="=&gt; Boolean">isInterface</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107473" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span title="Int(16)">ACC_FINAL</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107527" title="=&gt; Boolean">isStaticMember</a><span class="delimiter">)</span> <span title="Int(8)">ACC_STATIC</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isBridge</span> <span title="(x: Boolean)Boolean">||</span> <a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="(mask: Long)Boolean">hasFlag</span><span class="delimiter">(</span>Flags.<span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isMethod</span><span class="delimiter">)</span> <span title="Int(64)">ACC_BRIDGE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isInterface</span><span class="delimiter">)</span> <span title="Int(32)">ACC_SUPER</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#233675" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isVarargsMethod</span><span class="delimiter">)</span> <span title="Int(128)">ACC_VARARGS</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="112612">isTopLevelModule</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="233699">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="../../symtab/SymbolTable.scala.html#64815" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a> <span class="delimiter">(</span><a href="../../Global.scala.html#64991" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#72334" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../Phase.scala.html#102977" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#233699" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233699" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233699" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#107532" title="=&gt; Boolean">isNestedClass</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="112613">isStaticModule</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="233688">sym</a>: <a href="../../symtab/Symbols.scala.html#67331" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#233688" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isModuleClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233688" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isImplClass</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#233688" title="GenJVM.this.global.Symbol">sym</a>.<span title="=&gt; Boolean">isLifted</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>