<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/jvm/GenJVM.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Iulian Dragos
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.jvm

<span class="keyword">import</span> java.io.<span class="delimiter">{</span> DataOutputStream, OutputStream <span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.ByteBuffer
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.internal.pickling.<span class="delimiter">{</span> PickleFormat, PickleBuffer <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.reflect.SigParser
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.util.<span class="delimiter">{</span> SourceFile, NoSourceFile <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.internal.<a href="../../../../reflect/internal/ClassfileConstants.scala.html#9626" title="object scala.reflect.internal.ClassfileConstants">ClassfileConstants</a>._
<span class="keyword">import</span> ch.epfl.lamp.fjbg._
<span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JAccessFlags">JAccessFlags</span>._
<span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JObjectType">JObjectType</span>.<span class="delimiter">{</span> JAVA_LANG_STRING, JAVA_LANG_OBJECT <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.jar.<span class="delimiter">{</span> JarEntry, JarOutputStream <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile

/** This class ...
 *
 *  @author  Iulian Dragos
 *  @version 1.0
 *
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class GenJVM extends scala.tools.nsc.SubComponent with scala.tools.nsc.backend.jvm.GenJVMUtil with scala.tools.nsc.backend.jvm.GenAndroid with scala.tools.nsc.backend.jvm.BytecodeWriters with ScalaObject" id="17458">GenJVM</a> <a href="#17458" title="ScalaObject" class="keyword">extends</a> <a href="../../SubComponent.scala.html#12666" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="keyword">with</span> <a href="GenJVMUtil.scala.html#17494" title="scala.tools.nsc.backend.jvm.GenJVMUtil">GenJVMUtil</a> <span class="keyword">with</span> <a href="GenAndroid.scala.html#17353" title="scala.tools.nsc.backend.jvm.GenAndroid">GenAndroid</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#17311" title="scala.tools.nsc.backend.jvm.BytecodeWriters">BytecodeWriters</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="BytecodeWriters.scala.html#243746" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#186153" title="object GenJVM.this.global.icodes">icodes</a>._
  <span class="keyword">import</span> <a href="../../Global.scala.html#186153" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/Opcodes.scala.html#232654" title="object GenJVM.this.global.icodes.opcodes">opcodes</a>._
  <span class="keyword">import</span> <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>._

  <span class="keyword">val</span> <a title="String" id="243674">phaseName</a> = <span title="String(&quot;jvm&quot;)" class="string">&quot;jvm&quot;</span>

  /** Create a new phase */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(p: scala.tools.nsc.Phase)scala.tools.nsc.Phase" id="243676">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="319332">p</a>: <a href="../../../../reflect/internal/Phase.scala.html#8452" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Phase.scala.html#8452" title="scala.tools.nsc.Phase">Phase</a> = <span title="GenJVM.this.JvmPhase" class="keyword">new</span> <a href="#243680" title="GenJVM.this.JvmPhase">JvmPhase</a><span class="delimiter">(</span><a href="#319332" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)scala.tools.nsc.io.AbstractFile" id="243677">outputDirectory</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="358362">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#24833" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">(</span>
    <a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#186560" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../../settings/MutableSettings.scala.html#192144" title="(src: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">outputDirFor</a> <span class="delimiter">{</span>
      <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; GenJVM.this.global.AbstractFileType)GenJVM.this.global.AbstractFileType">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188850" title="=&gt; scala.tools.nsc.Phase">flattenPhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#69292" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#358362" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; GenJVM.this.global.AbstractFileType">sourceFile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="243678">getFile</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="358370">base</a>: <a href="../../io/AbstractFile.scala.html#24833" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="358371">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="358372">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#24833" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scala.tools.nsc.io.AbstractFile" id="358374">dir</a> = <a href="#358370" title="scala.tools.nsc.io.AbstractFile">base</a>
    <span class="keyword">val</span> <a title="List[String]" id="358375">pathParts</a> = <a href="#358371" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="358509">part</a> &lt;- <a href="#358375" title="List[String]">pathParts</a>.<span title="(f: String =&gt; Unit)Unit">init</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#358374" title="scala.tools.nsc.io.AbstractFile">dir</a> = <a href="#358374" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#191156" title="(name: String)scala.tools.nsc.io.AbstractFile">subdirectoryNamed</a><span class="delimiter">(</span><a href="#358509" title="String">part</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#358374" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#191155" title="(name: String)scala.tools.nsc.io.AbstractFile">fileNamed</a><span class="delimiter">(</span><a href="#358375" title="List[String]">pathParts</a>.<span title="=&gt; String">last</span> <span title="(x$1: Any)String">+</span> <a href="#358372" title="String">suffix</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="243679">getFile</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="358511">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="358512">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="358513">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#24833" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> =
    <a href="#243678" title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#243677" title="(sym: GenJVM.this.global.Symbol)scala.tools.nsc.io.AbstractFile">outputDirectory</a><span class="delimiter">(</span><a href="#358511" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#358512" title="ch.epfl.lamp.fjbg.JClass">cls</a>, <a href="#358513" title="String">suffix</a><span class="delimiter">)</span>

  /** JVM code generation phase
   */
  <span class="keyword">class</span> <a title="class JvmPhase extends GenJVM.this.global.icodes.ICodePhase with ScalaObject" id="243680">JvmPhase</a><a href="#243680" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="358361">prev</a>: <a href="../../../../reflect/internal/Phase.scala.html#8452" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../icode/ICodes.scala.html#232623" title="GenJVM.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#358361" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="358356">name</a> = <a href="#243674" title="=&gt; String">phaseName</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="358357">erasedTypes</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="(cls: GenJVM.this.global.icodes.IClass)Nothing" id="358358">apply</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="358531">cls</a>: <a href="../icode/Members.scala.html#232636" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> = sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;no implementation&quot;)" class="string">&quot;no implementation&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(clasz: GenJVM.this.global.icodes.IClass)Boolean" id="358359">isJavaEntryPoint</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="358546">clasz</a>: <a href="../icode/Members.scala.html#232636" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="358549">sym</a> = <a href="#358546" title="GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>
      <span class="keyword">def</span> <a title="(msg: String, pos: GenJVM.this.global.Position)Boolean" id="358550">fail</a><span class="delimiter">(</span><a title="String" id="358554">msg</a>: <span title="String">String</span>, <a title="GenJVM.this.global.Position" id="358556">pos</a>: <a href="../../util/Position.scala.html#33991" title="GenJVM.this.global.Position">Position</a> = <a href="#358549" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#358546" title="GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232939" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#188715" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#358549" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a>,
          <a href="#358549" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)String">+</span> <span title="String(&quot; has a main method with parameter type Array[String], but &quot;)" class="string">&quot; has a main method with parameter type Array[String], but &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#358549" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46582" title="(separator: Char)String">fullName</a><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; will not be a runnable program.\n&quot;)" class="string">&quot; will not be a runnable program.\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;  Reason: &quot;)" class="string">&quot;  Reason: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#358554" title="String">msg</a>
          // TODO: make this next claim true, if possible
          //   by generating valid main methods as static in module classes
          //   not sure what the jvm allows here
          // + &quot;  You can still run the program by calling it as &quot; + sym.javaSimpleName + &quot; instead.&quot;
        <span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(msg: String)Boolean" id="358551">failNoForwarder</a><span class="delimiter">(</span><a title="String" id="358565">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#358550" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><a href="#358565" title="String">msg</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, which means no static forwarder can be generated.\n&quot;)" class="string">&quot;, which means no static forwarder can be generated.\n&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.global.Symbol]" id="358552">possibles</a> = <span title="List[GenJVM.this.global.icodes.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#358549" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46806" title="=&gt; Boolean">hasModuleFlag</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#358549" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a> <a href="../../../../reflect/internal/Types.scala.html#41546" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">nonPrivateMember</a> <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#59200" title="=&gt; GenJVM.this.global.nme.NameType">main</a><span class="delimiter">)</span>.<a href="../../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[GenJVM.this.global.icodes.global.Symbol]">alternatives</a> <span class="keyword">else</span> <span title="object Nil">Nil</span>
      <span class="keyword">val</span> <a title="Boolean" id="358553">hasApproximate</a> = <a href="#358552" title="List[GenJVM.this.global.icodes.global.Symbol]">possibles</a> <span title="(p: GenJVM.this.global.icodes.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="358587">m</a> =&gt;
        <a href="#358587" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="358596">p</a> :: <span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt; <a href="#358596" title="GenJVM.this.global.Symbol">p</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; GenJVM.this.global.Symbol">ArrayClass</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span>                       =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      // At this point it's a module with a main-looking method, so either
      // succeed or warn that it isn't.
      <a href="#358553" title="Boolean">hasApproximate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        // Before erasure so we can identify generic mains.
        <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="358607">companion</a>     = <a href="#358549" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46695" title="=&gt; GenJVM.this.global.icodes.global.Symbol">linkedClassOfClass</a>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="358608">companionMain</a> = <a href="#358607" title="GenJVM.this.global.icodes.global.Symbol">companion</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#41545" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#59200" title="=&gt; GenJVM.this.global.nme.NameType">main</a><span class="delimiter">)</span>

          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45214" title="(sym: GenJVM.this.global.Symbol)Boolean">hasJavaMainMethod</a><span class="delimiter">(</span><a href="#358607" title="GenJVM.this.global.icodes.global.Symbol">companion</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#358551" title="(msg: String)Boolean">failNoForwarder</a><span class="delimiter">(</span><span title="String(&quot;companion contains its own main method&quot;)" class="string">&quot;companion contains its own main method&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#358607" title="GenJVM.this.global.icodes.global.Symbol">companion</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#41545" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#59200" title="=&gt; GenJVM.this.global.nme.NameType">main</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            // this is only because forwarders aren't smart enough yet
            <a href="#358551" title="(msg: String)Boolean">failNoForwarder</a><span class="delimiter">(</span><span title="String(&quot;companion contains its own main method (implementation restriction: no main is allowed, regardless of signature)&quot;)" class="string">&quot;companion contains its own main method (implementation restriction: no main is allowed, regardless of signature)&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#358607" title="GenJVM.this.global.icodes.global.Symbol">companion</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
            <a href="#358551" title="(msg: String)Boolean">failNoForwarder</a><span class="delimiter">(</span><span title="String(&quot;companion is a trait&quot;)" class="string">&quot;companion is a trait&quot;</span><span class="delimiter">)</span>
          // Now either succeeed, or issue some additional warnings for things which look like
          // attempts to be java main methods.
          <span class="keyword">else</span> <a href="#358552" title="List[GenJVM.this.global.icodes.global.Symbol]">possibles</a> <span title="(p: GenJVM.this.global.icodes.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="358628">m</a> =&gt;
            <a href="#358628" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <a href="#358550" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;main methods cannot be generic.&quot;)" class="string">&quot;main methods cannot be generic.&quot;</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[GenJVM.this.global.Symbol]" id="358633">params</a>, <a title="GenJVM.this.global.Type" id="358634">res</a><span class="delimiter">)</span> =&gt;
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#358634" title="GenJVM.this.global.Type">res</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <a href="#358635" title="(x: GenJVM.this.global.Symbol)List[GenJVM.this.global.Symbol]">::</a> <a href="#358633" title="List[GenJVM.this.global.Symbol]">params</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#358651" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#358550" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;main methods cannot refer to type parameters or abstract types.&quot;)" class="string">&quot;main methods cannot refer to type parameters or abstract types.&quot;</span>, <a href="#358628" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
                <span class="keyword">else</span>
                  <a href="../../../../reflect/internal/Definitions.scala.html#45213" title="(sym: GenJVM.this.global.Symbol)Boolean">isJavaMainMethod</a><span class="delimiter">(</span><a href="#358628" title="GenJVM.this.global.icodes.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#358550" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;main method must have exact signature (Array[String])Unit&quot;)" class="string">&quot;main method must have exact signature (Array[String])Unit&quot;</span>, <a href="#358628" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Boolean" id="358653">tp</a> =&gt;
                <a href="#358550" title="(msg: String, pos: GenJVM.this.global.Position)Boolean">fail</a><span class="delimiter">(</span><span title="String(&quot;don\'t know what this is: &quot;)" class="string">&quot;don't know what this is: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#358653" title="GenJVM.this.global.icodes.global.Type">tp</a>, <a href="#358628" title="GenJVM.this.global.icodes.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="358360">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      // we reinstantiate the bytecode generator at each run, to allow the GC
      // to collect everything
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#186181" title="(msg: String)Unit">inform</a><span class="delimiter">(</span><span title="String(&quot;[running phase &quot;)" class="string">&quot;[running phase &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#358356" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; on icode]&quot;)" class="string">&quot; on icode]&quot;</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186766" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xdce</a>.<a href="../../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="358728">sym</a>, <a title="GenJVM.this.global.icodes.IClass" id="358729">cls</a><span class="delimiter">)</span> &lt;- <a href="../../Global.scala.html#186153" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#232589" title="(f: ((GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.IClass)) =&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass])Unit">classes</a> <span class="keyword">if</span> <a href="../../Global.scala.html#186263" title="object GenJVM.this.global.inliner">inliner</a>.<a href="../opt/Inliners.scala.html#243219" title="(cls: GenJVM.this.global.inliner.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#358728" title="GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../Global.scala.html#186269" title="object GenJVM.this.global.deadCode">deadCode</a>.<a href="../opt/DeadCodeElimination.scala.html#243379" title="(elem: GenJVM.this.global.deadCode.global.Symbol)Boolean">liveClosures</a><span class="delimiter">(</span><a href="#358728" title="GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#186153" title="object GenJVM.this.global.icodes">icodes</a>.<a href="../icode/ICodes.scala.html#232589" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a> <span title="(key: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.classes.type">-=</span> <a href="#358728" title="GenJVM.this.global.icodes.global.Symbol">sym</a>

      // For predictably ordered error messages.
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.IClass]" id="358657">sortedClasses</a> = <a href="../icode/ICodes.scala.html#232589" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="=&gt; Iterable[GenJVM.this.global.icodes.IClass]">values</span>.<span title="=&gt; List[GenJVM.this.global.icodes.IClass]">toList</span> <span title="(f: GenJVM.this.global.icodes.IClass =&gt; String)(implicit ord: scala.math.Ordering[String])List[GenJVM.this.global.icodes.IClass]">sortBy</span> <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#358756" title="GenJVM.this.global.icodes.IClass">_</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.IClass]" id="358658">entryPoints</a>   = <a href="#358657" title="List[GenJVM.this.global.icodes.IClass]">sortedClasses</a> <span title="(p: GenJVM.this.global.icodes.IClass =&gt; Boolean)List[GenJVM.this.global.icodes.IClass]">filter</span> <a href="#358359" title="(clasz: GenJVM.this.global.icodes.IClass)Boolean">isJavaEntryPoint</a>

      <span class="keyword">val</span> <a title="GenJVM.this.BytecodeWriter" id="358659">bytecodeWriter</a> = <a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#186560" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../../settings/MutableSettings.scala.html#192140" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">getSingleOutput</a> <span title="GenJVM.this.BytecodeWriter" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="GenJVM.this.DirectToJarfileWriter">Some</span><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="358821">f</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#358821" title="scala.tools.nsc.io.AbstractFile">f</a> <a href="../../io/AbstractFile.scala.html#191128" title="(other: String)Boolean">hasExtension</a> <span title="String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span> =&gt;
          // If no main class was specified, see if there's only one
          // entry point among the classes going into the jar.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186730" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#74540" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#358658" title="List[GenJVM.this.global.icodes.IClass]">entryPoints</a> <span title="(f: GenJVM.this.global.icodes.IClass =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IClass],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#358848" title="GenJVM.this.global.icodes.IClass">_</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/Symbols.scala.html#46582" title="(separator: Char)String">fullName</a> <span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Nil</span>      =&gt;
                <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No Main-Class designated or discovered.&quot;)" class="string">&quot;No Main-Class designated or discovered.&quot;</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Unit" id="358882">name</a> :: <span title="object Nil">Nil</span> =&gt;
                <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Unique entry point: setting Main-Class to &quot;)" class="string">&quot;Unique entry point: setting Main-Class to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#358882" title="String">name</a><span class="delimiter">)</span>
                <a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186730" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#74543" title="(arg: String)Unit">value</a> = <a href="#358882" title="String">name</a>
              <span class="keyword">case</span> <a title="Unit" id="358892">names</a> =&gt;
                <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No Main-Class due to multiple entry points:\n  &quot;)" class="string">&quot;No Main-Class due to multiple entry points:\n  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#358892" title="List[String]">names</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n  &quot;)" class="string">&quot;\n  &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Main-Class was specified: &quot;)" class="string">&quot;Main-Class was specified: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186730" title="=&gt; scala.tools.nsc.Settings#StringSetting">mainClass</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#74542" title="=&gt; String">value</a><span class="delimiter">)</span>

          <span title="GenJVM.this.DirectToJarfileWriter" class="keyword">new</span> <a href="BytecodeWriters.scala.html#243752" title="GenJVM.this.DirectToJarfileWriter">DirectToJarfileWriter</a><span class="delimiter">(</span><a href="#358821" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../../io/AbstractFile.scala.html#191133" title="=&gt; scala.tools.nsc.io.JFile">file</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="bytecodeWriter extends Object with GenJVM.this.ClassBytecodeWriter">_</span>                               =&gt;
          <span title="bytecodeWriter extends Object with GenJVM.this.ClassBytecodeWriter" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186808" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ygenjavap</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#74540" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="bytecodeWriter extends Object with GenJVM.this.ClassBytecodeWriter" class="keyword">if</span><span class="delimiter">(</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186810" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ydumpclasses</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#74540" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>
              <a href="#358902" title="Object with GenJVM.this.ClassBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter" id="358902">ClassBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
            <span class="keyword">else</span> 
              <a href="#358906" title="Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.DumpBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.DumpBytecodeWriter" id="358906">ClassBytecodeWriter</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#243755" title="GenJVM.this.DumpBytecodeWriter">DumpBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#358912" title="Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.JavapBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter with GenJVM.this.JavapBytecodeWriter" id="358912">ClassBytecodeWriter</a> <span class="keyword">with</span> <a href="BytecodeWriters.scala.html#243753" title="GenJVM.this.JavapBytecodeWriter">JavapBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="GenJVM.this.BytecodeGenerator" id="358660">codeGenerator</a> = <span title="GenJVM.this.BytecodeGenerator" class="keyword">new</span> <a href="#243684" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a><span class="delimiter">(</span><a href="#358659" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Created new bytecode generator for &quot;)" class="string">&quot;Created new bytecode generator for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../icode/ICodes.scala.html#232589" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="=&gt; Int">size</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; classes.&quot;)" class="string">&quot; classes.&quot;</span><span class="delimiter">)</span>

      <a href="#358657" title="List[GenJVM.this.global.icodes.IClass]">sortedClasses</a> <span title="(f: GenJVM.this.global.icodes.IClass =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.IClass" id="358961">c</a> =&gt;
        <span class="keyword">try</span> <a href="#358660" title="GenJVM.this.BytecodeGenerator">codeGenerator</a>.<a href="#357481" title="(c: GenJVM.this.global.icodes.IClass)Unit">genClass</a><span class="delimiter">(</span><a href="#358961" title="GenJVM.this.global.icodes.IClass">c</a><span class="delimiter">)</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="358964">e</a>: JCode.<span title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">CodeSizeTooBigException</span> =&gt;
            <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Skipped class %s because it has methods that are too long.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#358961" title="GenJVM.this.global.icodes.IClass">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#358659" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a>.<a href="BytecodeWriters.scala.html#356144" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../icode/ICodes.scala.html#232589" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]">classes</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">var</span> <a title="Int" id="243682">pickledBytes</a> = <span title="Int(0)" class="int">0</span> // statistics

  /**
   * Java bytecode generator.
   *
   */
  <span class="keyword">class</span> <a title="class BytecodeGenerator extends Object with GenJVM.this.BytecodeUtil with ScalaObject" id="243684">BytecodeGenerator</a><a href="#243684" title="ScalaObject" class="delimiter">(</a><a title="GenJVM.this.BytecodeWriter" id="358941">bytecodeWriter</a>: <a href="BytecodeWriters.scala.html#243751" title="GenJVM.this.BytecodeWriter">BytecodeWriter</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="GenJVMUtil.scala.html#243730" title="GenJVM.this.BytecodeUtil">BytecodeUtil</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="()GenJVM.this.BytecodeGenerator" id="357410" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#243684" title="BytecodeGenerator.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#359202" title="Object with GenJVM.this.ClassBytecodeWriter" class="keyword">new</a> <a title="anonymous class $anon extends Object with GenJVM.this.ClassBytecodeWriter" id="359202">ClassBytecodeWriter</a> <span class="delimiter">{</span> <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="357411">debugLevel</a> = <a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186745" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">debuginfo</a>.<a href="../../settings/MutableSettings.scala.html#197316" title="=&gt; Int">indexOfChoice</a>
    <span class="keyword">import</span> <a href="#358941" title="GenJVM.this.BytecodeWriter">bytecodeWriter</a>.writeClass

    <span class="keyword">val</span> <a title="Double" id="357413">MIN_SWITCH_DENSITY</a> = <span title="Double(0.7)" class="double">0.7</span>
    <span class="keyword">val</span> <a title="Int" id="357415">INNER_CLASSES_FLAGS</a> =
      <span class="delimiter">(</span>ACC_PUBLIC | ACC_PRIVATE | ACC_PROTECTED | ACC_STATIC | ACC_FINAL | ACC_INTERFACE <span title="Int(1567)">|</span> ACC_ABSTRACT<span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Int" id="357417">PublicStatic</a>      = ACC_PUBLIC <span title="Int(9)">|</span> ACC_STATIC
    <span class="keyword">val</span> <a title="Int" id="357419">PublicStaticFinal</a> = ACC_PUBLIC | ACC_STATIC <span title="Int(25)">|</span> ACC_FINAL

    <span class="keyword">val</span> <a title="String" id="357421">StringBuilderClassName</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45132" title="=&gt; GenJVM.this.global.Symbol">StringBuilderClass</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="String" id="357423">BoxesRunTime</a> = <span title="String(&quot;scala.runtime.BoxesRunTime&quot;)" class="string">&quot;scala.runtime.BoxesRunTime&quot;</span>

    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="357425">StringBuilderType</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#357421" title="=&gt; String">StringBuilderClassName</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="357427">toStringType</a>      = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_STRING</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="357429">arrayCloneType</a>    = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="357431">MethodTypeType</a>    = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.dyn.MethodType&quot;)" class="string">&quot;java.dyn.MethodType&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="357433">JavaLangClassType</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.lang.Class&quot;)" class="string">&quot;java.lang.Class&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="357435">MethodHandleType</a>  = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><span title="String(&quot;java.dyn.MethodHandle&quot;)" class="string">&quot;java.dyn.MethodHandle&quot;</span><span class="delimiter">)</span>

    // Scala attributes
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="357437">BeanInfoAttr</a>        = <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45448" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanInfo&quot;)" class="string">&quot;scala.beans.BeanInfo&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="357439">BeanInfoSkipAttr</a>    = <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45448" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanInfoSkip&quot;)" class="string">&quot;scala.beans.BeanInfoSkip&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="357441">BeanDisplayNameAttr</a> = <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45448" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanDisplayName&quot;)" class="string">&quot;scala.beans.BeanDisplayName&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="357443">BeanDescriptionAttr</a> = <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45448" title="(fullname: String)GenJVM.this.global.Symbol">getRequiredClass</a><span class="delimiter">(</span><span title="String(&quot;scala.beans.BeanDescription&quot;)" class="string">&quot;scala.beans.BeanDescription&quot;</span><span class="delimiter">)</span>
    
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long" id="357445">ExcludedForwarderFlags</a> = <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
      <span class="delimiter">(</span> CASE | SPECIALIZED | LIFTED | PROTECTED | STATIC <span title="Long(5514813507589L)">|</span> BridgeAndPrivateFlags <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Additional interface parents based on annotations and other cues
    <span class="keyword">def</span> <a title="(attr: GenJVM.this.global.Symbol)Option[GenJVM.this.global.Type]" id="357447">newParentForAttr</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359209">attr</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[GenJVM.this.global.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#359209" title="GenJVM.this.global.Symbol">attr</a> <span title="Option[GenJVM.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/Definitions.scala.html#45383" title="Some[GenJVM.this.global.Type]">SerializableAttr</a> =&gt; <span title="(x: GenJVM.this.global.Type)Some[GenJVM.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45087" title="=&gt; GenJVM.this.global.Symbol">SerializableClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/Definitions.scala.html#45399" title="Some[GenJVM.this.global.Type]">CloneableAttr</a>    =&gt; <span title="(x: GenJVM.this.global.Type)Some[GenJVM.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45093" title="=&gt; GenJVM.this.global.Symbol">JavaCloneableClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/Definitions.scala.html#45407" title="Some[GenJVM.this.global.Type]">RemoteAttr</a>       =&gt; <span title="(x: GenJVM.this.global.Type)Some[GenJVM.this.global.Type]">Some</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45095" title="=&gt; GenJVM.this.global.Symbol">RemoteInterfaceClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>                =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.reflect.internal.pickling.PickleBuffer" id="357448">versionPickle</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.reflect.internal.pickling.PickleBuffer" id="359027">vp</a> = <span title="scala.reflect.internal.pickling.PickleBuffer" class="keyword">new</span> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#10508" title="scala.reflect.internal.pickling.PickleBuffer">PickleBuffer</a><span class="delimiter">(</span><span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(16)" class="int">16</span><span class="delimiter">)</span>, -<span title="Int(-1)" class="int">1</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#359027" title="scala.reflect.internal.pickling.PickleBuffer">vp</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148916" title="=&gt; Int">writeIndex</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>, <a href="#359027" title="scala.reflect.internal.pickling.PickleBuffer">vp</a><span class="delimiter">)</span>
      <a href="#359027" title="scala.reflect.internal.pickling.PickleBuffer">vp</a> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148922" title="(x: Int)Unit">writeNat</a> <a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#10548" title="object scala.reflect.internal.pickling.PickleFormat">PickleFormat</a>.<a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#149708" title="=&gt; Int">MajorVersion</a>
      <a href="#359027" title="scala.reflect.internal.pickling.PickleBuffer">vp</a> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148922" title="(x: Int)Unit">writeNat</a> <a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#10548" title="object scala.reflect.internal.pickling.PickleFormat">PickleFormat</a>.<a href="../../../../reflect/internal/pickling/PickleFormat.scala.html#149710" title="=&gt; Int">MinorVersion</a>
      <a href="#359027" title="scala.reflect.internal.pickling.PickleBuffer">vp</a> <a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148922" title="(x: Int)Unit">writeNat</a> <span title="Int(0)" class="int">0</span>
      <a href="#359027" title="scala.reflect.internal.pickling.PickleBuffer">vp</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.IClass" id="357451">clasz</a>: <a href="../icode/Members.scala.html#232636" title="GenJVM.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.IMethod" id="357454">method</a>: <a href="../icode/Members.scala.html#232640" title="GenJVM.this.global.icodes.IMethod">IMethod</a> = _
    <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JClass" id="357457">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span> = _
    <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="357460">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span> = _
//    var jcode: JExtendedCode = _

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="357462">isParcelableClass</a> = <a href="GenAndroid.scala.html#243742" title="(sym: GenJVM.this.global.Symbol)Boolean">isAndroidParcelableClass</a><span class="delimiter">(</span><a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="357463">isRemoteClass</a> = <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: GenJVM.this.global.icodes.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#45407" title="=&gt; GenJVM.this.global.Symbol">RemoteAttr</a>
    <span class="keyword">def</span> <a title="=&gt; Option[Long]" id="357464">serialVUID</a> = <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#44937" title="(cls: GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.global.AnnotationInfo]">getAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#45413" title="=&gt; GenJVM.this.global.Symbol">SerialVersionUIDAttr</a> <span title="(pf: PartialFunction[GenJVM.this.global.icodes.global.AnnotationInfo,Long])Option[Long]">collect</span> <a href="#359242" title="Long" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#45951" title="Long">AnnotationInfo</a><span class="delimiter">(</span>_, Literal<span class="delimiter">(</span><a title="GenJVM.this.global.Constant" id="359256">const</a><span class="delimiter">)</span> :: _, _<span class="delimiter">)</span> =&gt; <a href="#359256" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46282" title="=&gt; Long">longValue</a>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.FJBGContext" id="357465">fjbgContext</a> = <span title="(x$1: Int, x$2: Int)ch.epfl.lamp.fjbg.FJBGContext" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.FJBGContext">FJBGContext</span><span class="delimiter">(</span><span title="Int(49)" class="int">49</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Boolean" id="357467">emitSource</a> = <a href="#357411" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(1)" class="int">1</span>
    <span class="keyword">val</span> <a title="Boolean" id="357469">emitLines</a>  = <a href="#357411" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span>
    <span class="keyword">val</span> <a title="Boolean" id="357471">emitVars</a>   = <a href="#357411" title="=&gt; Int">debugLevel</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(3)" class="int">3</span>

    /** For given symbol return a symbol corresponding to a class that should be declared as inner class.
     *
     *  For example:
     *  class A {
     *    class B
     *    object C
     *  }
     *
     *  then method will return NoSymbol for A, the same symbol for A.B (corresponding to A$B class) and A$C$ symbol
     *  for A.C.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol" id="357473">innerClassSymbolFor</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359258">s</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a> =
      <span title="GenJVM.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#359258" title="GenJVM.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#359258" title="GenJVM.this.global.Symbol">s</a> <span class="keyword">else</span> <span title="GenJVM.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#359258" title="GenJVM.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#359258" title="GenJVM.this.global.Symbol">s</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; GenJVM.this.global.Symbol">moduleClass</a> <span class="keyword">else</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)String" id="357474">javaName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="358271">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      /**
       * Checks if given symbol corresponds to inner class/object and add it to innerClassBuffer
       *
       * Note: This method is called recursively thus making sure that we add complete chain
       * of inner class all until root class.
       */
      <span class="keyword">def</span> <a title="(s: GenJVM.this.global.Symbol)Unit" id="359260">collectInnerClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359261">s</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        // TODO: something atPhase(currentRun.flattenPhase.prev) which accounts for
        // being nested in parameterized classes (if we're going to selectively flatten.)
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="359262">x</a> = <a href="#357473" title="(s: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol">innerClassSymbolFor</a><span class="delimiter">(</span><a href="#359261" title="GenJVM.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Boolean" id="359263">isInner</a> = <a href="#359262" title="GenJVM.this.global.Symbol">x</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359262" title="GenJVM.this.global.Symbol">x</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46367" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#359263" title="Boolean">isInner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#357478" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a> <span title="(elem: GenJVM.this.global.Symbol)scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">+=</span> <a href="#359262" title="GenJVM.this.global.Symbol">x</a>
          <a href="#359260" title="(s: GenJVM.this.global.Symbol)Unit">collectInnerClass</a><span class="delimiter">(</span><a href="#359262" title="GenJVM.this.global.Symbol">x</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46367" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#359260" title="(s: GenJVM.this.global.Symbol)Unit">collectInnerClass</a><span class="delimiter">(</span><a href="#358271" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <a href="#243684" title="GenJVM.this.BytecodeGenerator" class="keyword">super</a>.<a href="GenJVMUtil.scala.html#357402" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#358271" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Write a class to disk, adding the Scala signature (pickled type
     *  information) and inner classes.
     *
     * @param jclass The FJBG class, where code was emitted
     * @param sym    The corresponding symbol, used for looking up pickled information
     */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit" id="357475">emitClass</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="359304">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="359305">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#357493" title="(jclass: ch.epfl.lamp.fjbg.JClass)Unit">addInnerClasses</a><span class="delimiter">(</span><a href="#359304" title="ch.epfl.lamp.fjbg.JClass">jclass</a><span class="delimiter">)</span>
      <a href="BytecodeWriters.scala.html#356143" title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">writeClass</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#359305" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a>, <a href="#359304" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#359305" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Returns the ScalaSignature annotation if it must be added to this class,
     *  none otherwise; furthermore, it adds to `jclass` the ScalaSig marker
     *  attribute (marking that a scala signature annotation is present) or the
     *  Scala marker attribute (marking that the signature for this class is in
     *  another file). The annotation that is returned by this method must be
     *  added to the class' annotations list when generating them.
     *
     *  @param jclass The class file that is being readied.
     *  @param sym    The symbol for which the signature has been entered in
     *                the symData map. This is different than the symbol
     *                that is being generated in the case of a mirror class.
     *  @return       An option that is:
     *                - defined and contains an annotation info of the
     *                  ScalaSignature type, instantiated with the pickle
     *                  signature for sym (a ScalaSig marker attribute has
     *                  been written);
     *                - undefined if the jclass/sym couple must not contain a
     *                  signature (a Scala marker attribute has been written).
     */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]" id="357476">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="359312">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="359313">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[GenJVM.this.global.AnnotationInfo]">Option</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span> =
      <a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188805" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)Option[scala.reflect.internal.pickling.PickleBuffer]">get</span> <a href="#359313" title="GenJVM.this.global.Symbol">sym</a> <span title="Option[GenJVM.this.global.AnnotationInfo]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Some[GenJVM.this.global.AnnotationInfo]">Some</span><span class="delimiter">(</span><a title="scala.reflect.internal.pickling.PickleBuffer" id="359333">pickle</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/NameManglers.scala.html#59425" title="(name: GenJVM.this.global.Name)Boolean">isModuleName</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#38394" title="(s: String)GenJVM.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#359312" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="359339">scalaAttr</a> =
            <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#359312" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#359312" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63705" title="=&gt; GenJVM.this.global.tpnme.NameType">ScalaSignatureATTR</a>.<span title="()String">toString</span>,
                                        <a href="#357448" title="=&gt; scala.reflect.internal.pickling.PickleBuffer">versionPickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148910" title="=&gt; Array[Byte]">bytes</a>, <a href="#357448" title="=&gt; scala.reflect.internal.pickling.PickleBuffer">versionPickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148916" title="=&gt; Int">writeIndex</a><span class="delimiter">)</span>
          <a href="#359312" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#359339" title="ch.epfl.lamp.fjbg.JOtherAttribute">scalaAttr</a>
          <span class="keyword">val</span> <a title="GenJVM.this.global.AnnotationInfo" id="359340">scalaAnnot</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.ScalaSigBytes" id="359391">sigBytes</a> = <a href="../../../../reflect/internal/AnnotationInfos.scala.html#59539" title="(bytes: Array[Byte])GenJVM.this.global.ScalaSigBytes">ScalaSigBytes</a><span class="delimiter">(</span><a href="#359333" title="scala.reflect.internal.pickling.PickleBuffer">pickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148910" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</a>.<span title="(n: Int)Array[Byte]">take</span><span class="delimiter">(</span><a href="#359333" title="scala.reflect.internal.pickling.PickleBuffer">pickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148916" title="=&gt; Int">writeIndex</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../../reflect/internal/AnnotationInfos.scala.html#45950" title="(atp: GenJVM.this.global.Type, args: List[GenJVM.this.global.Tree], assocs: List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#359391" title="GenJVM.this.global.ScalaSigBytes">sigBytes</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#55258" title="=&gt; GenJVM.this.global.Type">sigAnnot</a>, <span title="object Nil">Nil</span>, <span title="(xs: (GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)*)List[(GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)]">List</span><span class="delimiter">(</span><span title="(_1: GenJVM.this.global.nme.NameType, _2: GenJVM.this.global.ScalaSigBytes)(GenJVM.this.global.nme.NameType, GenJVM.this.global.ScalaSigBytes)" class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#59102" title="=&gt; GenJVM.this.global.nme.NameType">bytes</a>, <a href="#359391" title="GenJVM.this.global.ScalaSigBytes">sigBytes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#243682" title="(x$1: Int)Unit">pickledBytes</a> <span title="(x: Int)Int">+=</span> <a href="#359333" title="scala.reflect.internal.pickling.PickleBuffer">pickle</a>.<a href="../../../../reflect/internal/pickling/PickleBuffer.scala.html#148916" title="=&gt; Int">writeIndex</a>
          <a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188805" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">-=</span> <a href="#359313" title="GenJVM.this.global.Symbol">sym</a>
          <a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188805" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">symData</a> <span title="(key: GenJVM.this.global.Symbol)scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.reflect.internal.pickling.PickleBuffer]">-=</span> <a href="#359313" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46694" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a>
          <span title="(x: GenJVM.this.global.AnnotationInfo)Some[GenJVM.this.global.AnnotationInfo]">Some</span><span class="delimiter">(</span><a href="#359340" title="GenJVM.this.global.AnnotationInfo">scalaAnnot</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="359556">markerAttr</a> =
            <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#359312" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#359312" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63703" title="=&gt; GenJVM.this.global.tpnme.NameType">ScalaATTR</a>.<span title="()String">toString</span>, <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a href="#359312" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#359556" title="ch.epfl.lamp.fjbg.JOtherAttribute">markerAttr</a>
          <span title="object None">None</span>
      <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]" id="357478">innerClassBuffer</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.LinkedHashSet[A]">LinkedHashSet</span><span title="(elems: GenJVM.this.global.Symbol*)scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    /** Drop redundant interfaces (ones which are implemented by some
     *  other parent) from the immediate parents.  This is important on
     *  android because there is otherwise an interface explosion.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(interfaces: List[GenJVM.this.global.Symbol])List[GenJVM.this.global.Symbol]" id="357480">minimizeInterfaces</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.Symbol]" id="359559">interfaces</a>: <span title="List[GenJVM.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[GenJVM.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">(</span>
      <a href="#359559" title="List[GenJVM.this.global.Symbol]">interfaces</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)List[GenJVM.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359564">int1</a> =&gt;
        <a href="#359559" title="List[GenJVM.this.global.Symbol]">interfaces</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359571">int2</a> =&gt;
          <span class="delimiter">(</span><a href="#359564" title="GenJVM.this.global.Symbol">int1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#359571" title="GenJVM.this.global.Symbol">int2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#359571" title="GenJVM.this.global.Symbol">int2</a> <a href="../../../../reflect/internal/Symbols.scala.html#46650" title="(that: GenJVM.this.global.Symbol)Boolean">isSubClass</a> <a href="#359564" title="GenJVM.this.global.Symbol">int1</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(c: GenJVM.this.global.icodes.IClass)Unit" id="357481">genClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="358962">c</a>: <a href="../icode/Members.scala.html#232636" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#357451" title="(x$1: GenJVM.this.global.icodes.IClass)Unit">clasz</a> = <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>
      <a href="#357478" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="String" id="359573">name</a>    = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#359574" title="GenJVM.this.global.Type" id="359575">superClass</a> <a href="#359575" title="(GenJVM.this.global.Type, List[GenJVM.this.global.Type])">::</a> <a href="#359574" title="List[GenJVM.this.global.Type]" id="359576">superInterfaces</a> = <span title="List[GenJVM.this.global.Type] @unchecked" class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[GenJVM.this.global.Type]" id="359581">parents0</a> = <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[GenJVM.this.global.icodes.global.Type]">parents</a> <span title="List[GenJVM.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="List[GenJVM.this.global.Type]">Nil</span>  =&gt; <span title="(xs: GenJVM.this.global.Type*)List[GenJVM.this.global.Type]">List</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="List[GenJVM.this.global.icodes.global.Type]" id="359590">ps</a>   =&gt; <a href="#359590" title="List[GenJVM.this.global.icodes.global.Type]">ps</a>
        <span class="delimiter">}</span>
        <a href="#359581" title="List[GenJVM.this.global.Type]">parents0</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Type],GenJVM.this.global.Type,List[GenJVM.this.global.Type]])List[GenJVM.this.global.Type]">++</span> <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a>.<span title="(f: GenJVM.this.global.icodes.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[GenJVM.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.AnnotationInfo],GenJVM.this.global.Type,List[GenJVM.this.global.Type]])List[GenJVM.this.global.Type]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,GenJVM.this.global.Type,List[GenJVM.this.global.Type]]" class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.AnnotationInfo" id="359653">ann</a> =&gt; <a href="#357447" title="(attr: GenJVM.this.global.Symbol)Option[GenJVM.this.global.Type]">newParentForAttr</a><span title="(xo: Option[GenJVM.this.global.Type])Iterable[GenJVM.this.global.Type]" class="delimiter">(</span><a href="#359653" title="GenJVM.this.global.icodes.global.AnnotationInfo">ann</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#45931" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="=&gt; List[GenJVM.this.global.Type]">distinct</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Array[String]" id="359577">ifaces</a> = <a href="#359576" title="List[GenJVM.this.global.Type]">superInterfaces</a> <span title="Array[String]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Array[String]">Nil</span> =&gt; <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[String]">NO_INTERFACES</span>
        <span class="keyword">case</span> <span title="Array[String]">_</span>   =&gt; <a href="GenJVMUtil.scala.html#357401" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#357480" title="(interfaces: List[GenJVM.this.global.Symbol])List[GenJVM.this.global.Symbol]">minimizeInterfaces</a><span class="delimiter">(</span><a href="#359576" title="List[GenJVM.this.global.Type]">superInterfaces</a> <span title="(f: GenJVM.this.global.Type =&gt; GenJVM.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Type],GenJVM.this.global.Symbol,List[GenJVM.this.global.Symbol]])List[GenJVM.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#359789" title="GenJVM.this.global.Type">_</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: GenJVM.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],String,List[String]])List[String]">map</span> <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#357457" title="(x$1: ch.epfl.lamp.fjbg.JClass)Unit">jclass</a> = <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: String, x$3: String, x$4: Array[String], x$5: String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span><a href="#243686" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                                  <a href="#359573" title="String">name</a>,
                                  <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#359575" title="GenJVM.this.global.Type">superClass</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>,
                                  <a href="#359577" title="Array[String]">ifaces</a>,
                                  <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232939" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#188737" title="()String">toString</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243689" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#357464" title="=&gt; Option[Long]">serialVUID</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object None">None</span> <span title="(x: Boolean)Boolean">||</span> <a href="#357462" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243689" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#357498" title="()Unit">addModuleInstanceField</a>
        <a href="#357499" title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit">addStaticInit</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232949" title="=&gt; Option[GenJVM.this.global.icodes.IMethod]">lookupStaticCtor</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243688" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46691" title="=&gt; GenJVM.this.global.icodes.global.Symbol">companionClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#357503" title="(clasz: GenJVM.this.global.Symbol, sourceFile: scala.tools.nsc.util.SourceFile)Unit">generateMirrorClass</a><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232939" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No mirror class for module with linked class: &quot;)" class="string">&quot;No mirror class for module with linked class: &quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232949" title="=&gt; Option[GenJVM.this.global.icodes.IMethod]">lookupStaticCtor</a> <span title="(f: GenJVM.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="359959">constructor</a> =&gt; <a href="#357499" title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit">addStaticInit</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <span title="(x: GenJVM.this.global.icodes.IMethod)Some[GenJVM.this.global.icodes.IMethod]">Some</span><span class="delimiter">(</span><a href="#359959" title="GenJVM.this.global.icodes.IMethod">constructor</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // it must be a top level class (name contains no $s)
        <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="359953">isCandidateForForwarders</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359964">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
          <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188840" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#359964" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">toString</span> <span title="(elem: Any)Boolean">contains</span> <span title="Char('$')" class="char">'$'</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#359964" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46806" title="=&gt; Boolean">hasModuleFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359964" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359964" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46552" title="=&gt; Boolean">isNestedClass</a>
          <span class="delimiter">}</span>

        // At some point this started throwing lots of exceptions as a compile was finishing.
        // error: java.lang.AssertionError:
        //   assertion failed: List(object package$CompositeThrowable, object package$CompositeThrowable)
        // ...is the one I've seen repeatedly.  Suppressing.
        <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="359954">lmoc</a> = <span class="delimiter">(</span>
          <span class="keyword">try</span> <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46693" title="=&gt; GenJVM.this.global.icodes.global.Symbol">companionModule</a>
          <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="GenJVM.this.global.NoSymbol" id="359978">x</a>: <span title="AssertionError">AssertionError</span> =&gt;
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Suppressing failed assert: &quot;)" class="string">&quot;Suppressing failed assert: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#359978" title="AssertionError">x</a><span class="delimiter">)</span>
            <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
        <span class="delimiter">)</span>
        // add static forwarders if there are no name conflicts; see bugs #363 and #1735
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#359954" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#359953" title="(sym: GenJVM.this.global.Symbol)Boolean">isCandidateForForwarders</a><span class="delimiter">(</span><a href="#359954" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186684" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noForwarders</a>.<a href="../../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Adding static forwarders from '%s' to implementations in '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#359954" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#357502" title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit">addForwarders</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#359954" title="GenJVM.this.global.icodes.global.Symbol">lmoc</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; GenJVM.this.global.icodes.global.Symbol">moduleClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232933" title="=&gt; List[GenJVM.this.global.icodes.IField]">fields</a> <span title="(f: GenJVM.this.global.icodes.IField =&gt; Unit)Unit">foreach</span> <a href="#357494" title="(f: GenJVM.this.global.icodes.IField)Unit">genField</a>
      <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232936" title="=&gt; List[GenJVM.this.global.icodes.IMethod]">methods</a> <span title="(f: GenJVM.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</span> <a href="#357495" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genMethod</a>

      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.AnnotationInfo]" id="359578">ssa</a> = <a href="#357476" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#357489" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#357490" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.icodes.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.global.AnnotationInfo],GenJVM.this.global.icodes.global.AnnotationInfo,List[GenJVM.this.global.AnnotationInfo]])List[GenJVM.this.global.AnnotationInfo]">++</span> <a href="#359578" title="(xo: Option[GenJVM.this.global.AnnotationInfo])Iterable[GenJVM.this.global.AnnotationInfo]">ssa</a><span class="delimiter">)</span>
      <a href="#357482" title="(jclass: ch.epfl.lamp.fjbg.JClass, clazz: GenJVM.this.global.Symbol)Unit">addEnclosingMethodAttribute</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#357475" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">emitClass</a><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: GenJVM.this.global.icodes.global.Symbol)Boolean">hasAnnotation</a> <a href="#357437" title="=&gt; GenJVM.this.global.Symbol">BeanInfoAttr</a><span class="delimiter">)</span>
        <a href="#357483" title="(c: GenJVM.this.global.icodes.IClass)Unit">genBeanInfoClass</a><span class="delimiter">(</span><a href="#358962" title="GenJVM.this.global.icodes.IClass">c</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, clazz: GenJVM.this.global.Symbol)Unit" id="357482">addEnclosingMethodAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="360187">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="360188">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="360194">sym</a> = <a href="#360188" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46686" title="=&gt; GenJVM.this.global.Symbol">originalEnclosingMethod</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360194" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosing method for %s is %s (in %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#360188" title="GenJVM.this.global.Symbol">clazz</a>, <a href="#360194" title="GenJVM.this.global.Symbol">sym</a>, <a href="#360194" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#360187" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: String, x$3: String, x$4: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JEnclosingMethodAttribute">JEnclosingMethodAttribute</span><span class="delimiter">(</span>
          <a href="#360187" title="ch.epfl.lamp.fjbg.JClass">jclass</a>,
          <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360194" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>,
          <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360194" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>,
          <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#360194" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360188" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46503" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="360229">enclClass</a> = <a href="#360188" title="GenJVM.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46367" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>
        <a href="../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#360229" title="GenJVM.this.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a>, <a href="#360229" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="360230">sym</a> = <a href="#360229" title="GenJVM.this.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; GenJVM.this.global.Symbol">primaryConstructor</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360230" title="GenJVM.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Ran out of room looking for an enclosing method for %s: no constructor here.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#360229" title="GenJVM.this.global.Symbol">enclClass</a>, <a href="#360188" title="GenJVM.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;enclosing method for %s is %s (in %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#360188" title="GenJVM.this.global.Symbol">clazz</a>, <a href="#360230" title="GenJVM.this.global.Symbol">sym</a>, <a href="#360229" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#360187" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: String, x$3: String, x$4: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JEnclosingMethodAttribute">JEnclosingMethodAttribute</span><span class="delimiter">(</span>
            <a href="#360187" title="ch.epfl.lamp.fjbg.JClass">jclass</a>,
            <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360229" title="GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span>,
            <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360230" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>,
            <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#360230" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Generate a bean info class that describes the given class.
     *
     * @author Ross Judson (ross.judson@soletta.com)
     */
    <span class="keyword">def</span> <a title="(c: GenJVM.this.global.icodes.IClass)Unit" id="357483">genBeanInfoClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IClass" id="360192">c</a>: <a href="../icode/Members.scala.html#232636" title="GenJVM.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.icodes.global.AnnotationInfo]" id="360250">description</a> = <a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#44937" title="(cls: GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.global.AnnotationInfo]">getAnnotation</a> <a href="#357443" title="=&gt; GenJVM.this.global.Symbol">BeanDescriptionAttr</a>
      // informProgress(description.toString)

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JClass" id="360251">beanInfoClass</a> = <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: String, x$3: String, x$4: Array[String], x$5: String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span><a href="#243686" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
            <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;BeanInfo&quot;)" class="string">&quot;BeanInfo&quot;</span>,
            <span title="String(&quot;scala/beans/ScalaBeanInfo&quot;)" class="string">&quot;scala/beans/ScalaBeanInfo&quot;</span>,
            <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[String]">NO_INTERFACES</span>,
            <a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232939" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#188737" title="()String">toString</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="List[String]" id="360252">fieldList</a> = List<span class="delimiter">[</span>String<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IField" id="360359">f</a> &lt;- <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232933" title="(f: GenJVM.this.global.icodes.IField =&gt; (GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IField],(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol),List[(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol)]])List[(GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol)]">fields</a> <span class="keyword">if</span> <a href="#360359" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46486" title="=&gt; Boolean">hasGetter</a>;
	         <a title="GenJVM.this.global.icodes.global.Symbol" id="360360">g</a> = <a href="#360359" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46708" title="(base: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol">getter</a><span class="delimiter">(</span><a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>;
	         <a title="GenJVM.this.global.icodes.global.Symbol" id="360361">s</a> = <a href="#360359" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46710" title="(base: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol">setter</a><span class="delimiter">(</span><a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>;
	         <span class="keyword">if</span> <a href="#360360" title="GenJVM.this.global.icodes.global.Symbol">g</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46792" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#360359" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.icodes.global.Name">name</a> <a href="../../../../reflect/internal/Names.scala.html#52157" title="(name: String)Boolean">startsWith</a> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>  // inserting $outer breaks the bean
        <a href="#360252" title="List[String]">fieldList</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360359" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="#360362" title="(x: String)List[String]">::</a> <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360360" title="GenJVM.this.global.icodes.global.Symbol">g</a><span class="delimiter">)</span> <a href="#360363" title="(x: String)List[String]">::</a> <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#360361" title="GenJVM.this.global.icodes.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360361" title="GenJVM.this.global.icodes.global.Symbol">s</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#360364" title="(x: String)List[String]">::</a> <a href="#360252" title="List[String]">fieldList</a>
      <span class="keyword">val</span> <a title="List[String]" id="360253">methodList</a> =
	     <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="360399">m</a> &lt;- <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232936" title="(f: GenJVM.this.global.icodes.IMethod =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.IMethod],String,List[String]])List[String]">methods</a>
	         <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#360399" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <a href="#360399" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46792" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#360399" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.icodes.global.Name">name</a> <a href="../../../../reflect/internal/Names.scala.html#52157" title="(name: String)Boolean">startsWith</a> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><a href="#360399" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	         <span title="=&gt; Boolean">!</span><a href="#360399" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360399" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="360254">constructor</a> = <a href="#360251" title="ch.epfl.lamp.fjbg.JClass">beanInfoClass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><span title="Int(1)">ACC_PUBLIC</span>, <span title="String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="Array[ch.epfl.lamp.fjbg.JType]" class="keyword">new</span> <span title="Array[ch.epfl.lamp.fjbg.JType]">Array</span><span class="delimiter">[</span>JType<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Array[String]" class="keyword">new</span> <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="360255">jcode</a> = <a href="#360254" title="ch.epfl.lamp.fjbg.JMethod">constructor</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JObjectType" id="360256">strKind</a> = <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45024" title="=&gt; GenJVM.this.global.Symbol">StringClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JArrayType" id="360257">stringArrayKind</a> = <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="#360256" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="360258">conType</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45028" title="=&gt; GenJVM.this.global.Symbol">ClassClass</a><span class="delimiter">)</span>, <a href="#360257" title="ch.epfl.lamp.fjbg.JArrayType">stringArrayKind</a>, <a href="#360257" title="ch.epfl.lamp.fjbg.JArrayType">stringArrayKind</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(lst: Seq[String])Unit" id="360259">push</a><span class="delimiter">(</span><a title="Seq[String]" id="360516">lst</a>:<span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="360517">fi</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="360534">f</a> &lt;- <a href="#360516" title="(f: String =&gt; Unit)Unit">lst</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#360517" title="Int">fi</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360534" title="String">f</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: String)Unit">emitPUSH</span> <a href="#360534" title="String">f</a>
          <span class="keyword">else</span>
            <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitACONST_NULL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitASTORE</span> <a href="#360256" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
          <a href="#360517" title="Int">fi</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
      // push the class
      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitPUSH</span> <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>

      // push the string array of field information
      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#360252" title="List[String]">fieldList</a>.<span title="=&gt; Int">length</span>
      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="#360256" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
      <a href="#360259" title="(lst: Seq[String])Unit">push</a><span class="delimiter">(</span><a href="#360252" title="List[String]">fieldList</a><span class="delimiter">)</span>

      // push the string array of method information
      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: Int)Unit">emitPUSH</span> <a href="#360253" title="List[String]">methodList</a>.<span title="=&gt; Int">length</span>
      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="#360256" title="ch.epfl.lamp.fjbg.JObjectType">strKind</a>
      <a href="#360259" title="(lst: Seq[String])Unit">push</a><span class="delimiter">(</span><a href="#360253" title="List[String]">methodList</a><span class="delimiter">)</span>

      // invoke the superclass constructor, which will do the
      // necessary java reflection and create Method objects.
      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><span title="String(&quot;scala/beans/ScalaBeanInfo&quot;)" class="string">&quot;scala/beans/ScalaBeanInfo&quot;</span>, <span title="String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>, <a href="#360258" title="ch.epfl.lamp.fjbg.JMethodType">conType</a><span class="delimiter">)</span>
      <a href="#360255" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitRETURN</span><span class="delimiter">(</span><span class="delimiter">)</span>

      // write the bean information class file.
      <a href="BytecodeWriters.scala.html#356143" title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">writeClass</a><span class="delimiter">(</span><span title="String(&quot;BeanInfo &quot;)" class="string">&quot;BeanInfo &quot;</span>, <a href="#360251" title="ch.epfl.lamp.fjbg.JClass">beanInfoClass</a>, <a href="#360192" title="GenJVM.this.global.icodes.IClass">c</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Add the given 'throws' attributes to jmethod */
    <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit" id="357484">addExceptionsAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="360579">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="360580">excs</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360580" title="List[GenJVM.this.global.AnnotationInfo]">excs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JConstantPool" id="360582">cpool</a> = <a href="#360579" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>
      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="360583">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(512)" class="int">512</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="360584">nattr</a> = <span title="Int(0)" class="int">0</span>

      // put some random value; the actual number is determined at the end
      <a href="#360583" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <span title="Int(47802)" class="int">0xbaba</span>.<span title="=&gt; Short">toShort</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a href="../../../../reflect/internal/AnnotationInfos.scala.html#45951" title="(info: GenJVM.this.global.AnnotationInfo)Option[(GenJVM.this.global.Type, List[GenJVM.this.global.Tree], List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])]">AnnotationInfo</a><span class="delimiter">(</span><a title="GenJVM.this.global.Type" id="360811">tp</a>, <a href="#360746" title="(x: List[GenJVM.this.global.Tree])Some[List[GenJVM.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="GenJVM.this.global.Tree" id="360824">exc</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> &lt;- <a href="#360580" title="List[GenJVM.this.global.AnnotationInfo]">excs</a>.<a href="#360737" title="(f: GenJVM.this.global.AnnotationInfo =&gt; Unit)Unit">distinct</a> <span class="keyword">if</span> <a href="#360811" title="GenJVM.this.global.Type">tp</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#45417" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> Literal<a href="#360827" title="GenJVM.this.global.Constant" id="360825" class="delimiter">(</a><a title="GenJVM.this.global.Constant" id="360827">const</a><span class="delimiter">)</span> = <a href="#360824" title="GenJVM.this.global.Tree">exc</a>
        <a href="#360583" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span>
          <a href="#360582" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addClass</span><span title="implicit scala.Predef.int2Integer : (x: Int)Integer" class="delimiter">(</span>
            <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360825" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46289" title="=&gt; GenJVM.this.global.Type">typeValue</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()Short">shortValue</span><span class="delimiter">)</span>
        <a href="#360584" title="Int">nattr</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#360584" title="Int">nattr</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span>, <a href="#360584" title="Int">nattr</a><span class="delimiter">)</span>
      <a href="#360583" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Int, x$2: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#360584" title="Int">nattr</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <a href="#357492" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#360579" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63689" title="=&gt; GenJVM.this.global.tpnme.NameType">ExceptionsATTR</a>, <a href="#360583" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Whether an annotation should be emitted as a Java annotation
     *   .initialize: if 'annot' is read from pickle, atp might be un-initialized
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(annot: GenJVM.this.global.AnnotationInfo)Boolean" id="357485">shouldEmitAnnotation</a><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="360878">annot</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#39344" title="GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> =
      <a href="#360878" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#45931" title="=&gt; GenJVM.this.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; GenJVM.this.global.Symbol">initialize</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#360878" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#45934" title="(clazz: GenJVM.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45369" title="=&gt; GenJVM.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#360878" title="GenJVM.this.global.AnnotationInfo">annot</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#45915" title="=&gt; List[GenJVM.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int" id="357486">emitJavaAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JConstantPool" id="360885">cpool</a>: <span title="ch.epfl.lamp.fjbg.JConstantPool">JConstantPool</span>, <a title="java.nio.ByteBuffer" id="360886">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="360887">annotations</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit" id="360889">emitArgument</a><span class="delimiter">(</span><a title="GenJVM.this.global.ClassfileAnnotArg" id="360893">arg</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#39327" title="GenJVM.this.global.ClassfileAnnotArg">ClassfileAnnotArg</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#360893" title="GenJVM.this.global.ClassfileAnnotArg">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">LiteralAnnotArg</span><span class="delimiter">(</span><a title="GenJVM.this.global.Constant" id="360895">const</a><span class="delimiter">)</span> =&gt;
          <a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46263" title="=&gt; Int">tag</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">BooleanTag</span> =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('Z')" class="char">'Z'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46277" title="=&gt; Boolean">booleanValue</a><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ByteTag</span>    =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('B')" class="char">'B'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46278" title="=&gt; Int">byteValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ShortTag</span>   =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('S')" class="char">'S'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46279" title="=&gt; Int">shortValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">CharTag</span>    =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('C')" class="char">'C'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46280" title="=&gt; Int">charValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">IntTag</span>     =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('I')" class="char">'I'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Int)Int">addInteger</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46281" title="=&gt; Int">intValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">LongTag</span>    =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('J')" class="char">'J'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Long)Int">addLong</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46282" title="=&gt; Long">longValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">FloatTag</span>   =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('F')" class="char">'F'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Float)Int">addFloat</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46283" title="=&gt; Float">floatValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">DoubleTag</span>  =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('D')" class="char">'D'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Double)Int">addDouble</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46284" title="=&gt; Double">doubleValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">StringTag</span>  =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('s')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46286" title="=&gt; String">stringValue</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">ClassTag</span>   =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('c')" class="char">'c'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357404" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46289" title="=&gt; GenJVM.this.global.Type">typeValue</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
            <span class="keyword">case</span> <span title="Unit">EnumTag</span> =&gt;
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('e')" class="char">'e'</span>.<span title="=&gt; Byte">toByte</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357404" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46274" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
              <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#360895" title="GenJVM.this.global.Constant">const</a>.<a href="../../../../reflect/internal/Constants.scala.html#46290" title="=&gt; GenJVM.this.global.Symbol">symbolValue</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="Unit" id="360994">sb</a>@ScalaSigBytes<span class="delimiter">(</span><a title="Array[Byte]" id="360995">bytes</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#360994" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#55257" title="=&gt; Boolean">isLong</a> =&gt;
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('s')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Array[Byte])Int">addUtf8</span><span class="delimiter">(</span><a href="#360994" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#55255" title="=&gt; Array[Byte]">encodedBytes</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>

        <span class="keyword">case</span> <a title="Unit" id="361006">sb</a>@ScalaSigBytes<span class="delimiter">(</span><a title="Array[Byte]" id="361007">bytes</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#361006" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#55257" title="=&gt; Boolean">isLong</a> =&gt;
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('[')" class="char">'['</span>.<span title="=&gt; Byte">toByte</span>
          <span class="keyword">val</span> <a title="Int" id="361008">stringCount</a> = <span class="delimiter">(</span><a href="#361006" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#55255" title="=&gt; Array[Byte]">encodedBytes</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">/</span> <span title="Int(65534)" class="int">65534</span><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#361008" title="Int">stringCount</a>.<span title="=&gt; Short">toShort</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="361155">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; java.nio.ByteBuffer)Unit">until</span> <a href="#361008" title="Int">stringCount</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('s')" class="char">'s'</span>.<span title="=&gt; Byte">toByte</span>
            <span class="keyword">val</span> <a title="Int" id="361156">j</a> = <a href="#361155" title="Int">i</a> <span title="(x: Int)Int">*</span> <span title="Int(65535)" class="int">65535</span>
            <span class="keyword">val</span> <a title="Array[Byte]" id="361157">string</a> = <a href="#361006" title="GenJVM.this.global.ScalaSigBytes">sb</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#55255" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">encodedBytes</a>.<span title="(from: Int, until: Int)Array[Byte]">slice</span><span class="delimiter">(</span><a href="#361156" title="Int">j</a>, <a href="#361156" title="Int">j</a> <span title="(x: Int)Int">+</span> <span title="Int(65535)" class="int">65535</span><span class="delimiter">)</span>
            <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: Array[Byte])Int">addUtf8</span><span class="delimiter">(</span><a href="#361157" title="Array[Byte]">string</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">ArrayAnnotArg</span><span class="delimiter">(</span><a title="Array[GenJVM.this.global.ClassfileAnnotArg]" id="361299">args</a><span class="delimiter">)</span> =&gt;
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('[')" class="char">'['</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#361299" title="Array[GenJVM.this.global.ClassfileAnnotArg]">args</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Short">toShort</span>
          <a href="#361299" title="(xs: Array[GenJVM.this.global.ClassfileAnnotArg])scala.collection.mutable.ArrayOps[GenJVM.this.global.ClassfileAnnotArg]">args</a> <span title="(f: GenJVM.this.global.ClassfileAnnotArg =&gt; Unit)Unit">foreach</span> <a href="#360889" title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit">emitArgument</a>

        <span class="keyword">case</span> <span title="Unit">NestedAnnotArg</span><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="362138">annInfo</a><span class="delimiter">)</span> =&gt;
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Byte)java.nio.ByteBuffer">put</span> <span title="Char('@')" class="char">'@'</span>.<span title="=&gt; Byte">toByte</span>
          <a href="#360890" title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit">emitAnnotation</a><span class="delimiter">(</span><a href="#362138" title="GenJVM.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit" id="360890">emitAnnotation</a><span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="362143">annotInfo</a>: <a href="../../../../reflect/internal/AnnotationInfos.scala.html#39344" title="GenJVM.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#45951" title="(info: GenJVM.this.global.AnnotationInfo)Option[(GenJVM.this.global.Type, List[GenJVM.this.global.Tree], List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])]">AnnotationInfo</a><a href="#362145" title="(GenJVM.this.global.Type, List[GenJVM.this.global.Tree], List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)])" class="delimiter">(</a><a href="#362144" title="GenJVM.this.global.Type" id="362145">typ</a>, <a href="#362144" title="List[GenJVM.this.global.Tree]" id="362146">args</a>, <a href="#362144" title="List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)]" id="362147">assocs</a><span class="delimiter">)</span> = <a href="#362143" title="GenJVM.this.global.AnnotationInfo">annotInfo</a>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JType" id="362148">jtype</a> = <a href="GenJVMUtil.scala.html#357404" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#362145" title="GenJVM.this.global.Type">typ</a><span class="delimiter">)</span>
        <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#362148" title="ch.epfl.lamp.fjbg.JType">jtype</a>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#362146" title="List[GenJVM.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#362146" title="List[GenJVM.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#362147" title="List[(GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)]">assocs</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Short">toShort</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="GenJVM.this.global.Name" id="362231">name</a>, <a title="GenJVM.this.global.ClassfileAnnotArg" id="362232">value</a><span class="delimiter">)</span> &lt;- <a href="#362147" title="(f: ((GenJVM.this.global.Name, GenJVM.this.global.ClassfileAnnotArg)) =&gt; Unit)Unit">assocs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#360885" title="ch.epfl.lamp.fjbg.JConstantPool">cpool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#362231" title="GenJVM.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <a href="#360889" title="(arg: GenJVM.this.global.ClassfileAnnotArg)Unit">emitArgument</a><span class="delimiter">(</span><a href="#362232" title="GenJVM.this.global.ClassfileAnnotArg">value</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Int" id="360891">nannots</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="Int" id="360892">pos</a> = <a href="#360886" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span>

      // put some random value; the actual number of annotations is determined at the end
      <a href="#360886" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <span title="Int(47802)" class="int">0xbaba</span>.<span title="=&gt; Short">toShort</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.AnnotationInfo" id="362252">annot</a> &lt;- <a href="#360887" title="(f: GenJVM.this.global.AnnotationInfo =&gt; Unit)Unit">annotations</a> <span class="keyword">if</span> <a href="#357485" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a><span class="delimiter">(</span><a href="#362252" title="GenJVM.this.global.AnnotationInfo">annot</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#360891" title="Int">nannots</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#360890" title="(annotInfo: GenJVM.this.global.AnnotationInfo)Unit">emitAnnotation</a><span class="delimiter">(</span><a href="#362252" title="GenJVM.this.global.AnnotationInfo">annot</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // save the number of annotations
      <a href="#360886" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Int, x$2: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><a href="#360892" title="Int">pos</a>, <a href="#360891" title="Int">nannots</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <a href="#360891" title="Int">nannots</a>
    <span class="delimiter">}</span>

    /** Run the signature parser to catch bogus signatures.
     */
    <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol, sig: String)Boolean" id="357487">isValidSignature</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="362262">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="String" id="362263">sig</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#362262" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="../../../reflect/SigParser.scala.html#34297" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#362275" title="(s: String)Boolean">verifyMethod</a> <a href="#362263" title="String">sig</a>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#362262" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="../../../reflect/SigParser.scala.html#34297" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#362276" title="(s: String)Boolean">verifyType</a> <a href="#362263" title="String">sig</a>
      <span class="keyword">else</span> <a href="../../../reflect/SigParser.scala.html#34297" title="object scala.tools.reflect.SigParser">SigParser</a> <a href="../../../reflect/SigParser.scala.html#362274" title="(s: String)Boolean">verifyClass</a> <a href="#362263" title="String">sig</a>
    <span class="delimiter">)</span>

    // @M don't generate java generics sigs for (members of) implementation
    // classes, as they are monomorphic (TODO: ok?)
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="357488">needsGenericSignature</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="362315">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span>
      // PP: This condition used to include sym.hasExpandedName, but this leads
      // to the total loss of generic information if a private member is
      // accessed from a closure: both the field and the accessor were generated
      // without it.  This is particularly bad because the availability of
      // generic information could disappear as a consequence of a seemingly
      // unrelated change.
         <a href="#362315" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a>
      <span title="(x: Boolean)Boolean">||</span> <a href="#362315" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46535" title="=&gt; Boolean">isLiftedMethod</a>
      <span title="(x: Boolean)Boolean">||</span> <a href="#362315" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46453" title="=&gt; Boolean">isBridge</a>
      <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#362315" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46566" title="=&gt; List[GenJVM.this.global.Symbol]">ownerChain</a> <span title="(p: GenJVM.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#362326" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit" id="357489">addGenericSignature</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="360067">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="GenJVM.this.global.Symbol" id="360068">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="360069">owner</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357488" title="(sym: GenJVM.this.global.Symbol)Boolean">needsGenericSignature</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="362327">memberTpe</a> = <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; GenJVM.this.global.Type)GenJVM.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#360069" title="GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../../../reflect/internal/Types.scala.html#41555" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        // println(&quot;addGenericSignature sym: &quot; + sym.fullName + &quot; : &quot; + memberTpe + &quot; sym.info: &quot; + sym.info)
        // println(&quot;addGenericSignature: &quot;+ (sym.ownerChain map (x =&gt; (x.name, x.isImplClass))))
        <a href="../../Global.scala.html#186247" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../transform/Erasure.scala.html#242750" title="(sym0: GenJVM.this.global.erasure.global.Symbol, info: GenJVM.this.global.erasure.global.Type)Option[String]">javaSig</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>, <a href="#362327" title="GenJVM.this.global.Type">memberTpe</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="362347">sig</a> =&gt;
          <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;sig(&quot;)" class="string">&quot;sig(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#360067" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()String">getName</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#360068" title="GenJVM.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#360069" title="GenJVM.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)      &quot;)" class="string">&quot;)      &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#362347" title="String">sig</a><span class="delimiter">)</span>
          /** Since we're using a sun internal class for signature validation,
           *  we have to allow for it not existing or otherwise malfunctioning:
           *  in which case we treat every signature as valid.  Medium term we
           *  should certainly write independent signature validation.
           */
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186704" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xverify</a>.<a href="../../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/SigParser.scala.html#34297" title="object scala.tools.reflect.SigParser">SigParser</a>.<a href="../../../reflect/SigParser.scala.html#362273" title="=&gt; Boolean">isParserAvailable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#357487" title="(sym: GenJVM.this.global.Symbol, sig: String)Boolean">isValidSignature</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>, <a href="#362347" title="String">sig</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232939" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#188715" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.Position">pos</a>,
                <span title="String(&quot;|compiler bug: created invalid generic signature for %s in %s\n                   |signature: %s\n                   |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala\n                &quot;)" class="string">&quot;&quot;&quot;|compiler bug: created invalid generic signature for %s in %s
                   |signature: %s
                   |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala
                &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>, <a href="#360068" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46514" title="=&gt; GenJVM.this.global.Symbol">skipPackageObject</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a>, <a href="#362347" title="String">sig</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#186756" title="=&gt; scala.tools.nsc.Settings#PhasesSetting">check</a>.<a href="../../settings/MutableSettings.scala.html#197602" title="=&gt; List[String]">value</a> <span title="(elem: Any)Boolean">contains</span> <span title="String(&quot;genjvm&quot;)" class="string">&quot;genjvm&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.erasure.global.Type" id="362372">normalizedTpe</a> = <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Global.scala.html#186247" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../../../reflect/internal/Types.scala.html#74770" title="(tp: GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">prepareSigMap</a><span class="delimiter">(</span><a href="#362327" title="GenJVM.this.global.Type">memberTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="362373">bytecodeTpe</a> = <a href="#360069" title="GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../../../reflect/internal/Types.scala.html#41555" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../../Global.scala.html#186247" title="object GenJVM.this.global.erasure">erasure</a>.<a href="../../../../reflect/internal/transform/Erasure.scala.html#74745" title="(sym: GenJVM.this.global.erasure.global.Symbol, tp: GenJVM.this.global.erasure.global.Type)GenJVM.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>, <a href="#362372" title="GenJVM.this.global.erasure.global.Type">normalizedTpe</a><span class="delimiter">)</span> <a href="../../../../reflect/internal/Types.scala.html#41575" title="(that: GenJVM.this.global.erasure.global.Type)Boolean">=:=</a> <a href="#362373" title="GenJVM.this.global.Type">bytecodeTpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232939" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#188715" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.Position">pos</a>,
                  <span title="String(&quot;|compiler bug: created generic signature for %s in %s that does not conform to its erasure\n                     |signature: %s\n                     |original type: %s\n                     |normalized type: %s\n                     |erasure type: %s\n                     |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala\n                  &quot;)" class="string">&quot;&quot;&quot;|compiler bug: created generic signature for %s in %s that does not conform to its erasure
                     |signature: %s
                     |original type: %s
                     |normalized type: %s
                     |erasure type: %s
                     |if this is reproducible, please report bug at http://lampsvn.epfl.ch/trac/scala
                  &quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>, <a href="#360068" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46514" title="=&gt; GenJVM.this.global.Symbol">skipPackageObject</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a>, <a href="#362347" title="String">sig</a>, <a href="#362327" title="GenJVM.this.global.Type">memberTpe</a>, <a href="#362372" title="GenJVM.this.global.erasure.global.Type">normalizedTpe</a>, <a href="#362373" title="GenJVM.this.global.Type">bytecodeTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
               <span title="Nothing" class="keyword">return</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Short" id="362348">index</a> = <a href="#360067" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#362347" title="String">sig</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Global.scala.html#186204" title="object GenJVM.this.global.opt">opt</a>.<a href="../../settings/AestheticSettings.scala.html#233004" title="=&gt; Boolean">verboseDebug</a><span class="delimiter">)</span>
            <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;add generic sig &quot;)" class="string">&quot;add generic sig &quot;</span><span title="(x$1: Any)String">+</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#360068" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.Type">info</a><span title="(x$1: Any)String">+</span><span title="String(&quot; ==&gt; &quot;)" class="string">&quot; ==&gt; &quot;</span><span title="(x$1: Any)String">+</span><a href="#362347" title="String">sig</a><span title="(x$1: Any)String">+</span><span title="String(&quot; @ &quot;)" class="string">&quot; @ &quot;</span><span title="(x$1: Any)String">+</span><a href="#362348" title="Short">index</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="362349">buf</a> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#362349" title="java.nio.ByteBuffer">buf</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#362348" title="Short">index</a>
          <a href="#357492" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#360067" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63707" title="=&gt; GenJVM.this.global.tpnme.NameType">SignatureATTR</a>, <a href="#362349" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit" id="357490">addAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="360071">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="List[GenJVM.this.global.AnnotationInfo]" id="360072">annotations</a>: <span title="List[GenJVM.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360072" title="List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#362694" title="GenJVM.this.global.AnnotationInfo">_</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#45934" title="(clazz: GenJVM.this.global.Symbol)Boolean">matches</a> <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45401" title="=&gt; GenJVM.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="362696">attr</a> = <a href="#360071" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.FJBGContext">getContext</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span>
          <a href="#360071" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JClass">getJClass</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#360071" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63687" title="=&gt; GenJVM.this.global.tpnme.NameType">DeprecatedATTR</a>.<span title="()String">toString</span>,
          <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#360071" title="ch.epfl.lamp.fjbg.JMember">jmember</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#362696" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[GenJVM.this.global.AnnotationInfo]" id="362686">toEmit</a> = <a href="#360072" title="List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)List[GenJVM.this.global.AnnotationInfo]">filter</span> <a href="#357485" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#362686" title="List[GenJVM.this.global.AnnotationInfo]">toEmit</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="362687">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>
      <a href="#357486" title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int">emitJavaAnnotations</a><span class="delimiter">(</span><a href="#360071" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>, <a href="#362687" title="java.nio.ByteBuffer">buf</a>, <a href="#362686" title="List[GenJVM.this.global.AnnotationInfo]">toEmit</a><span class="delimiter">)</span>
      <a href="#357492" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#360071" title="ch.epfl.lamp.fjbg.JMember">jmember</a>, <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63699" title="=&gt; GenJVM.this.global.tpnme.NameType">RuntimeAnnotationATTR</a>, <a href="#362687" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit" id="357491">addParamAnnotations</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="362703">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="List[List[GenJVM.this.global.AnnotationInfo]]" id="362704">pannotss</a>: <span title="List[List[GenJVM.this.global.AnnotationInfo]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[List[GenJVM.this.global.AnnotationInfo]]" id="362706">annotations</a> = <a href="#362704" title="List[List[GenJVM.this.global.AnnotationInfo]]">pannotss</a> <span title="(f: List[GenJVM.this.global.AnnotationInfo] =&gt; List[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[GenJVM.this.global.AnnotationInfo]],List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span> <span class="delimiter">(</span><a href="#362724" title="List[GenJVM.this.global.AnnotationInfo]">_</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)List[GenJVM.this.global.AnnotationInfo]">filter</span> <a href="#357485" title="(annot: GenJVM.this.global.AnnotationInfo)Boolean">shouldEmitAnnotation</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#362706" title="List[List[GenJVM.this.global.AnnotationInfo]]">annotations</a> <span title="(p: List[GenJVM.this.global.AnnotationInfo] =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#362762" title="List[GenJVM.this.global.AnnotationInfo]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="362707">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>

      // number of parameters
      <a href="#362707" title="java.nio.ByteBuffer">buf</a>.<span title="(x$1: Byte)java.nio.ByteBuffer">put</span><span class="delimiter">(</span><a href="#362706" title="List[List[GenJVM.this.global.AnnotationInfo]]">annotations</a>.<span title="=&gt; Int">length</span>.<span title="=&gt; Byte">toByte</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[GenJVM.this.global.AnnotationInfo]" id="362786">annots</a> &lt;- <a href="#362706" title="(f: List[GenJVM.this.global.AnnotationInfo] =&gt; Int)Unit">annotations</a><span class="delimiter">)</span>
        <a href="#357486" title="(cpool: ch.epfl.lamp.fjbg.JConstantPool, buf: java.nio.ByteBuffer, annotations: List[GenJVM.this.global.AnnotationInfo])Int">emitJavaAnnotations</a><span class="delimiter">(</span><a href="#362703" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>, <a href="#362707" title="java.nio.ByteBuffer">buf</a>, <a href="#362786" title="List[GenJVM.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>

      <a href="#357492" title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit">addAttribute</a><span class="delimiter">(</span><a href="#362703" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63701" title="=&gt; GenJVM.this.global.tpnme.NameType">RuntimeParamAnnotationATTR</a>, <a href="#362707" title="java.nio.ByteBuffer">buf</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jmember: ch.epfl.lamp.fjbg.JMember, name: GenJVM.this.global.Name, buf: java.nio.ByteBuffer)Unit" id="357492">addAttribute</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMember" id="360874">jmember</a>: <span title="ch.epfl.lamp.fjbg.JMember">JMember</span>, <a title="GenJVM.this.global.Name" id="360875">name</a>: <a href="../../../../reflect/internal/Names.scala.html#38403" title="GenJVM.this.global.Name">Name</a>, <a title="java.nio.ByteBuffer" id="360876">buf</a>: <span title="java.nio.ByteBuffer">ByteBuffer</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360876" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="Int" id="362788">length</a> = <a href="#360876" title="java.nio.ByteBuffer">buf</a>.<span title="()Int">position</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[Byte]" id="362789">arr</a> = <a href="#360876" title="java.nio.ByteBuffer">buf</a>.<span title="()Array[Byte]">array</span><span title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]" class="delimiter">(</span><span class="delimiter">)</span>.<span title="(from: Int, until: Int)Array[Byte]">slice</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#362788" title="Int">length</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="362790">attr</a> = <a href="#360874" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.FJBGContext">getContext</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte], x$5: Int)ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#360874" title="ch.epfl.lamp.fjbg.JMember">jmember</a>.<span title="()ch.epfl.lamp.fjbg.JClass">getJClass</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                                      <a href="#360874" title="ch.epfl.lamp.fjbg.JMember">jmember</a>,
                                                      <a href="#360875" title="GenJVM.this.global.Name">name</a>.<span title="()String">toString</span>,
                                                      <a href="#362789" title="Array[Byte]">arr</a>,
                                                      <a href="#362788" title="Int">length</a><span class="delimiter">)</span>
      <a href="#360874" title="ch.epfl.lamp.fjbg.JMember">jmember</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#362790" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass)Unit" id="357493">addInnerClasses</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="359307">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      /** The outer name for this inner class. Note that it returns null
       *  when the inner class should not get an index in the constant pool.
       *  That means non-member classes (anonymous). See Section 4.7.5 in the JVMS.
       */
      <span class="keyword">def</span> <a title="(innerSym: GenJVM.this.global.Symbol)String" id="362902">outerName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="362905">innerSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#362905" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46686" title="=&gt; GenJVM.this.global.Symbol">originalEnclosingMethod</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="362911">outerName</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#362905" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46367" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#243688" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#362905" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46367" title="=&gt; GenJVM.this.global.Symbol">rawowner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/NameManglers.scala.html#59440" title="(name: GenJVM.this.global.Name)GenJVM.this.global.Name">stripModuleSuffix</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#38394" title="(s: String)GenJVM.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#362911" title="String">outerName</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#362911" title="String">outerName</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(innerSym: GenJVM.this.global.Symbol)String" id="362903">innerName</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="362917">innerSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#362917" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46503" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#362917" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46504" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
          <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span>
          <a href="#362917" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46368" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">rawname</a> <span title="(other: String)String">+</span> <a href="#362917" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46577" title="=&gt; String">moduleSuffix</a>

      // add inner classes which might not have been referenced yet
      <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="362958">sym</a> &lt;- <span title="(xs: GenJVM.this.global.icodes.global.Symbol*)List[GenJVM.this.global.icodes.global.Symbol]">List</span><span title="(f: GenJVM.this.global.icodes.global.Symbol =&gt; Unit)Unit" class="delimiter">(</span><a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46695" title="=&gt; GenJVM.this.global.icodes.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>; <a title="GenJVM.this.global.Symbol" id="363017">m</a> &lt;- <a href="#362958" title="GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#41536" title="=&gt; GenJVM.this.global.icodes.global.Scope">decls</a>.<span title="(f: GenJVM.this.global.icodes.global.Symbol =&gt; GenJVM.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[GenJVM.this.global.icodes.global.Symbol],GenJVM.this.global.Symbol,Iterable[GenJVM.this.global.Symbol]])Iterable[GenJVM.this.global.Symbol]">map</span><span title="(f: GenJVM.this.global.Symbol =&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol])Unit" class="delimiter">(</span><a href="#357473" title="(s: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol">innerClassSymbolFor</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#363017" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
          <a href="#357478" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a> <span title="(elem: GenJVM.this.global.Symbol)scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">+=</span> <a href="#363017" title="GenJVM.this.global.Symbol">m</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[GenJVM.this.global.Symbol]" id="362904">allInners</a> = <a href="#357478" title="=&gt; scala.collection.mutable.LinkedHashSet[GenJVM.this.global.Symbol]">innerClassBuffer</a>.<span title="=&gt; List[GenJVM.this.global.Symbol]">toList</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#362904" title="List[GenJVM.this.global.Symbol]">allInners</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46582" title="(separator: Char)String">fullName</a><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; contains &quot;)" class="string">&quot; contains &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#362904" title="List[GenJVM.this.global.Symbol]">allInners</a>.<span title="=&gt; Int">size</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; inner classes.&quot;)" class="string">&quot; inner classes.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JInnerClassesAttribute" id="363041">innerClassesAttr</a> = <a href="#359307" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JInnerClassesAttribute">getInnerClasses</span><span class="delimiter">(</span><span class="delimiter">)</span>
        // sort them so inner classes succeed their enclosing class
        // to satisfy the Eclipse Java compiler
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="363156">innerSym</a> &lt;- <a href="#362904" title="List[GenJVM.this.global.Symbol]">allInners</a> <span title="(f: GenJVM.this.global.Symbol =&gt; Unit)Unit">sortBy</span> <span class="delimiter">(</span><a href="#363079" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../../../reflect/internal/Names.scala.html#52120" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="363157">flags</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="363161">staticFlag</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#363156" title="GenJVM.this.global.Symbol">innerSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46367" title="=&gt; GenJVM.this.global.Symbol">rawowner</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46806" title="=&gt; Boolean">hasModuleFlag</a><span class="delimiter">)</span> <span title="Int(8)">ACC_STATIC</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
            <span class="delimiter">(</span><a href="#243686" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#363156" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#363161" title="Int">staticFlag</a><span class="delimiter">)</span> <span title="(x: Int)Int">&amp;</span> <a href="#357415" title="=&gt; Int">INNER_CLASSES_FLAGS</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="String" id="363158">jname</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#363156" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="363159">oname</a> = <a href="#362902" title="(innerSym: GenJVM.this.global.Symbol)String">outerName</a><span class="delimiter">(</span><a href="#363156" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="363160">iname</a> = <a href="#362903" title="(innerSym: GenJVM.this.global.Symbol)String">innerName</a><span class="delimiter">(</span><a href="#363156" title="GenJVM.this.global.Symbol">innerSym</a><span class="delimiter">)</span>

          // Mimicking javap inner class output
          <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#363159" title="String">oname</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <a href="#363160" title="String">iname</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="String(&quot;//class &quot;)" class="string">&quot;//class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#363158" title="String">jname</a>
            <span class="keyword">else</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;//%s=class %s of class %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#363160" title="String">iname</a>, <a href="#363158" title="String">jname</a>, <a href="#363159" title="String">oname</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>

          <a href="#363041" title="ch.epfl.lamp.fjbg.JInnerClassesAttribute">innerClassesAttr</a>.<span title="(x$1: String, x$2: String, x$3: String, x$4: Int)Unit">addEntry</span><span class="delimiter">(</span><a href="#363158" title="String">jname</a>, <a href="#363159" title="String">oname</a>, <a href="#363160" title="String">iname</a>, <a href="#363157" title="Int">flags</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(f: GenJVM.this.global.icodes.IField)Unit" id="357494">genField</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IField" id="360033">f</a>: <a href="../icode/Members.scala.html#232637" title="GenJVM.this.global.icodes.IField">IField</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Adding field: &quot;)" class="string">&quot;Adding field: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#360033" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JField" id="363182">jfield</a> = <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span class="delimiter">(</span>
        <a href="#243686" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#360033" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#243687" title="(sym: GenJVM.this.global.Symbol)Int">javaFieldFlags</a><span class="delimiter">(</span><a href="#360033" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
        <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360033" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#357404" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#360033" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <a href="#357489" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#363182" title="ch.epfl.lamp.fjbg.JField">jfield</a>, <a href="#360033" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="#357490" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#363182" title="ch.epfl.lamp.fjbg.JField">jfield</a>, <a href="#360033" title="GenJVM.this.global.icodes.IField">f</a>.<a href="../icode/Members.scala.html#334855" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="357495">genMethod</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="360062">m</a>: <a href="../icode/Members.scala.html#232640" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46546" title="=&gt; Boolean">isStaticConstructor</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45528" title="(sym: GenJVM.this.global.Symbol)Boolean">isGetClass</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Generating method &quot;)" class="string">&quot;Generating method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span>
      <a href="#357454" title="(x$1: GenJVM.this.global.icodes.IMethod)Unit">method</a> = <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>
      <a href="#357512" title="=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]">endPC</a>.<span title="()Unit">clear</span>
      <a href="#357518" title="(m: GenJVM.this.global.icodes.IMethod)Unit">computeLocalVarsIndex</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="ch.epfl.lamp.fjbg.JType" id="363222">resTpe</a> = <a href="GenJVMUtil.scala.html#357404" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#41519" title="=&gt; GenJVM.this.global.icodes.global.Type">resultType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46490" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
        <a href="#363222" title="ch.epfl.lamp.fjbg.JType">resTpe</a> = <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>

      <span class="keyword">var</span> <a title="Int" id="363223">flags</a> = <a href="#243686" title="(sym: GenJVM.this.global.Symbol)Int">javaFlags</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()Boolean">isInterface</span><span class="delimiter">)</span>
        <a href="#363223" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(1024)">ACC_ABSTRACT</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46520" title="=&gt; Boolean">isStrictFP</a><span class="delimiter">)</span>
        <a href="#363223" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(2048)">ACC_STRICT</span>

      // native methods of objects are generated in mirror classes
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#322225" title="=&gt; Boolean">native</a><span class="delimiter">)</span>
        <a href="#363223" title="Int">flags</a> <span title="(x: Int)Int">|=</span> <span title="Int(256)">ACC_NATIVE</span>

      <a href="#357460" title="(x$1: ch.epfl.lamp.fjbg.JMethod)Unit">jmethod</a> = <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><a href="#363223" title="Int">flags</a>,
                                    <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                                    <a href="#363222" title="ch.epfl.lamp.fjbg.JType">resTpe</a>,
                                    <a href="GenJVMUtil.scala.html#357400" title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">mkArray</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322243" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(f: GenJVM.this.global.icodes.Local =&gt; ch.epfl.lamp.fjbg.JType)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],ch.epfl.lamp.fjbg.JType,Traversable[ch.epfl.lamp.fjbg.JType]])Traversable[ch.epfl.lamp.fjbg.JType]">map</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="363286">p</a> =&gt; <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#363286" title="GenJVM.this.global.icodes.Local">p</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                                    <a href="GenJVMUtil.scala.html#357401" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322243" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(f: GenJVM.this.global.icodes.Local =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],String,Traversable[String]])Traversable[String]">map</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="363345">p</a> =&gt; <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#363345" title="GenJVM.this.global.icodes.Local">p</a>.<a href="../icode/Members.scala.html#322657" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#357496" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit">addRemoteException</a><span class="delimiter">(</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isAbstract</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#322225" title="=&gt; Boolean">native</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="363377">jcode</a> = <a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

        // add a fake local for debugging purposes
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357471" title="=&gt; Boolean">emitVars</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#357497" title="(sym: GenJVM.this.global.Symbol)Boolean">isClosureApply</a><span class="delimiter">(</span><a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="363381">outerField</a> = <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#41537" title="(name: GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#58937" title="=&gt; GenJVM.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#363381" title="GenJVM.this.global.icodes.global.Symbol">outerField</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Adding fake local to represent outer \'this\' for closure &quot;)" class="string">&quot;Adding fake local to represent outer 'this' for closure &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.Local" id="363388">_this</a> = <span title="GenJVM.this.global.icodes.Local" class="keyword">new</span> <a href="../icode/Members.scala.html#232641" title="GenJVM.this.global.icodes.Local">Local</a><span class="delimiter">(</span>
              <a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#322208" title="GenJVM.this.global.icodes.global.Symbol" id="363396">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#112796" title="GenJVM.this.global.icodes.global.Position" id="363399">newVariable</a><span class="delimiter">(</span><a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#58917" title="GenJVM.this.global.nme.NameType" id="363397">FAKE_LOCAL_THIS</a><span class="delimiter">)</span>, <a href="../icode/TypeKinds.scala.html#232707" title="(t: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#363381" title="GenJVM.this.global.icodes.global.Symbol">outerField</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322241" title="(x$1: List[GenJVM.this.global.icodes.Local])Unit">locals</a> = <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322240" title="=&gt; List[GenJVM.this.global.icodes.Local]">locals</a> <a href="#363402" title="(prefix: List[GenJVM.this.global.icodes.Local])List[GenJVM.this.global.icodes.Local]">:::</a> <span title="(xs: GenJVM.this.global.icodes.Local*)List[GenJVM.this.global.icodes.Local]">List</span><span class="delimiter">(</span><a href="#363388" title="GenJVM.this.global.icodes.Local">_this</a><span class="delimiter">)</span>
            <a href="#357518" title="(m: GenJVM.this.global.icodes.IMethod)Unit">computeLocalVarsIndex</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span> // since we added a new local, we need to recompute indexes

            <a href="#363377" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#363377" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETFIELD</span><span class="delimiter">(</span><a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>,
                               <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#363381" title="GenJVM.this.global.icodes.global.Symbol">outerField</a><span class="delimiter">)</span>,
                               <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#363381" title="GenJVM.this.global.icodes.global.Symbol">outerField</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#363377" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitSTORE</span><span class="delimiter">(</span><a href="#357517" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#363388" title="GenJVM.this.global.icodes.Local">_this</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#363388" title="GenJVM.this.global.icodes.Local">_this</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="363479">local</a> &lt;- <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322240" title="(f: GenJVM.this.global.icodes.Local =&gt; ch.epfl.lamp.fjbg.JLocalVariable)Unit">locals</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span> <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322243" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#363479" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;add local var: &quot;)" class="string">&quot;add local var: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#363479" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>
          <a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: String)ch.epfl.lamp.fjbg.JLocalVariable">addNewLocalVariable</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#363479" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>, <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#363479" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#322657" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#357510" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genCode</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357471" title="=&gt; Boolean">emitVars</a><span class="delimiter">)</span>
          <a href="#357511" title="(m: GenJVM.this.global.icodes.IMethod, jcode: ch.epfl.lamp.fjbg.JCode)Unit">genLocalVariableTable</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>, <a href="#363377" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#357489" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>, <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#363225" title="(List[GenJVM.this.global.icodes.global.AnnotationInfo], List[GenJVM.this.global.icodes.global.AnnotationInfo])" class="delimiter">(</a><a href="#363224" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]" id="363225">excs</a>, <a href="#363224" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]" id="363226">others</a><span class="delimiter">)</span> = <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.icodes.global.AnnotationInfo =&gt; Boolean)(List[GenJVM.this.global.icodes.global.AnnotationInfo], List[GenJVM.this.global.icodes.global.AnnotationInfo])">partition</span> <span class="delimiter">(</span><a href="#363498" title="GenJVM.this.global.icodes.global.AnnotationInfo">_</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#45931" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#45417" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span>
      <a href="#357484" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit">addExceptionsAttribute</a><span class="delimiter">(</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#363225" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]">excs</a><span class="delimiter">)</span>
      <a href="#357490" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#363226" title="List[GenJVM.this.global.icodes.global.AnnotationInfo]">others</a><span class="delimiter">)</span>
      <a href="#357491" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit">addParamAnnotations</a><span class="delimiter">(</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>, <a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322243" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a>.<span title="(f: GenJVM.this.global.icodes.Local =&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.Local],List[GenJVM.this.global.icodes.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[GenJVM.this.global.icodes.global.AnnotationInfo],List[List[GenJVM.this.global.icodes.global.AnnotationInfo]]]" class="delimiter">(</span><a href="#363533" title="GenJVM.this.global.icodes.Local">_</a>.<a href="../icode/Members.scala.html#322657" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // check for code size
      <span class="keyword">try</span> <a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Unit">freeze</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="363573">e</a>: JCode.<span title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">CodeSizeTooBigException</span> =&gt;
          <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232939" title="=&gt; GenJVM.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#188714" title="(pos: GenJVM.this.global.icodes.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#360062" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; GenJVM.this.global.icodes.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Code size exceeds JVM limits: %d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#363573" title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">e</a>.<span title="Int">codeSize</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#363573" title="ch.epfl.lamp.fjbg.JCode.CodeSizeTooBigException">e</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Adds a @remote annotation, actual use unknown.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit" id="357496">addRemoteException</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JMethod" id="363374">jmethod</a>: <span title="ch.epfl.lamp.fjbg.JMethod">JMethod</span>, <a title="GenJVM.this.global.Symbol" id="363375">meth</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="363579">needsAnnotation</a> = <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="#357463" title="=&gt; Boolean">isRemoteClass</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#363375" title="GenJVM.this.global.Symbol">meth</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: GenJVM.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#45407" title="=&gt; GenJVM.this.global.Symbol">RemoteAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#363374" title="ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isPublic</span><span class="delimiter">)</span>
          <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#363375" title="GenJVM.this.global.Symbol">meth</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#44935" title="()List[GenJVM.this.global.Symbol]">throwsAnnotations</a> <span title="(elem: Any)Boolean">contains</span> <a href="../../../../reflect/internal/Definitions.scala.html#45097" title="=&gt; GenJVM.this.global.Symbol">RemoteExceptionClass</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#363579" title="Boolean">needsAnnotation</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Constant" id="363582">c</a>   = <a href="../../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)GenJVM.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45097" title="=&gt; GenJVM.this.global.Symbol">RemoteExceptionClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="GenJVM.this.global.Literal" id="363583">arg</a> = <a href="BytecodeWriters.scala.html#243746" title="(value: GenJVM.this.global.Constant)GenJVM.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#363582" title="GenJVM.this.global.Constant">c</a><span class="delimiter">)</span> <span title="(tp: GenJVM.this.global.Type)GenJVM.this.global.Literal">setType</span> <a href="#363582" title="GenJVM.this.global.Constant">c</a>.<a href="../../../../reflect/internal/Constants.scala.html#46274" title="=&gt; GenJVM.this.global.Type">tpe</a>
        <a href="#363375" title="GenJVM.this.global.Symbol">meth</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46646" title="(sym: GenJVM.this.global.Symbol, args: GenJVM.this.global.Tree*)meth.type">addAnnotation</a><span title="Unit" class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45417" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a>, <a href="#363583" title="GenJVM.this.global.Literal">arg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="357497">isClosureApply</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="363378">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#363378" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; GenJVM.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#363378" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#363378" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a>.<a href="../../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[GenJVM.this.global.Type]">parents</a>.<span title="(p: GenJVM.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.Type" id="363608">t</a> =&gt;
        <span class="keyword">val</span> TypeRef<a href="#363613" title="GenJVM.this.global.Symbol" id="363609" class="delimiter">(</a>_, <a title="GenJVM.this.global.Symbol" id="363613">sym</a>, _<span class="delimiter">)</span> = <a href="#363608" title="GenJVM.this.global.Type">t</a>
        <a href="../../../../reflect/internal/Definitions.scala.html#45236" title="(xs: Array[GenJVM.this.global.Symbol])scala.collection.mutable.ArrayOps[GenJVM.this.global.Symbol]">FunctionClass</a> <span title="(elem: Any)Boolean">contains</span> <a href="#363609" title="GenJVM.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()Unit" id="357498">addModuleInstanceField</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span title="Unit" class="delimiter">(</span><a href="#357419" title="=&gt; Int">PublicStaticFinal</a>,
                        <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#58933" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                        <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cls: ch.epfl.lamp.fjbg.JClass, mopt: Option[GenJVM.this.global.icodes.IMethod])Unit" id="357499">addStaticInit</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="359938">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="Option[GenJVM.this.global.icodes.IMethod]" id="359939">mopt</a>: <span title="Option[GenJVM.this.global.icodes.IMethod]">Option</span><span class="delimiter">[</span>IMethod<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="363638">clinitMethod</a> = <a href="#359938" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span><a href="#357417" title="=&gt; Int">PublicStatic</a>,
                                          <span title="String(&quot;&lt;clinit&gt;&quot;)" class="string">&quot;&lt;clinit&gt;&quot;</span>,
                                          <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">VOID</span>,
                                          <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="Array[ch.epfl.lamp.fjbg.JType]">EMPTY_ARRAY</span>,
                                          <span title="Array[String]" class="keyword">new</span> <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="363639">clinit</a> = <a href="#363638" title="ch.epfl.lamp.fjbg.JMethod">clinitMethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

      <a href="#359939" title="Option[GenJVM.this.global.icodes.IMethod]">mopt</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
       	<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="363641">m</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="363642">oldLastBlock</a> = <a href="#363641" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322216" title="=&gt; GenJVM.this.global.icodes.BasicBlock">lastBlock</a>
          <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="363643">lastBlock</a> = <a href="#363641" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322214" title="()GenJVM.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#363642" title="GenJVM.this.global.icodes.BasicBlock">oldLastBlock</a>.<a href="../icode/BasicBlocks.scala.html#322162" title="(pos: Int, instr: GenJVM.this.global.icodes.Instruction)Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#363642" title="GenJVM.this.global.icodes.BasicBlock">oldLastBlock</a>.<a href="../icode/BasicBlocks.scala.html#322159" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>, <a href="../icode/Opcodes.scala.html#327593" title="(whereto: GenJVM.this.global.icodes.BasicBlock)GenJVM.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243689" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // call object's private ctor from static ctor
            <a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#322169" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#332528" title="(kind: GenJVM.this.global.icodes.REFERENCE)GenJVM.this.global.icodes.opcodes.NEW">NEW</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#320867" title="(cls: GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="#363641" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; GenJVM.this.global.icodes.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#322169" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#332759" title="(method: GenJVM.this.global.icodes.global.Symbol, style: GenJVM.this.global.icodes.opcodes.InvokeStyle)GenJVM.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">(</span><a href="#363641" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; GenJVM.this.global.icodes.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; GenJVM.this.global.icodes.global.Symbol">primaryConstructor</a>, <a href="../icode/Opcodes.scala.html#333068" title="(onInstance: Boolean)GenJVM.this.global.icodes.opcodes.Static">Static</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // add serialVUID code
          <a href="#357464" title="=&gt; Option[Long]">serialVUID</a> <span title="(f: Long =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Long" id="363686">value</a> =&gt;
            <span class="keyword">import</span> <a href="../../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._, <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>._
            <span class="keyword">val</span> <a title="String" id="363689">fieldName</a> = <span title="String(&quot;serialVersionUID&quot;)" class="string">&quot;serialVersionUID&quot;</span>
            <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.TermSymbol" id="363690">fieldSymbol</a> = <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46383" title="(name: GenJVM.this.global.icodes.global.TermName, pos: GenJVM.this.global.icodes.global.Position, newFlags: Long)GenJVM.this.global.icodes.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#38394" title="(s: String)GenJVM.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#363689" title="String">fieldName</a><span class="delimiter">)</span>, <a href="../../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, STATIC <span title="Long(8388640L)">|</span> FINAL<span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#46610" title="(info: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.global.TermSymbol">setInfo</a> <a href="../../../../reflect/internal/Definitions.scala.html#45222" title="=&gt; GenJVM.this.global.Type">longType</a>
            <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a> <a href="../icode/Members.scala.html#232942" title="(f: GenJVM.this.global.icodes.IField)GenJVM.this.global.icodes.IClass">addField</a> <span title="GenJVM.this.global.icodes.IField" class="keyword">new</span> <a href="../icode/Members.scala.html#232637" title="GenJVM.this.global.icodes.IField">IField</a><span class="delimiter">(</span><a href="#363690" title="GenJVM.this.global.icodes.global.TermSymbol">fieldSymbol</a><span class="delimiter">)</span>
            <a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#322169" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#331444" title="(constant: GenJVM.this.global.icodes.global.Constant)GenJVM.this.global.icodes.opcodes.CONSTANT">CONSTANT</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)GenJVM.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#363686" title="Long">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#322169" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#330081" title="(field: GenJVM.this.global.icodes.global.Symbol, isStatic: Boolean)GenJVM.this.global.icodes.opcodes.STORE_FIELD">STORE_FIELD</a><span class="delimiter">(</span><a href="#363690" title="GenJVM.this.global.icodes.global.TermSymbol">fieldSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357462" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span>
            <a href="GenAndroid.scala.html#243743" title="(codegen: GenJVM.this.BytecodeGenerator, block: GenJVM.this.global.icodes.BasicBlock)Unit">addCreatorCode</a><span class="delimiter">(</span><a href="#243684" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a>.<span class="keyword">this</span>, <a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a><span class="delimiter">)</span>

          <a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a> <a href="../icode/BasicBlocks.scala.html#322169" title="(instr: GenJVM.this.global.icodes.Instruction)Unit">emit</a> <a href="../icode/Opcodes.scala.html#327624" title="(kind: GenJVM.this.global.icodes.TypeKind)GenJVM.this.global.icodes.opcodes.RETURN">RETURN</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232677" title="object GenJVM.this.global.icodes.UNIT">UNIT</a><span class="delimiter">)</span>
          <a href="#363643" title="GenJVM.this.global.icodes.BasicBlock">lastBlock</a>.<a href="../icode/BasicBlocks.scala.html#322175" title="()Unit">close</a>

       	  <a href="#357454" title="(x$1: GenJVM.this.global.icodes.IMethod)Unit">method</a> = <a href="#363641" title="GenJVM.this.global.icodes.IMethod">m</a>
       	  <a href="#357460" title="(x$1: ch.epfl.lamp.fjbg.JMethod)Unit">jmethod</a> = <a href="#363638" title="ch.epfl.lamp.fjbg.JMethod">clinitMethod</a>
       	  <a href="#357510" title="(m: GenJVM.this.global.icodes.IMethod)Unit">genCode</a><span class="delimiter">(</span><a href="#363641" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
       	<span class="keyword">case</span> <span title="Unit">None</span> =&gt;
          <a href="#357500" title="(cls: ch.epfl.lamp.fjbg.JClass, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyStaticInitializer</a><span class="delimiter">(</span><a href="#359938" title="ch.epfl.lamp.fjbg.JClass">cls</a>, <a href="#363639" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: ch.epfl.lamp.fjbg.JClass, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit" id="357500">legacyStaticInitializer</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="363737">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="363738">clinit</a>: <span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243689" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#363738" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a> <span title="(x$1: String)Unit">emitNEW</span> <a href="#363737" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#363738" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#363737" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                 JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span>,
                                 <span title="object ch.epfl.lamp.fjbg.JMethodType">JMethodType</span>.<span title="ch.epfl.lamp.fjbg.JMethodType">ARGLESS_VOID_FUNCTION</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#357464" title="=&gt; Option[Long]">serialVUID</a> <span title="(f: Long =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Long" id="363744">value</a> =&gt;
        <span class="keyword">val</span> <a title="String" id="363745">fieldName</a> = <span title="String(&quot;serialVersionUID&quot;)" class="string">&quot;serialVersionUID&quot;</span>
        <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField">addNewField</span><span class="delimiter">(</span><a href="#357419" title="=&gt; Int">PublicStaticFinal</a>, <a href="#363745" title="String">fieldName</a>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">LONG</span><span class="delimiter">)</span>
        <a href="#363738" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a> <span title="(x$1: Long)Unit">emitPUSH</span> <a href="#363744" title="Long">value</a>
        <a href="#363738" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: Long)Unit">emitPUSH</span><span class="delimiter">(</span><a href="#363744" title="Long">value</a><span class="delimiter">)</span>
        <a href="#363738" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#363745" title="String">fieldName</a>, <span title="object ch.epfl.lamp.fjbg.JType">JType</span>.<span title="ch.epfl.lamp.fjbg.JType">LONG</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357462" title="=&gt; Boolean">isParcelableClass</a><span class="delimiter">)</span>
        <a href="GenAndroid.scala.html#243744" title="(codegen: GenJVM.this.BytecodeGenerator, clinit: ch.epfl.lamp.fjbg.JExtendedCode)Unit">legacyAddCreatorCode</a><span class="delimiter">(</span><a href="#243684" title="GenJVM.this.BytecodeGenerator">BytecodeGenerator</a>.<span class="keyword">this</span>, <a href="#363738" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a><span class="delimiter">)</span>

      <a href="#363738" title="ch.epfl.lamp.fjbg.JExtendedCode">clinit</a>.<span title="()Unit">emitRETURN</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Add a forwarder for method m */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, module: GenJVM.this.global.Symbol, m: GenJVM.this.global.Symbol)Unit" id="357501">addForwarder</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="363759">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="363760">module</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="363761">m</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="363763">moduleName</a>     = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#363760" title="GenJVM.this.global.Symbol">module</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Type" id="363764">methodInfo</a>     = <a href="#363760" title="GenJVM.this.global.Symbol">module</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; GenJVM.this.global.Type">thisType</a>.<a href="../../../../reflect/internal/Types.scala.html#41555" title="(sym: GenJVM.this.global.Symbol)GenJVM.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#363761" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[ch.epfl.lamp.fjbg.JType]" id="363765">paramJavaTypes</a> = <a href="#363764" title="GenJVM.this.global.Type">methodInfo</a>.<a href="../../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[GenJVM.this.global.Type]">paramTypes</a> <span title="(f: GenJVM.this.global.Type =&gt; ch.epfl.lamp.fjbg.JType)(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Type],ch.epfl.lamp.fjbg.JType,List[ch.epfl.lamp.fjbg.JType]])List[ch.epfl.lamp.fjbg.JType]">map</span> <a href="GenJVMUtil.scala.html#357404" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a>
      <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[String]" id="363766">paramNames</a>     = <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(end: Int)scala.collection.immutable.Range">until</span> <a href="#363765" title="List[ch.epfl.lamp.fjbg.JType]">paramJavaTypes</a>.<span title="=&gt; Int">length</span> <span title="(f: Int =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span> <span class="delimiter">(</span><span title="String(&quot;x_&quot;)" class="string">&quot;x_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#363931" title="Int">_</a><span class="delimiter">)</span>
      // TODO: evaluate the other flags we might be dropping on the floor here.
      <span class="keyword">val</span> <a title="Int" id="363767">flags</a> = <a href="#357417" title="=&gt; Int">PublicStatic</a> <span title="(x: Int)Int">|</span> <span class="delimiter">(</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#363761" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46471" title="=&gt; Boolean">isVarargsMethod</a><span class="delimiter">)</span> <span title="Int(128)">ACC_VARARGS</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="delimiter">)</span>

      /** Forwarders must not be marked final, as the JVM will not allow
       *  redefinition of a final static method, and we don't know what classes
       *  might be subclassing the companion class.  See SI-4827.
       */
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethod" id="363768">mirrorMethod</a> = <a href="#363759" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="(x$1: Int, x$2: String, x$3: ch.epfl.lamp.fjbg.JType, x$4: Array[ch.epfl.lamp.fjbg.JType], x$5: Array[String])ch.epfl.lamp.fjbg.JMethod">addNewMethod</span><span class="delimiter">(</span>
        <a href="#363767" title="Int">flags</a>,
        <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#363761" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#357404" title="(t: GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#363764" title="GenJVM.this.global.Type">methodInfo</a>.<a href="../../../../reflect/internal/Types.scala.html#41519" title="=&gt; GenJVM.this.global.Type">resultType</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#357400" title="(xs: Traversable[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">mkArray</a><span class="delimiter">(</span><a href="#363765" title="List[ch.epfl.lamp.fjbg.JType]">paramJavaTypes</a><span class="delimiter">)</span>,
        <a href="GenJVMUtil.scala.html#357401" title="(xs: Traversable[String])Array[String]">mkArray</a><span class="delimiter">(</span><a href="#363766" title="scala.collection.immutable.IndexedSeq[String]">paramNames</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="363769">mirrorCode</a> = <a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>
      <a href="#363769" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#363763" title="String">moduleName</a>,
                               <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#58933" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                               <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#363763" title="String">moduleName</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Int" id="363770">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="363771">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Array[ch.epfl.lamp.fjbg.JType]" id="363772">argTypes</a> = <a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()Array[ch.epfl.lamp.fjbg.JType]">getArgumentTypes</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#363770" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#363772" title="Array[ch.epfl.lamp.fjbg.JType]">argTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#363776" title="()Unit" class="delimiter">{</a>
        <a href="#363769" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitLOAD</span><span class="delimiter">(</span><a href="#363771" title="Int">index</a>, <a href="#363772" title="(i: Int)ch.epfl.lamp.fjbg.JType">argTypes</a><span class="delimiter">(</span><a href="#363770" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#363771" title="Int">index</a> <span title="(x: Int)Int">+=</span> <a href="#363772" title="(i: Int)ch.epfl.lamp.fjbg.JType">argTypes</a><span class="delimiter">(</span><a href="#363770" title="Int">i</a><span class="delimiter">)</span>.<span title="()Int">getSize</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#363770" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#363769" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#363763" title="String">moduleName</a>, <a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()String">getName</span>, <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#363761" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <a href="#363769" title="ch.epfl.lamp.fjbg.JExtendedCode">mirrorCode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitRETURN</span> <a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>.<span title="()ch.epfl.lamp.fjbg.JType">getReturnType</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#357496" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, meth: GenJVM.this.global.Symbol)Unit">addRemoteException</a><span class="delimiter">(</span><a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#363761" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
      // only add generic signature if the method is concrete; bug #1745
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#363761" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <a href="#357489" title="(jmember: ch.epfl.lamp.fjbg.JMember, sym: GenJVM.this.global.Symbol, owner: GenJVM.this.global.Symbol)Unit">addGenericSignature</a><span class="delimiter">(</span><a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#363761" title="GenJVM.this.global.Symbol">m</a>, <a href="#363760" title="GenJVM.this.global.Symbol">module</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#363774" title="(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])" class="delimiter">(</a><a href="#363773" title="List[GenJVM.this.global.AnnotationInfo]" id="363774">throws</a>, <a href="#363773" title="List[GenJVM.this.global.AnnotationInfo]" id="363775">others</a><span class="delimiter">)</span> = <a href="#363761" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(p: GenJVM.this.global.AnnotationInfo =&gt; Boolean)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])">partition</span> <span class="delimiter">(</span><a href="#364014" title="GenJVM.this.global.AnnotationInfo">_</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#45931" title="=&gt; GenJVM.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#45417" title="=&gt; GenJVM.this.global.Symbol">ThrowsClass</a><span class="delimiter">)</span>
      <a href="#357484" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, excs: List[GenJVM.this.global.AnnotationInfo])Unit">addExceptionsAttribute</a><span class="delimiter">(</span><a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#363774" title="List[GenJVM.this.global.AnnotationInfo]">throws</a><span class="delimiter">)</span>
      <a href="#357490" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#363775" title="List[GenJVM.this.global.AnnotationInfo]">others</a><span class="delimiter">)</span>
      <a href="#357491" title="(jmethod: ch.epfl.lamp.fjbg.JMethod, pannotss: List[List[GenJVM.this.global.AnnotationInfo]])Unit">addParamAnnotations</a><span class="delimiter">(</span><a href="#363768" title="ch.epfl.lamp.fjbg.JMethod">mirrorMethod</a>, <a href="#363761" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[GenJVM.this.global.Symbol]">params</a>.<span title="(f: GenJVM.this.global.Symbol =&gt; List[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]])List[List[GenJVM.this.global.AnnotationInfo]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[GenJVM.this.global.AnnotationInfo],List[List[GenJVM.this.global.AnnotationInfo]]]" class="delimiter">(</span><a href="#364049" title="GenJVM.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Add forwarders for all methods defined in `module` that don't conflict
     *  with methods in the companion class of `module`. A conflict arises when
     *  a method with the same name is defined both in a class and its companion
     *  object: method signature is not taken into account.
     */
    <span class="keyword">def</span> <a title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit" id="357502">addForwarders</a><span class="delimiter">(</span><a title="ch.epfl.lamp.fjbg.JClass" id="360006">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="GenJVM.this.global.Symbol" id="360007">moduleClass</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a>, <a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Dumping mirror class for object: &quot;)" class="string">&quot;Dumping mirror class for object: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="String" id="364077">className</a>    = <a href="#360006" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="364078">linkedClass</a>  = <a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46691" title="=&gt; GenJVM.this.global.Symbol">companionClass</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="364079">linkedModule</a> = <a href="#364078" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46694" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Set[GenJVM.this.global.Name]" id="364081">conflictingNames</a>: <span title="Set[GenJVM.this.global.Name]">Set</span><span class="delimiter">[</span>Name<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <a href="#364078" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#41540" title="=&gt; List[GenJVM.this.global.Symbol]">members</a> <span title="(pf: PartialFunction[GenJVM.this.global.Symbol,GenJVM.this.global.Name])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.Symbol],GenJVM.this.global.Name,List[GenJVM.this.global.Name]])List[GenJVM.this.global.Name]">collect</span> <a href="#364101" title="GenJVM.this.global.Name" class="delimiter">{</a> <span class="keyword">case</span> <a title="GenJVM.this.global.Name" id="364102">sym</a> <span class="keyword">if</span> <a href="#364102" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a>.<a href="../../../../reflect/internal/Names.scala.html#52124" title="=&gt; Boolean">isTermName</a> =&gt; <a href="#364102" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a> <span class="delimiter">}</span> <span title="scala.collection.immutable.Set[GenJVM.this.global.Name]">toSet</span>
      <span class="delimiter">}</span>
      <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Potentially conflicting names for forwarders: &quot;)" class="string">&quot;Potentially conflicting names for forwarders: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364080" title="=&gt; Set[GenJVM.this.global.Name]">conflictingNames</a><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="364170">m</a> &lt;- <a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#41551" title="(excludedFlags: Long, requiredFlags: Long)List[GenJVM.this.global.Symbol]">membersBasedOnFlags</a><span title="(f: GenJVM.this.global.Symbol =&gt; Unit)Unit" class="delimiter">(</span><a href="#357445" title="=&gt; Long">ExcludedForwarderFlags</a>, Flags.<span title="Long(64L)">METHOD</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364170" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <a href="#364170" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#364170" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#364170" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;No forwarder for '%s' from %s to '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#364170" title="GenJVM.this.global.Symbol">m</a>, <a href="#364077" title="String">className</a>, <a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364080" title="(elem: GenJVM.this.global.Name)Boolean">conflictingNames</a><span class="delimiter">(</span><a href="#364170" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No forwarder for &quot;)" class="string">&quot;No forwarder for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364170" title="GenJVM.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; due to conflict with &quot;)" class="string">&quot; due to conflict with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364078" title="GenJVM.this.global.Symbol">linkedClass</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#41545" title="(name: GenJVM.this.global.Name)GenJVM.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#364170" title="GenJVM.this.global.Symbol">m</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; GenJVM.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Adding static forwarder for '%s' from %s to '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#364170" title="GenJVM.this.global.Symbol">m</a>, <a href="#364077" title="String">className</a>, <a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#357501" title="(jclass: ch.epfl.lamp.fjbg.JClass, module: GenJVM.this.global.Symbol, m: GenJVM.this.global.Symbol)Unit">addForwarder</a><span class="delimiter">(</span><a href="#360006" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#360007" title="GenJVM.this.global.Symbol">moduleClass</a>, <a href="#364170" title="GenJVM.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Generate a mirror class for a top-level module. A mirror class is a class
     *  containing only static methods that forward to the corresponding method
     *  on the MODULE instance of the given Scala object.  It will only be
     *  generated if there is no companion class: if there is, an attempt will
     *  instead be made to add the forwarder methods to the companion class.
     */
    <span class="keyword">def</span> <a title="(clasz: GenJVM.this.global.Symbol, sourceFile: scala.tools.nsc.util.SourceFile)Unit" id="357503">generateMirrorClass</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359948">clasz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="scala.tools.nsc.util.SourceFile" id="359949">sourceFile</a>: <a href="../../util/SourceFile.scala.html#33202" title="scala.tools.nsc.util.SourceFile">SourceFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> <span title="object ch.epfl.lamp.fjbg.JAccessFlags">JAccessFlags</span>._
      <span class="keyword">val</span> <a title="String" id="364202">moduleName</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#359948" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span> // + &quot;$&quot;
      <span class="keyword">val</span> <a title="String" id="364203">mirrorName</a> = <a href="#364202" title="String">moduleName</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#364202" title="String">moduleName</a>.<span title="()Int">length</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JClass" id="364204">mirrorClass</a> = <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: Int, x$2: String, x$3: String, x$4: Array[String], x$5: String)ch.epfl.lamp.fjbg.JClass">JClass</span><span class="delimiter">(</span>ACC_SUPER | ACC_PUBLIC <span title="Int(49)">|</span> ACC_FINAL,
                                           <a href="#364203" title="String">mirrorName</a>,
                                           <span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>.<span title="()String">getName</span>,
                                           <span title="object ch.epfl.lamp.fjbg.JClass">JClass</span>.<span title="Array[String]">NO_INTERFACES</span>,
                                           <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#359949" title="scala.tools.nsc.util.SourceFile">sourceFile</a><span class="delimiter">)</span>

      <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Dumping mirror class for '%s'&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#364204" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#357502" title="(jclass: ch.epfl.lamp.fjbg.JClass, moduleClass: GenJVM.this.global.Symbol)Unit">addForwarders</a><span class="delimiter">(</span><a href="#364204" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#359948" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Option[GenJVM.this.global.AnnotationInfo]" id="364205">ssa</a> = <a href="#357476" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Option[GenJVM.this.global.AnnotationInfo]">scalaSignatureAddingMarker</a><span class="delimiter">(</span><a href="#364204" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#359948" title="GenJVM.this.global.Symbol">clasz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46694" title="=&gt; GenJVM.this.global.Symbol">companionSymbol</a><span class="delimiter">)</span>
      <a href="#357490" title="(jmember: ch.epfl.lamp.fjbg.JMember, annotations: List[GenJVM.this.global.AnnotationInfo])Unit">addAnnotations</a><span class="delimiter">(</span><a href="#364204" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#359948" title="GenJVM.this.global.Symbol">clasz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[GenJVM.this.global.AnnotationInfo]">annotations</a> <span title="(that: scala.collection.GenTraversableOnce[GenJVM.this.global.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.AnnotationInfo],GenJVM.this.global.AnnotationInfo,List[GenJVM.this.global.AnnotationInfo]])List[GenJVM.this.global.AnnotationInfo]">++</span> <a href="#364205" title="(xo: Option[GenJVM.this.global.AnnotationInfo])Iterable[GenJVM.this.global.AnnotationInfo]">ssa</a><span class="delimiter">)</span>
      <a href="#357475" title="(jclass: ch.epfl.lamp.fjbg.JClass, sym: GenJVM.this.global.Symbol)Unit">emitClass</a><span class="delimiter">(</span><a href="#364204" title="ch.epfl.lamp.fjbg.JClass">mirrorClass</a>, <a href="#359948" title="GenJVM.this.global.Symbol">clasz</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="357505">linearization</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
    <span class="keyword">var</span> <a title="Boolean" id="357508">isModuleInitialized</a> = <span title="Boolean(false)" class="keyword">false</span>

    /**
     *  @param m ...
     */
    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="357510">genCode</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="363487">m</a>: <a href="../icode/Members.scala.html#232640" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JExtendedCode" id="364321">jcode</a> = <a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()ch.epfl.lamp.fjbg.JCode">getCode</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JExtendedCode" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JExtendedCode">JExtendedCode</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(bs: List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]" id="364322">makeLabels</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.icodes.BasicBlock]" id="364332">bs</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Making labels for: &quot;)" class="string">&quot;Making labels for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>

        mutable.<span title="(elems: (GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)*)scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]">HashMap</span><span class="delimiter">(</span><a href="#364332" title="List[GenJVM.this.global.icodes.BasicBlock]">bs</a> <span title="(f: GenJVM.this.global.icodes.BasicBlock =&gt; (GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label))(implicit bf: scala.collection.generic.CanBuildFrom[List[GenJVM.this.global.icodes.BasicBlock],(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label),List[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)]])List[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)]">map</span> <span class="delimiter">(</span><a href="#364352" title="(x: GenJVM.this.global.icodes.BasicBlock)ArrowAssoc[GenJVM.this.global.icodes.BasicBlock]">_</a> <span title="(y: ch.epfl.lamp.fjbg.JCode#Label)(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)">-&gt;</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()ch.epfl.lamp.fjbg.JCode#Label">newLabel</span><span class="delimiter">)</span> : _*<span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#357508" title="(x$1: Boolean)Unit">isModuleInitialized</a> = <span title="Boolean(false)" class="keyword">false</span>

      <a href="#357505" title="(x$1: List[GenJVM.this.global.icodes.BasicBlock])Unit">linearization</a> = <a href="../icode/ICodes.scala.html#232593" title="=&gt; GenJVM.this.global.icodes.Linearizer">linearizer</a>.<a href="../icode/Linearizers.scala.html#339433" title="(c: GenJVM.this.global.icodes.IMethod)List[GenJVM.this.global.icodes.BasicBlock]">linearize</a><span class="delimiter">(</span><a href="#363487" title="GenJVM.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]" id="364323">labels</a> = <a href="#364322" title="(bs: List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]">makeLabels</a><span class="delimiter">(</span><a href="#357505" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>
      /** local variables whose scope appears in this block. */
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]" id="364324">varsInBlock</a>: mutable.<span title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">Set</span><span class="delimiter">[</span>Local<span class="delimiter">]</span> = <span title="()scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]">HashSet</span>

      <span class="keyword">var</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="364325">nextBlock</a>: <a href="../icode/BasicBlocks.scala.html#232649" title="GenJVM.this.global.icodes.BasicBlock">BasicBlock</a> = <a href="#357505" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a>.<span title="=&gt; GenJVM.this.global.icodes.BasicBlock">head</span>

      <span class="keyword">def</span> <a title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit" id="364326">genBlocks</a><span class="delimiter">(</span><a title="List[GenJVM.this.global.icodes.BasicBlock]" id="364422">l</a>: <span title="List[GenJVM.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#364422" title="List[GenJVM.this.global.icodes.BasicBlock]">l</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="364427">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> = <span title="Null(null)" class="keyword">null</span>; <a href="#364330" title="(b: GenJVM.this.global.icodes.BasicBlock)Unit">genBlock</a><span class="delimiter">(</span><a href="#364427" title="GenJVM.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="364433">x</a> :: <a title="GenJVM.this.global.icodes.BasicBlock" id="364441">y</a> :: <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="364442">ys</a> =&gt; <a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> = <a href="#364441" title="GenJVM.this.global.icodes.BasicBlock">y</a>; <a href="#364330" title="(b: GenJVM.this.global.icodes.BasicBlock)Unit">genBlock</a><span class="delimiter">(</span><a href="#364433" title="GenJVM.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>; <a href="#364326" title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit">genBlocks</a><span class="delimiter">(</span><a href="#364441" title="GenJVM.this.global.icodes.BasicBlock">y</a> <a href="#364443" title="(x: GenJVM.this.global.icodes.BasicBlock)List[GenJVM.this.global.icodes.BasicBlock]">::</a> <a href="#364442" title="List[GenJVM.this.global.icodes.BasicBlock]">ys</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** Generate exception handlers for the current method. */
    <span class="keyword">def</span> <a title="()Unit" id="364327">genExceptionHandlers</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      /** Return a list of pairs of intervals where the handler is active.
       *  The intervals in the list have to be inclusive in the beginning and
       *  exclusive in the end: [start, end).
       */
      <span class="keyword">def</span> <a title="(e: GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]" id="364449">ranges</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ExceptionHandler" id="364450">e</a>: <a href="../icode/ExceptionHandlers.scala.html#232717" title="GenJVM.this.global.icodes.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]" id="364451">covered</a> = <a href="#364450" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#322458" title="=&gt; scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a>
        <span class="keyword">var</span> <a title="List[(Int, Int)]" id="364452">ranges</a>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span>
        <span class="keyword">var</span> <a title="Int" id="364453">start</a> = -<span title="Int(-1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="364454">end</a> = -<span title="Int(-1)" class="int">1</span>

        <a href="#357505" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a> <span title="(f: GenJVM.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="364476">b</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#364451" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(elem: GenJVM.this.global.icodes.BasicBlock)Boolean">contains</span> <a href="#364476" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364453" title="Int">start</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span> // we're inside a handler range
              <a href="#364454" title="Int">end</a> = <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#364476" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#364452" title="List[(Int, Int)]">ranges</a> <span title="(x: (Int, Int))List[(Int, Int)]">::=</span> <span class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#364453" title="Int">start</a>, <a href="#364454" title="Int">end</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#364453" title="Int">start</a> = -<span title="Int(-1)" class="int">1</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364453" title="Int">start</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>  // we're not inside a handler range
              <a href="#364453" title="Int">start</a> = <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#364476" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>

            <a href="#364454" title="Int">end</a> = <a href="#357512" title="(key: GenJVM.this.global.icodes.BasicBlock)Int">endPC</a><span class="delimiter">(</span><a href="#364476" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
            <a href="#364451" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(elem: GenJVM.this.global.icodes.BasicBlock)scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">-=</span> <a href="#364476" title="GenJVM.this.global.icodes.BasicBlock">b</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /* Add the last interval. Note that since the intervals are
         * open-ended to the right, we have to give a number past the actual
         * code!
         */
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364453" title="Int">start</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#364452" title="List[(Int, Int)]">ranges</a> <span title="(x: (Int, Int))List[(Int, Int)]">::=</span> <span class="delimiter">(</span><span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#364453" title="Int">start</a>, <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#364451" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Some covered blocks were not found in method: &quot;)" class="string">&quot;Some covered blocks were not found in method: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; covered: &quot;)" class="string">&quot; covered: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364451" title="scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]">covered</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#357505" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>
        <a href="#364452" title="List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ExceptionHandler" id="364654">e</a> &lt;- <a href="#243684" title="BytecodeGenerator.this.type" class="keyword">this</a>.<a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#322228" title="(f: GenJVM.this.global.icodes.ExceptionHandler =&gt; Unit)Unit">exh</a> ; <a title="(Int, Int)" id="364738">p</a> &lt;- <a href="#364449" title="(e: GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]">ranges</a><span class="delimiter">(</span><a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a><span class="delimiter">)</span>.<span title="(f: ((Int, Int)) =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[(Int, Int)]">sortBy</span><span title="(f: ((Int, Int)) =&gt; Unit)Unit" class="delimiter">(</span><a href="#364661" title="(Int, Int)">_</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364738" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#364738" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Adding exception handler &quot;)" class="string">&quot;Adding exception handler &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;at block: &quot;)" class="string">&quot;at block: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#322457" title="=&gt; GenJVM.this.global.icodes.BasicBlock">startBlock</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; from: &quot;)" class="string">&quot; from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364738" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364738" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; catching: &quot;)" class="string">&quot; catching: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#322441" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>;
          <span class="keyword">val</span> <a title="String" id="364743">cls</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#322441" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; GenJVM.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#322441" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#45012" title="=&gt; GenJVM.this.global.Symbol">ThrowableClass</a><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span>
                    <span class="keyword">else</span> <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#322441" title="=&gt; GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: Int, x$3: Int, x$4: String)Unit">addExceptionHandler</span><span class="delimiter">(</span><a href="#364738" title="(Int, Int)">p</a>.<span title="=&gt; Int">_1</span>, <a href="#364738" title="(Int, Int)">p</a>.<span title="=&gt; Int">_2</span>,
                                    <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#364654" title="GenJVM.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#322457" title="=&gt; GenJVM.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                                    <a href="#364743" title="String">cls</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Empty exception range: &quot;)" class="string">&quot;Empty exception range: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364738" title="(Int, Int)">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(target: GenJVM.this.global.Symbol, site: GenJVM.this.global.Symbol)Boolean" id="364328">isAccessibleFrom</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="364807">target</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a>, <a title="GenJVM.this.global.Symbol" id="364808">site</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#364807" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46792" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">||</span> <a href="#364807" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46783" title="=&gt; Boolean">isProtected</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="#364808" title="GenJVM.this.global.Symbol">site</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; GenJVM.this.global.Symbol">enclClass</a> <a href="../../../../reflect/internal/Symbols.scala.html#46650" title="(that: GenJVM.this.global.Symbol)Boolean">isSubClass</a> <a href="#364807" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; GenJVM.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <span class="delimiter">(</span><a href="#364808" title="GenJVM.this.global.Symbol">site</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46685" title="=&gt; GenJVM.this.global.Symbol">enclosingPackage</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#364807" title="GenJVM.this.global.Symbol">target</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46599" title="=&gt; GenJVM.this.global.Symbol">privateWithin</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(call: GenJVM.this.global.icodes.opcodes.CALL_METHOD)Unit" id="364329">genCallMethod</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.opcodes.CALL_METHOD" id="364815">call</a>: <a href="../icode/Opcodes.scala.html#244532" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> CALL_METHOD<a href="#364817" title="(GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.opcodes.InvokeStyle)" class="delimiter">(</a><a href="#364816" title="GenJVM.this.global.icodes.global.Symbol" id="364817">method</a>, <a href="#364816" title="GenJVM.this.global.icodes.opcodes.InvokeStyle" id="364818">style</a><span class="delimiter">)</span> = <a href="#364815" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="364819">siteSymbol</a>  = <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="364820">hostSymbol</a>  = <a href="#364815" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>.<a href="../icode/Opcodes.scala.html#332769" title="=&gt; GenJVM.this.global.icodes.global.Symbol">hostClass</a>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="364821">methodOwner</a> = <a href="#364817" title="GenJVM.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a>
      // info calls so that types are up to date; erasure may add lateINTERFACE to traits
      <a href="#364820" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a> ; <a href="#364821" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; GenJVM.this.global.icodes.global.Type">info</a>

      <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="364822">isInterfaceCall</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="364841">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <a href="#364841" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#364821" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a>
        <span title="(x: Boolean)Boolean">||</span> <a href="#364841" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#364841" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46649" title="(that: GenJVM.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#45369" title="=&gt; GenJVM.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      // whether to reference the type of the receiver or
      // the type of the method owner (if not an interface!)
      <span class="keyword">val</span> <a title="Boolean" id="364823">useMethodOwner</a> = <span class="delimiter">(</span>
           <a href="#364818" title="GenJVM.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/Opcodes.scala.html#244593" title="object GenJVM.this.global.icodes.opcodes.Dynamic">Dynamic</a>
        <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#364822" title="(sym: GenJVM.this.global.Symbol)Boolean">isInterfaceCall</a><span class="delimiter">(</span><a href="#364820" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#364328" title="(target: GenJVM.this.global.Symbol, site: GenJVM.this.global.Symbol)Boolean">isAccessibleFrom</a><span class="delimiter">(</span><a href="#364821" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a>, <a href="#364819" title="GenJVM.this.global.icodes.global.Symbol">siteSymbol</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#364820" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46446" title="=&gt; Boolean">isBottomClass</a>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.global.Symbol" id="364824">receiver</a> = <span title="GenJVM.this.global.icodes.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#364823" title="Boolean">useMethodOwner</a><span class="delimiter">)</span> <a href="#364821" title="GenJVM.this.global.icodes.global.Symbol">methodOwner</a> <span class="keyword">else</span> <a href="#364820" title="GenJVM.this.global.icodes.global.Symbol">hostSymbol</a>
      <span class="keyword">val</span> <a title="String" id="364825">jowner</a>   = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#364824" title="GenJVM.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="String" id="364826">jname</a>    = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#364817" title="GenJVM.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="364827">jtype</a>    = <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#364817" title="GenJVM.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JMethodType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(invoke: String)Unit" id="364828">emit</a><span class="delimiter">(</span><a title="String" id="364857">invoke</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s %s.%s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#364857" title="String">invoke</a>, <a href="#364824" title="GenJVM.this.global.icodes.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46754" title="=&gt; String">accessString</a>, <a href="#364825" title="String">jowner</a>, <a href="#364826" title="String">jname</a>, <a href="#364827" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#364857" title="String">invoke</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokeinterface&quot;</span>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEINTERFACE</span><span class="delimiter">(</span><a href="#364825" title="String">jowner</a>, <a href="#364826" title="String">jname</a>, <a href="#364827" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokevirtual&quot;</span>    =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#364825" title="String">jowner</a>, <a href="#364826" title="String">jname</a>, <a href="#364827" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokespecial&quot;</span>    =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#364825" title="String">jowner</a>, <a href="#364826" title="String">jname</a>, <a href="#364827" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="string">&quot;invokestatic&quot;</span>     =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#364825" title="String">jowner</a>, <a href="#364826" title="String">jname</a>, <a href="#364827" title="ch.epfl.lamp.fjbg.JMethodType">jtype</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()Unit" id="364829">initModule</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // we initialize the MODULE$ field immediately after the super ctor
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243689" title="(sym: GenJVM.this.global.Symbol)Boolean">isStaticModule</a><span class="delimiter">(</span><a href="#364819" title="GenJVM.this.global.icodes.global.Symbol">siteSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#357508" title="=&gt; Boolean">isModuleInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#364826" title="String">jname</a> <span title="(x$1: AnyRef)Boolean">==</span> JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#357508" title="(x$1: Boolean)Unit">isModuleInitialized</a> = <span title="Boolean(true)" class="keyword">true</span>
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>,
                              <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#58933" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                              <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#364818" title="GenJVM.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Static</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>                         =&gt; <a href="#364828" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokespecial&quot;)" class="string">&quot;invokespecial&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">Static</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>                        =&gt; <a href="#364828" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokestatic&quot;)" class="string">&quot;invokestatic&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../icode/Opcodes.scala.html#244593" title="Unit">Dynamic</a> <span class="keyword">if</span> <a href="#364822" title="(sym: GenJVM.this.global.Symbol)Boolean">isInterfaceCall</a><span class="delimiter">(</span><a href="#364824" title="GenJVM.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span> =&gt; <a href="#364828" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokeinterface&quot;)" class="string">&quot;invokeinterface&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../icode/Opcodes.scala.html#244593" title="Unit">Dynamic</a>                              =&gt; <a href="#364828" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokevirtual&quot;)" class="string">&quot;invokevirtual&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">SuperCall</span><span class="delimiter">(</span>_<span class="delimiter">)</span>                         =&gt; <a href="#364828" title="(invoke: String)Unit">emit</a><span class="delimiter">(</span><span title="String(&quot;invokespecial&quot;)" class="string">&quot;invokespecial&quot;</span><span class="delimiter">)</span> ; <a href="#364829" title="()Unit">initModule</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: GenJVM.this.global.icodes.BasicBlock)Unit" id="364330">genBlock</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="364428">b</a>: <a href="../icode/BasicBlocks.scala.html#232649" title="GenJVM.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Unit">anchorToNext</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Generating code for block: &quot;)" class="string">&quot;Generating code for block: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; at pc: &quot;)" class="string">&quot; at pc: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="364872">lastMappedPC</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="364873">lastLineNr</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="364874">crtPC</a> = <span title="Int(0)" class="int">0</span>
      <a href="#364324" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Instruction" id="364917">instr</a> &lt;- <a href="../icode/BasicBlocks.scala.html#322156" title="(f: GenJVM.this.global.icodes.Instruction =&gt; Unit)Unit">b</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <a href="#364917" title="GenJVM.this.global.icodes.Instruction">instr</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">THIS</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="364920">clasz</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">CONSTANT</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Constant" id="364922">const</a><span class="delimiter">)</span> =&gt;
            <a href="GenJVMUtil.scala.html#357406" title="(jcode: ch.epfl.lamp.fjbg.JExtendedCode, const: GenJVM.this.global.Constant)Unit">genConstant</a><span class="delimiter">(</span><a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>, <a href="#364922" title="GenJVM.this.global.icodes.global.Constant">const</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_ARRAY_ITEM</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="364929">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitALOAD</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#364929" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_LOCAL</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="364941">local</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitLOAD</span><span class="delimiter">(</span><a href="#357517" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#364941" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#364941" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="Unit" id="364954">lf</a> @ LOAD_FIELD<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="364957">field</a>, <a title="Boolean" id="364958">isStatic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">var</span> <a title="String" id="364959">owner</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#364954" title="GenJVM.this.global.icodes.opcodes.LOAD_FIELD">lf</a>.<a href="../icode/Opcodes.scala.html#333522" title="=&gt; GenJVM.this.global.icodes.global.Symbol">hostClass</a><span class="delimiter">)</span>
            <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;LOAD_FIELD with owner: &quot;)" class="string">&quot;LOAD_FIELD with owner: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364959" title="String">owner</a> <span title="(x$1: Any)String">+</span>
                  <span title="String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../../reflect/internal/Flags.scala.html#38619" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#364957" title="GenJVM.this.global.icodes.global.Symbol">field</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364958" title="Boolean">isStatic</a><span class="delimiter">)</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#364959" title="String">owner</a>,
                                  <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#364957" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#364957" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETFIELD</span><span class="delimiter">(</span><a href="#364959" title="String">owner</a>,
                                  <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#364957" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#364957" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_MODULE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="364976">module</a><span class="delimiter">)</span> =&gt;
//            assert(module.isModule, &quot;Expected module: &quot; + module)
            <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;generating LOAD_MODULE for: &quot;)" class="string">&quot;generating LOAD_MODULE for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#364976" title="GenJVM.this.global.icodes.global.Symbol">module</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> <span title="(x$1: Any)String">+</span>
                  <a href="../../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../../reflect/internal/Flags.scala.html#38619" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#364976" title="GenJVM.this.global.icodes.global.Symbol">module</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span>;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a>.<a href="../icode/Members.scala.html#232930" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#364976" title="GenJVM.this.global.icodes.global.Symbol">module</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; GenJVM.this.global.icodes.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#59232" title="=&gt; GenJVM.this.global.nme.NameType">readResolve</a>.<span title="()String">toString</span><span class="delimiter">)</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitALOAD_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitGETSTATIC</span><span class="delimiter">(</span><a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#364976" title="GenJVM.this.global.icodes.global.Symbol">module</a><span class="delimiter">)</span> /* + &quot;$&quot; */ ,
                                  <a href="../../../../reflect/internal/StdNames.scala.html#39313" title="object GenJVM.this.global.nme">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#58933" title="=&gt; GenJVM.this.global.nme.NameType">MODULE_INSTANCE_FIELD</a>.<span title="()String">toString</span>,
                                  <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#364976" title="GenJVM.this.global.icodes.global.Symbol">module</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_ARRAY_ITEM</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="364997">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitASTORE</span> <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#364997" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_LOCAL</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="365009">local</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitSTORE</span><span class="delimiter">(</span><a href="#357517" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#365009" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365009" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            // this only works for impl classes because the self parameter comes first
            // in the method signature. If that changes, this code has to be revisited.
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitASTORE_0</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">STORE_FIELD</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="365025">field</a>, <a title="Boolean" id="365026">isStatic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="365027">owner</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#365025" title="GenJVM.this.global.icodes.global.Symbol">field</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#365026" title="Boolean">isStatic</a><span class="delimiter">)</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTSTATIC</span><span class="delimiter">(</span><a href="#365027" title="String">owner</a>,
                                  <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#365025" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365025" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JType)Unit">emitPUTFIELD</span><span class="delimiter">(</span><a href="#365027" title="String">owner</a>,
                                  <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#365025" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span>,
                                  <a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365025" title="GenJVM.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">CALL_PRIMITIVE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Primitive" id="365041">primitive</a><span class="delimiter">)</span> =&gt;
            <a href="#364331" title="(primitive: GenJVM.this.global.icodes.Primitive, pos: GenJVM.this.global.Position)Unit">genPrimitive</a><span class="delimiter">(</span><a href="#365041" title="GenJVM.this.global.icodes.Primitive">primitive</a>, <a href="#364917" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#322688" title="=&gt; scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span>

          /** Special handling to access native Array.clone() */
          <span class="keyword">case</span> <a title="Unit" id="365044">call</a> @ CALL_METHOD<span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45160" title="=&gt; GenJVM.this.global.Symbol">Array_clone</a>, <a href="../icode/Opcodes.scala.html#244593" title="object GenJVM.this.global.icodes.opcodes.Dynamic">Dynamic</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="365047">target</a>: <span title="String">String</span> = <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365044" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a>.<a href="../icode/Opcodes.scala.html#332773" title="=&gt; GenJVM.this.global.icodes.TypeKind">targetTypeKind</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#365047" title="String">target</a>, <span title="String(&quot;clone&quot;)" class="string">&quot;clone&quot;</span>, <a href="#357429" title="=&gt; ch.epfl.lamp.fjbg.JMethodType">arrayCloneType</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="Unit" id="365054">call</a> @ CALL_METHOD<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="365057">method</a>, <a title="GenJVM.this.global.icodes.opcodes.InvokeStyle" id="365058">style</a><span class="delimiter">)</span> =&gt;
            <a href="#364329" title="(call: GenJVM.this.global.icodes.opcodes.CALL_METHOD)Unit">genCallMethod</a><span class="delimiter">(</span><a href="#365054" title="GenJVM.this.global.icodes.opcodes.CALL_METHOD">call</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">BOX</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365060">kind</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="GenJVM.this.global.Symbol" id="365061">boxedType</a> = <a href="../../../../reflect/internal/Definitions.scala.html#39224" title="object GenJVM.this.global.definitions">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#45516" title="(key: GenJVM.this.global.Symbol)GenJVM.this.global.Symbol">boxedClass</a><span class="delimiter">(</span><a href="#365060" title="GenJVM.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#320530" title="=&gt; GenJVM.this.global.icodes.global.Type">toType</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="365062">mtype</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357405" title="(s: GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365061" title="GenJVM.this.global.Symbol">boxedType</a><span class="delimiter">)</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365060" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#357423" title="=&gt; String">BoxesRunTime</a>, <span title="String(&quot;boxTo&quot;)" class="string">&quot;boxTo&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365061" title="GenJVM.this.global.Symbol">boxedType</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46575" title="=&gt; String">decodedName</a>, <a href="#365062" title="ch.epfl.lamp.fjbg.JMethodType">mtype</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">UNBOX</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365126">kind</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JMethodType" id="365127">mtype</a> = <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365126" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>, <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESTATIC</span><span class="delimiter">(</span><a href="#357423" title="=&gt; String">BoxesRunTime</a>, <span title="String(&quot;unboxTo&quot;)" class="string">&quot;unboxTo&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365126" title="GenJVM.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#320530" title="=&gt; GenJVM.this.global.icodes.global.Type">toType</a>.<a href="../../../../reflect/internal/Types.scala.html#41504" title="=&gt; GenJVM.this.global.icodes.global.Symbol">typeSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46575" title="=&gt; String">decodedName</a>, <a href="#365127" title="ch.epfl.lamp.fjbg.JMethodType">mtype</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">NEW</span><span class="delimiter">(</span>REFERENCE<span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="365161">cls</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="String" id="365162">className</a> = <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#365161" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: String)Unit">emitNEW</span> <a href="#365162" title="String">className</a>

          <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365165">elem</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> =&gt; <a href="#365165" title="GenJVM.this.global.icodes.TypeKind">elem</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitANEWARRAY</span> <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365165" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitNEWARRAY</span> <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365165" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365182">elem</a>, <a title="Int" id="365183">dims</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType, x$2: Int)Unit">emitMULTIANEWARRAY</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232698" title="(elem: GenJVM.this.global.icodes.TypeKind, dims: Int)GenJVM.this.global.icodes.ARRAY">ArrayN</a><span class="delimiter">(</span><a href="#365182" title="GenJVM.this.global.icodes.TypeKind">elem</a>, <a href="#365183" title="Int">dims</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.epfl.lamp.fjbg.JReferenceType" class="delimiter">[</span><span title="ch.epfl.lamp.fjbg.JReferenceType">JReferenceType</span><span class="delimiter">]</span>, <a href="#365183" title="Int">dims</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">IS_INSTANCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365193">tpe</a><span class="delimiter">)</span> =&gt;
            <a href="#365193" title="GenJVM.this.global.icodes.TypeKind">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="365195">cls</a><span class="delimiter">)</span> =&gt;
                <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitINSTANCEOF</span> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#365195" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365197">elem</a><span class="delimiter">)</span> =&gt;
                <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitINSTANCEOF</span> <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365197" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <a href="../../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unknown reference type in IS_INSTANCE: &quot;)" class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365193" title="GenJVM.this.global.icodes.TypeKind">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CHECK_CAST</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365207">tpe</a><span class="delimiter">)</span> =&gt;
            <a href="#365207" title="GenJVM.this.global.icodes.TypeKind">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.global.Symbol" id="365209">cls</a><span class="delimiter">)</span> =&gt;
                // No need to checkcast for Objects
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#365209" title="GenJVM.this.global.icodes.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; GenJVM.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitCHECKCAST</span> <span title="ch.epfl.lamp.fjbg.JObjectType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JObjectType">JObjectType</span><span class="delimiter">(</span><a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#365209" title="GenJVM.this.global.icodes.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">ARRAY</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="365215">elem</a><span class="delimiter">)</span> =&gt;
                <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JReferenceType)Unit">emitCHECKCAST</span> <span title="ch.epfl.lamp.fjbg.JArrayType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JArrayType">JArrayType</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#365215" title="GenJVM.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <a href="../../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unknown reference type in IS_INSTANCE: &quot;)" class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365207" title="GenJVM.this.global.icodes.TypeKind">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">SWITCH</span><span class="delimiter">(</span><a title="List[List[Int]]" id="365226">tags</a>, <a title="List[GenJVM.this.global.icodes.BasicBlock]" id="365227">branches</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Array[Array[Int]]" id="365228">tagArray</a> = <span title="Array[Array[Int]]" class="keyword">new</span> <span title="Array[Array[Int]]">Array</span><span class="delimiter">[</span>Array<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#365226" title="List[List[Int]]">tags</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="List[List[Int]]" id="365229">caze</a> = <a href="#365226" title="List[List[Int]]">tags</a>
            <span class="keyword">var</span> <a title="Int" id="365230">i</a> = <span title="Int(0)" class="int">0</span>

            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#365230" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#365228" title="Array[Array[Int]]">tagArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#365232" title="()Unit" class="delimiter">{</a>
              <a href="#365228" title="(i: Int, x: Array[Int])Unit">tagArray</a><span class="delimiter">(</span><a href="#365230" title="Int">i</a><span class="delimiter">)</span> = <span title="Array[Int]" class="keyword">new</span> <span title="Array[Int]">Array</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><a href="#365229" title="List[List[Int]]">caze</a>.<span title="=&gt; List[Int]">head</span>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
              <a href="#365229" title="List[List[Int]]">caze</a>.<span title="=&gt; List[Int]">head</span>.<span title="(xs: Array[Int], start: Int)Unit">copyToArray</span><span class="delimiter">(</span><a href="#365228" title="(i: Int)Array[Int]">tagArray</a><span class="delimiter">(</span><a href="#365230" title="Int">i</a><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="#365230" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
              <a href="#365229" title="List[List[Int]]">caze</a> = <a href="#365229" title="List[List[Int]]">caze</a>.<span title="=&gt; List[List[Int]]">tail</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Array[ch.epfl.lamp.fjbg.JCode#Label]" id="365231">branchArray</a> = <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int)Array[ch.epfl.lamp.fjbg.JCode#Label]">newLabels</span><span class="delimiter">(</span><a href="#365228" title="Array[Array[Int]]">tagArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <a href="#365230" title="Int">i</a> = <span title="Int(0)" class="int">0</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#365230" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#365231" title="Array[ch.epfl.lamp.fjbg.JCode#Label]">branchArray</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#365233" title="()Unit" class="delimiter">{</a>
              <a href="#365231" title="(i: Int, x: ch.epfl.lamp.fjbg.JCode#Label)Unit">branchArray</a><span class="delimiter">(</span><a href="#365230" title="Int">i</a><span class="delimiter">)</span> = <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365227" title="(n: Int)GenJVM.this.global.icodes.BasicBlock">branches</a><span class="delimiter">(</span><a href="#365230" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#365230" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Emitting SWITCH:\ntags: &quot;)" class="string">&quot;Emitting SWITCH:\ntags: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365226" title="List[List[Int]]">tags</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nbranches: &quot;)" class="string">&quot;\nbranches: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365227" title="List[GenJVM.this.global.icodes.BasicBlock]">branches</a><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Array[Array[Int]], x$2: Array[ch.epfl.lamp.fjbg.JCode#Label], x$3: ch.epfl.lamp.fjbg.JCode#Label, x$4: Double)Unit">emitSWITCH</span><span class="delimiter">(</span><a href="#365228" title="Array[Array[Int]]">tagArray</a>,
                             <a href="#365231" title="Array[ch.epfl.lamp.fjbg.JCode#Label]">branchArray</a>,
                             <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365227" title="List[GenJVM.this.global.icodes.BasicBlock]">branches</a>.<span title="=&gt; GenJVM.this.global.icodes.BasicBlock">last</span><span class="delimiter">)</span>,
                             <a href="#357413" title="=&gt; Double">MIN_SWITCH_DENSITY</a><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">JUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="365405">whereto</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#365405" title="GenJVM.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365405" title="GenJVM.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> // default to short jumps

          <span class="keyword">case</span> <span title="Unit">CJUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="365436">success</a>, <a title="GenJVM.this.global.icodes.BasicBlock" id="365437">failure</a>, <a title="GenJVM.this.global.icodes.TestOp" id="365438">cond</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="365439">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#365439" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#365436" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ICMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357398" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // .. and fall through to success label
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ICMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365436" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#365436" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ACMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357398" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // .. and fall through to success label
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF_ACMP</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365436" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">(</span><a href="#365439" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#232671" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232691" title="Unit">FLOAT</a>  =&gt;
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232768" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232772" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Unit">DOUBLE</a> =&gt;
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232768" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232772" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#365436" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357398" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // .. and fall through to success label
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#365438" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365436" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>;
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#365437" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">CZJUMP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.BasicBlock" id="366047">success</a>, <a title="GenJVM.this.global.icodes.BasicBlock" id="366048">failure</a>, <a title="GenJVM.this.global.icodes.TestOp" id="366049">cond</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="366050">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#366050" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357398" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="366175">Success</a> = <a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a>
                <span class="keyword">val</span> <a title="GenJVM.this.global.icodes.BasicBlock" id="366176">Failure</a> = <a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a>
                <span title="(_1: GenJVM.this.global.icodes.TestOp, _2: GenJVM.this.global.icodes.BasicBlock)(GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.BasicBlock)" class="delimiter">(</span><a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a>, <a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232764" title="object GenJVM.this.global.icodes.EQ">EQ</a>, <a href="#366175" title="GenJVM.this.global.icodes.BasicBlock">Success</a><span class="delimiter">)</span> =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232766" title="object GenJVM.this.global.icodes.NE">NE</a>, <a href="#366176" title="GenJVM.this.global.icodes.BasicBlock">Failure</a><span class="delimiter">)</span> =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232764" title="object GenJVM.this.global.icodes.EQ">EQ</a>, <a href="#366176" title="GenJVM.this.global.icodes.BasicBlock">Failure</a><span class="delimiter">)</span> =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232766" title="object GenJVM.this.global.icodes.NE">NE</a>, <a href="#366175" title="GenJVM.this.global.icodes.BasicBlock">Success</a><span class="delimiter">)</span> =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232764" title="object GenJVM.this.global.icodes.EQ">EQ</a>, _<span class="delimiter">)</span> =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNULL</span> <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232766" title="object GenJVM.this.global.icodes.NE">NE</a>, _<span class="delimiter">)</span> =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIFNONNULL</span> <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span>
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">(</span><a href="#366050" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#232671" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232691" title="Unit">FLOAT</a>  =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232768" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232772" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Unit">DOUBLE</a> =&gt;
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCONST_0</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232768" title="object GenJVM.this.global.icodes.LT">LT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/Primitives.scala.html#232772" title="object GenJVM.this.global.icodes.LE">LE</a><span class="delimiter">)</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357398" title="(key: GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp">negate</a><span class="delimiter">(</span><a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: ch.epfl.lamp.fjbg.JCode#Label)Unit">emitIF</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357396" title="(key: GenJVM.this.global.icodes.TestOp)Int">conds</a><span class="delimiter">(</span><a href="#366049" title="GenJVM.this.global.icodes.TestOp">cond</a><span class="delimiter">)</span>, <a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366047" title="GenJVM.this.global.icodes.BasicBlock">success</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364325" title="GenJVM.this.global.icodes.BasicBlock">nextBlock</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>
                    <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JCode#Label, x$2: Boolean)Unit">emitGOTO_maybe_W</span><span class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#366048" title="GenJVM.this.global.icodes.BasicBlock">failure</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="366514">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitRETURN</span> <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366514" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">THROW</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitATHROW</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">DROP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="366525">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#366525" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a> | <a href="../icode/TypeKinds.scala.html#232693" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitPOP2</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitPOP</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">DUP</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="366527">kind</a><span class="delimiter">)</span> =&gt;
            <a href="#366527" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a> | <a href="../icode/TypeKinds.scala.html#232693" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP2</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Unit">MONITOR_ENTER</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitMONITORENTER</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">MONITOR_EXIT</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitMONITOREXIT</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">SCOPE_ENTER</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="366529">lv</a><span class="delimiter">)</span> =&gt;
            <a href="#364324" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a> <span title="(elem: GenJVM.this.global.icodes.Local)varsInBlock.type">+=</span> <a href="#366529" title="GenJVM.this.global.icodes.Local">lv</a>
            <a href="#366529" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322668" title="(x$1: Int)Unit">start</a> = <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">SCOPE_EXIT</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="366539">lv</a><span class="delimiter">)</span> =&gt;
            <span title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]" class="keyword">if</span> <span class="delimiter">(</span><a href="#364324" title="(elem: GenJVM.this.global.icodes.Local)Boolean">varsInBlock</a><span class="delimiter">(</span><a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322674" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322667" title="=&gt; Int">start</a>, <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#366559" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322673" title="=&gt; List[(Int, Int)]">ranges</a>
              <a href="#364324" title="scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInBlock</a> <span title="(elem: GenJVM.this.global.icodes.Local)varsInBlock.type">-=</span> <a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="b.varsInScope.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#322142" title="(elem: GenJVM.this.global.icodes.Local)Boolean">varsInScope</a><span class="delimiter">(</span><a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322674" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#366587" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322673" title="=&gt; List[(Int, Int)]">ranges</a>
              <a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#322142" title="=&gt; scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]">varsInScope</a> <span title="(elem: GenJVM.this.global.icodes.Local)b.varsInScope.type">-=</span> <a href="#366539" title="GenJVM.this.global.icodes.Local">lv</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="../icode/ICodes.scala.html#232600" title="(m: GenJVM.this.global.icodes.IMethod, msg: String)Nothing">dumpMethodAndAbort</a><span class="delimiter">(</span><a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>, <span title="String(&quot;Illegal local var nesting&quot;)" class="string">&quot;Illegal local var nesting&quot;</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">LOAD_EXCEPTION</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#364874" title="Int">crtPC</a> = <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

//        assert(instr.pos.source.isEmpty || instr.pos.source.get == (clasz.cunit.source), &quot;sources don't match&quot;)
//        val crtLine = instr.pos.line.get(lastLineNr);

        <span class="keyword">val</span> <a title="Int" id="364918">crtLine</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
          <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#364917" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#322688" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#364873" title="Int">lastLineNr</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#364917" title="GenJVM.this.global.icodes.Instruction">instr</a>.<a href="../icode/Opcodes.scala.html#322688" title="=&gt; scala.tools.nsc.util.Position">pos</a><span class="delimiter">)</span>.<a href="../../util/Position.scala.html#187155" title="=&gt; Int">line</a> // check NoPosition to avoid costly exception
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Int">_</span>: <span title="UnsupportedOperationException">UnsupportedOperationException</span> =&gt;
            <a href="../../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Warning: wrong position in: &quot;)" class="string">&quot;Warning: wrong position in: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>
            <a href="#364873" title="Int">lastLineNr</a>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#322182" title="=&gt; GenJVM.this.global.icodes.Instruction">lastInstruction</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#364917" title="GenJVM.this.global.icodes.Instruction">instr</a><span class="delimiter">)</span>
          <a href="#357512" title="(key: GenJVM.this.global.icodes.BasicBlock, value: Int)Unit">endPC</a><span class="delimiter">(</span><a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> = <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>

        //System.err.println(&quot;CRTLINE: &quot; + instr.pos + &quot; &quot; +
        //           /* (if (instr.pos &lt; clasz.cunit.source.content.length) clasz.cunit.source.content(instr.pos) else '*') + */ &quot; &quot; + crtLine);

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#364874" title="Int">crtPC</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#364872" title="Int">lastMappedPC</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int, x$2: Int, x$3: Int)Unit">completeLineNumber</span><span class="delimiter">(</span><a href="#364872" title="Int">lastMappedPC</a>, <a href="#364874" title="Int">crtPC</a>, <a href="#364918" title="Int">crtLine</a><span class="delimiter">)</span>
          <a href="#364872" title="Int">lastMappedPC</a> = <a href="#364874" title="Int">crtPC</a>
          <a href="#364873" title="Int">lastLineNr</a>   = <a href="#364918" title="Int">crtLine</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // local vars that survived this basic block
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="366677">lv</a> &lt;- <a href="#364324" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">varsInBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#366677" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322674" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#366677" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322667" title="=&gt; Int">start</a>, <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#366678" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#366677" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322673" title="=&gt; List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="366705">lv</a> &lt;- <a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#322142" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">varsInScope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#366705" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322674" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#364323" title="(key: GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label">labels</a><span class="delimiter">(</span><a href="#364428" title="GenJVM.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="()Int">getAnchor</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#366706" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#366705" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322673" title="=&gt; List[(Int, Int)]">ranges</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    /**
     *  @param primitive ...
     *  @param pos       ...
     */
    <span class="keyword">def</span> <a title="(primitive: GenJVM.this.global.icodes.Primitive, pos: GenJVM.this.global.Position)Unit" id="364331">genPrimitive</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Primitive" id="365042">primitive</a>: <a href="../icode/Primitives.scala.html#232723" title="GenJVM.this.global.icodes.Primitive">Primitive</a>, <a title="GenJVM.this.global.Position" id="365043">pos</a>: <a href="../../util/Position.scala.html#33991" title="GenJVM.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#365042" title="GenJVM.this.global.icodes.Primitive">primitive</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Negation</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="366737">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#366737" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitINEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232691" title="Unit">FLOAT</a>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Unit">DOUBLE</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDNEG</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <a href="../../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Impossible to negate a &quot;)" class="string">&quot;Impossible to negate a &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#366737" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Arithmetic</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ArithmeticOp" id="366742">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="366743">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#366742" title="GenJVM.this.global.icodes.ArithmeticOp">op</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232777" title="Unit">ADD</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType)Unit">emitADD</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366743" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232779" title="Unit">SUB</a> =&gt;
              <span class="delimiter">(</span><a href="#366743" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#232671" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232691" title="Unit">FLOAT</a>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Unit">DOUBLE</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDSUB</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232781" title="Unit">MUL</a> =&gt;
              <span class="delimiter">(</span><a href="#366743" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#232671" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232691" title="Unit">FLOAT</a>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Unit">DOUBLE</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDMUL</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232783" title="Unit">DIV</a> =&gt;
              <span class="delimiter">(</span><a href="#366743" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#232671" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232691" title="Unit">FLOAT</a>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Unit">DOUBLE</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDDIV</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232785" title="Unit">REM</a> =&gt;
              <span class="delimiter">(</span><a href="#366743" title="GenJVM.this.global.icodes.TypeKind">kind</a>: @<a href="../icode/TypeKinds.scala.html#232671" title="GenJVM.this.global.icodes.TypeKind @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232691" title="Unit">FLOAT</a>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Unit">DOUBLE</a> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDREM</span><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232787" title="Unit">NOT</a> =&gt;
              <a href="#366743" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232679" title="Unit">BOOL</a> | <a href="../icode/TypeKinds.scala.html#232681" title="object GenJVM.this.global.icodes.BYTE">BYTE</a> | <a href="../icode/TypeKinds.scala.html#232685" title="object GenJVM.this.global.icodes.CHAR">CHAR</a> | <a href="../icode/TypeKinds.scala.html#232683" title="object GenJVM.this.global.icodes.SHORT">SHORT</a> | <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a> =&gt;
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Int)Unit">emitPUSH</span><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232689" title="Unit">LONG</a>   =&gt;
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: Long)Unit">emitPUSH</span><span class="delimiter">(</span>-<span title="Long(-1L)" class="long">1l</span><span class="delimiter">)</span>
                  <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                  <a href="../../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Impossible to negate an &quot;)" class="string">&quot;Impossible to negate an &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#366743" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
              <a href="../../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unknown arithmetic primitive &quot;)" class="string">&quot;Unknown arithmetic primitive &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365042" title="GenJVM.this.global.icodes.Primitive">primitive</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Logical</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.LogicalOp" id="366764">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="366765">kind</a><span class="delimiter">)</span> =&gt; <span title="(_1: GenJVM.this.global.icodes.LogicalOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.LogicalOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#366764" title="GenJVM.this.global.icodes.LogicalOp">op</a>, <a href="#366765" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232797" title="object GenJVM.this.global.icodes.AND">AND</a>, <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232797" title="object GenJVM.this.global.icodes.AND">AND</a>, <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232797" title="object GenJVM.this.global.icodes.AND">AND</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIAND</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#366765" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#232679" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366765" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232799" title="object GenJVM.this.global.icodes.OR">OR</a>, <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232799" title="object GenJVM.this.global.icodes.OR">OR</a>, <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232799" title="object GenJVM.this.global.icodes.OR">OR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#366765" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#232679" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366765" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232801" title="object GenJVM.this.global.icodes.XOR">XOR</a>, <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232801" title="object GenJVM.this.global.icodes.XOR">XOR</a>, <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232801" title="object GenJVM.this.global.icodes.XOR">XOR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIXOR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#366765" title="GenJVM.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../icode/TypeKinds.scala.html#232679" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>
              <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366765" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Shift</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ShiftOp" id="366840">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="366841">kind</a><span class="delimiter">)</span> =&gt; <span title="(_1: GenJVM.this.global.icodes.ShiftOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ShiftOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#366840" title="GenJVM.this.global.icodes.ShiftOp">op</a>, <a href="#366841" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232790" title="object GenJVM.this.global.icodes.LSL">LSL</a>, <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232790" title="object GenJVM.this.global.icodes.LSL">LSL</a>, <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232790" title="object GenJVM.this.global.icodes.LSL">LSL</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHL</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366841" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232792" title="object GenJVM.this.global.icodes.ASR">ASR</a>, <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232792" title="object GenJVM.this.global.icodes.ASR">ASR</a>, <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232792" title="object GenJVM.this.global.icodes.ASR">ASR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitISHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366841" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232794" title="object GenJVM.this.global.icodes.LSR">LSR</a>, <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232794" title="object GenJVM.this.global.icodes.LSR">LSR</a>, <a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232794" title="object GenJVM.this.global.icodes.LSR">LSR</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitIUSHR</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232687" title="object GenJVM.this.global.icodes.INT">INT</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366841" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Comparison</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.ComparisonOp" id="366904">op</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="366905">kind</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="(_1: GenJVM.this.global.icodes.ComparisonOp, _2: GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#366904" title="GenJVM.this.global.icodes.ComparisonOp">op</a>, <a href="#366905" title="GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>: @<span title="(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind) @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232759" title="object GenJVM.this.global.icodes.CMP">CMP</a>, <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a><span class="delimiter">)</span>    =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitLCMP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232757" title="object GenJVM.this.global.icodes.CMPL">CMPL</a>, <a href="../icode/TypeKinds.scala.html#232691" title="object GenJVM.this.global.icodes.FLOAT">FLOAT</a><span class="delimiter">)</span>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232761" title="object GenJVM.this.global.icodes.CMPG">CMPG</a>, <a href="../icode/TypeKinds.scala.html#232691" title="object GenJVM.this.global.icodes.FLOAT">FLOAT</a><span class="delimiter">)</span>  =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitFCMPG</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232757" title="object GenJVM.this.global.icodes.CMPL">CMPL</a>, <a href="../icode/TypeKinds.scala.html#232693" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a><span class="delimiter">)</span> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../icode/Primitives.scala.html#232761" title="object GenJVM.this.global.icodes.CMPG">CMPG</a>, <a href="../icode/TypeKinds.scala.html#232693" title="object GenJVM.this.global.icodes.DOUBLE">DOUBLE</a><span class="delimiter">)</span> =&gt; <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDCMPL</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">Conversion</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="366924">src</a>, <a title="GenJVM.this.global.icodes.TypeKind" id="366925">dst</a><span class="delimiter">)</span> =&gt;
          <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Converting from: &quot;)" class="string">&quot;Converting from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#366924" title="GenJVM.this.global.icodes.TypeKind">src</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#366925" title="GenJVM.this.global.icodes.TypeKind">dst</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#366925" title="GenJVM.this.global.icodes.TypeKind">dst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../icode/TypeKinds.scala.html#232679" title="object GenJVM.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Illegal conversion at: &quot;)" class="string">&quot;Illegal conversion at: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#357451" title="=&gt; GenJVM.this.global.icodes.IClass">clasz</a> <span title="(x$1: Any)String">+</span>
                    <span title="String(&quot; at: &quot;)" class="string">&quot; at: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365043" title="GenJVM.this.global.Position">pos</a>.<a href="../../util/Position.scala.html#187128" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365043" title="GenJVM.this.global.Position">pos</a>.<a href="../../util/Position.scala.html#187155" title="=&gt; Int">line</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JType, x$2: ch.epfl.lamp.fjbg.JType)Unit">emitT2T</span><span class="delimiter">(</span><a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366924" title="GenJVM.this.global.icodes.TypeKind">src</a><span class="delimiter">)</span>, <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366925" title="GenJVM.this.global.icodes.TypeKind">dst</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">ArrayLength</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitARRAYLENGTH</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232751" title="Unit">StartConcat</a> =&gt;
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a> <span title="(x$1: String)Unit">emitNEW</span> <a href="#357421" title="=&gt; String">StringBuilderClassName</a>
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="()Unit">emitDUP</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKESPECIAL</span><span class="delimiter">(</span><a href="#357421" title="=&gt; String">StringBuilderClassName</a>,
                                  JMethod.<span title="String(&quot;&lt;init&gt;&quot;)">INSTANCE_CONSTRUCTOR_NAME</span>,
                                  <span title="object ch.epfl.lamp.fjbg.JMethodType">JMethodType</span>.<span title="ch.epfl.lamp.fjbg.JMethodType">ARGLESS_VOID_FUNCTION</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">StringConcat</span><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="366948">el</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JType" id="366949">jtype</a> = <a href="#366948" title="GenJVM.this.global.icodes.TypeKind">el</a> <span title="ch.epfl.lamp.fjbg.JType" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="ch.epfl.lamp.fjbg.JObjectType">REFERENCE</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | ARRAY<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="ch.epfl.lamp.fjbg.JObjectType">JAVA_LANG_OBJECT</span>
            <span class="keyword">case</span> <span title="ch.epfl.lamp.fjbg.JType">_</span> =&gt; <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#366948" title="GenJVM.this.global.icodes.TypeKind">el</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#357421" title="=&gt; String">StringBuilderClassName</a>,
                                  <span title="String(&quot;append&quot;)" class="string">&quot;append&quot;</span>,
                                  <span title="ch.epfl.lamp.fjbg.JMethodType" class="keyword">new</span> <span title="ch.epfl.lamp.fjbg.JMethodType">JMethodType</span><span class="delimiter">(</span><a href="#357425" title="=&gt; ch.epfl.lamp.fjbg.JObjectType">StringBuilderType</a>,
                                  <span title="(xs: ch.epfl.lamp.fjbg.JType*)(implicit evidence$2: scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType])Array[ch.epfl.lamp.fjbg.JType]">Array</span><span title="(clazz: Class[_])scala.reflect.ClassManifest[ch.epfl.lamp.fjbg.JType]" class="delimiter">(</span><a href="#366949" title="ch.epfl.lamp.fjbg.JType">jtype</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../icode/Primitives.scala.html#232753" title="Unit">EndConcat</a> =&gt;
          <a href="#364321" title="ch.epfl.lamp.fjbg.JExtendedCode">jcode</a>.<span title="(x$1: String, x$2: String, x$3: ch.epfl.lamp.fjbg.JMethodType)Unit">emitINVOKEVIRTUAL</span><span class="delimiter">(</span><a href="#357421" title="=&gt; String">StringBuilderClassName</a>,
                                  <span title="String(&quot;toString&quot;)" class="string">&quot;toString&quot;</span>,
                                  <a href="#357427" title="=&gt; ch.epfl.lamp.fjbg.JMethodType">toStringType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;Unimplemented primitive &quot;)" class="string">&quot;Unimplemented primitive &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#365042" title="GenJVM.this.global.icodes.Primitive">primitive</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

      // genCode starts here
      <a href="#364326" title="(l: List[GenJVM.this.global.icodes.BasicBlock])Unit">genBlocks</a><span class="delimiter">(</span><a href="#357505" title="=&gt; List[GenJVM.this.global.icodes.BasicBlock]">linearization</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243684" title="BytecodeGenerator.this.type" class="keyword">this</a>.<a href="#357454" title="=&gt; GenJVM.this.global.icodes.IMethod">method</a>.<a href="../icode/Members.scala.html#322228" title="=&gt; List[GenJVM.this.global.icodes.ExceptionHandler]">exh</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="object Nil">Nil</span><span class="delimiter">)</span>
        <a href="#364327" title="()Unit">genExceptionHandlers</a>;
    <span class="delimiter">}</span>


    /** Emit a Local variable table for debugging purposes.
     *  Synthetic locals are skipped. All variables are method-scoped.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod, jcode: ch.epfl.lamp.fjbg.JCode)Unit" id="357511">genLocalVariableTable</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="363489">m</a>: <a href="../icode/Members.scala.html#232640" title="GenJVM.this.global.icodes.IMethod">IMethod</a>, <a title="ch.epfl.lamp.fjbg.JCode" id="363490">jcode</a>: <span title="ch.epfl.lamp.fjbg.JCode">JCode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[GenJVM.this.global.icodes.Local]" id="366989">vars</a> = <a href="#363489" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322240" title="=&gt; List[GenJVM.this.global.icodes.Local]">locals</a> <span title="(p: GenJVM.this.global.icodes.Local =&gt; Boolean)List[GenJVM.this.global.icodes.Local]">filterNot</span> <span class="delimiter">(</span><a href="#367002" title="GenJVM.this.global.icodes.Local">_</a>.<a href="../icode/Members.scala.html#322657" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#366989" title="List[GenJVM.this.global.icodes.Local]">vars</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JConstantPool" id="366990">pool</a> = <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JConstantPool">getConstantPool</span>
      <span class="keyword">val</span> <a title="Int" id="366991">pc</a> = <a href="#363490" title="ch.epfl.lamp.fjbg.JCode">jcode</a>.<span title="()Int">getPC</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="366992">anonCounter</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="366993">entries</a> = <span title="Int(0)" class="int">0</span>
      <a href="#366989" title="List[GenJVM.this.global.icodes.Local]">vars</a>.<span title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="GenJVM.this.global.icodes.Local" id="367023">lv</a> =&gt;
        <a href="#367023" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322674" title="(x$1: List[(Int, Int)])Unit">ranges</a> = <a href="#357519" title="(ranges: List[(Int, Int)])List[(Int, Int)]">mergeEntries</a><span class="delimiter">(</span><a href="#367023" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322673" title="=&gt; List[(Int, Int)]">ranges</a>.<span title="=&gt; List[(Int, Int)]">reverse</span><span class="delimiter">)</span>;
        <a href="#366993" title="Int">entries</a> <span title="(x: Int)Int">+=</span> <a href="#367023" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322673" title="=&gt; List[(Int, Int)]">ranges</a>.<span title="=&gt; Int">length</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isStatic</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#366993" title="Int">entries</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>

      <span class="keyword">val</span> <a title="java.nio.ByteBuffer" id="366994">lvTab</a> = <span title="object java.nio.ByteBuffer">ByteBuffer</span>.<span title="(x$1: Int)java.nio.ByteBuffer">allocate</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span> <span title="(x: Int)Int">+</span> <span title="Int(10)" class="int">10</span> <span title="(x: Int)Int">*</span> <a href="#366993" title="Int">entries</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit" id="366995">emitEntry</a><span class="delimiter">(</span><a title="String" id="367049">name</a>: <span title="String">String</span>, <a title="String" id="367050">signature</a>: <span title="String">String</span>, <a title="Short" id="367051">idx</a>: <span title="Short">Short</span>, <a title="Short" id="367052">start</a>: <span title="Short">Short</span>, <a title="Short" id="367053">end</a>: <span title="Short">Short</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#366994" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#367052" title="Short">start</a>
        <a href="#366994" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#367053" title="Short">end</a>
        <a href="#366994" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#366990" title="ch.epfl.lamp.fjbg.JConstantPool">pool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#367049" title="String">name</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="#366994" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#366990" title="ch.epfl.lamp.fjbg.JConstantPool">pool</a>.<span title="(x$1: String)Int">addUtf8</span><span class="delimiter">(</span><a href="#367050" title="String">signature</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <a href="#366994" title="java.nio.ByteBuffer">lvTab</a> <span title="(x$1: Short)java.nio.ByteBuffer">putShort</span> <a href="#367051" title="Short">idx</a>
      <span class="delimiter">}</span>

      <a href="#366994" title="java.nio.ByteBuffer">lvTab</a>.<span title="(x$1: Short)java.nio.ByteBuffer">putShort</span><span class="delimiter">(</span><a href="#366993" title="Int">entries</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#357460" title="=&gt; ch.epfl.lamp.fjbg.JMethod">jmethod</a>.<span title="()Boolean">isStatic</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#366995" title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit">emitEntry</a><span class="delimiter">(</span><span title="String(&quot;this&quot;)" class="string">&quot;this&quot;</span>, <a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()ch.epfl.lamp.fjbg.JType">getType</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Short(0)" class="int">0</span>, <span title="Int(0)" class="int">0</span>.<span title="=&gt; Short">toShort</span>, <a href="#366991" title="Int">pc</a>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="367086">lv</a> &lt;- <a href="#366989" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">vars</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="367087">name</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#367086" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322657" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#366992" title="Int">anonCounter</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <span title="String(&quot;&lt;anon&quot;)" class="string">&quot;&lt;anon&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#366992" title="Int">anonCounter</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#357474" title="(sym: GenJVM.this.global.Symbol)String">javaName</a><span class="delimiter">(</span><a href="#367086" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322657" title="=&gt; GenJVM.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Short" id="367088">index</a> = <a href="#357517" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#367086" title="GenJVM.this.global.icodes.Local">lv</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span>
        <span class="keyword">val</span> <a title="String" id="367089">tpe</a>   = <a href="GenJVMUtil.scala.html#357403" title="(t: GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType">javaType</a><span class="delimiter">(</span><a href="#367086" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>.<span title="()String">getSignature</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="367140">start</a>, <a title="Int" id="367141">end</a><span class="delimiter">)</span> &lt;- <a href="#367086" title="GenJVM.this.global.icodes.Local">lv</a>.<a href="../icode/Members.scala.html#322673" title="(f: ((Int, Int)) =&gt; Unit)Unit">ranges</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#366995" title="(name: String, signature: String, idx: Short, start: Short, end: Short)Unit">emitEntry</a><span class="delimiter">(</span><a href="#367087" title="String">name</a>, <a href="#367089" title="String">tpe</a>, <a href="#367088" title="Short">index</a>, <a href="#367140" title="Int">start</a>.<span title="=&gt; Short">toShort</span>, <span class="delimiter">(</span><a href="#367141" title="Int">end</a> <span title="(x: Int)Int">-</span> <a href="#367140" title="Int">start</a><span class="delimiter">)</span>.<span title="=&gt; Short">toShort</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="ch.epfl.lamp.fjbg.JOtherAttribute" id="366996">attr</a> =
        <a href="#357465" title="=&gt; ch.epfl.lamp.fjbg.FJBGContext">fjbgContext</a>.<span title="(x$1: ch.epfl.lamp.fjbg.JClass, x$2: Any, x$3: String, x$4: Array[Byte])ch.epfl.lamp.fjbg.JOtherAttribute">JOtherAttribute</span><span class="delimiter">(</span><a href="#357457" title="=&gt; ch.epfl.lamp.fjbg.JClass">jclass</a>,
                                    <a href="#363490" title="ch.epfl.lamp.fjbg.JCode">jcode</a>,
                                    <a href="../../../../reflect/internal/StdNames.scala.html#39303" title="object GenJVM.this.global.tpnme">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#63697" title="=&gt; GenJVM.this.global.tpnme.NameType">LocalVariableTableATTR</a>.<span title="()String">toString</span>,
                                    <a href="#366994" title="java.nio.ByteBuffer">lvTab</a>.<span title="()Array[Byte]">array</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#363490" title="ch.epfl.lamp.fjbg.JCode">jcode</a> <span title="(x$1: ch.epfl.lamp.fjbg.JAttribute)Unit">addAttribute</span> <a href="#366996" title="ch.epfl.lamp.fjbg.JOtherAttribute">attr</a>
    <span class="delimiter">}</span>


    /** For each basic block, the first PC address following it. */
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]" id="357512">endPC</a> = <span title="()scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]">HashMap</span><span class="delimiter">[</span>BasicBlock, Int<span class="delimiter">]</span>

    ////////////////////// local vars ///////////////////////

    <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="357514">sizeOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="367150">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#357515" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#232707" title="(t: GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#367150" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; GenJVM.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(k: GenJVM.this.global.icodes.TypeKind)Int" id="357515">sizeOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.TypeKind" id="367156">k</a>: <a href="../icode/TypeKinds.scala.html#232671" title="GenJVM.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#367156" title="GenJVM.this.global.icodes.TypeKind">k</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../icode/TypeKinds.scala.html#232693" title="Int(2)">DOUBLE</a> | <a href="../icode/TypeKinds.scala.html#232689" title="object GenJVM.this.global.icodes.LONG">LONG</a> =&gt; <span title="Int(2)" class="int">2</span>
      <span class="keyword">case</span> <span title="Int(1)">_</span> =&gt; <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod, sym: GenJVM.this.global.Symbol)Int" id="357516">indexOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="363460">m</a>: <a href="../icode/Members.scala.html#232640" title="GenJVM.this.global.icodes.IMethod">IMethod</a>, <a title="GenJVM.this.global.Symbol" id="363461">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Some<a href="#367168" title="GenJVM.this.global.icodes.Local" id="367160" class="delimiter">(</a><a title="GenJVM.this.global.icodes.Local" id="367168">local</a><span class="delimiter">)</span> = <a href="#363460" title="GenJVM.this.global.icodes.IMethod">m</a> <a href="../icode/Members.scala.html#322253" title="(sym: GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.Local]">lookupLocal</a> <a href="#363461" title="GenJVM.this.global.Symbol">sym</a>
      <a href="#357517" title="(local: GenJVM.this.global.icodes.Local)Int">indexOf</a><span class="delimiter">(</span><a href="#367160" title="GenJVM.this.global.icodes.Local">local</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(local: GenJVM.this.global.icodes.Local)Int" id="357517">indexOf</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="363458">local</a>: <a href="../icode/Members.scala.html#232641" title="GenJVM.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <a href="../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#363458" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#322664" title="=&gt; Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>, <span title="String(&quot;Invalid index for: &quot;)" class="string">&quot;Invalid index for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#363458" title="GenJVM.this.global.icodes.Local">local</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#363458" title="GenJVM.this.global.icodes.Local">local</a>.<span title="()Int">##</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span><span class="delimiter">)</span>
      <a href="#363458" title="GenJVM.this.global.icodes.Local">local</a>.<a href="../icode/Members.scala.html#322664" title="=&gt; Int">index</a>
    <span class="delimiter">}</span>

    /**
     * Compute the indexes of each local variable of the given
     * method. *Does not assume the parameters come first!*
     */
    <span class="keyword">def</span> <a title="(m: GenJVM.this.global.icodes.IMethod)Unit" id="357518">computeLocalVarsIndex</a><span class="delimiter">(</span><a title="GenJVM.this.global.icodes.IMethod" id="363230">m</a>: <a href="../icode/Members.scala.html#232640" title="GenJVM.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="367180">idx</a> = <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#363230" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322208" title="=&gt; GenJVM.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46547" title="=&gt; Boolean">isStaticMember</a><span class="delimiter">)</span>
        <a href="#367180" title="Int">idx</a> = <span title="Int(0)" class="int">0</span>;

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="367202">l</a> &lt;- <a href="#363230" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322243" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Index value for &quot;)" class="string">&quot;Index value for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#367202" title="GenJVM.this.global.icodes.Local">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#367202" title="GenJVM.this.global.icodes.Local">l</a>.<span title="()Int">##</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#367180" title="Int">idx</a><span class="delimiter">)</span>
        <a href="#367202" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#322665" title="(x$1: Int)Unit">index</a> = <a href="#367180" title="Int">idx</a>
        <a href="#367180" title="Int">idx</a> <span title="(x: Int)Int">+=</span> <a href="#357515" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="#367202" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="GenJVM.this.global.icodes.Local" id="367226">l</a> &lt;- <a href="#363230" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322240" title="(f: GenJVM.this.global.icodes.Local =&gt; Unit)Unit">locals</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#363230" title="GenJVM.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#322243" title="=&gt; List[GenJVM.this.global.icodes.Local]">params</a> <span title="(elem: Any)Boolean">contains</span> <a href="#367226" title="GenJVM.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Index value for &quot;)" class="string">&quot;Index value for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#367226" title="GenJVM.this.global.icodes.Local">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#367226" title="GenJVM.this.global.icodes.Local">l</a>.<span title="()Int">##</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;}: &quot;)" class="string">&quot;}: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#367180" title="Int">idx</a><span class="delimiter">)</span>
        <a href="#367226" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#322665" title="(x$1: Int)Unit">index</a> = <a href="#367180" title="Int">idx</a>
        <a href="#367180" title="Int">idx</a> <span title="(x: Int)Int">+=</span> <a href="#357515" title="(k: GenJVM.this.global.icodes.TypeKind)Int">sizeOf</a><span class="delimiter">(</span><a href="#367226" title="GenJVM.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#322659" title="=&gt; GenJVM.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    ////////////////////// Utilities ////////////////////////

    /** Merge adjacent ranges. */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ranges: List[(Int, Int)])List[(Int, Int)]" id="357519">mergeEntries</a><span class="delimiter">(</span><a title="List[(Int, Int)]" id="367024">ranges</a>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span> =
      <span class="delimiter">(</span><a href="#367024" title="List[(Int, Int)]">ranges</a>.<span title="(z: List[(Int, Int)])(f: (List[(Int, Int)], (Int, Int)) =&gt; List[(Int, Int)])List[(Int, Int)]">foldLeft</span><span class="delimiter">(</span><span title="object Nil">Nil</span>: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span>collapsed: <span title="List[(Int, Int)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">]</span>, p: <span title="(Int, Int)" class="delimiter">(</span>Int, Int<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(_1: List[(Int, Int)], _2: (Int, Int))(List[(Int, Int)], (Int, Int))" class="delimiter">(</span><a href="#367257" title="List[(Int, Int)]">collapsed</a>, <a href="#367258" title="(Int, Int)">p</a><span class="delimiter">)</span> <span title="List[(Int, Int)]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[(Int, Int)]" class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt; <span title="(xs: (Int, Int)*)List[(Int, Int)]">List</span><span class="delimiter">(</span><a href="#367258" title="(Int, Int)">p</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="List[(Int, Int)]" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="367282">s1</a>, <a title="Int" id="367283">e1</a><span class="delimiter">)</span> :: <a title="List[(Int, Int)]" id="367284">rest</a>, <span class="delimiter">(</span><a title="Int" id="367287">s2</a>, <a title="Int" id="367288">e2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#367283" title="Int">e1</a> <span title="(x: Int)Boolean">==</span> <a href="#367287" title="Int">s2</a><span class="delimiter">)</span> =&gt; <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#367282" title="Int">s1</a>, <a href="#367288" title="Int">e2</a><span class="delimiter">)</span> <a href="#367293" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#367284" title="List[(Int, Int)]">rest</a>
        <span class="keyword">case</span> <span title="List[(Int, Int)]">_</span> =&gt; <a href="#367258" title="(Int, Int)">p</a> <a href="#367305" title="(x: (Int, Int))List[(Int, Int)]">::</a> <a href="#367257" title="List[(Int, Int)]">collapsed</a>
      <span class="delimiter">}</span><span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[(Int, Int)]">reverse</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(args: Int*)Int" id="243685">mkFlags</a><span class="delimiter">(</span><a title="Int*" id="363192">args</a>: <span title="Int*">Int</span>*<span class="delimiter">)</span> = <a href="#363192" title="Int*">args</a>.<span title="(z: Int)(op: (Int, Int) =&gt; Int)Int">foldLeft</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#363207" title="Int">_</a> <span title="(x: Int)Int">|</span> <a href="#363208" title="Int">_</a><span class="delimiter">)</span>

  /**
   * Return the Java modifiers for the given symbol.
   * Java modifiers for classes:
   *  - public, abstract, final, strictfp (not used)
   * for interfaces:
   *  - the same as for classes, without 'final'
   * for fields:
   *  - public, private (*)
   *  - static, final
   * for methods:
   *  - the same as for fields, plus:
   *  - abstract, synchronized (not used), strictfp (not used), native (not used)
   *
   *  (*) protected cannot be used, since inner classes 'see' protected members,
   *      and they would fail verification after lifted.
   */
  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="243686">javaFlags</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359927">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
    // constructors of module classes should be private
    // PP: why are they only being marked private at this stage and not earlier?
    <span class="keyword">val</span> <a title="Boolean" id="367312">privateFlag</a> =
      <a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46539" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#243688" title="(sym: GenJVM.this.global.Symbol)Boolean">isTopLevelModule</a><span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; GenJVM.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    // This does not check .isFinal (which checks flags for the FINAL flag),
    // instead checking rawflags for that flag so as to exclude symbols which
    // received lateFINAL.  These symbols are eligible for inlining, but to
    // avoid breaking proxy software which depends on subclassing, we avoid
    // insisting on their finality in the bytecode.
    <span class="keyword">val</span> <a title="Boolean" id="367313">finalFlag</a> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46369" title="=&gt; Long">rawflags</a> <span title="(x: Int)Long">&amp;</span> <span class="delimiter">(</span>Flags.FINAL <span title="Int(288)">|</span> Flags.MODULE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; GenJVM.this.global.Symbol">enclClass</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46490" title="=&gt; Boolean">isClassConstructor</a>
    <span class="delimiter">)</span>

    <a href="#243685" title="(args: Int*)Int">mkFlags</a><span class="delimiter">(</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#367312" title="Boolean">privateFlag</a><span class="delimiter">)</span> <span title="Int(2)">ACC_PRIVATE</span> <span class="keyword">else</span> <span title="Int(1)">ACC_PUBLIC</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46803" title="=&gt; Boolean">hasAbstractFlag</a><span class="delimiter">)</span> <span title="Int(1024)">ACC_ABSTRACT</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span title="Int(512)">ACC_INTERFACE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#367313" title="Boolean">finalFlag</a><span class="delimiter">)</span> <span title="Int(16)">ACC_FINAL</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46547" title="=&gt; Boolean">isStaticMember</a><span class="delimiter">)</span> <span title="Int(8)">ACC_STATIC</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46453" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span> <span title="Int(64)">ACC_BRIDGE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span title="Int(32)">ACC_SUPER</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#359927" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46471" title="=&gt; Boolean">isVarargsMethod</a><span class="delimiter">)</span> <span title="Int(128)">ACC_VARARGS</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Int" id="243687">javaFieldFlags</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="363189">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#243685" title="(args: Int*)Int">mkFlags</a><span class="delimiter">(</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#363189" title="GenJVM.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: GenJVM.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#45419" title="=&gt; GenJVM.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span> <span title="Int(128)">ACC_TRANSIENT</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#363189" title="GenJVM.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: GenJVM.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#45423" title="=&gt; GenJVM.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span> <span title="Int(64)">ACC_VOLATILE</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>,
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#363189" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46780" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(16)">ACC_FINAL</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="243688">isTopLevelModule</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359941">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="../../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a> <span class="delimiter">(</span><a href="../../Global.scala.html#186319" title="=&gt; GenJVM.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#188840" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#359941" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359941" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359941" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46552" title="=&gt; Boolean">isNestedClass</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: GenJVM.this.global.Symbol)Boolean" id="243689">isStaticModule</a><span class="delimiter">(</span><a title="GenJVM.this.global.Symbol" id="359930">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#38726" title="GenJVM.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#359930" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359930" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#359930" title="GenJVM.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#46791" title="=&gt; Boolean">isLifted</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>